var ES=e=>{throw TypeError(e)};var fv=(e,r,n)=>r.has(e)||ES("Cannot "+n);var be=(e,r,n)=>(fv(e,r,"read from private field"),n?n.call(e):r.get(e)),Zt=(e,r,n)=>r.has(e)?ES("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),Tt=(e,r,n,a)=>(fv(e,r,"write to private field"),a?a.call(e,n):r.set(e,n),n),Ar=(e,r,n)=>(fv(e,r,"access private method"),n);var Jf=(e,r,n,a)=>({set _(s){Tt(e,r,s,n)},get _(){return be(e,r,a)}});function LF(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z4={exports:{}},Vx={},e3={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=Symbol.for("react.element"),$F=Symbol.for("react.portal"),FF=Symbol.for("react.fragment"),UF=Symbol.for("react.strict_mode"),BF=Symbol.for("react.profiler"),GF=Symbol.for("react.provider"),VF=Symbol.for("react.context"),zF=Symbol.for("react.forward_ref"),WF=Symbol.for("react.suspense"),HF=Symbol.for("react.memo"),KF=Symbol.for("react.lazy"),PS=Symbol.iterator;function qF(e){return e===null||typeof e!="object"?null:(e=PS&&e[PS]||e["@@iterator"],typeof e=="function"?e:null)}var t3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r3=Object.assign,n3={};function Im(e,r,n){this.props=e,this.context=r,this.refs=n3,this.updater=n||t3}Im.prototype.isReactComponent={};Im.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Im.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a3(){}a3.prototype=Im.prototype;function Aj(e,r,n){this.props=e,this.context=r,this.refs=n3,this.updater=n||t3}var Mj=Aj.prototype=new a3;Mj.constructor=Aj;r3(Mj,Im.prototype);Mj.isPureReactComponent=!0;var AS=Array.isArray,s3=Object.prototype.hasOwnProperty,Tj={current:null},i3={key:!0,ref:!0,__self:!0,__source:!0};function o3(e,r,n){var a,s={},i=null,o=null;if(r!=null)for(a in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)s3.call(r,a)&&!i3.hasOwnProperty(a)&&(s[a]=r[a]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)s[a]===void 0&&(s[a]=l[a]);return{$$typeof:df,type:e,key:i,ref:o,props:s,_owner:Tj.current}}function YF(e,r){return{$$typeof:df,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Ij(e){return typeof e=="object"&&e!==null&&e.$$typeof===df}function QF(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var MS=/\/+/g;function gv(e,r){return typeof e=="object"&&e!==null&&e.key!=null?QF(""+e.key):r.toString(36)}function G0(e,r,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case df:case $F:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+gv(o,0):a,AS(s)?(n="",e!=null&&(n=e.replace(MS,"$&/")+"/"),G0(s,r,n,"",function(d){return d})):s!=null&&(Ij(s)&&(s=YF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(MS,"$&/")+"/")+e)),r.push(s)),1;if(o=0,a=a===""?".":a+":",AS(e))for(var l=0;l<e.length;l++){i=e[l];var c=a+gv(i,l);o+=G0(i,r,n,c,s)}else if(c=qF(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=a+gv(i,l++),o+=G0(i,r,n,c,s);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function Xf(e,r,n){if(e==null)return e;var a=[],s=0;return G0(e,a,"","",function(i){return r.call(n,i,s++)}),a}function JF(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var As={current:null},V0={transition:null},XF={ReactCurrentDispatcher:As,ReactCurrentBatchConfig:V0,ReactCurrentOwner:Tj};function l3(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:Xf,forEach:function(e,r,n){Xf(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return Xf(e,function(){r++}),r},toArray:function(e){return Xf(e,function(r){return r})||[]},only:function(e){if(!Ij(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=Im;Lr.Fragment=FF;Lr.Profiler=BF;Lr.PureComponent=Aj;Lr.StrictMode=UF;Lr.Suspense=WF;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XF;Lr.act=l3;Lr.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=r3({},e.props),s=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=Tj.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in r)s3.call(r,c)&&!i3.hasOwnProperty(c)&&(a[c]=r[c]===void 0&&l!==void 0?l[c]:r[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:df,type:e.type,key:s,ref:i,props:a,_owner:o}};Lr.createContext=function(e){return e={$$typeof:VF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GF,_context:e},e.Consumer=e};Lr.createElement=o3;Lr.createFactory=function(e){var r=o3.bind(null,e);return r.type=e,r};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:zF,render:e}};Lr.isValidElement=Ij;Lr.lazy=function(e){return{$$typeof:KF,_payload:{_status:-1,_result:e},_init:JF}};Lr.memo=function(e,r){return{$$typeof:HF,type:e,compare:r===void 0?null:r}};Lr.startTransition=function(e){var r=V0.transition;V0.transition={};try{e()}finally{V0.transition=r}};Lr.unstable_act=l3;Lr.useCallback=function(e,r){return As.current.useCallback(e,r)};Lr.useContext=function(e){return As.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return As.current.useDeferredValue(e)};Lr.useEffect=function(e,r){return As.current.useEffect(e,r)};Lr.useId=function(){return As.current.useId()};Lr.useImperativeHandle=function(e,r,n){return As.current.useImperativeHandle(e,r,n)};Lr.useInsertionEffect=function(e,r){return As.current.useInsertionEffect(e,r)};Lr.useLayoutEffect=function(e,r){return As.current.useLayoutEffect(e,r)};Lr.useMemo=function(e,r){return As.current.useMemo(e,r)};Lr.useReducer=function(e,r,n){return As.current.useReducer(e,r,n)};Lr.useRef=function(e){return As.current.useRef(e)};Lr.useState=function(e){return As.current.useState(e)};Lr.useSyncExternalStore=function(e,r,n){return As.current.useSyncExternalStore(e,r,n)};Lr.useTransition=function(){return As.current.useTransition()};Lr.version="18.3.1";e3.exports=Lr;var u=e3.exports;const tt=cf(u),c3=LF({__proto__:null,default:tt},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZF=u,e9=Symbol.for("react.element"),t9=Symbol.for("react.fragment"),r9=Object.prototype.hasOwnProperty,n9=ZF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a9={key:!0,ref:!0,__self:!0,__source:!0};function d3(e,r,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)r9.call(r,a)&&!a9.hasOwnProperty(a)&&(s[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:e9,type:e,key:i,ref:o,props:s,_owner:n9.current}}Vx.Fragment=t9;Vx.jsx=d3;Vx.jsxs=d3;Z4.exports=Vx;var t=Z4.exports,u3={exports:{}},hi={},m3={exports:{}},h3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(B,O){var X=B.length;B.push(O);e:for(;0<X;){var ae=X-1>>>1,$=B[ae];if(0<s($,O))B[ae]=O,B[X]=$,X=ae;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var O=B[0],X=B.pop();if(X!==O){B[0]=X;e:for(var ae=0,$=B.length,re=$>>>1;ae<re;){var le=2*(ae+1)-1,ce=B[le],ue=le+1,ee=B[ue];if(0>s(ce,X))ue<$&&0>s(ee,ce)?(B[ae]=ee,B[ue]=X,ae=ue):(B[ae]=ce,B[le]=X,ae=le);else if(ue<$&&0>s(ee,X))B[ae]=ee,B[ue]=X,ae=ue;else break e}}return O}function s(B,O){var X=B.sortIndex-O.sortIndex;return X!==0?X:B.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,h=null,p=3,f=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var O=n(d);O!==null;){if(O.callback===null)a(d);else if(O.startTime<=B)a(d),O.sortIndex=O.expirationTime,r(c,O);else break;O=n(d)}}function S(B){if(g=!1,w(B),!x)if(n(c)!==null)x=!0,M(N);else{var O=n(d);O!==null&&R(S,O.startTime-B)}}function N(B,O){x=!1,g&&(g=!1,y(I),I=-1),f=!0;var X=p;try{for(w(O),h=n(c);h!==null&&(!(h.expirationTime>O)||B&&!k());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var $=ae(h.expirationTime<=O);O=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(c)&&a(c),w(O)}else a(c);h=n(c)}if(h!==null)var re=!0;else{var le=n(d);le!==null&&R(S,le.startTime-O),re=!1}return re}finally{h=null,p=X,f=!1}}var P=!1,C=null,I=-1,T=5,_=-1;function k(){return!(e.unstable_now()-_<T)}function A(){if(C!==null){var B=e.unstable_now();_=B;var O=!0;try{O=C(!0,B)}finally{O?F():(P=!1,C=null)}}else P=!1}var F;if(typeof b=="function")F=function(){b(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=A,F=function(){J.postMessage(null)}}else F=function(){v(A,0)};function M(B){C=B,P||(P=!0,F())}function R(B,O){I=v(function(){B(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,M(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var X=p;p=O;try{return B()}finally{p=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=p;p=B;try{return O()}finally{p=X}},e.unstable_scheduleCallback=function(B,O,X){var ae=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=X+$,B={id:m++,callback:O,priorityLevel:B,startTime:X,expirationTime:$,sortIndex:-1},X>ae?(B.sortIndex=X,r(d,B),n(c)===null&&B===n(d)&&(g?(y(I),I=-1):g=!0,R(S,X-ae))):(B.sortIndex=$,r(c,B),x||f||(x=!0,M(N))),B},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(B){var O=p;return function(){var X=p;p=O;try{return B.apply(this,arguments)}finally{p=X}}}})(h3);m3.exports=h3;var s9=m3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i9=u,ui=s9;function lt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p3=new Set,ep={};function Ud(e,r){nm(e,r),nm(e+"Capture",r)}function nm(e,r){for(ep[e]=r,e=0;e<r.length;e++)p3.add(r[e])}var dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qb=Object.prototype.hasOwnProperty,o9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TS={},IS={};function l9(e){return Qb.call(IS,e)?!0:Qb.call(TS,e)?!1:o9.test(e)?IS[e]=!0:(TS[e]=!0,!1)}function c9(e,r,n,a){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d9(e,r,n,a){if(r===null||typeof r>"u"||c9(e,r,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Ms(e,r,n,a,s,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var Xa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xa[e]=new Ms(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];Xa[r]=new Ms(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xa[e]=new Ms(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xa[e]=new Ms(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xa[e]=new Ms(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xa[e]=new Ms(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xa[e]=new Ms(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xa[e]=new Ms(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xa[e]=new Ms(e,5,!1,e.toLowerCase(),null,!1,!1)});var _j=/[\-:]([a-z])/g;function Dj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(_j,Dj);Xa[r]=new Ms(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(_j,Dj);Xa[r]=new Ms(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(_j,Dj);Xa[r]=new Ms(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xa[e]=new Ms(e,1,!1,e.toLowerCase(),null,!1,!1)});Xa.xlinkHref=new Ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xa[e]=new Ms(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rj(e,r,n,a){var s=Xa.hasOwnProperty(r)?Xa[r]:null;(s!==null?s.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(d9(r,n,s,a)&&(n=null),a||s===null?l9(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,r,n):e.setAttribute(r,n))))}var vl=i9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),ou=Symbol.for("react.portal"),lu=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),f3=Symbol.for("react.provider"),g3=Symbol.for("react.context"),Lj=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),$j=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),x3=Symbol.for("react.offscreen"),_S=Symbol.iterator;function Zm(e){return e===null||typeof e!="object"?null:(e=_S&&e[_S]||e["@@iterator"],typeof e=="function"?e:null)}var Yn=Object.assign,xv;function Nh(e){if(xv===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);xv=r&&r[1]||""}return`
`+xv+e}var yv=!1;function vv(e,r){if(!e||yv)return"";yv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var a=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){a=d}e.call(r.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{yv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nh(e):""}function u9(e){switch(e.tag){case 5:return Nh(e.type);case 16:return Nh("Lazy");case 13:return Nh("Suspense");case 19:return Nh("SuspenseList");case 0:case 2:case 15:return e=vv(e.type,!1),e;case 11:return e=vv(e.type.render,!1),e;case 1:return e=vv(e.type,!0),e;default:return""}}function ew(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lu:return"Fragment";case ou:return"Portal";case Jb:return"Profiler";case Oj:return"StrictMode";case Xb:return"Suspense";case Zb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g3:return(e.displayName||"Context")+".Consumer";case f3:return(e._context.displayName||"Context")+".Provider";case Lj:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $j:return r=e.displayName||null,r!==null?r:ew(e.type)||"Memo";case Il:r=e._payload,e=e._init;try{return ew(e(r))}catch{}}return null}function m9(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ew(r);case 8:return r===Oj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function mc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y3(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function h9(e){var r=y3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function e0(e){e._valueTracker||(e._valueTracker=h9(e))}function v3(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),a="";return e&&(a=y3(e)?e.checked?"true":"false":e.value),e=a,e!==n?(r.setValue(e),!0):!1}function vg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tw(e,r){var n=r.checked;return Yn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DS(e,r){var n=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;n=mc(r.value!=null?r.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function b3(e,r){r=r.checked,r!=null&&Rj(e,"checked",r,!1)}function rw(e,r){b3(e,r);var n=mc(r.value),a=r.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?nw(e,r.type,n):r.hasOwnProperty("defaultValue")&&nw(e,r.type,mc(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function RS(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nw(e,r,n){(r!=="number"||vg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kh=Array.isArray;function Eu(e,r,n,a){if(e=e.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=r.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mc(n),r=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function aw(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(lt(91));return Yn({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function OS(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(lt(92));if(kh(n)){if(1<n.length)throw Error(lt(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:mc(n)}}function w3(e,r){var n=mc(r.value),a=mc(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function LS(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function j3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sw(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?j3(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var t0,N3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(r,n,a,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(t0=t0||document.createElement("div"),t0.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=t0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function tp(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Oh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p9=["Webkit","ms","Moz","O"];Object.keys(Oh).forEach(function(e){p9.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Oh[r]=Oh[e]})});function k3(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Oh.hasOwnProperty(e)&&Oh[e]?(""+r).trim():r+"px"}function S3(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=k3(n,r[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var f9=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iw(e,r){if(r){if(f9[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(lt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(lt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(lt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(lt(62))}}function ow(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=null;function Fj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cw=null,Pu=null,Au=null;function $S(e){if(e=hf(e)){if(typeof cw!="function")throw Error(lt(280));var r=e.stateNode;r&&(r=qx(r),cw(e.stateNode,e.type,r))}}function C3(e){Pu?Au?Au.push(e):Au=[e]:Pu=e}function E3(){if(Pu){var e=Pu,r=Au;if(Au=Pu=null,$S(e),r)for(e=0;e<r.length;e++)$S(r[e])}}function P3(e,r){return e(r)}function A3(){}var bv=!1;function M3(e,r,n){if(bv)return e(r,n);bv=!0;try{return P3(e,r,n)}finally{bv=!1,(Pu!==null||Au!==null)&&(A3(),E3())}}function rp(e,r){var n=e.stateNode;if(n===null)return null;var a=qx(n);if(a===null)return null;n=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(lt(231,r,typeof n));return n}var dw=!1;if(dl)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){dw=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{dw=!1}function g9(e,r,n,a,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(m){this.onError(m)}}var Lh=!1,bg=null,wg=!1,uw=null,x9={onError:function(e){Lh=!0,bg=e}};function y9(e,r,n,a,s,i,o,l,c){Lh=!1,bg=null,g9.apply(x9,arguments)}function v9(e,r,n,a,s,i,o,l,c){if(y9.apply(this,arguments),Lh){if(Lh){var d=bg;Lh=!1,bg=null}else throw Error(lt(198));wg||(wg=!0,uw=d)}}function Bd(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function T3(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function FS(e){if(Bd(e)!==e)throw Error(lt(188))}function b9(e){var r=e.alternate;if(!r){if(r=Bd(e),r===null)throw Error(lt(188));return r!==e?null:e}for(var n=e,a=r;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return FS(s),e;if(i===a)return FS(s),r;i=i.sibling}throw Error(lt(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,a=i;break}if(l===a){o=!0,a=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,a=s;break}if(l===a){o=!0,a=i,n=s;break}l=l.sibling}if(!o)throw Error(lt(189))}}if(n.alternate!==a)throw Error(lt(190))}if(n.tag!==3)throw Error(lt(188));return n.stateNode.current===n?e:r}function I3(e){return e=b9(e),e!==null?_3(e):null}function _3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=_3(e);if(r!==null)return r;e=e.sibling}return null}var D3=ui.unstable_scheduleCallback,US=ui.unstable_cancelCallback,w9=ui.unstable_shouldYield,j9=ui.unstable_requestPaint,la=ui.unstable_now,N9=ui.unstable_getCurrentPriorityLevel,Uj=ui.unstable_ImmediatePriority,R3=ui.unstable_UserBlockingPriority,jg=ui.unstable_NormalPriority,k9=ui.unstable_LowPriority,O3=ui.unstable_IdlePriority,zx=null,So=null;function S9(e){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(zx,e,void 0,(e.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:P9,C9=Math.log,E9=Math.LN2;function P9(e){return e>>>=0,e===0?32:31-(C9(e)/E9|0)|0}var r0=64,n0=4194304;function Sh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ng(e,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?a=Sh(l):(i&=o,i!==0&&(a=Sh(i)))}else o=n&~s,o!==0?a=Sh(o):i!==0&&(a=Sh(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&s)&&(s=a&-a,i=r&-r,s>=i||s===16&&(i&4194240)!==0))return r;if(a&4&&(a|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)n=31-Zi(r),s=1<<n,a|=e[n],r&=~s;return a}function A9(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M9(e,r){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Zi(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&a)&&(s[o]=A9(l,r)):c<=r&&(e.expiredLanes|=l),i&=~l}}function mw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L3(){var e=r0;return r0<<=1,!(r0&4194240)&&(r0=64),e}function wv(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function uf(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Zi(r),e[r]=n}function T9(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Zi(n),i=1<<s;r[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function Bj(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var a=31-Zi(n),s=1<<a;s&r|e[a]&r&&(e[a]|=r),n&=~s}}var on=0;function $3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F3,Gj,U3,B3,G3,hw=!1,a0=[],Jl=null,Xl=null,Zl=null,np=new Map,ap=new Map,Dl=[],I9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(e,r){switch(e){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":np.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(r.pointerId)}}function th(e,r,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},r!==null&&(r=hf(r),r!==null&&Gj(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function _9(e,r,n,a,s){switch(r){case"focusin":return Jl=th(Jl,e,r,n,a,s),!0;case"dragenter":return Xl=th(Xl,e,r,n,a,s),!0;case"mouseover":return Zl=th(Zl,e,r,n,a,s),!0;case"pointerover":var i=s.pointerId;return np.set(i,th(np.get(i)||null,e,r,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,ap.set(i,th(ap.get(i)||null,e,r,n,a,s)),!0}return!1}function V3(e){var r=qc(e.target);if(r!==null){var n=Bd(r);if(n!==null){if(r=n.tag,r===13){if(r=T3(n),r!==null){e.blockedOn=r,G3(e.priority,function(){U3(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function z0(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=pw(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);lw=a,n.target.dispatchEvent(a),lw=null}else return r=hf(n),r!==null&&Gj(r),e.blockedOn=n,!1;r.shift()}return!0}function GS(e,r,n){z0(e)&&n.delete(r)}function D9(){hw=!1,Jl!==null&&z0(Jl)&&(Jl=null),Xl!==null&&z0(Xl)&&(Xl=null),Zl!==null&&z0(Zl)&&(Zl=null),np.forEach(GS),ap.forEach(GS)}function rh(e,r){e.blockedOn===r&&(e.blockedOn=null,hw||(hw=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,D9)))}function sp(e){function r(s){return rh(s,e)}if(0<a0.length){rh(a0[0],e);for(var n=1;n<a0.length;n++){var a=a0[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Jl!==null&&rh(Jl,e),Xl!==null&&rh(Xl,e),Zl!==null&&rh(Zl,e),np.forEach(r),ap.forEach(r),n=0;n<Dl.length;n++)a=Dl[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Dl.length&&(n=Dl[0],n.blockedOn===null);)V3(n),n.blockedOn===null&&Dl.shift()}var Mu=vl.ReactCurrentBatchConfig,kg=!0;function R9(e,r,n,a){var s=on,i=Mu.transition;Mu.transition=null;try{on=1,Vj(e,r,n,a)}finally{on=s,Mu.transition=i}}function O9(e,r,n,a){var s=on,i=Mu.transition;Mu.transition=null;try{on=4,Vj(e,r,n,a)}finally{on=s,Mu.transition=i}}function Vj(e,r,n,a){if(kg){var s=pw(e,r,n,a);if(s===null)Tv(e,r,a,Sg,n),BS(e,a);else if(_9(s,e,r,n,a))a.stopPropagation();else if(BS(e,a),r&4&&-1<I9.indexOf(e)){for(;s!==null;){var i=hf(s);if(i!==null&&F3(i),i=pw(e,r,n,a),i===null&&Tv(e,r,a,Sg,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else Tv(e,r,a,null,n)}}var Sg=null;function pw(e,r,n,a){if(Sg=null,e=Fj(a),e=qc(e),e!==null)if(r=Bd(e),r===null)e=null;else if(n=r.tag,n===13){if(e=T3(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Sg=e,null}function z3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N9()){case Uj:return 1;case R3:return 4;case jg:case k9:return 16;case O3:return 536870912;default:return 16}default:return 16}}var ql=null,zj=null,W0=null;function W3(){if(W0)return W0;var e,r=zj,n=r.length,a,s="value"in ql?ql.value:ql.textContent,i=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&r[n-a]===s[i-a];a++);return W0=s.slice(e,1<a?1-a:void 0)}function H0(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function s0(){return!0}function VS(){return!1}function pi(e){function r(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?s0:VS,this.isPropagationStopped=VS,this}return Yn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=s0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=s0)},persist:function(){},isPersistent:s0}),r}var _m={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wj=pi(_m),mf=Yn({},_m,{view:0,detail:0}),L9=pi(mf),jv,Nv,nh,Wx=Yn({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(jv=e.screenX-nh.screenX,Nv=e.screenY-nh.screenY):Nv=jv=0,nh=e),jv)},movementY:function(e){return"movementY"in e?e.movementY:Nv}}),zS=pi(Wx),$9=Yn({},Wx,{dataTransfer:0}),F9=pi($9),U9=Yn({},mf,{relatedTarget:0}),kv=pi(U9),B9=Yn({},_m,{animationName:0,elapsedTime:0,pseudoElement:0}),G9=pi(B9),V9=Yn({},_m,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z9=pi(V9),W9=Yn({},_m,{data:0}),WS=pi(W9),H9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y9(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=q9[e])?!!r[e]:!1}function Hj(){return Y9}var Q9=Yn({},mf,{key:function(e){if(e.key){var r=H9[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=H0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hj,charCode:function(e){return e.type==="keypress"?H0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?H0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J9=pi(Q9),X9=Yn({},Wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HS=pi(X9),Z9=Yn({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hj}),eU=pi(Z9),tU=Yn({},_m,{propertyName:0,elapsedTime:0,pseudoElement:0}),rU=pi(tU),nU=Yn({},Wx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aU=pi(nU),sU=[9,13,27,32],Kj=dl&&"CompositionEvent"in window,$h=null;dl&&"documentMode"in document&&($h=document.documentMode);var iU=dl&&"TextEvent"in window&&!$h,H3=dl&&(!Kj||$h&&8<$h&&11>=$h),KS=" ",qS=!1;function K3(e,r){switch(e){case"keyup":return sU.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cu=!1;function oU(e,r){switch(e){case"compositionend":return q3(r);case"keypress":return r.which!==32?null:(qS=!0,KS);case"textInput":return e=r.data,e===KS&&qS?null:e;default:return null}}function lU(e,r){if(cu)return e==="compositionend"||!Kj&&K3(e,r)?(e=W3(),W0=zj=ql=null,cu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return H3&&r.locale!=="ko"?null:r.data;default:return null}}var cU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YS(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!cU[e.type]:r==="textarea"}function Y3(e,r,n,a){C3(a),r=Cg(r,"onChange"),0<r.length&&(n=new Wj("onChange","change",null,n,a),e.push({event:n,listeners:r}))}var Fh=null,ip=null;function dU(e){iA(e,0)}function Hx(e){var r=mu(e);if(v3(r))return e}function uU(e,r){if(e==="change")return r}var Q3=!1;if(dl){var Sv;if(dl){var Cv="oninput"in document;if(!Cv){var QS=document.createElement("div");QS.setAttribute("oninput","return;"),Cv=typeof QS.oninput=="function"}Sv=Cv}else Sv=!1;Q3=Sv&&(!document.documentMode||9<document.documentMode)}function JS(){Fh&&(Fh.detachEvent("onpropertychange",J3),ip=Fh=null)}function J3(e){if(e.propertyName==="value"&&Hx(ip)){var r=[];Y3(r,ip,e,Fj(e)),M3(dU,r)}}function mU(e,r,n){e==="focusin"?(JS(),Fh=r,ip=n,Fh.attachEvent("onpropertychange",J3)):e==="focusout"&&JS()}function hU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hx(ip)}function pU(e,r){if(e==="click")return Hx(r)}function fU(e,r){if(e==="input"||e==="change")return Hx(r)}function gU(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var no=typeof Object.is=="function"?Object.is:gU;function op(e,r){if(no(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!Qb.call(r,s)||!no(e[s],r[s]))return!1}return!0}function XS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZS(e,r){var n=XS(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=r&&a>=r)return{node:n,offset:r-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XS(n)}}function X3(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?X3(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Z3(){for(var e=window,r=vg();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=vg(e.document)}return r}function qj(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function xU(e){var r=Z3(),n=e.focusedElem,a=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&X3(n.ownerDocument.documentElement,n)){if(a!==null&&qj(n)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=ZS(n,i);var o=ZS(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yU=dl&&"documentMode"in document&&11>=document.documentMode,du=null,fw=null,Uh=null,gw=!1;function e5(e,r,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gw||du==null||du!==vg(a)||(a=du,"selectionStart"in a&&qj(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Uh&&op(Uh,a)||(Uh=a,a=Cg(fw,"onSelect"),0<a.length&&(r=new Wj("onSelect","select",null,r,n),e.push({event:r,listeners:a}),r.target=du)))}function i0(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var uu={animationend:i0("Animation","AnimationEnd"),animationiteration:i0("Animation","AnimationIteration"),animationstart:i0("Animation","AnimationStart"),transitionend:i0("Transition","TransitionEnd")},Ev={},eA={};dl&&(eA=document.createElement("div").style,"AnimationEvent"in window||(delete uu.animationend.animation,delete uu.animationiteration.animation,delete uu.animationstart.animation),"TransitionEvent"in window||delete uu.transitionend.transition);function Kx(e){if(Ev[e])return Ev[e];if(!uu[e])return e;var r=uu[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in eA)return Ev[e]=r[n];return e}var tA=Kx("animationend"),rA=Kx("animationiteration"),nA=Kx("animationstart"),aA=Kx("transitionend"),sA=new Map,t5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cc(e,r){sA.set(e,r),Ud(r,[e])}for(var Pv=0;Pv<t5.length;Pv++){var Av=t5[Pv],vU=Av.toLowerCase(),bU=Av[0].toUpperCase()+Av.slice(1);Cc(vU,"on"+bU)}Cc(tA,"onAnimationEnd");Cc(rA,"onAnimationIteration");Cc(nA,"onAnimationStart");Cc("dblclick","onDoubleClick");Cc("focusin","onFocus");Cc("focusout","onBlur");Cc(aA,"onTransitionEnd");nm("onMouseEnter",["mouseout","mouseover"]);nm("onMouseLeave",["mouseout","mouseover"]);nm("onPointerEnter",["pointerout","pointerover"]);nm("onPointerLeave",["pointerout","pointerover"]);Ud("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ud("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ud("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ud("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function r5(e,r,n){var a=e.type||"unknown-event";e.currentTarget=n,v9(a,r,void 0,e),e.currentTarget=null}function iA(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;r5(s,l,d),i=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;r5(s,l,d),i=c}}}if(wg)throw e=uw,wg=!1,uw=null,e}function An(e,r){var n=r[ww];n===void 0&&(n=r[ww]=new Set);var a=e+"__bubble";n.has(a)||(oA(r,e,2,!1),n.add(a))}function Mv(e,r,n){var a=0;r&&(a|=4),oA(n,e,a,r)}var o0="_reactListening"+Math.random().toString(36).slice(2);function lp(e){if(!e[o0]){e[o0]=!0,p3.forEach(function(n){n!=="selectionchange"&&(wU.has(n)||Mv(n,!1,e),Mv(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[o0]||(r[o0]=!0,Mv("selectionchange",!1,r))}}function oA(e,r,n,a){switch(z3(r)){case 1:var s=R9;break;case 4:s=O9;break;default:s=Vj}n=s.bind(null,r,n,e),s=void 0,!dw||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(r,n,{capture:!0,passive:s}):e.addEventListener(r,n,!0):s!==void 0?e.addEventListener(r,n,{passive:s}):e.addEventListener(r,n,!1)}function Tv(e,r,n,a,s){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qc(l),o===null)return;if(c=o.tag,c===5||c===6){a=i=o;continue e}l=l.parentNode}}a=a.return}M3(function(){var d=i,m=Fj(n),h=[];e:{var p=sA.get(e);if(p!==void 0){var f=Wj,x=e;switch(e){case"keypress":if(H0(n)===0)break e;case"keydown":case"keyup":f=J9;break;case"focusin":x="focus",f=kv;break;case"focusout":x="blur",f=kv;break;case"beforeblur":case"afterblur":f=kv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=zS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=F9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eU;break;case tA:case rA:case nA:f=G9;break;case aA:f=rU;break;case"scroll":f=L9;break;case"wheel":f=aU;break;case"copy":case"cut":case"paste":f=z9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=HS}var g=(r&4)!==0,v=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var b=d,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=rp(b,y),S!=null&&g.push(cp(b,S,w)))),v)break;b=b.return}0<g.length&&(p=new f(p,x,null,n,m),h.push({event:p,listeners:g}))}}if(!(r&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==lw&&(x=n.relatedTarget||n.fromElement)&&(qc(x)||x[ul]))break e;if((f||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,f?(x=n.relatedTarget||n.toElement,f=d,x=x?qc(x):null,x!==null&&(v=Bd(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=d),f!==x)){if(g=zS,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=HS,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?p:mu(f),w=x==null?p:mu(x),p=new g(S,b+"leave",f,n,m),p.target=v,p.relatedTarget=w,S=null,qc(m)===d&&(g=new g(y,b+"enter",x,n,m),g.target=w,g.relatedTarget=v,S=g),v=S,f&&x)t:{for(g=f,y=x,b=0,w=g;w;w=Jd(w))b++;for(w=0,S=y;S;S=Jd(S))w++;for(;0<b-w;)g=Jd(g),b--;for(;0<w-b;)y=Jd(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Jd(g),y=Jd(y)}g=null}else g=null;f!==null&&n5(h,p,f,g,!1),x!==null&&v!==null&&n5(h,v,x,g,!0)}}e:{if(p=d?mu(d):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var N=uU;else if(YS(p))if(Q3)N=fU;else{N=hU;var P=mU}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=pU);if(N&&(N=N(e,d))){Y3(h,N,n,m);break e}P&&P(e,p,d),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&nw(p,"number",p.value)}switch(P=d?mu(d):window,e){case"focusin":(YS(P)||P.contentEditable==="true")&&(du=P,fw=d,Uh=null);break;case"focusout":Uh=fw=du=null;break;case"mousedown":gw=!0;break;case"contextmenu":case"mouseup":case"dragend":gw=!1,e5(h,n,m);break;case"selectionchange":if(yU)break;case"keydown":case"keyup":e5(h,n,m)}var C;if(Kj)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else cu?K3(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(H3&&n.locale!=="ko"&&(cu||I!=="onCompositionStart"?I==="onCompositionEnd"&&cu&&(C=W3()):(ql=m,zj="value"in ql?ql.value:ql.textContent,cu=!0)),P=Cg(d,I),0<P.length&&(I=new WS(I,e,null,n,m),h.push({event:I,listeners:P}),C?I.data=C:(C=q3(n),C!==null&&(I.data=C)))),(C=iU?oU(e,n):lU(e,n))&&(d=Cg(d,"onBeforeInput"),0<d.length&&(m=new WS("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:d}),m.data=C))}iA(h,r)})}function cp(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Cg(e,r){for(var n=r+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rp(e,n),i!=null&&a.unshift(cp(e,i,s)),i=rp(e,r),i!=null&&a.push(cp(e,i,s))),e=e.return}return a}function Jd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function n5(e,r,n,a,s){for(var i=r._reactName,o=[];n!==null&&n!==a;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,s?(c=rp(n,i),c!=null&&o.unshift(cp(n,c,l))):s||(c=rp(n,i),c!=null&&o.push(cp(n,c,l)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var jU=/\r\n?/g,NU=/\u0000|\uFFFD/g;function a5(e){return(typeof e=="string"?e:""+e).replace(jU,`
`).replace(NU,"")}function l0(e,r,n){if(r=a5(r),a5(e)!==r&&n)throw Error(lt(425))}function Eg(){}var xw=null,yw=null;function vw(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bw=typeof setTimeout=="function"?setTimeout:void 0,kU=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(e){return s5.resolve(null).then(e).catch(CU)}:bw;function CU(e){setTimeout(function(){throw e})}function Iv(e,r){var n=r,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),sp(r);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);sp(r)}function ec(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function i5(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Dm=Math.random().toString(36).slice(2),yo="__reactFiber$"+Dm,dp="__reactProps$"+Dm,ul="__reactContainer$"+Dm,ww="__reactEvents$"+Dm,EU="__reactListeners$"+Dm,PU="__reactHandles$"+Dm;function qc(e){var r=e[yo];if(r)return r;for(var n=e.parentNode;n;){if(r=n[ul]||n[yo]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=i5(e);e!==null;){if(n=e[yo])return n;e=i5(e)}return r}e=n,n=e.parentNode}return null}function hf(e){return e=e[yo]||e[ul],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(lt(33))}function qx(e){return e[dp]||null}var jw=[],hu=-1;function Ec(e){return{current:e}}function In(e){0>hu||(e.current=jw[hu],jw[hu]=null,hu--)}function kn(e,r){hu++,jw[hu]=e.current,e.current=r}var hc={},ms=Ec(hc),Vs=Ec(!1),bd=hc;function am(e,r){var n=e.type.contextTypes;if(!n)return hc;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function zs(e){return e=e.childContextTypes,e!=null}function Pg(){In(Vs),In(ms)}function o5(e,r,n){if(ms.current!==hc)throw Error(lt(168));kn(ms,r),kn(Vs,n)}function lA(e,r,n){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in r))throw Error(lt(108,m9(e)||"Unknown",s));return Yn({},n,a)}function Ag(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hc,bd=ms.current,kn(ms,e),kn(Vs,Vs.current),!0}function l5(e,r,n){var a=e.stateNode;if(!a)throw Error(lt(169));n?(e=lA(e,r,bd),a.__reactInternalMemoizedMergedChildContext=e,In(Vs),In(ms),kn(ms,e)):In(Vs),kn(Vs,n)}var Ko=null,Yx=!1,_v=!1;function cA(e){Ko===null?Ko=[e]:Ko.push(e)}function AU(e){Yx=!0,cA(e)}function Pc(){if(!_v&&Ko!==null){_v=!0;var e=0,r=on;try{var n=Ko;for(on=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ko=null,Yx=!1}catch(s){throw Ko!==null&&(Ko=Ko.slice(e+1)),D3(Uj,Pc),s}finally{on=r,_v=!1}}return null}var pu=[],fu=0,Mg=null,Tg=0,Ei=[],Pi=0,wd=null,Jo=1,Xo="";function Uc(e,r){pu[fu++]=Tg,pu[fu++]=Mg,Mg=e,Tg=r}function dA(e,r,n){Ei[Pi++]=Jo,Ei[Pi++]=Xo,Ei[Pi++]=wd,wd=e;var a=Jo;e=Xo;var s=32-Zi(a)-1;a&=~(1<<s),n+=1;var i=32-Zi(r)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Jo=1<<32-Zi(r)+s|n<<s|a,Xo=i+e}else Jo=1<<i|n<<s|a,Xo=e}function Yj(e){e.return!==null&&(Uc(e,1),dA(e,1,0))}function Qj(e){for(;e===Mg;)Mg=pu[--fu],pu[fu]=null,Tg=pu[--fu],pu[fu]=null;for(;e===wd;)wd=Ei[--Pi],Ei[Pi]=null,Xo=Ei[--Pi],Ei[Pi]=null,Jo=Ei[--Pi],Ei[Pi]=null}var ii=null,ri=null,Dn=!1,Ki=null;function uA(e,r){var n=Ti(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function c5(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ii=e,ri=ec(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ii=e,ri=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=wd!==null?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Ti(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,ii=e,ri=null,!0):!1;default:return!1}}function Nw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kw(e){if(Dn){var r=ri;if(r){var n=r;if(!c5(e,r)){if(Nw(e))throw Error(lt(418));r=ec(n.nextSibling);var a=ii;r&&c5(e,r)?uA(a,n):(e.flags=e.flags&-4097|2,Dn=!1,ii=e)}}else{if(Nw(e))throw Error(lt(418));e.flags=e.flags&-4097|2,Dn=!1,ii=e}}}function d5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ii=e}function c0(e){if(e!==ii)return!1;if(!Dn)return d5(e),Dn=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!vw(e.type,e.memoizedProps)),r&&(r=ri)){if(Nw(e))throw mA(),Error(lt(418));for(;r;)uA(e,r),r=ec(r.nextSibling)}if(d5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(lt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){ri=ec(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}ri=null}}else ri=ii?ec(e.stateNode.nextSibling):null;return!0}function mA(){for(var e=ri;e;)e=ec(e.nextSibling)}function sm(){ri=ii=null,Dn=!1}function Jj(e){Ki===null?Ki=[e]:Ki.push(e)}var MU=vl.ReactCurrentBatchConfig;function ah(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(lt(309));var a=n.stateNode}if(!a)throw Error(lt(147,e));var s=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(lt(284));if(!n._owner)throw Error(lt(290,e))}return e}function d0(e,r){throw e=Object.prototype.toString.call(r),Error(lt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function u5(e){var r=e._init;return r(e._payload)}function hA(e){function r(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)r(y,b),b=b.sibling;return null}function a(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=ac(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,S){return b===null||b.tag!==6?(b=Uv(w,y.mode,S),b.return=y,b):(b=s(b,w),b.return=y,b)}function c(y,b,w,S){var N=w.type;return N===lu?m(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Il&&u5(N)===b.type)?(S=s(b,w.props),S.ref=ah(y,b,w),S.return=y,S):(S=Z0(w.type,w.key,w.props,null,y.mode,S),S.ref=ah(y,b,w),S.return=y,S)}function d(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Bv(w,y.mode,S),b.return=y,b):(b=s(b,w.children||[]),b.return=y,b)}function m(y,b,w,S,N){return b===null||b.tag!==7?(b=cd(w,y.mode,S,N),b.return=y,b):(b=s(b,w),b.return=y,b)}function h(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Uv(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zf:return w=Z0(b.type,b.key,b.props,null,y.mode,w),w.ref=ah(y,null,b),w.return=y,w;case ou:return b=Bv(b,y.mode,w),b.return=y,b;case Il:var S=b._init;return h(y,S(b._payload),w)}if(kh(b)||Zm(b))return b=cd(b,y.mode,w,null),b.return=y,b;d0(y,b)}return null}function p(y,b,w,S){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zf:return w.key===N?c(y,b,w,S):null;case ou:return w.key===N?d(y,b,w,S):null;case Il:return N=w._init,p(y,b,N(w._payload),S)}if(kh(w)||Zm(w))return N!==null?null:m(y,b,w,S,null);d0(y,w)}return null}function f(y,b,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(b,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zf:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,N);case ou:return y=y.get(S.key===null?w:S.key)||null,d(b,y,S,N);case Il:var P=S._init;return f(y,b,w,P(S._payload),N)}if(kh(S)||Zm(S))return y=y.get(w)||null,m(b,y,S,N,null);d0(b,S)}return null}function x(y,b,w,S){for(var N=null,P=null,C=b,I=b=0,T=null;C!==null&&I<w.length;I++){C.index>I?(T=C,C=null):T=C.sibling;var _=p(y,C,w[I],S);if(_===null){C===null&&(C=T);break}e&&C&&_.alternate===null&&r(y,C),b=i(_,b,I),P===null?N=_:P.sibling=_,P=_,C=T}if(I===w.length)return n(y,C),Dn&&Uc(y,I),N;if(C===null){for(;I<w.length;I++)C=h(y,w[I],S),C!==null&&(b=i(C,b,I),P===null?N=C:P.sibling=C,P=C);return Dn&&Uc(y,I),N}for(C=a(y,C);I<w.length;I++)T=f(C,y,I,w[I],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?I:T.key),b=i(T,b,I),P===null?N=T:P.sibling=T,P=T);return e&&C.forEach(function(k){return r(y,k)}),Dn&&Uc(y,I),N}function g(y,b,w,S){var N=Zm(w);if(typeof N!="function")throw Error(lt(150));if(w=N.call(w),w==null)throw Error(lt(151));for(var P=N=null,C=b,I=b=0,T=null,_=w.next();C!==null&&!_.done;I++,_=w.next()){C.index>I?(T=C,C=null):T=C.sibling;var k=p(y,C,_.value,S);if(k===null){C===null&&(C=T);break}e&&C&&k.alternate===null&&r(y,C),b=i(k,b,I),P===null?N=k:P.sibling=k,P=k,C=T}if(_.done)return n(y,C),Dn&&Uc(y,I),N;if(C===null){for(;!_.done;I++,_=w.next())_=h(y,_.value,S),_!==null&&(b=i(_,b,I),P===null?N=_:P.sibling=_,P=_);return Dn&&Uc(y,I),N}for(C=a(y,C);!_.done;I++,_=w.next())_=f(C,y,I,_.value,S),_!==null&&(e&&_.alternate!==null&&C.delete(_.key===null?I:_.key),b=i(_,b,I),P===null?N=_:P.sibling=_,P=_);return e&&C.forEach(function(A){return r(y,A)}),Dn&&Uc(y,I),N}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===lu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zf:e:{for(var N=w.key,P=b;P!==null;){if(P.key===N){if(N=w.type,N===lu){if(P.tag===7){n(y,P.sibling),b=s(P,w.props.children),b.return=y,y=b;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Il&&u5(N)===P.type){n(y,P.sibling),b=s(P,w.props),b.ref=ah(y,P,w),b.return=y,y=b;break e}n(y,P);break}else r(y,P);P=P.sibling}w.type===lu?(b=cd(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=Z0(w.type,w.key,w.props,null,y.mode,S),S.ref=ah(y,b,w),S.return=y,y=S)}return o(y);case ou:e:{for(P=w.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=s(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else r(y,b);b=b.sibling}b=Bv(w,y.mode,S),b.return=y,y=b}return o(y);case Il:return P=w._init,v(y,b,P(w._payload),S)}if(kh(w))return x(y,b,w,S);if(Zm(w))return g(y,b,w,S);d0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=s(b,w),b.return=y,y=b):(n(y,b),b=Uv(w,y.mode,S),b.return=y,y=b),o(y)):n(y,b)}return v}var im=hA(!0),pA=hA(!1),Ig=Ec(null),_g=null,gu=null,Xj=null;function Zj(){Xj=gu=_g=null}function eN(e){var r=Ig.current;In(Ig),e._currentValue=r}function Sw(e,r,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===n)break;e=e.return}}function Tu(e,r){_g=e,Xj=gu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Bs=!0),e.firstContext=null)}function $i(e){var r=e._currentValue;if(Xj!==e)if(e={context:e,memoizedValue:r,next:null},gu===null){if(_g===null)throw Error(lt(308));gu=e,_g.dependencies={lanes:0,firstContext:e}}else gu=gu.next=e;return r}var Yc=null;function tN(e){Yc===null?Yc=[e]:Yc.push(e)}function fA(e,r,n,a){var s=r.interleaved;return s===null?(n.next=n,tN(r)):(n.next=s.next,s.next=n),r.interleaved=n,ml(e,a)}function ml(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _l=!1;function rN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gA(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function tc(e,r,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,qr&2){var s=a.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r,ml(e,n)}return s=a.interleaved,s===null?(r.next=r,tN(a)):(r.next=s.next,s.next=r),a.interleaved=r,ml(e,n)}function K0(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,Bj(e,n)}}function m5(e,r){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=r:i=i.next=r}else s=i=r;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function Dg(e,r,n,a){var s=e.updateQueue;_l=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,m=d=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((a&p)===p){m!==null&&(m=m.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(p=r,f=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(f,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,p=typeof x=="function"?x.call(f,h,p):x,p==null)break e;h=Yn({},h,p);break e;case 2:_l=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=f,c=h):m=m.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(m===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=m,r=s.shared.interleaved,r!==null){s=r;do o|=s.lane,s=s.next;while(s!==r)}else i===null&&(s.shared.lanes=0);Nd|=o,e.lanes=o,e.memoizedState=h}}function h5(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(lt(191,s));s.call(a)}}}var pf={},Co=Ec(pf),up=Ec(pf),mp=Ec(pf);function Qc(e){if(e===pf)throw Error(lt(174));return e}function nN(e,r){switch(kn(mp,r),kn(up,e),kn(Co,pf),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:sw(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=sw(r,e)}In(Co),kn(Co,r)}function om(){In(Co),In(up),In(mp)}function xA(e){Qc(mp.current);var r=Qc(Co.current),n=sw(r,e.type);r!==n&&(kn(up,e),kn(Co,n))}function aN(e){up.current===e&&(In(Co),In(up))}var Gn=Ec(0);function Rg(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Dv=[];function sN(){for(var e=0;e<Dv.length;e++)Dv[e]._workInProgressVersionPrimary=null;Dv.length=0}var q0=vl.ReactCurrentDispatcher,Rv=vl.ReactCurrentBatchConfig,jd=0,qn=null,Sa=null,Ra=null,Og=!1,Bh=!1,hp=0,TU=0;function rs(){throw Error(lt(321))}function iN(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!no(e[n],r[n]))return!1;return!0}function oN(e,r,n,a,s,i){if(jd=i,qn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q0.current=e===null||e.memoizedState===null?RU:OU,e=n(a,s),Bh){i=0;do{if(Bh=!1,hp=0,25<=i)throw Error(lt(301));i+=1,Ra=Sa=null,r.updateQueue=null,q0.current=LU,e=n(a,s)}while(Bh)}if(q0.current=Lg,r=Sa!==null&&Sa.next!==null,jd=0,Ra=Sa=qn=null,Og=!1,r)throw Error(lt(300));return e}function lN(){var e=hp!==0;return hp=0,e}function ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ra===null?qn.memoizedState=Ra=e:Ra=Ra.next=e,Ra}function Fi(){if(Sa===null){var e=qn.alternate;e=e!==null?e.memoizedState:null}else e=Sa.next;var r=Ra===null?qn.memoizedState:Ra.next;if(r!==null)Ra=r,Sa=e;else{if(e===null)throw Error(lt(310));Sa=e,e={memoizedState:Sa.memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null},Ra===null?qn.memoizedState=Ra=e:Ra=Ra.next=e}return Ra}function pp(e,r){return typeof r=="function"?r(e):r}function Ov(e){var r=Fi(),n=r.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var a=Sa,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var l=o=null,c=null,d=i;do{var m=d.lane;if((jd&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=a):c=c.next=h,qn.lanes|=m,Nd|=m}d=d.next}while(d!==null&&d!==i);c===null?o=a:c.next=l,no(a,r.memoizedState)||(Bs=!0),r.memoizedState=a,r.baseState=o,r.baseQueue=c,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,qn.lanes|=i,Nd|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Lv(e){var r=Fi(),n=r.queue;if(n===null)throw Error(lt(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=r.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);no(i,r.memoizedState)||(Bs=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,a]}function yA(){}function vA(e,r){var n=qn,a=Fi(),s=r(),i=!no(a.memoizedState,s);if(i&&(a.memoizedState=s,Bs=!0),a=a.queue,cN(jA.bind(null,n,a,e),[e]),a.getSnapshot!==r||i||Ra!==null&&Ra.memoizedState.tag&1){if(n.flags|=2048,fp(9,wA.bind(null,n,a,s,r),void 0,null),La===null)throw Error(lt(349));jd&30||bA(n,r,s)}return s}function bA(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=qn.updateQueue,r===null?(r={lastEffect:null,stores:null},qn.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function wA(e,r,n,a){r.value=n,r.getSnapshot=a,NA(r)&&kA(e)}function jA(e,r,n){return n(function(){NA(r)&&kA(e)})}function NA(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!no(e,n)}catch{return!0}}function kA(e){var r=ml(e,1);r!==null&&eo(r,e,1,-1)}function p5(e){var r=ho();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:e},r.queue=e,e=e.dispatch=DU.bind(null,qn,e),[r.memoizedState,e]}function fp(e,r,n,a){return e={tag:e,create:r,destroy:n,deps:a,next:null},r=qn.updateQueue,r===null?(r={lastEffect:null,stores:null},qn.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,r.lastEffect=e)),e}function SA(){return Fi().memoizedState}function Y0(e,r,n,a){var s=ho();qn.flags|=e,s.memoizedState=fp(1|r,n,void 0,a===void 0?null:a)}function Qx(e,r,n,a){var s=Fi();a=a===void 0?null:a;var i=void 0;if(Sa!==null){var o=Sa.memoizedState;if(i=o.destroy,a!==null&&iN(a,o.deps)){s.memoizedState=fp(r,n,i,a);return}}qn.flags|=e,s.memoizedState=fp(1|r,n,i,a)}function f5(e,r){return Y0(8390656,8,e,r)}function cN(e,r){return Qx(2048,8,e,r)}function CA(e,r){return Qx(4,2,e,r)}function EA(e,r){return Qx(4,4,e,r)}function PA(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function AA(e,r,n){return n=n!=null?n.concat([e]):null,Qx(4,4,PA.bind(null,r,e),n)}function dN(){}function MA(e,r){var n=Fi();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&iN(r,a[1])?a[0]:(n.memoizedState=[e,r],e)}function TA(e,r){var n=Fi();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&iN(r,a[1])?a[0]:(e=e(),n.memoizedState=[e,r],e)}function IA(e,r,n){return jd&21?(no(n,r)||(n=L3(),qn.lanes|=n,Nd|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Bs=!0),e.memoizedState=n)}function IU(e,r){var n=on;on=n!==0&&4>n?n:4,e(!0);var a=Rv.transition;Rv.transition={};try{e(!1),r()}finally{on=n,Rv.transition=a}}function _A(){return Fi().memoizedState}function _U(e,r,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},DA(e))RA(r,n);else if(n=fA(e,r,n,a),n!==null){var s=Cs();eo(n,e,a,s),OA(n,r,a)}}function DU(e,r,n){var a=nc(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(DA(e))RA(r,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,no(l,o)){var c=r.interleaved;c===null?(s.next=s,tN(r)):(s.next=c.next,c.next=s),r.interleaved=s;return}}catch{}finally{}n=fA(e,r,s,a),n!==null&&(s=Cs(),eo(n,e,a,s),OA(n,r,a))}}function DA(e){var r=e.alternate;return e===qn||r!==null&&r===qn}function RA(e,r){Bh=Og=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function OA(e,r,n){if(n&4194240){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,Bj(e,n)}}var Lg={readContext:$i,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useInsertionEffect:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useSyncExternalStore:rs,useId:rs,unstable_isNewReconciler:!1},RU={readContext:$i,useCallback:function(e,r){return ho().memoizedState=[e,r===void 0?null:r],e},useContext:$i,useEffect:f5,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,Y0(4194308,4,PA.bind(null,r,e),n)},useLayoutEffect:function(e,r){return Y0(4194308,4,e,r)},useInsertionEffect:function(e,r){return Y0(4,2,e,r)},useMemo:function(e,r){var n=ho();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var a=ho();return r=n!==void 0?n(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=_U.bind(null,qn,e),[a.memoizedState,e]},useRef:function(e){var r=ho();return e={current:e},r.memoizedState=e},useState:p5,useDebugValue:dN,useDeferredValue:function(e){return ho().memoizedState=e},useTransition:function(){var e=p5(!1),r=e[0];return e=IU.bind(null,e[1]),ho().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var a=qn,s=ho();if(Dn){if(n===void 0)throw Error(lt(407));n=n()}else{if(n=r(),La===null)throw Error(lt(349));jd&30||bA(a,r,n)}s.memoizedState=n;var i={value:n,getSnapshot:r};return s.queue=i,f5(jA.bind(null,a,i,e),[e]),a.flags|=2048,fp(9,wA.bind(null,a,i,n,r),void 0,null),n},useId:function(){var e=ho(),r=La.identifierPrefix;if(Dn){var n=Xo,a=Jo;n=(a&~(1<<32-Zi(a)-1)).toString(32)+n,r=":"+r+"R"+n,n=hp++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=TU++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},OU={readContext:$i,useCallback:MA,useContext:$i,useEffect:cN,useImperativeHandle:AA,useInsertionEffect:CA,useLayoutEffect:EA,useMemo:TA,useReducer:Ov,useRef:SA,useState:function(){return Ov(pp)},useDebugValue:dN,useDeferredValue:function(e){var r=Fi();return IA(r,Sa.memoizedState,e)},useTransition:function(){var e=Ov(pp)[0],r=Fi().memoizedState;return[e,r]},useMutableSource:yA,useSyncExternalStore:vA,useId:_A,unstable_isNewReconciler:!1},LU={readContext:$i,useCallback:MA,useContext:$i,useEffect:cN,useImperativeHandle:AA,useInsertionEffect:CA,useLayoutEffect:EA,useMemo:TA,useReducer:Lv,useRef:SA,useState:function(){return Lv(pp)},useDebugValue:dN,useDeferredValue:function(e){var r=Fi();return Sa===null?r.memoizedState=e:IA(r,Sa.memoizedState,e)},useTransition:function(){var e=Lv(pp)[0],r=Fi().memoizedState;return[e,r]},useMutableSource:yA,useSyncExternalStore:vA,useId:_A,unstable_isNewReconciler:!1};function zi(e,r){if(e&&e.defaultProps){r=Yn({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function Cw(e,r,n,a){r=e.memoizedState,n=n(a,r),n=n==null?r:Yn({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jx={isMounted:function(e){return(e=e._reactInternals)?Bd(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var a=Cs(),s=nc(e),i=sl(a,s);i.payload=r,n!=null&&(i.callback=n),r=tc(e,i,s),r!==null&&(eo(r,e,s,a),K0(r,e,s))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var a=Cs(),s=nc(e),i=sl(a,s);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=tc(e,i,s),r!==null&&(eo(r,e,s,a),K0(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=Cs(),a=nc(e),s=sl(n,a);s.tag=2,r!=null&&(s.callback=r),r=tc(e,s,a),r!==null&&(eo(r,e,a,n),K0(r,e,a))}};function g5(e,r,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):r.prototype&&r.prototype.isPureReactComponent?!op(n,a)||!op(s,i):!0}function LA(e,r,n){var a=!1,s=hc,i=r.contextType;return typeof i=="object"&&i!==null?i=$i(i):(s=zs(r)?bd:ms.current,a=r.contextTypes,i=(a=a!=null)?am(e,s):hc),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Jx,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),r}function x5(e,r,n,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,a),r.state!==e&&Jx.enqueueReplaceState(r,r.state,null)}function Ew(e,r,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},rN(e);var i=r.contextType;typeof i=="object"&&i!==null?s.context=$i(i):(i=zs(r)?bd:ms.current,s.context=am(e,i)),s.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(Cw(e,r,i,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Jx.enqueueReplaceState(s,s.state,null),Dg(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function lm(e,r){try{var n="",a=r;do n+=u9(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:s,digest:null}}function $v(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function Pw(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var $U=typeof WeakMap=="function"?WeakMap:Map;function $A(e,r,n){n=sl(-1,n),n.tag=3,n.payload={element:null};var a=r.value;return n.callback=function(){Fg||(Fg=!0,$w=a),Pw(e,r)},n}function FA(e,r,n){n=sl(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;n.payload=function(){return a(s)},n.callback=function(){Pw(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pw(e,r),typeof a!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function y5(e,r,n){var a=e.pingCache;if(a===null){a=e.pingCache=new $U;var s=new Set;a.set(r,s)}else s=a.get(r),s===void 0&&(s=new Set,a.set(r,s));s.has(n)||(s.add(n),e=XU.bind(null,e,r,n),r.then(e,e))}function v5(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function b5(e,r,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=sl(-1,1),r.tag=2,tc(n,r,1))),n.lanes|=1),e)}var FU=vl.ReactCurrentOwner,Bs=!1;function ws(e,r,n,a){r.child=e===null?pA(r,null,n,a):im(r,e.child,n,a)}function w5(e,r,n,a,s){n=n.render;var i=r.ref;return Tu(r,s),a=oN(e,r,n,a,i,s),n=lN(),e!==null&&!Bs?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,hl(e,r,s)):(Dn&&n&&Yj(r),r.flags|=1,ws(e,r,a,s),r.child)}function j5(e,r,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!yN(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,UA(e,r,i,a,s)):(e=Z0(n.type,null,a,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:op,n(o,a)&&e.ref===r.ref)return hl(e,r,s)}return r.flags|=1,e=ac(i,a),e.ref=r.ref,e.return=r,r.child=e}function UA(e,r,n,a,s){if(e!==null){var i=e.memoizedProps;if(op(i,a)&&e.ref===r.ref)if(Bs=!1,r.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(Bs=!0);else return r.lanes=e.lanes,hl(e,r,s)}return Aw(e,r,n,a,s)}function BA(e,r,n){var a=r.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(yu,Zs),Zs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,kn(yu,Zs),Zs|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,kn(yu,Zs),Zs|=a}else i!==null?(a=i.baseLanes|n,r.memoizedState=null):a=n,kn(yu,Zs),Zs|=a;return ws(e,r,s,n),r.child}function GA(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function Aw(e,r,n,a,s){var i=zs(n)?bd:ms.current;return i=am(r,i),Tu(r,s),n=oN(e,r,n,a,i,s),a=lN(),e!==null&&!Bs?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,hl(e,r,s)):(Dn&&a&&Yj(r),r.flags|=1,ws(e,r,n,s),r.child)}function N5(e,r,n,a,s){if(zs(n)){var i=!0;Ag(r)}else i=!1;if(Tu(r,s),r.stateNode===null)Q0(e,r),LA(r,n,a),Ew(r,n,a,s),a=!0;else if(e===null){var o=r.stateNode,l=r.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=$i(d):(d=zs(n)?bd:ms.current,d=am(r,d));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&x5(r,o,a,d),_l=!1;var p=r.memoizedState;o.state=p,Dg(r,a,o,s),c=r.memoizedState,l!==a||p!==c||Vs.current||_l?(typeof m=="function"&&(Cw(r,n,m,a),c=r.memoizedState),(l=_l||g5(r,n,l,a,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{o=r.stateNode,gA(e,r),l=r.memoizedProps,d=r.type===r.elementType?l:zi(r.type,l),o.props=d,h=r.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=$i(c):(c=zs(n)?bd:ms.current,c=am(r,c));var f=n.getDerivedStateFromProps;(m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&x5(r,o,a,c),_l=!1,p=r.memoizedState,o.state=p,Dg(r,a,o,s);var x=r.memoizedState;l!==h||p!==x||Vs.current||_l?(typeof f=="function"&&(Cw(r,n,f,a),x=r.memoizedState),(d=_l||g5(r,n,d,a,p,x,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,x,c)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=x),o.props=a,o.state=x,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(r.flags|=1024),a=!1)}return Mw(e,r,n,a,i,s)}function Mw(e,r,n,a,s,i){GA(e,r);var o=(r.flags&128)!==0;if(!a&&!o)return s&&l5(r,n,!1),hl(e,r,i);a=r.stateNode,FU.current=r;var l=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&o?(r.child=im(r,e.child,null,i),r.child=im(r,null,l,i)):ws(e,r,l,i),r.memoizedState=a.state,s&&l5(r,n,!0),r.child}function VA(e){var r=e.stateNode;r.pendingContext?o5(e,r.pendingContext,r.pendingContext!==r.context):r.context&&o5(e,r.context,!1),nN(e,r.containerInfo)}function k5(e,r,n,a,s){return sm(),Jj(s),r.flags|=256,ws(e,r,n,a),r.child}var Tw={dehydrated:null,treeContext:null,retryLane:0};function Iw(e){return{baseLanes:e,cachePool:null,transitions:null}}function zA(e,r,n){var a=r.pendingProps,s=Gn.current,i=!1,o=(r.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),kn(Gn,s&1),e===null)return kw(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=a.children,e=a.fallback,i?(a=r.mode,i=r.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ey(o,a,0,null),e=cd(e,a,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=Iw(n),r.memoizedState=Tw,e):uN(r,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return UU(e,r,o,a,l,s,n);if(i){i=a.fallback,o=r.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&r.child!==s?(a=r.child,a.childLanes=0,a.pendingProps=c,r.deletions=null):(a=ac(s,c),a.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ac(l,i):(i=cd(i,o,n,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,o=e.child.memoizedState,o=o===null?Iw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=Tw,a}return i=e.child,e=i.sibling,a=ac(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=n),a.return=r,a.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=a,r.memoizedState=null,a}function uN(e,r){return r=ey({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function u0(e,r,n,a){return a!==null&&Jj(a),im(r,e.child,null,n),e=uN(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function UU(e,r,n,a,s,i,o){if(n)return r.flags&256?(r.flags&=-257,a=$v(Error(lt(422))),u0(e,r,o,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,s=r.mode,a=ey({mode:"visible",children:a.children},s,0,null),i=cd(i,s,o,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&im(r,e.child,null,o),r.child.memoizedState=Iw(o),r.memoizedState=Tw,i);if(!(r.mode&1))return u0(e,r,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(lt(419)),a=$v(i,a,void 0),u0(e,r,o,a)}if(l=(o&e.childLanes)!==0,Bs||l){if(a=La,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ml(e,s),eo(a,e,s,-1))}return xN(),a=$v(Error(lt(421))),u0(e,r,o,a)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=ZU.bind(null,e),s._reactRetry=r,null):(e=i.treeContext,ri=ec(s.nextSibling),ii=r,Dn=!0,Ki=null,e!==null&&(Ei[Pi++]=Jo,Ei[Pi++]=Xo,Ei[Pi++]=wd,Jo=e.id,Xo=e.overflow,wd=r),r=uN(r,a.children),r.flags|=4096,r)}function S5(e,r,n){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),Sw(e.return,r,n)}function Fv(e,r,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function WA(e,r,n){var a=r.pendingProps,s=a.revealOrder,i=a.tail;if(ws(e,r,a.children,n),a=Gn.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S5(e,n,r);else if(e.tag===19)S5(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(kn(Gn,a),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)e=n.alternate,e!==null&&Rg(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),Fv(r,!1,s,n,i);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&Rg(e)===null){r.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fv(r,!0,n,null,i);break;case"together":Fv(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Q0(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function hl(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),Nd|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(lt(153));if(r.child!==null){for(e=r.child,n=ac(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=ac(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function BU(e,r,n){switch(r.tag){case 3:VA(r),sm();break;case 5:xA(r);break;case 1:zs(r.type)&&Ag(r);break;case 4:nN(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,s=r.memoizedProps.value;kn(Ig,a._currentValue),a._currentValue=s;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(kn(Gn,Gn.current&1),r.flags|=128,null):n&r.child.childLanes?zA(e,r,n):(kn(Gn,Gn.current&1),e=hl(e,r,n),e!==null?e.sibling:null);kn(Gn,Gn.current&1);break;case 19:if(a=(n&r.childLanes)!==0,e.flags&128){if(a)return WA(e,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kn(Gn,Gn.current),a)break;return null;case 22:case 23:return r.lanes=0,BA(e,r,n)}return hl(e,r,n)}var HA,_w,KA,qA;HA=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_w=function(){};KA=function(e,r,n,a){var s=e.memoizedProps;if(s!==a){e=r.stateNode,Qc(Co.current);var i=null;switch(n){case"input":s=tw(e,s),a=tw(e,a),i=[];break;case"select":s=Yn({},s,{value:void 0}),a=Yn({},a,{value:void 0}),i=[];break;case"textarea":s=aw(e,s),a=aw(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Eg)}iw(n,a);var o;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ep.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ep.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&An("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};qA=function(e,r,n,a){n!==a&&(r.flags|=4)};function sh(e,r){if(!Dn)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ns(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(r)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,r}function GU(e,r,n){var a=r.pendingProps;switch(Qj(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(r),null;case 1:return zs(r.type)&&Pg(),ns(r),null;case 3:return a=r.stateNode,om(),In(Vs),In(ms),sN(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(c0(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ki!==null&&(Bw(Ki),Ki=null))),_w(e,r),ns(r),null;case 5:aN(r);var s=Qc(mp.current);if(n=r.type,e!==null&&r.stateNode!=null)KA(e,r,n,a,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(lt(166));return ns(r),null}if(e=Qc(Co.current),c0(r)){a=r.stateNode,n=r.type;var i=r.memoizedProps;switch(a[yo]=r,a[dp]=i,e=(r.mode&1)!==0,n){case"dialog":An("cancel",a),An("close",a);break;case"iframe":case"object":case"embed":An("load",a);break;case"video":case"audio":for(s=0;s<Ch.length;s++)An(Ch[s],a);break;case"source":An("error",a);break;case"img":case"image":case"link":An("error",a),An("load",a);break;case"details":An("toggle",a);break;case"input":DS(a,i),An("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},An("invalid",a);break;case"textarea":OS(a,i),An("invalid",a)}iw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&l0(a.textContent,l,e),s=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&l0(a.textContent,l,e),s=["children",""+l]):ep.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&An("scroll",a)}switch(n){case"input":e0(a),RS(a,i,!0);break;case"textarea":e0(a),LS(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Eg)}a=s,r.updateQueue=a,a!==null&&(r.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=j3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[yo]=r,e[dp]=a,HA(e,r,!1,!1),r.stateNode=e;e:{switch(o=ow(n,a),n){case"dialog":An("cancel",e),An("close",e),s=a;break;case"iframe":case"object":case"embed":An("load",e),s=a;break;case"video":case"audio":for(s=0;s<Ch.length;s++)An(Ch[s],e);s=a;break;case"source":An("error",e),s=a;break;case"img":case"image":case"link":An("error",e),An("load",e),s=a;break;case"details":An("toggle",e),s=a;break;case"input":DS(e,a),s=tw(e,a),An("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=Yn({},a,{value:void 0}),An("invalid",e);break;case"textarea":OS(e,a),s=aw(e,a),An("invalid",e);break;default:s=a}iw(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?S3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N3(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tp(e,c):typeof c=="number"&&tp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ep.hasOwnProperty(i)?c!=null&&i==="onScroll"&&An("scroll",e):c!=null&&Rj(e,i,c,o))}switch(n){case"input":e0(e),RS(e,a,!1);break;case"textarea":e0(e),LS(e);break;case"option":a.value!=null&&e.setAttribute("value",""+mc(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Eu(e,!!a.multiple,i,!1):a.defaultValue!=null&&Eu(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Eg)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ns(r),null;case 6:if(e&&r.stateNode!=null)qA(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(lt(166));if(n=Qc(mp.current),Qc(Co.current),c0(r)){if(a=r.stateNode,n=r.memoizedProps,a[yo]=r,(i=a.nodeValue!==n)&&(e=ii,e!==null))switch(e.tag){case 3:l0(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&l0(a.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[yo]=r,r.stateNode=a}return ns(r),null;case 13:if(In(Gn),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Dn&&ri!==null&&r.mode&1&&!(r.flags&128))mA(),sm(),r.flags|=98560,i=!1;else if(i=c0(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(lt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(lt(317));i[yo]=r}else sm(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ns(r),i=!1}else Ki!==null&&(Bw(Ki),Ki=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Gn.current&1?Pa===0&&(Pa=3):xN())),r.updateQueue!==null&&(r.flags|=4),ns(r),null);case 4:return om(),_w(e,r),e===null&&lp(r.stateNode.containerInfo),ns(r),null;case 10:return eN(r.type._context),ns(r),null;case 17:return zs(r.type)&&Pg(),ns(r),null;case 19:if(In(Gn),i=r.memoizedState,i===null)return ns(r),null;if(a=(r.flags&128)!==0,o=i.rendering,o===null)if(a)sh(i,!1);else{if(Pa!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=Rg(e),o!==null){for(r.flags|=128,sh(i,!1),a=o.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=n,n=r.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kn(Gn,Gn.current&1|2),r.child}e=e.sibling}i.tail!==null&&la()>cm&&(r.flags|=128,a=!0,sh(i,!1),r.lanes=4194304)}else{if(!a)if(e=Rg(o),e!==null){if(r.flags|=128,a=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),sh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Dn)return ns(r),null}else 2*la()-i.renderingStartTime>cm&&n!==1073741824&&(r.flags|=128,a=!0,sh(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=la(),r.sibling=null,n=Gn.current,kn(Gn,a?n&1|2:n&1),r):(ns(r),null);case 22:case 23:return gN(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Zs&1073741824&&(ns(r),r.subtreeFlags&6&&(r.flags|=8192)):ns(r),null;case 24:return null;case 25:return null}throw Error(lt(156,r.tag))}function VU(e,r){switch(Qj(r),r.tag){case 1:return zs(r.type)&&Pg(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return om(),In(Vs),In(ms),sN(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return aN(r),null;case 13:if(In(Gn),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(lt(340));sm()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return In(Gn),null;case 4:return om(),null;case 10:return eN(r.type._context),null;case 22:case 23:return gN(),null;case 24:return null;default:return null}}var m0=!1,os=!1,zU=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function xu(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Xn(e,r,a)}else n.current=null}function Dw(e,r,n){try{n()}catch(a){Xn(e,r,a)}}var C5=!1;function WU(e,r){if(xw=kg,e=Z3(),qj(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,m=0,h=e,p=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||a!==0&&h.nodeType!==3||(c=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===i&&++m===a&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yw={focusedElem:e,selectionRange:n},kg=!1,Lt=r;Lt!==null;)if(r=Lt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Lt=e;else for(;Lt!==null;){r=Lt;try{var x=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,y=r.stateNode,b=y.getSnapshotBeforeUpdate(r.elementType===r.type?g:zi(r.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=r.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(lt(163))}}catch(S){Xn(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,Lt=e;break}Lt=r.return}return x=C5,C5=!1,x}function Gh(e,r,n){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dw(r,n,i)}s=s.next}while(s!==a)}}function Xx(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==r)}}function Rw(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function YA(e){var r=e.alternate;r!==null&&(e.alternate=null,YA(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[yo],delete r[dp],delete r[ww],delete r[EU],delete r[PU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QA(e){return e.tag===5||e.tag===3||e.tag===4}function E5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ow(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=Eg));else if(a!==4&&(e=e.child,e!==null))for(Ow(e,r,n),e=e.sibling;e!==null;)Ow(e,r,n),e=e.sibling}function Lw(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Lw(e,r,n),e=e.sibling;e!==null;)Lw(e,r,n),e=e.sibling}var Ka=null,Hi=!1;function Nl(e,r,n){for(n=n.child;n!==null;)JA(e,r,n),n=n.sibling}function JA(e,r,n){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(zx,n)}catch{}switch(n.tag){case 5:os||xu(n,r);case 6:var a=Ka,s=Hi;Ka=null,Nl(e,r,n),Ka=a,Hi=s,Ka!==null&&(Hi?(e=Ka,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ka.removeChild(n.stateNode));break;case 18:Ka!==null&&(Hi?(e=Ka,n=n.stateNode,e.nodeType===8?Iv(e.parentNode,n):e.nodeType===1&&Iv(e,n),sp(e)):Iv(Ka,n.stateNode));break;case 4:a=Ka,s=Hi,Ka=n.stateNode.containerInfo,Hi=!0,Nl(e,r,n),Ka=a,Hi=s;break;case 0:case 11:case 14:case 15:if(!os&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dw(n,r,o),s=s.next}while(s!==a)}Nl(e,r,n);break;case 1:if(!os&&(xu(n,r),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){Xn(n,r,l)}Nl(e,r,n);break;case 21:Nl(e,r,n);break;case 22:n.mode&1?(os=(a=os)||n.memoizedState!==null,Nl(e,r,n),os=a):Nl(e,r,n);break;default:Nl(e,r,n)}}function P5(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zU),r.forEach(function(a){var s=eB.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Bi(e,r){var n=r.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=r,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ka=l.stateNode,Hi=!1;break e;case 3:Ka=l.stateNode.containerInfo,Hi=!0;break e;case 4:Ka=l.stateNode.containerInfo,Hi=!0;break e}l=l.return}if(Ka===null)throw Error(lt(160));JA(i,o,s),Ka=null,Hi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Xn(s,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)XA(r,e),r=r.sibling}function XA(e,r){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bi(r,e),mo(e),a&4){try{Gh(3,e,e.return),Xx(3,e)}catch(g){Xn(e,e.return,g)}try{Gh(5,e,e.return)}catch(g){Xn(e,e.return,g)}}break;case 1:Bi(r,e),mo(e),a&512&&n!==null&&xu(n,n.return);break;case 5:if(Bi(r,e),mo(e),a&512&&n!==null&&xu(n,n.return),e.flags&32){var s=e.stateNode;try{tp(s,"")}catch(g){Xn(e,e.return,g)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&b3(s,i),ow(l,o);var d=ow(l,i);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?S3(s,h):m==="dangerouslySetInnerHTML"?N3(s,h):m==="children"?tp(s,h):Rj(s,m,h,d)}switch(l){case"input":rw(s,i);break;case"textarea":w3(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Eu(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Eu(s,!!i.multiple,i.defaultValue,!0):Eu(s,!!i.multiple,i.multiple?[]:"",!1))}s[dp]=i}catch(g){Xn(e,e.return,g)}}break;case 6:if(Bi(r,e),mo(e),a&4){if(e.stateNode===null)throw Error(lt(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Xn(e,e.return,g)}}break;case 3:if(Bi(r,e),mo(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{sp(r.containerInfo)}catch(g){Xn(e,e.return,g)}break;case 4:Bi(r,e),mo(e);break;case 13:Bi(r,e),mo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pN=la())),a&4&&P5(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(os=(d=os)||m,Bi(r,e),os=d):Bi(r,e),mo(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(Lt=e,m=e.child;m!==null;){for(h=Lt=m;Lt!==null;){switch(p=Lt,f=p.child,p.tag){case 0:case 11:case 14:case 15:Gh(4,p,p.return);break;case 1:xu(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){a=p,n=p.return;try{r=a,x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(g){Xn(a,n,g)}}break;case 5:xu(p,p.return);break;case 22:if(p.memoizedState!==null){M5(h);continue}}f!==null?(f.return=p,Lt=f):M5(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=k3("display",o))}catch(g){Xn(e,e.return,g)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Xn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bi(r,e),mo(e),a&4&&P5(e);break;case 21:break;default:Bi(r,e),mo(e)}}function mo(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(QA(n)){var a=n;break e}n=n.return}throw Error(lt(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(tp(s,""),a.flags&=-33);var i=E5(e);Lw(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,l=E5(e);Ow(e,l,o);break;default:throw Error(lt(161))}}catch(c){Xn(e,e.return,c)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function HU(e,r,n){Lt=e,ZA(e)}function ZA(e,r,n){for(var a=(e.mode&1)!==0;Lt!==null;){var s=Lt,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||m0;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||os;l=m0;var d=os;if(m0=o,(os=c)&&!d)for(Lt=s;Lt!==null;)o=Lt,c=o.child,o.tag===22&&o.memoizedState!==null?T5(s):c!==null?(c.return=o,Lt=c):T5(s);for(;i!==null;)Lt=i,ZA(i),i=i.sibling;Lt=s,m0=l,os=d}A5(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Lt=i):A5(e)}}function A5(e){for(;Lt!==null;){var r=Lt;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:os||Xx(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!os)if(n===null)a.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:zi(r.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&h5(r,i,a);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}h5(r,o,n)}break;case 5:var l=r.stateNode;if(n===null&&r.flags&4){n=l;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&sp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(lt(163))}os||r.flags&512&&Rw(r)}catch(p){Xn(r,r.return,p)}}if(r===e){Lt=null;break}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function M5(e){for(;Lt!==null;){var r=Lt;if(r===e){Lt=null;break}var n=r.sibling;if(n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function T5(e){for(;Lt!==null;){var r=Lt;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{Xx(4,r)}catch(c){Xn(r,n,c)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var s=r.return;try{a.componentDidMount()}catch(c){Xn(r,s,c)}}var i=r.return;try{Rw(r)}catch(c){Xn(r,i,c)}break;case 5:var o=r.return;try{Rw(r)}catch(c){Xn(r,o,c)}}}catch(c){Xn(r,r.return,c)}if(r===e){Lt=null;break}var l=r.sibling;if(l!==null){l.return=r.return,Lt=l;break}Lt=r.return}}var KU=Math.ceil,$g=vl.ReactCurrentDispatcher,mN=vl.ReactCurrentOwner,Di=vl.ReactCurrentBatchConfig,qr=0,La=null,fa=null,Qa=0,Zs=0,yu=Ec(0),Pa=0,gp=null,Nd=0,Zx=0,hN=0,Vh=null,Us=null,pN=0,cm=1/0,Ho=null,Fg=!1,$w=null,rc=null,h0=!1,Yl=null,Ug=0,zh=0,Fw=null,J0=-1,X0=0;function Cs(){return qr&6?la():J0!==-1?J0:J0=la()}function nc(e){return e.mode&1?qr&2&&Qa!==0?Qa&-Qa:MU.transition!==null?(X0===0&&(X0=L3()),X0):(e=on,e!==0||(e=window.event,e=e===void 0?16:z3(e.type)),e):1}function eo(e,r,n,a){if(50<zh)throw zh=0,Fw=null,Error(lt(185));uf(e,n,a),(!(qr&2)||e!==La)&&(e===La&&(!(qr&2)&&(Zx|=n),Pa===4&&Rl(e,Qa)),Ws(e,a),n===1&&qr===0&&!(r.mode&1)&&(cm=la()+500,Yx&&Pc()))}function Ws(e,r){var n=e.callbackNode;M9(e,r);var a=Ng(e,e===La?Qa:0);if(a===0)n!==null&&US(n),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(n!=null&&US(n),r===1)e.tag===0?AU(I5.bind(null,e)):cA(I5.bind(null,e)),SU(function(){!(qr&6)&&Pc()}),n=null;else{switch($3(a)){case 1:n=Uj;break;case 4:n=R3;break;case 16:n=jg;break;case 536870912:n=O3;break;default:n=jg}n=oM(n,eM.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function eM(e,r){if(J0=-1,X0=0,qr&6)throw Error(lt(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var a=Ng(e,e===La?Qa:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=Bg(e,a);else{r=a;var s=qr;qr|=2;var i=rM();(La!==e||Qa!==r)&&(Ho=null,cm=la()+500,ld(e,r));do try{QU();break}catch(l){tM(e,l)}while(!0);Zj(),$g.current=i,qr=s,fa!==null?r=0:(La=null,Qa=0,r=Pa)}if(r!==0){if(r===2&&(s=mw(e),s!==0&&(a=s,r=Uw(e,s))),r===1)throw n=gp,ld(e,0),Rl(e,a),Ws(e,la()),n;if(r===6)Rl(e,a);else{if(s=e.current.alternate,!(a&30)&&!qU(s)&&(r=Bg(e,a),r===2&&(i=mw(e),i!==0&&(a=i,r=Uw(e,i))),r===1))throw n=gp,ld(e,0),Rl(e,a),Ws(e,la()),n;switch(e.finishedWork=s,e.finishedLanes=a,r){case 0:case 1:throw Error(lt(345));case 2:Bc(e,Us,Ho);break;case 3:if(Rl(e,a),(a&130023424)===a&&(r=pN+500-la(),10<r)){if(Ng(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Cs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bw(Bc.bind(null,e,Us,Ho),r);break}Bc(e,Us,Ho);break;case 4:if(Rl(e,a),(a&4194240)===a)break;for(r=e.eventTimes,s=-1;0<a;){var o=31-Zi(a);i=1<<o,o=r[o],o>s&&(s=o),a&=~i}if(a=s,a=la()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*KU(a/1960))-a,10<a){e.timeoutHandle=bw(Bc.bind(null,e,Us,Ho),a);break}Bc(e,Us,Ho);break;case 5:Bc(e,Us,Ho);break;default:throw Error(lt(329))}}}return Ws(e,la()),e.callbackNode===n?eM.bind(null,e):null}function Uw(e,r){var n=Vh;return e.current.memoizedState.isDehydrated&&(ld(e,r).flags|=256),e=Bg(e,r),e!==2&&(r=Us,Us=n,r!==null&&Bw(r)),e}function Bw(e){Us===null?Us=e:Us.push.apply(Us,e)}function qU(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!no(i(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rl(e,r){for(r&=~hN,r&=~Zx,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-Zi(r),a=1<<n;e[n]=-1,r&=~a}}function I5(e){if(qr&6)throw Error(lt(327));Iu();var r=Ng(e,0);if(!(r&1))return Ws(e,la()),null;var n=Bg(e,r);if(e.tag!==0&&n===2){var a=mw(e);a!==0&&(r=a,n=Uw(e,a))}if(n===1)throw n=gp,ld(e,0),Rl(e,r),Ws(e,la()),n;if(n===6)throw Error(lt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Bc(e,Us,Ho),Ws(e,la()),null}function fN(e,r){var n=qr;qr|=1;try{return e(r)}finally{qr=n,qr===0&&(cm=la()+500,Yx&&Pc())}}function kd(e){Yl!==null&&Yl.tag===0&&!(qr&6)&&Iu();var r=qr;qr|=1;var n=Di.transition,a=on;try{if(Di.transition=null,on=1,e)return e()}finally{on=a,Di.transition=n,qr=r,!(qr&6)&&Pc()}}function gN(){Zs=yu.current,In(yu)}function ld(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kU(n)),fa!==null)for(n=fa.return;n!==null;){var a=n;switch(Qj(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Pg();break;case 3:om(),In(Vs),In(ms),sN();break;case 5:aN(a);break;case 4:om();break;case 13:In(Gn);break;case 19:In(Gn);break;case 10:eN(a.type._context);break;case 22:case 23:gN()}n=n.return}if(La=e,fa=e=ac(e.current,null),Qa=Zs=r,Pa=0,gp=null,hN=Zx=Nd=0,Us=Vh=null,Yc!==null){for(r=0;r<Yc.length;r++)if(n=Yc[r],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}Yc=null}return e}function tM(e,r){do{var n=fa;try{if(Zj(),q0.current=Lg,Og){for(var a=qn.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Og=!1}if(jd=0,Ra=Sa=qn=null,Bh=!1,hp=0,mN.current=null,n===null||n.return===null){Pa=1,gp=r,fa=null;break}e:{var i=e,o=n.return,l=n,c=r;if(r=Qa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=v5(o);if(f!==null){f.flags&=-257,b5(f,o,l,i,r),f.mode&1&&y5(i,d,r),r=f,c=d;var x=r.updateQueue;if(x===null){var g=new Set;g.add(c),r.updateQueue=g}else x.add(c);break e}else{if(!(r&1)){y5(i,d,r),xN();break e}c=Error(lt(426))}}else if(Dn&&l.mode&1){var v=v5(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),b5(v,o,l,i,r),Jj(lm(c,l));break e}}i=c=lm(c,l),Pa!==4&&(Pa=2),Vh===null?Vh=[i]:Vh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var y=$A(i,c,r);m5(i,y);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rc===null||!rc.has(w)))){i.flags|=65536,r&=-r,i.lanes|=r;var S=FA(i,l,r);m5(i,S);break e}}i=i.return}while(i!==null)}aM(n)}catch(N){r=N,fa===n&&n!==null&&(fa=n=n.return);continue}break}while(!0)}function rM(){var e=$g.current;return $g.current=Lg,e===null?Lg:e}function xN(){(Pa===0||Pa===3||Pa===2)&&(Pa=4),La===null||!(Nd&268435455)&&!(Zx&268435455)||Rl(La,Qa)}function Bg(e,r){var n=qr;qr|=2;var a=rM();(La!==e||Qa!==r)&&(Ho=null,ld(e,r));do try{YU();break}catch(s){tM(e,s)}while(!0);if(Zj(),qr=n,$g.current=a,fa!==null)throw Error(lt(261));return La=null,Qa=0,Pa}function YU(){for(;fa!==null;)nM(fa)}function QU(){for(;fa!==null&&!w9();)nM(fa)}function nM(e){var r=iM(e.alternate,e,Zs);e.memoizedProps=e.pendingProps,r===null?aM(e):fa=r,mN.current=null}function aM(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=VU(n,r),n!==null){n.flags&=32767,fa=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pa=6,fa=null;return}}else if(n=GU(n,r,Zs),n!==null){fa=n;return}if(r=r.sibling,r!==null){fa=r;return}fa=r=e}while(r!==null);Pa===0&&(Pa=5)}function Bc(e,r,n){var a=on,s=Di.transition;try{Di.transition=null,on=1,JU(e,r,n,a)}finally{Di.transition=s,on=a}return null}function JU(e,r,n,a){do Iu();while(Yl!==null);if(qr&6)throw Error(lt(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(lt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(T9(e,i),e===La&&(fa=La=null,Qa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||h0||(h0=!0,oM(jg,function(){return Iu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Di.transition,Di.transition=null;var o=on;on=1;var l=qr;qr|=4,mN.current=null,WU(e,n),XA(n,e),xU(yw),kg=!!xw,yw=xw=null,e.current=n,HU(n),j9(),qr=l,on=o,Di.transition=i}else e.current=n;if(h0&&(h0=!1,Yl=e,Ug=s),i=e.pendingLanes,i===0&&(rc=null),S9(n.stateNode),Ws(e,la()),r!==null)for(a=e.onRecoverableError,n=0;n<r.length;n++)s=r[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Fg)throw Fg=!1,e=$w,$w=null,e;return Ug&1&&e.tag!==0&&Iu(),i=e.pendingLanes,i&1?e===Fw?zh++:(zh=0,Fw=e):zh=0,Pc(),null}function Iu(){if(Yl!==null){var e=$3(Ug),r=Di.transition,n=on;try{if(Di.transition=null,on=16>e?16:e,Yl===null)var a=!1;else{if(e=Yl,Yl=null,Ug=0,qr&6)throw Error(lt(331));var s=qr;for(qr|=4,Lt=e.current;Lt!==null;){var i=Lt,o=i.child;if(Lt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Lt=d;Lt!==null;){var m=Lt;switch(m.tag){case 0:case 11:case 15:Gh(8,m,i)}var h=m.child;if(h!==null)h.return=m,Lt=h;else for(;Lt!==null;){m=Lt;var p=m.sibling,f=m.return;if(YA(m),m===d){Lt=null;break}if(p!==null){p.return=f,Lt=p;break}Lt=f}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Lt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Lt=o;else e:for(;Lt!==null;){if(i=Lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gh(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Lt=y;break e}Lt=i.return}}var b=e.current;for(Lt=b;Lt!==null;){o=Lt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Lt=w;else e:for(o=b;Lt!==null;){if(l=Lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xx(9,l)}}catch(N){Xn(l,l.return,N)}if(l===o){Lt=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Lt=S;break e}Lt=l.return}}if(qr=s,Pc(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(zx,e)}catch{}a=!0}return a}finally{on=n,Di.transition=r}}return!1}function _5(e,r,n){r=lm(n,r),r=$A(e,r,1),e=tc(e,r,1),r=Cs(),e!==null&&(uf(e,1,r),Ws(e,r))}function Xn(e,r,n){if(e.tag===3)_5(e,e,n);else for(;r!==null;){if(r.tag===3){_5(r,e,n);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(rc===null||!rc.has(a))){e=lm(n,e),e=FA(r,e,1),r=tc(r,e,1),e=Cs(),r!==null&&(uf(r,1,e),Ws(r,e));break}}r=r.return}}function XU(e,r,n){var a=e.pingCache;a!==null&&a.delete(r),r=Cs(),e.pingedLanes|=e.suspendedLanes&n,La===e&&(Qa&n)===n&&(Pa===4||Pa===3&&(Qa&130023424)===Qa&&500>la()-pN?ld(e,0):hN|=n),Ws(e,r)}function sM(e,r){r===0&&(e.mode&1?(r=n0,n0<<=1,!(n0&130023424)&&(n0=4194304)):r=1);var n=Cs();e=ml(e,r),e!==null&&(uf(e,r,n),Ws(e,n))}function ZU(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),sM(e,n)}function eB(e,r){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(lt(314))}a!==null&&a.delete(r),sM(e,n)}var iM;iM=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Vs.current)Bs=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return Bs=!1,BU(e,r,n);Bs=!!(e.flags&131072)}else Bs=!1,Dn&&r.flags&1048576&&dA(r,Tg,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;Q0(e,r),e=r.pendingProps;var s=am(r,ms.current);Tu(r,n),s=oN(null,r,a,e,s,n);var i=lN();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,zs(a)?(i=!0,Ag(r)):i=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rN(r),s.updater=Jx,r.stateNode=s,s._reactInternals=r,Ew(r,a,e,n),r=Mw(null,r,a,!0,i,n)):(r.tag=0,Dn&&i&&Yj(r),ws(null,r,s,n),r=r.child),r;case 16:a=r.elementType;e:{switch(Q0(e,r),e=r.pendingProps,s=a._init,a=s(a._payload),r.type=a,s=r.tag=rB(a),e=zi(a,e),s){case 0:r=Aw(null,r,a,e,n);break e;case 1:r=N5(null,r,a,e,n);break e;case 11:r=w5(null,r,a,e,n);break e;case 14:r=j5(null,r,a,zi(a.type,e),n);break e}throw Error(lt(306,a,""))}return r;case 0:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:zi(a,s),Aw(e,r,a,s,n);case 1:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:zi(a,s),N5(e,r,a,s,n);case 3:e:{if(VA(r),e===null)throw Error(lt(387));a=r.pendingProps,i=r.memoizedState,s=i.element,gA(e,r),Dg(r,a,null,n);var o=r.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){s=lm(Error(lt(423)),r),r=k5(e,r,a,n,s);break e}else if(a!==s){s=lm(Error(lt(424)),r),r=k5(e,r,a,n,s);break e}else for(ri=ec(r.stateNode.containerInfo.firstChild),ii=r,Dn=!0,Ki=null,n=pA(r,null,a,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sm(),a===s){r=hl(e,r,n);break e}ws(e,r,a,n)}r=r.child}return r;case 5:return xA(r),e===null&&kw(r),a=r.type,s=r.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,vw(a,s)?o=null:i!==null&&vw(a,i)&&(r.flags|=32),GA(e,r),ws(e,r,o,n),r.child;case 6:return e===null&&kw(r),null;case 13:return zA(e,r,n);case 4:return nN(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=im(r,null,a,n):ws(e,r,a,n),r.child;case 11:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:zi(a,s),w5(e,r,a,s,n);case 7:return ws(e,r,r.pendingProps,n),r.child;case 8:return ws(e,r,r.pendingProps.children,n),r.child;case 12:return ws(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(a=r.type._context,s=r.pendingProps,i=r.memoizedProps,o=s.value,kn(Ig,a._currentValue),a._currentValue=o,i!==null)if(no(i.value,o)){if(i.children===s.children&&!Vs.current){r=hl(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=sl(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sw(i.return,n,r),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(lt(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sw(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ws(e,r,s.children,n),r=r.child}return r;case 9:return s=r.type,a=r.pendingProps.children,Tu(r,n),s=$i(s),a=a(s),r.flags|=1,ws(e,r,a,n),r.child;case 14:return a=r.type,s=zi(a,r.pendingProps),s=zi(a.type,s),j5(e,r,a,s,n);case 15:return UA(e,r,r.type,r.pendingProps,n);case 17:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:zi(a,s),Q0(e,r),r.tag=1,zs(a)?(e=!0,Ag(r)):e=!1,Tu(r,n),LA(r,a,s),Ew(r,a,s,n),Mw(null,r,a,!0,e,n);case 19:return WA(e,r,n);case 22:return BA(e,r,n)}throw Error(lt(156,r.tag))};function oM(e,r){return D3(e,r)}function tB(e,r,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(e,r,n,a){return new tB(e,r,n,a)}function yN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rB(e){if(typeof e=="function")return yN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lj)return 11;if(e===$j)return 14}return 2}function ac(e,r){var n=e.alternate;return n===null?(n=Ti(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Z0(e,r,n,a,s,i){var o=2;if(a=e,typeof e=="function")yN(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lu:return cd(n.children,s,i,r);case Oj:o=8,s|=8;break;case Jb:return e=Ti(12,n,r,s|2),e.elementType=Jb,e.lanes=i,e;case Xb:return e=Ti(13,n,r,s),e.elementType=Xb,e.lanes=i,e;case Zb:return e=Ti(19,n,r,s),e.elementType=Zb,e.lanes=i,e;case x3:return ey(n,s,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f3:o=10;break e;case g3:o=9;break e;case Lj:o=11;break e;case $j:o=14;break e;case Il:o=16,a=null;break e}throw Error(lt(130,e==null?e:typeof e,""))}return r=Ti(o,n,r,s),r.elementType=e,r.type=a,r.lanes=i,r}function cd(e,r,n,a){return e=Ti(7,e,a,r),e.lanes=n,e}function ey(e,r,n,a){return e=Ti(22,e,a,r),e.elementType=x3,e.lanes=n,e.stateNode={isHidden:!1},e}function Uv(e,r,n){return e=Ti(6,e,null,r),e.lanes=n,e}function Bv(e,r,n){return r=Ti(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function nB(e,r,n,a,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wv(0),this.expirationTimes=wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vN(e,r,n,a,s,i,o,l,c){return e=new nB(e,r,n,l,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ti(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rN(i),e}function aB(e,r,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ou,key:a==null?null:""+a,children:e,containerInfo:r,implementation:n}}function lM(e){if(!e)return hc;e=e._reactInternals;e:{if(Bd(e)!==e||e.tag!==1)throw Error(lt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(zs(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(lt(171))}if(e.tag===1){var n=e.type;if(zs(n))return lA(e,n,r)}return r}function cM(e,r,n,a,s,i,o,l,c){return e=vN(n,a,!0,e,s,i,o,l,c),e.context=lM(null),n=e.current,a=Cs(),s=nc(n),i=sl(a,s),i.callback=r??null,tc(n,i,s),e.current.lanes=s,uf(e,s,a),Ws(e,a),e}function ty(e,r,n,a){var s=r.current,i=Cs(),o=nc(s);return n=lM(n),r.context===null?r.context=n:r.pendingContext=n,r=sl(i,o),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=tc(s,r,o),e!==null&&(eo(e,s,o,i),K0(e,s,o)),o}function Gg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D5(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function bN(e,r){D5(e,r),(e=e.alternate)&&D5(e,r)}function sB(){return null}var dM=typeof reportError=="function"?reportError:function(e){console.error(e)};function wN(e){this._internalRoot=e}ry.prototype.render=wN.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(lt(409));ty(e,r,null,null)};ry.prototype.unmount=wN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;kd(function(){ty(null,e,null,null)}),r[ul]=null}};function ry(e){this._internalRoot=e}ry.prototype.unstable_scheduleHydration=function(e){if(e){var r=B3();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Dl.length&&r!==0&&r<Dl[n].priority;n++);Dl.splice(n,0,e),n===0&&V3(e)}};function jN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function R5(){}function iB(e,r,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=Gg(o);i.call(d)}}var o=cM(r,a,e,0,null,!1,!1,"",R5);return e._reactRootContainer=o,e[ul]=o.current,lp(e.nodeType===8?e.parentNode:e),kd(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var l=a;a=function(){var d=Gg(c);l.call(d)}}var c=vN(e,0,!1,null,null,!1,!1,"",R5);return e._reactRootContainer=c,e[ul]=c.current,lp(e.nodeType===8?e.parentNode:e),kd(function(){ty(r,c,n,a)}),c}function ay(e,r,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Gg(o);l.call(c)}}ty(r,o,e,s)}else o=iB(n,r,e,s,a);return Gg(o)}F3=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=Sh(r.pendingLanes);n!==0&&(Bj(r,n|1),Ws(r,la()),!(qr&6)&&(cm=la()+500,Pc()))}break;case 13:kd(function(){var a=ml(e,1);if(a!==null){var s=Cs();eo(a,e,1,s)}}),bN(e,1)}};Gj=function(e){if(e.tag===13){var r=ml(e,134217728);if(r!==null){var n=Cs();eo(r,e,134217728,n)}bN(e,134217728)}};U3=function(e){if(e.tag===13){var r=nc(e),n=ml(e,r);if(n!==null){var a=Cs();eo(n,e,r,a)}bN(e,r)}};B3=function(){return on};G3=function(e,r){var n=on;try{return on=e,r()}finally{on=n}};cw=function(e,r,n){switch(r){case"input":if(rw(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var a=n[r];if(a!==e&&a.form===e.form){var s=qx(a);if(!s)throw Error(lt(90));v3(a),rw(a,s)}}}break;case"textarea":w3(e,n);break;case"select":r=n.value,r!=null&&Eu(e,!!n.multiple,r,!1)}};P3=fN;A3=kd;var oB={usingClientEntryPoint:!1,Events:[hf,mu,qx,C3,E3,fN]},ih={findFiberByHostInstance:qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lB={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I3(e),e===null?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||sB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{zx=p0.inject(lB),So=p0}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oB;hi.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jN(r))throw Error(lt(200));return aB(e,r,null,n)};hi.createRoot=function(e,r){if(!jN(e))throw Error(lt(299));var n=!1,a="",s=dM;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=vN(e,1,!1,null,null,n,!1,a,s),e[ul]=r.current,lp(e.nodeType===8?e.parentNode:e),new wN(r)};hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(lt(188)):(e=Object.keys(e).join(","),Error(lt(268,e)));return e=I3(r),e=e===null?null:e.stateNode,e};hi.flushSync=function(e){return kd(e)};hi.hydrate=function(e,r,n){if(!ny(r))throw Error(lt(200));return ay(null,e,r,!0,n)};hi.hydrateRoot=function(e,r,n){if(!jN(e))throw Error(lt(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=dM;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=cM(r,null,e,1,n??null,s,!1,i,o),e[ul]=r.current,lp(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new ry(r)};hi.render=function(e,r,n){if(!ny(r))throw Error(lt(200));return ay(null,e,r,!1,n)};hi.unmountComponentAtNode=function(e){if(!ny(e))throw Error(lt(40));return e._reactRootContainer?(kd(function(){ay(null,null,e,!1,function(){e._reactRootContainer=null,e[ul]=null})}),!0):!1};hi.unstable_batchedUpdates=fN;hi.unstable_renderSubtreeIntoContainer=function(e,r,n,a){if(!ny(n))throw Error(lt(200));if(e==null||e._reactInternals===void 0)throw Error(lt(38));return ay(e,r,n,!1,a)};hi.version="18.3.1-next-f1338f8080-20240426";function uM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uM)}catch(e){console.error(e)}}uM(),u3.exports=hi;var bl=u3.exports;const mM=cf(bl);var hM,O5=bl;hM=O5.createRoot,O5.hydrateRoot;function cB(e,r){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,a,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~a?a:~i?i:s.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(r?"(?=$|/)":"/?$"),"i")}}var pM={exports:{}},fM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm=u;function dB(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var uB=typeof Object.is=="function"?Object.is:dB,mB=dm.useState,hB=dm.useEffect,pB=dm.useLayoutEffect,fB=dm.useDebugValue;function gB(e,r){var n=r(),a=mB({inst:{value:n,getSnapshot:r}}),s=a[0].inst,i=a[1];return pB(function(){s.value=n,s.getSnapshot=r,Gv(s)&&i({inst:s})},[e,n,r]),hB(function(){return Gv(s)&&i({inst:s}),e(function(){Gv(s)&&i({inst:s})})},[e]),fB(n),n}function Gv(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!uB(e,n)}catch{return!0}}function xB(e,r){return r()}var yB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xB:gB;fM.useSyncExternalStore=dm.useSyncExternalStore!==void 0?dm.useSyncExternalStore:yB;pM.exports=fM;var NN=pM.exports;const vB=c3.useInsertionEffect,bB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gM=bB?u.useLayoutEffect:u.useEffect,wB=vB||gM,kN=e=>{const r=u.useRef([e,(...n)=>r[0](...n)]).current;return wB(()=>{r[0]=e}),r[1]},jB="popstate",SN="pushState",CN="replaceState",NB="hashchange",L5=[jB,SN,CN,NB],kB=e=>{for(const r of L5)addEventListener(r,e);return()=>{for(const r of L5)removeEventListener(r,e)}},xM=(e,r)=>NN.useSyncExternalStore(kB,e,r),SB=()=>location.search,CB=({ssrSearch:e=""}={})=>xM(SB,()=>e),$5=()=>location.pathname,EB=({ssrPath:e}={})=>xM($5,e?()=>e:$5),PB=(e,{replace:r=!1,state:n=null}={})=>history[r?CN:SN](n,"",e),AB=(e={})=>[EB(e),PB],F5=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[F5]>"u"){for(const e of[SN,CN]){const r=history[e];history[e]=function(){const n=r.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,F5,{value:!0})}const MB=(e,r)=>r.toLowerCase().indexOf(e.toLowerCase())?"~"+r:r.slice(e.length)||"/",yM=(e="")=>e==="/"?"":e,TB=(e,r)=>e[0]==="~"?e.slice(1):yM(r)+e,IB=(e="",r)=>MB(U5(yM(e)),U5(r)),U5=e=>{try{return decodeURI(e)}catch{return e}},vM={hook:AB,searchHook:CB,parser:cB,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},bM=u.createContext(vM),ff=()=>u.useContext(bM),wM={},jM=u.createContext(wM),Rm=()=>u.useContext(jM),sy=e=>{const[r,n]=e.hook(e);return[IB(e.base,r),kN((a,s)=>n(TB(a,e.base),s))]},lr=()=>sy(ff()),NM=(e,r,n,a)=>{const{pattern:s,keys:i}=r instanceof RegExp?{keys:!1,pattern:r}:e(r||"*",a),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,p)=>[h,c[p]])):o.groups;let m={...c};return d&&Object.assign(m,d),m})(),...a?[l]:[]]:[!1,null]},_B=({children:e,...r})=>{var m,h;const n=ff(),a=r.hook?vM:n;let s=a;const[i,o]=((m=r.ssrPath)==null?void 0:m.split("?"))??[];o&&(r.ssrSearch=o,r.ssrPath=i),r.hrefs=r.hrefs??((h=r.hook)==null?void 0:h.hrefs);let l=u.useRef({}),c=l.current,d=c;for(let p in a){const f=p==="base"?a[p]+(r[p]||""):r[p]||a[p];c===d&&f!==d[p]&&(l.current=d={...d}),d[p]=f,f!==a[p]&&(s=d)}return u.createElement(bM.Provider,{value:s,children:e})},B5=({children:e,component:r},n)=>r?u.createElement(r,{params:n}):typeof e=="function"?e(n):e,DB=e=>{let r=u.useRef(wM),n=r.current;for(const a in e)e[a]!==n[a]&&(n=e);return Object.keys(e).length===0&&(n=e),r.current=n},Ha=({path:e,nest:r,match:n,...a})=>{const s=ff(),[i]=sy(s),[o,l,c]=n??NM(s.parser,e,i,r),d=DB({...Rm(),...l});if(!o)return null;const m=c?u.createElement(_B,{base:c},B5(a,d)):B5(a,d);return u.createElement(jM.Provider,{value:d,children:m})},as=u.forwardRef((e,r)=>{const n=ff(),[a,s]=sy(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:m,replace:h,state:p,...f}=e,x=kN(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),s(o,e)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&u.isValidElement(d)?u.cloneElement(d,{onClick:x,href:g}):u.createElement("a",{...f,onClick:x,href:g,className:m!=null&&m.call?m(a===o):m,children:d,ref:r})}),kM=e=>Array.isArray(e)?e.flatMap(r=>kM(r&&r.type===u.Fragment?r.props.children:r)):[e],RB=({children:e,location:r})=>{const n=ff(),[a]=sy(n);for(const s of kM(e)){let i=0;if(u.isValidElement(s)&&(i=NM(n.parser,s.props.path,r||a,s.props.nest))[0])return u.cloneElement(s,{match:i})}return null},El=e=>{const{to:r,href:n=r}=e,[,a]=lr(),s=kN(()=>a(r||n,e));return gM(()=>{s()},[]),null};var Om=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sd=typeof window>"u"||"Deno"in globalThis;function Si(){}function OB(e,r){return typeof e=="function"?e(r):e}function Gw(e){return typeof e=="number"&&e>=0&&e!==1/0}function SM(e,r){return Math.max(e+(r||0)-Date.now(),0)}function _u(e,r){return typeof e=="function"?e(r):e}function qi(e,r){return typeof e=="function"?e(r):e}function G5(e,r){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(r.queryHash!==EN(o,r.options))return!1}else if(!xp(r.queryKey,o))return!1}if(n!=="all"){const c=r.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||s&&s!==r.state.fetchStatus||i&&!i(r))}function V5(e,r){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if(Cd(r.options.mutationKey)!==Cd(i))return!1}else if(!xp(r.options.mutationKey,i))return!1}return!(a&&r.state.status!==a||s&&!s(r))}function EN(e,r){return((r==null?void 0:r.queryKeyHashFn)||Cd)(e)}function Cd(e){return JSON.stringify(e,(r,n)=>Vw(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function xp(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?!Object.keys(r).some(n=>!xp(e[n],r[n])):!1}function CM(e,r){if(e===r)return e;const n=z5(e)&&z5(r);if(n||Vw(e)&&Vw(r)){const a=n?e:Object.keys(e),s=a.length,i=n?r:Object.keys(r),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const m=n?d:i[d];(!n&&a.includes(m)||n)&&e[m]===void 0&&r[m]===void 0?(l[m]=void 0,c++):(l[m]=CM(e[m],r[m]),l[m]===e[m]&&e[m]!==void 0&&c++)}return s===o&&c===s?e:l}return r}function Vg(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}function z5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vw(e){if(!W5(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!W5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function W5(e){return Object.prototype.toString.call(e)==="[object Object]"}function LB(e){return new Promise(r=>{setTimeout(r,e)})}function zw(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?CM(e,r):r}function $B(e,r,n=0){const a=[...e,r];return n&&a.length>n?a.slice(1):a}function FB(e,r,n=0){const a=[r,...e];return n&&a.length>n?a.slice(0,-1):a}var PN=Symbol();function EM(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===PN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var td,Fl,zu,V4,UB=(V4=class extends Om{constructor(){super();Zt(this,td);Zt(this,Fl);Zt(this,zu);Tt(this,zu,r=>{if(!Sd&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,Fl)||this.setEventListener(be(this,zu))}onUnsubscribe(){var r;this.hasListeners()||((r=be(this,Fl))==null||r.call(this),Tt(this,Fl,void 0))}setEventListener(r){var n;Tt(this,zu,r),(n=be(this,Fl))==null||n.call(this),Tt(this,Fl,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){be(this,td)!==r&&(Tt(this,td,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof be(this,td)=="boolean"?be(this,td):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},td=new WeakMap,Fl=new WeakMap,zu=new WeakMap,V4),AN=new UB,Wu,Ul,Hu,z4,BB=(z4=class extends Om{constructor(){super();Zt(this,Wu,!0);Zt(this,Ul);Zt(this,Hu);Tt(this,Hu,r=>{if(!Sd&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){be(this,Ul)||this.setEventListener(be(this,Hu))}onUnsubscribe(){var r;this.hasListeners()||((r=be(this,Ul))==null||r.call(this),Tt(this,Ul,void 0))}setEventListener(r){var n;Tt(this,Hu,r),(n=be(this,Ul))==null||n.call(this),Tt(this,Ul,r(this.setOnline.bind(this)))}setOnline(r){be(this,Wu)!==r&&(Tt(this,Wu,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return be(this,Wu)}},Wu=new WeakMap,Ul=new WeakMap,Hu=new WeakMap,z4),zg=new BB;function Ww(){let e,r;const n=new Promise((s,i)=>{e=s,r=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),r(s)},n}function GB(e){return Math.min(1e3*2**e,3e4)}function PM(e){return(e??"online")==="online"?zg.isOnline():!0}var AM=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Vv(e){return e instanceof AM}function MM(e){let r=!1,n=0,a=!1,s;const i=Ww(),o=g=>{var v;a||(p(new AM(g)),(v=e.abort)==null||v.call(e))},l=()=>{r=!0},c=()=>{r=!1},d=()=>AN.isFocused()&&(e.networkMode==="always"||zg.isOnline())&&e.canRun(),m=()=>PM(e.networkMode)&&e.canRun(),h=g=>{var v;a||(a=!0,(v=e.onSuccess)==null||v.call(e,g),s==null||s(),i.resolve(g))},p=g=>{var v;a||(a=!0,(v=e.onError)==null||v.call(e,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var v;s=y=>{(a||d())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;s=void 0,a||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(a)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var P;if(a)return;const b=e.retry??(Sd?0:3),w=e.retryDelay??GB,S=typeof w=="function"?w(n,y):w,N=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(r||!N){p(y);return}n++,(P=e.onFail)==null||P.call(e,n,y),LB(S).then(()=>d()?void 0:f()).then(()=>{r?p(y):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?x():f().then(x),i)}}function VB(){let e=[],r=0,n=l=>{l()},a=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{r?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{a(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;r++;try{c=l()}finally{r--,r||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var Ca=VB(),rd,W4,TM=(W4=class{constructor(){Zt(this,rd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gw(this.gcTime)&&Tt(this,rd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sd?1/0:5*60*1e3))}clearGcTimeout(){be(this,rd)&&(clearTimeout(be(this,rd)),Tt(this,rd,void 0))}},rd=new WeakMap,W4),Ku,qu,ki,ss,af,nd,Wi,Vo,H4,zB=(H4=class extends TM{constructor(r){super();Zt(this,Wi);Zt(this,Ku);Zt(this,qu);Zt(this,ki);Zt(this,ss);Zt(this,af);Zt(this,nd);Tt(this,nd,!1),Tt(this,af,r.defaultOptions),this.setOptions(r.options),this.observers=[],Tt(this,ki,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Tt(this,Ku,WB(this.options)),this.state=r.state??be(this,Ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=be(this,ss))==null?void 0:r.promise}setOptions(r){this.options={...be(this,af),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,ki).remove(this)}setData(r,n){const a=zw(this.state.data,r,this.options);return Ar(this,Wi,Vo).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Ar(this,Wi,Vo).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=be(this,ss))==null?void 0:a.promise;return(s=be(this,ss))==null||s.cancel(r),n?n.then(Si).catch(Si):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,Ku))}isActive(){return this.observers.some(r=>qi(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===PN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!SM(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=be(this,ss))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=be(this,ss))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),be(this,ki).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(be(this,ss)&&(be(this,nd)?be(this,ss).cancel({revert:!0}):be(this,ss).cancelRetry()),this.scheduleGc()),be(this,ki).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ar(this,Wi,Vo).call(this,{type:"invalidate"})}fetch(r,n){var c,d,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,ss))return be(this,ss).continueRetry(),be(this,ss).promise}if(r&&this.setOptions(r),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const a=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Tt(this,nd,!0),a.signal)})},i=()=>{const h=EM(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return s(p),Tt(this,nd,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Tt(this,qu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Ar(this,Wi,Vo).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const l=h=>{var p,f,x,g;Vv(h)&&h.silent||Ar(this,Wi,Vo).call(this,{type:"error",error:h}),Vv(h)||((f=(p=be(this,ki).config).onError)==null||f.call(p,h,this),(g=(x=be(this,ki).config).onSettled)==null||g.call(x,this.state.data,h,this)),this.scheduleGc()};return Tt(this,ss,MM({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:h=>{var p,f,x,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){l(v);return}(f=(p=be(this,ki).config).onSuccess)==null||f.call(p,h,this),(g=(x=be(this,ki).config).onSettled)==null||g.call(x,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{Ar(this,Wi,Vo).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ar(this,Wi,Vo).call(this,{type:"pause"})},onContinue:()=>{Ar(this,Wi,Vo).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),be(this,ss).start()}},Ku=new WeakMap,qu=new WeakMap,ki=new WeakMap,ss=new WeakMap,af=new WeakMap,nd=new WeakMap,Wi=new WeakSet,Vo=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...IM(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return Vv(s)&&s.revert&&be(this,qu)?{...be(this,qu),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),Ca.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),be(this,ki).notify({query:this,type:"updated",action:r})})},H4);function IM(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PM(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WB(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var po,K4,HB=(K4=class extends Om{constructor(r={}){super();Zt(this,po);this.config=r,Tt(this,po,new Map)}build(r,n,a){const s=n.queryKey,i=n.queryHash??EN(s,n);let o=this.get(i);return o||(o=new zB({cache:this,queryKey:s,queryHash:i,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){be(this,po).has(r.queryHash)||(be(this,po).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=be(this,po).get(r.queryHash);n&&(r.destroy(),n===r&&be(this,po).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Ca.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return be(this,po).get(r)}getAll(){return[...be(this,po).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>G5(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>G5(r,a)):n}notify(r){Ca.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){Ca.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Ca.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},po=new WeakMap,K4),fo,ys,ad,go,Pl,q4,KB=(q4=class extends TM{constructor(r){super();Zt(this,go);Zt(this,fo);Zt(this,ys);Zt(this,ad);this.mutationId=r.mutationId,Tt(this,ys,r.mutationCache),Tt(this,fo,[]),this.state=r.state||_M(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){be(this,fo).includes(r)||(be(this,fo).push(r),this.clearGcTimeout(),be(this,ys).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Tt(this,fo,be(this,fo).filter(n=>n!==r)),this.scheduleGc(),be(this,ys).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){be(this,fo).length||(this.state.status==="pending"?this.scheduleGc():be(this,ys).remove(this))}continue(){var r;return((r=be(this,ad))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,i,o,l,c,d,m,h,p,f,x,g,v,y,b,w,S,N,P,C;Tt(this,ad,MM({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(I,T)=>{Ar(this,go,Pl).call(this,{type:"failed",failureCount:I,error:T})},onPause:()=>{Ar(this,go,Pl).call(this,{type:"pause"})},onContinue:()=>{Ar(this,go,Pl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,ys).canRun(this)}));const n=this.state.status==="pending",a=!be(this,ad).canStart();try{if(!n){Ar(this,go,Pl).call(this,{type:"pending",variables:r,isPaused:a}),await((i=(s=be(this,ys).config).onMutate)==null?void 0:i.call(s,r,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,r));T!==this.state.context&&Ar(this,go,Pl).call(this,{type:"pending",context:T,variables:r,isPaused:a})}const I=await be(this,ad).start();return await((d=(c=be(this,ys).config).onSuccess)==null?void 0:d.call(c,I,r,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,I,r,this.state.context)),await((f=(p=be(this,ys).config).onSettled)==null?void 0:f.call(p,I,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,I,null,r,this.state.context)),Ar(this,go,Pl).call(this,{type:"success",data:I}),I}catch(I){try{throw await((y=(v=be(this,ys).config).onError)==null?void 0:y.call(v,I,r,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,I,r,this.state.context)),await((N=(S=be(this,ys).config).onSettled)==null?void 0:N.call(S,void 0,I,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,I,r,this.state.context)),I}finally{Ar(this,go,Pl).call(this,{type:"error",error:I})}}finally{be(this,ys).runNext(this)}}},fo=new WeakMap,ys=new WeakMap,ad=new WeakMap,go=new WeakSet,Pl=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ca.batch(()=>{be(this,fo).forEach(a=>{a.onMutationUpdate(r)}),be(this,ys).notify({mutation:this,type:"updated",action:r})})},q4);function _M(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,sf,Y4,qB=(Y4=class extends Om{constructor(r={}){super();Zt(this,Xs);Zt(this,sf);this.config=r,Tt(this,Xs,new Map),Tt(this,sf,Date.now())}build(r,n,a){const s=new KB({mutationCache:this,mutationId:++Jf(this,sf)._,options:r.defaultMutationOptions(n),state:a});return this.add(s),s}add(r){const n=f0(r),a=be(this,Xs).get(n)??[];a.push(r),be(this,Xs).set(n,a),this.notify({type:"added",mutation:r})}remove(r){var a;const n=f0(r);if(be(this,Xs).has(n)){const s=(a=be(this,Xs).get(n))==null?void 0:a.filter(i=>i!==r);s&&(s.length===0?be(this,Xs).delete(n):be(this,Xs).set(n,s))}this.notify({type:"removed",mutation:r})}canRun(r){var a;const n=(a=be(this,Xs).get(f0(r)))==null?void 0:a.find(s=>s.state.status==="pending");return!n||n===r}runNext(r){var a;const n=(a=be(this,Xs).get(f0(r)))==null?void 0:a.find(s=>s!==r&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ca.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}getAll(){return[...be(this,Xs).values()].flat()}find(r){const n={exact:!0,...r};return this.getAll().find(a=>V5(n,a))}findAll(r={}){return this.getAll().filter(n=>V5(r,n))}notify(r){Ca.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return Ca.batch(()=>Promise.all(r.map(n=>n.continue().catch(Si))))}},Xs=new WeakMap,sf=new WeakMap,Y4);function f0(e){var r;return((r=e.options.scope)==null?void 0:r.id)??String(e.mutationId)}function H5(e){return{onFetch:(r,n)=>{var m,h,p,f,x;const a=r.options,s=(p=(h=(m=r.fetchOptions)==null?void 0:m.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=r.state.data)==null?void 0:f.pages)||[],o=((x=r.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(r.signal.aborted?g=!0:r.signal.addEventListener("abort",()=>{g=!0}),r.signal)})},y=EM(r.options,r.fetchOptions),b=async(w,S,N)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const P={queryKey:r.queryKey,pageParam:S,direction:N?"backward":"forward",meta:r.options.meta};v(P);const C=await y(P),{maxPages:I}=r.options,T=N?FB:$B;return{pages:T(w.pages,C,I),pageParams:T(w.pageParams,S,I)}};if(s&&i.length){const w=s==="backward",S=w?YB:K5,N={pages:i,pageParams:o},P=S(a,N);l=await b(N,P,w)}else{const w=e??i.length;do{const S=c===0?o[0]??a.initialPageParam:K5(a,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<w)}return l};r.options.persister?r.fetchFn=()=>{var g,v;return(v=(g=r.options).persister)==null?void 0:v.call(g,d,{queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function K5(e,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,n[a],n):void 0}function YB(e,{pages:r,pageParams:n}){var a;return r.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,r[0],r,n[0],n):void 0}var Qn,Bl,Gl,Yu,Qu,Vl,Ju,Xu,Q4,QB=(Q4=class{constructor(e={}){Zt(this,Qn);Zt(this,Bl);Zt(this,Gl);Zt(this,Yu);Zt(this,Qu);Zt(this,Vl);Zt(this,Ju);Zt(this,Xu);Tt(this,Qn,e.queryCache||new HB),Tt(this,Bl,e.mutationCache||new qB),Tt(this,Gl,e.defaultOptions||{}),Tt(this,Yu,new Map),Tt(this,Qu,new Map),Tt(this,Vl,0)}mount(){Jf(this,Vl)._++,be(this,Vl)===1&&(Tt(this,Ju,AN.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Qn).onFocus())})),Tt(this,Xu,zg.subscribe(async e=>{e&&(await this.resumePausedMutations(),be(this,Qn).onOnline())})))}unmount(){var e,r;Jf(this,Vl)._--,be(this,Vl)===0&&((e=be(this,Ju))==null||e.call(this),Tt(this,Ju,void 0),(r=be(this,Xu))==null||r.call(this),Tt(this,Xu,void 0))}isFetching(e){return be(this,Qn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return be(this,Bl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=be(this,Qn).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.getQueryData(e.queryKey);if(r===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),a=be(this,Qn).build(this,n);return e.revalidateIfStale&&a.isStaleByTime(_u(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(r)}}getQueriesData(e){return be(this,Qn).findAll(e).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(e,r,n){const a=this.defaultQueryOptions({queryKey:e}),s=be(this,Qn).get(a.queryHash),i=s==null?void 0:s.state.data,o=OB(r,i);if(o!==void 0)return be(this,Qn).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return Ca.batch(()=>be(this,Qn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=be(this,Qn).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=be(this,Qn);Ca.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=be(this,Qn),a={type:"active",...e};return Ca.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(a,r)))}cancelQueries(e={},r={}){const n={revert:!0,...r},a=Ca.batch(()=>be(this,Qn).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(Si).catch(Si)}invalidateQueries(e={},r={}){return Ca.batch(()=>{if(be(this,Qn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,r)})}refetchQueries(e={},r){const n={...r,cancelRefetch:(r==null?void 0:r.cancelRefetch)??!0},a=Ca.batch(()=>be(this,Qn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Si)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Si)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=be(this,Qn).build(this,r);return n.isStaleByTime(_u(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Si).catch(Si)}fetchInfiniteQuery(e){return e.behavior=H5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Si).catch(Si)}ensureInfiniteQueryData(e){return e.behavior=H5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return zg.isOnline()?be(this,Bl).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,Qn)}getMutationCache(){return be(this,Bl)}getDefaultOptions(){return be(this,Gl)}setDefaultOptions(e){Tt(this,Gl,e)}setQueryDefaults(e,r){be(this,Yu).set(Cd(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...be(this,Yu).values()];let n={};return r.forEach(a=>{xp(e,a.queryKey)&&(n={...n,...a.defaultOptions})}),n}setMutationDefaults(e,r){be(this,Qu).set(Cd(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...be(this,Qu).values()];let n={};return r.forEach(a=>{xp(e,a.mutationKey)&&(n={...n,...a.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...be(this,Gl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=EN(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.enabled!==!0&&r.queryFn===PN&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...be(this,Gl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){be(this,Qn).clear(),be(this,Bl).clear()}},Qn=new WeakMap,Bl=new WeakMap,Gl=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Vl=new WeakMap,Ju=new WeakMap,Xu=new WeakMap,Q4),Ls,Ur,of,vs,sd,Zu,zl,xo,lf,em,tm,id,od,Wl,rm,en,Eh,Hw,Kw,qw,Yw,Qw,Jw,Xw,DM,J4,JB=(J4=class extends Om{constructor(r,n){super();Zt(this,en);Zt(this,Ls);Zt(this,Ur);Zt(this,of);Zt(this,vs);Zt(this,sd);Zt(this,Zu);Zt(this,zl);Zt(this,xo);Zt(this,lf);Zt(this,em);Zt(this,tm);Zt(this,id);Zt(this,od);Zt(this,Wl);Zt(this,rm,new Set);this.options=n,Tt(this,Ls,r),Tt(this,xo,null),Tt(this,zl,Ww()),this.options.experimental_prefetchInRender||be(this,zl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(be(this,Ur).addObserver(this),q5(be(this,Ur),this.options)?Ar(this,en,Eh).call(this):this.updateResult(),Ar(this,en,Yw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zw(be(this,Ur),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zw(be(this,Ur),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ar(this,en,Qw).call(this),Ar(this,en,Jw).call(this),be(this,Ur).removeObserver(this)}setOptions(r,n){const a=this.options,s=be(this,Ur);if(this.options=be(this,Ls).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qi(this.options.enabled,be(this,Ur))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ar(this,en,Xw).call(this),be(this,Ur).setOptions(this.options),a._defaulted&&!Vg(this.options,a)&&be(this,Ls).getQueryCache().notify({type:"observerOptionsUpdated",query:be(this,Ur),observer:this});const i=this.hasListeners();i&&Y5(be(this,Ur),s,this.options,a)&&Ar(this,en,Eh).call(this),this.updateResult(n),i&&(be(this,Ur)!==s||qi(this.options.enabled,be(this,Ur))!==qi(a.enabled,be(this,Ur))||_u(this.options.staleTime,be(this,Ur))!==_u(a.staleTime,be(this,Ur)))&&Ar(this,en,Hw).call(this);const o=Ar(this,en,Kw).call(this);i&&(be(this,Ur)!==s||qi(this.options.enabled,be(this,Ur))!==qi(a.enabled,be(this,Ur))||o!==be(this,Wl))&&Ar(this,en,qw).call(this,o)}getOptimisticResult(r){const n=be(this,Ls).getQueryCache().build(be(this,Ls),r),a=this.createResult(n,r);return ZB(this,a)&&(Tt(this,vs,a),Tt(this,Zu,this.options),Tt(this,sd,be(this,Ur).state)),a}getCurrentResult(){return be(this,vs)}trackResult(r,n){const a={};return Object.keys(r).forEach(s=>{Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),r[s])})}),a}trackProp(r){be(this,rm).add(r)}getCurrentQuery(){return be(this,Ur)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=be(this,Ls).defaultQueryOptions(r),a=be(this,Ls).getQueryCache().build(be(this,Ls),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return Ar(this,en,Eh).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),be(this,vs)))}createResult(r,n){var I;const a=be(this,Ur),s=this.options,i=be(this,vs),o=be(this,sd),l=be(this,Zu),d=r!==a?r.state:be(this,of),{state:m}=r;let h={...m},p=!1,f;if(n._optimisticResults){const T=this.hasListeners(),_=!T&&q5(r,n),k=T&&Y5(r,a,n,s);(_||k)&&(h={...h,...IM(m.data,r.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===be(this,lf))f=be(this,em);else try{Tt(this,lf,n.select),f=n.select(h.data),f=zw(i==null?void 0:i.data,f,n),Tt(this,em,f),Tt(this,xo,null)}catch(T){Tt(this,xo,T)}else f=h.data;if(n.placeholderData!==void 0&&f===void 0&&v==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((I=be(this,tm))==null?void 0:I.state.data,be(this,tm)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),Tt(this,xo,null)}catch(_){Tt(this,xo,_)}T!==void 0&&(v="success",f=zw(i==null?void 0:i.data,T,n),p=!0)}be(this,xo)&&(x=be(this,xo),f=be(this,em),g=Date.now(),v="error");const y=h.fetchStatus==="fetching",b=v==="pending",w=v==="error",S=b&&y,N=f!==void 0,C={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:w,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&N,isStale:MN(r,n),refetch:this.refetch,promise:be(this,zl)};if(this.options.experimental_prefetchInRender){const T=A=>{C.status==="error"?A.reject(C.error):C.data!==void 0&&A.resolve(C.data)},_=()=>{const A=Tt(this,zl,C.promise=Ww());T(A)},k=be(this,zl);switch(k.status){case"pending":r.queryHash===a.queryHash&&T(k);break;case"fulfilled":(C.status==="error"||C.data!==k.value)&&_();break;case"rejected":(C.status!=="error"||C.error!==k.reason)&&_();break}}return C}updateResult(r){const n=be(this,vs),a=this.createResult(be(this,Ur),this.options);if(Tt(this,sd,be(this,Ur).state),Tt(this,Zu,this.options),be(this,sd).data!==void 0&&Tt(this,tm,be(this,Ur)),Vg(a,n))return;Tt(this,vs,a);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!be(this,rm).size)return!0;const c=new Set(l??be(this,rm));return this.options.throwOnError&&c.add("error"),Object.keys(be(this,vs)).some(d=>{const m=d;return be(this,vs)[m]!==n[m]&&c.has(m)})};(r==null?void 0:r.listeners)!==!1&&i()&&(s.listeners=!0),Ar(this,en,DM).call(this,{...s,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ar(this,en,Yw).call(this)}},Ls=new WeakMap,Ur=new WeakMap,of=new WeakMap,vs=new WeakMap,sd=new WeakMap,Zu=new WeakMap,zl=new WeakMap,xo=new WeakMap,lf=new WeakMap,em=new WeakMap,tm=new WeakMap,id=new WeakMap,od=new WeakMap,Wl=new WeakMap,rm=new WeakMap,en=new WeakSet,Eh=function(r){Ar(this,en,Xw).call(this);let n=be(this,Ur).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(Si)),n},Hw=function(){Ar(this,en,Qw).call(this);const r=_u(this.options.staleTime,be(this,Ur));if(Sd||be(this,vs).isStale||!Gw(r))return;const a=SM(be(this,vs).dataUpdatedAt,r)+1;Tt(this,id,setTimeout(()=>{be(this,vs).isStale||this.updateResult()},a))},Kw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(be(this,Ur)):this.options.refetchInterval)??!1},qw=function(r){Ar(this,en,Jw).call(this),Tt(this,Wl,r),!(Sd||qi(this.options.enabled,be(this,Ur))===!1||!Gw(be(this,Wl))||be(this,Wl)===0)&&Tt(this,od,setInterval(()=>{(this.options.refetchIntervalInBackground||AN.isFocused())&&Ar(this,en,Eh).call(this)},be(this,Wl)))},Yw=function(){Ar(this,en,Hw).call(this),Ar(this,en,qw).call(this,Ar(this,en,Kw).call(this))},Qw=function(){be(this,id)&&(clearTimeout(be(this,id)),Tt(this,id,void 0))},Jw=function(){be(this,od)&&(clearInterval(be(this,od)),Tt(this,od,void 0))},Xw=function(){const r=be(this,Ls).getQueryCache().build(be(this,Ls),this.options);if(r===be(this,Ur))return;const n=be(this,Ur);Tt(this,Ur,r),Tt(this,of,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},DM=function(r){Ca.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(be(this,vs))}),be(this,Ls).getQueryCache().notify({query:be(this,Ur),type:"observerResultsUpdated"})})},J4);function XB(e,r){return qi(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function q5(e,r){return XB(e,r)||e.state.data!==void 0&&Zw(e,r,r.refetchOnMount)}function Zw(e,r,n){if(qi(r.enabled,e)!==!1){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&MN(e,r)}return!1}function Y5(e,r,n,a){return(e!==r||qi(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&MN(e,n)}function MN(e,r){return qi(r.enabled,e)!==!1&&e.isStaleByTime(_u(r.staleTime,e))}function ZB(e,r){return!Vg(e.getCurrentResult(),r)}var Hl,Kl,$s,qo,cl,eg,e1,X4,e7=(X4=class extends Om{constructor(n,a){super();Zt(this,cl);Zt(this,Hl);Zt(this,Kl);Zt(this,$s);Zt(this,qo);Tt(this,Hl,n),this.setOptions(a),this.bindMethods(),Ar(this,cl,eg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=be(this,Hl).defaultMutationOptions(n),Vg(this.options,a)||be(this,Hl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:be(this,$s),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Cd(a.mutationKey)!==Cd(this.options.mutationKey)?this.reset():((s=be(this,$s))==null?void 0:s.state.status)==="pending"&&be(this,$s).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=be(this,$s))==null||n.removeObserver(this)}onMutationUpdate(n){Ar(this,cl,eg).call(this),Ar(this,cl,e1).call(this,n)}getCurrentResult(){return be(this,Kl)}reset(){var n;(n=be(this,$s))==null||n.removeObserver(this),Tt(this,$s,void 0),Ar(this,cl,eg).call(this),Ar(this,cl,e1).call(this)}mutate(n,a){var s;return Tt(this,qo,a),(s=be(this,$s))==null||s.removeObserver(this),Tt(this,$s,be(this,Hl).getMutationCache().build(be(this,Hl),this.options)),be(this,$s).addObserver(this),be(this,$s).execute(n)}},Hl=new WeakMap,Kl=new WeakMap,$s=new WeakMap,qo=new WeakMap,cl=new WeakSet,eg=function(){var a;const n=((a=be(this,$s))==null?void 0:a.state)??_M();Tt(this,Kl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},e1=function(n){Ca.batch(()=>{var a,s,i,o,l,c,d,m;if(be(this,qo)&&this.hasListeners()){const h=be(this,Kl).variables,p=be(this,Kl).context;(n==null?void 0:n.type)==="success"?((s=(a=be(this,qo)).onSuccess)==null||s.call(a,n.data,h,p),(o=(i=be(this,qo)).onSettled)==null||o.call(i,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((c=(l=be(this,qo)).onError)==null||c.call(l,n.error,h,p),(m=(d=be(this,qo)).onSettled)==null||m.call(d,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(be(this,Kl))})})},X4),RM=u.createContext(void 0),Ma=e=>{const r=u.useContext(RM);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},t7=({client:e,children:r})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(RM.Provider,{value:e,children:r})),OM=u.createContext(!1),r7=()=>u.useContext(OM);OM.Provider;function n7(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var a7=u.createContext(n7()),s7=()=>u.useContext(a7);function LM(e,r){return typeof e=="function"?e(...r):!!e}function t1(){}var i7=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},o7=e=>{u.useEffect(()=>{e.clearReset()},[e])},l7=({result:e,errorResetBoundary:r,throwOnError:n,query:a})=>e.isError&&!r.isReset()&&!e.isFetching&&a&&LM(n,[e.error,a]),c7=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},d7=(e,r)=>e.isLoading&&e.isFetching&&!r,u7=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,Q5=(e,r,n)=>r.fetchOptimistic(e).catch(()=>{n.clearReset()});function m7(e,r,n){var m,h,p,f,x;const a=Ma(),s=r7(),i=s7(),o=a.defaultQueryOptions(e);(h=(m=a.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||h.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",c7(o),i7(o,i),o7(i);const l=!a.getQueryCache().get(o.queryHash),[c]=u.useState(()=>new r(a,o)),d=c.getOptimisticResult(o);if(u.useSyncExternalStore(u.useCallback(g=>{const v=s?t1:c.subscribe(Ca.batchCalls(g));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),u7(o,d))throw Q5(o,c,i);if(l7({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw d.error;if((f=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||f.call(p,o,d),o.experimental_prefetchInRender&&!Sd&&d7(d,s)){const g=l?Q5(o,c,i):(x=a.getQueryCache().get(o.queryHash))==null?void 0:x.promise;g==null||g.catch(t1).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function dt(e,r){return m7(e,JB)}function wt(e,r){const n=Ma(),[a]=u.useState(()=>new e7(n,e));u.useEffect(()=>{a.setOptions(e)},[a,e]);const s=u.useSyncExternalStore(u.useCallback(o=>a.subscribe(Ca.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=u.useCallback((o,l)=>{a.mutate(o,l).catch(t1)},[a]);if(s.error&&LM(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const _t=(e,r)=>{try{localStorage.setItem(e,r)}catch{console.log(`[STORAGE] localStorage quota exceeded, using sessionStorage fallback for ${e}`);try{sessionStorage.setItem(e,r)}catch(a){console.warn(`[STORAGE] Both localStorage and sessionStorage failed: ${a}`)}}},Mr=e=>{try{const r=localStorage.getItem(e);return r!==null?r:sessionStorage.getItem(e)}catch(r){return console.warn(`[STORAGE] Error retrieving ${e} from storage: ${r}`),null}},ti=e=>{try{localStorage.removeItem(e)}catch(r){console.warn(`[STORAGE] Error removing ${e} from localStorage: ${r}`)}try{sessionStorage.removeItem(e)}catch(r){console.warn(`[STORAGE] Error removing ${e} from sessionStorage: ${r}`)}},h7=()=>{const e=new Set;try{for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&e.add(n)}}catch(r){console.warn(`[STORAGE] Error accessing localStorage keys: ${r}`)}try{for(let r=0;r<sessionStorage.length;r++){const n=sessionStorage.key(r);n&&e.add(n)}}catch(r){console.warn(`[STORAGE] Error accessing sessionStorage keys: ${r}`)}return Array.from(e)},Zo=(e,r)=>{try{const n=JSON.stringify(r);_t(e,n)}catch(n){console.warn(`[STORAGE] Failed to serialize or save object at ${e}: ${n}`)}},bs=(e,r)=>{try{const n=Mr(e);return n===null?r??null:JSON.parse(n)}catch(n){return console.warn(`[STORAGE] Failed to retrieve or parse object at ${e}: ${n}`),null}},zv=(e={})=>{try{const{keyPattern:r,olderThan:n,maxItems:a,deleteAll:s,messageTrackingOnly:i,callback:o}=e;(i?[localStorage,sessionStorage]:[localStorage]).forEach(c=>{const d=[];for(let h=0;h<c.length;h++){const p=c.key(h);p&&d.push(p)}if(i){const h=d.filter(p=>p.startsWith("processed_message_")||p.startsWith("counted_message_"));o?h.forEach(p=>{o(p,c)&&c.removeItem(p)}):h.forEach(p=>c.removeItem(p));return}if(!r&&!s&&!o)return;const m=r?d.filter(h=>r.split("|").some(f=>h.includes(f))):d;if(o){m.forEach(h=>{o(h,c)&&c.removeItem(h)});return}if(s){m.forEach(h=>c.removeItem(h));return}if(n){const h=Date.now(),p=[];m.forEach(f=>{try{const x=f.split("_"),g=parseInt(x[x.length-1],10);if(!isNaN(g)&&g>1e12){p.push({key:f,timestamp:g});return}const v=c.getItem(f);if(v)try{const y=JSON.parse(v);if(y.timestamp&&!isNaN(y.timestamp)){p.push({key:f,timestamp:y.timestamp});return}}catch{}p.push({key:f,timestamp:h})}catch(x){console.warn(`[STORAGE] Error processing key ${f}:`,x)}}),p.filter(f=>h-f.timestamp>n).forEach(f=>c.removeItem(f.key)),a&&a>0&&(p.sort((f,x)=>x.timestamp-f.timestamp),p.length>a&&p.slice(a).forEach(f=>c.removeItem(f.key)))}})}catch(r){console.warn("[STORAGE] Error during cleanup:",r)}};async function $M(e){if(!e.ok){const r=e.headers.get("content-type");try{if(r&&r.includes("application/json")){const a=await e.json();throw new Error(a.message||`API error: ${e.status}`)}const n=await e.text();throw n.includes("<!DOCTYPE html>")||n.includes("<html>")?(console.error(`Server returned HTML instead of JSON: ${e.url} status: ${e.status}`,n.substring(0,200)),new Error(`Server error (${e.status}). Please try again later.`)):new Error(`${e.status}: ${n.substring(0,100)||e.statusText}`)}catch(n){throw n instanceof Error?n:new Error(`${e.status}: Failed to parse error response`)}}}async function ze(e,r){const n=(r==null?void 0:r.method)||"GET";let a=0;const s=2;async function i(){const o=r==null?void 0:r.data;if(o&&(e.includes("/messages")||e.includes("/interests")||e.includes("/global-interests"))&&console.log(`Sending data to ${e}:`,{type:typeof o,dataPreview:JSON.stringify(o).substring(0,100)+"..."}),e.includes("/messages")){if(o&&typeof o=="object"&&"content"in o&&(o.content===void 0||o.content===null))throw console.error("Warning: content field is null or undefined:",o),new Error("Message content cannot be empty")}else if((e.includes("/interests")||e.includes("/global-interests"))&&o&&typeof o=="object"&&"interest"in o&&(!o.interest||typeof o.interest!="string"))throw console.error("Warning: invalid interest data:",o),new Error("Interest data is invalid");try{const l=await fetch(e,{method:n,headers:{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},body:o?JSON.stringify(o):void 0,credentials:"include"});if(console.log(`${n} request to ${e} completed with status: ${l.status}`),l.status===401&&a<s){a++,console.log(`Auth failed for ${e}, attempt ${a} - trying to refresh session`);try{const c=await fetch("/api/user",{method:"GET",credentials:"include",cache:"no-store",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(c.ok)return console.log("Session refreshed successfully, retrying original request"),await new Promise(d=>setTimeout(d,100)),i();console.error("Session refresh failed:",await c.text())}catch(c){console.error("Error refreshing session:",c)}}if(!l.ok){const c=l.statusText;try{const d=await l.clone().text();console.error(`API Error: ${n} ${e} returned ${l.status} ${c}, body: ${d}`)}catch{console.error(`API Error: ${n} ${e} returned ${l.status} ${c}`)}}return await $M(l),l}catch(l){throw console.error(`Network error during ${n} request to ${e}:`,l),l instanceof TypeError&&l.message.includes("Failed to fetch")?new Error("Network connection issue. Please check your internet connection and try again."):l instanceof TypeError&&l.message.includes("NetworkError")?new Error("Network error occurred. Please try again in a moment."):new Error(`${l instanceof Error?l.message:"Failed to connect to server"}`)}}return i()}const TN=({on401:e})=>async({queryKey:r})=>{let n=0;const a=2,s=r[0];async function i(){const l=await fetch(s,{method:"GET",credentials:"include",cache:"no-store",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(l.status===401&&e==="throw"&&n<a){n++,console.log(`Auth failed for ${s}, attempt ${n} - trying to refresh session`);try{const c=await fetch("/api/user",{method:"GET",credentials:"include",cache:"no-store",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(c.ok)return console.log("Session refreshed successfully, retrying original request"),await new Promise(d=>setTimeout(d,100)),i();console.error("Failed to refresh session:",await c.text())}catch(c){console.error("Error refreshing session:",c)}}if(!l.ok)try{const c=await l.clone().text();console.error(`Query Error: GET ${s} returned ${l.status} ${l.statusText}, body: ${c}`)}catch{console.error(`Query Error: GET ${s} returned ${l.status} ${l.statusText}`)}return l}const o=await i();if(e==="returnNull"&&o.status===401)return console.log(`Returning null for unauthorized query: ${s}`),null;await $M(o);try{const l=o.headers.get("content-type");if(l&&l.includes("application/json"))return await o.json();{const c=await o.text();return console.warn(`Expected JSON but got non-JSON successful response from ${s}:`,c.substring(0,200)),{success:!0,message:"Operation completed successfully",warning:"Server returned non-JSON response"}}}catch(l){console.error(`Error parsing JSON response from ${s}:`,l);try{const c=await o.clone().text();if(console.error(`Raw response that failed to parse: ${c.substring(0,300)}`),c.includes("<!DOCTYPE html>")||c.includes("<html>"))throw new Error("Server returned HTML instead of JSON. This usually indicates a server error.")}catch(c){console.error("Failed to get raw text:",c)}throw new Error(`Failed to parse response from ${s}: ${(l==null?void 0:l.message)||"Unknown error"}`)}};function FM(){return console.log("[PERSISTER] Creating message persistence layer"),{persistQuery:(e,r)=>{if(e.includes("/api/messages")&&r)try{const n=`rq_persist_${e.replace(/[\[\],:"]/g,"_")}`,a={data:r,timestamp:Date.now()};try{Zo(n,a),console.log(`[PERSIST-CACHE] Saved query data to storage for: ${e}`)}catch(s){console.error("[PERSIST-CACHE] Failed to save to storage:",s)}}catch(n){console.error("[PERSIST-CACHE] Failed to persist query data:",n)}return Promise.resolve()},restoreQuery:e=>{if(e.includes("/api/messages"))try{const r=`rq_persist_${e.replace(/[\[\],:"]/g,"_")}`,n=bs(r);if(n)return console.log(`[PERSIST-CACHE] Restored query data from storage for: ${e}`),Promise.resolve(n.data)}catch(r){console.error("[PERSIST-CACHE] Failed to restore query data:",r)}return Promise.resolve(void 0)},removeQuery:e=>{if(e.includes("/api/messages"))try{const r=`rq_persist_${e.replace(/[\[\],:"]/g,"_")}`;ti(r)}catch(r){console.error("[PERSIST-CACHE] Failed to remove query data:",r)}return Promise.resolve()}}}function p7(e){const r=FM();return e.getQueryCache().subscribe(n=>{if(n.type==="added"||n.type==="updated"){const a=n.query.queryKey;if(a&&Array.isArray(a)&&a.length>0&&a[0].toString().includes("/api/messages")&&n.query.state.data){const s=JSON.stringify(a);r.persistQuery(s,n.query.state.data)}}})}const me=new QB({defaultOptions:{queries:{queryFn:TN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,staleTime:60*1e3,gcTime:5*60*1e3,retry:(e,r)=>r instanceof Error&&r.message.includes("Failed to fetch")?(console.log("[QUERY-CLIENT] Network issue detected, not retrying to prevent overlay spam"),!1):e<1,retryDelay:300,throwOnError:!1},mutations:{retry:(e,r)=>r instanceof Error&&r.message.includes("Failed to fetch")?!1:e<1,retryDelay:300,throwOnError:!1}}});FM();setTimeout(()=>{try{let e=[],r=[];try{e=Object.keys(sessionStorage).filter(a=>a.startsWith("rq_persist_"))}catch(a){console.warn("[PERSIST-CACHE] Error accessing sessionStorage:",a)}try{r=Object.keys(localStorage).filter(a=>a.startsWith("rq_persist_"))}catch(a){console.warn("[PERSIST-CACHE] Error accessing localStorage:",a)}const n=Array.from(new Set([...r,...e]));console.log(`[PERSIST-CACHE] Found ${r.length} keys in localStorage and ${e.length} keys in sessionStorage`),n.forEach(a=>{try{const s=a.replace("rq_persist_","").replace(/_/g,"");let i;try{i=JSON.parse(s.replace(/'/g,'"'))}catch{const o=s.match(/apimessages(\d+)/);o&&o[1]&&(i=["/api/messages",parseInt(o[1],10)])}if(i){const o=bs(a);o&&(me.setQueryData(i,o.data),console.log("[PERSIST-CACHE] Restored query from storage for:",i))}}catch(s){console.error(`[PERSIST-CACHE] Error restoring from ${a}:`,s)}}),p7(me),console.log("[PERSIST-CACHE] Cache persistence system initialized")}catch(e){console.error("[PERSIST-CACHE] Failed to initialize persistence system:",e)}},100);const UM=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:ze,getQueryFn:TN,queryClient:me},Symbol.toStringTag,{value:"Module"})),f7=1,g7=1e6;let Wv=0;function x7(){return Wv=(Wv+1)%Number.MAX_SAFE_INTEGER,Wv.toString()}const Hv=new Map,J5=e=>{if(Hv.has(e))return;const r=setTimeout(()=>{Hv.delete(e),Wh({type:"REMOVE_TOAST",toastId:e})},g7);Hv.set(e,r)},y7=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,f7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?J5(n):e.toasts.forEach(a=>{J5(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},tg=[];let rg={toasts:[]};function Wh(e){rg=y7(rg,e),tg.forEach(r=>{r(rg)})}function mn({...e}){const r=x7(),n=s=>Wh({type:"UPDATE_TOAST",toast:{...s,id:r}}),a=()=>Wh({type:"DISMISS_TOAST",toastId:r});return Wh({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:n}}function Wr(){const[e,r]=u.useState(rg);return u.useEffect(()=>(tg.push(r),()=>{const n=tg.indexOf(r);n>-1&&tg.splice(n,1)}),[e]),{...e,toast:mn,dismiss:n=>Wh({type:"DISMISS_TOAST",toastId:n})}}function it(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function v7(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function iy(...e){return r=>e.forEach(n=>v7(n,r))}function sr(...e){return u.useCallback(iy(...e),e)}function b7(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:p,children:f,...x}=h,g=(p==null?void 0:p[e][c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})}function m(h,p){const f=(p==null?void 0:p[e][c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,w7(s,...r)]}function w7(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}var _o=u.forwardRef((e,r)=>{const{children:n,...a}=e,s=u.Children.toArray(n),i=s.find(j7);if(i){const o=i.props.children,l=s.map(c=>c===i?u.Children.count(o)>1?u.Children.only(null):u.isValidElement(o)?o.props.children:null:c);return t.jsx(r1,{...a,ref:r,children:u.isValidElement(o)?u.cloneElement(o,void 0,l):null})}return t.jsx(r1,{...a,ref:r,children:n})});_o.displayName="Slot";var r1=u.forwardRef((e,r)=>{const{children:n,...a}=e;if(u.isValidElement(n)){const s=k7(n);return u.cloneElement(n,{...N7(a,n.props),ref:r?iy(r,s):s})}return u.Children.count(n)>1?u.Children.only(null):null});r1.displayName="SlotClone";var BM=({children:e})=>t.jsx(t.Fragment,{children:e});function j7(e){return u.isValidElement(e)&&e.type===BM}function N7(e,r){const n={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function k7(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Lm(e){const r=e+"CollectionProvider",[n,a]=b7(r),[s,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:x,children:g}=f,v=tt.useRef(null),y=tt.useRef(new Map).current;return t.jsx(s,{scope:x,itemMap:y,collectionRef:v,children:g})};o.displayName=r;const l=e+"CollectionSlot",c=tt.forwardRef((f,x)=>{const{scope:g,children:v}=f,y=i(l,g),b=sr(x,y.collectionRef);return t.jsx(_o,{ref:b,children:v})});c.displayName=l;const d=e+"CollectionItemSlot",m="data-radix-collection-item",h=tt.forwardRef((f,x)=>{const{scope:g,children:v,...y}=f,b=tt.useRef(null),w=sr(x,b),S=i(d,g);return tt.useEffect(()=>(S.itemMap.set(b,{ref:b,...y}),()=>void S.itemMap.delete(b))),t.jsx(_o,{[m]:"",ref:w,children:v})});h.displayName=d;function p(f){const x=i(e+"CollectionConsumer",f);return tt.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((S,N)=>y.indexOf(S.ref.current)-y.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,a]}function S7(e,r){const n=u.createContext(r),a=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return t.jsx(n.Provider,{value:c,children:o})};a.displayName=e+"Provider";function s(i){const o=u.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function ps(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];const d=h=>{var y;const{scope:p,children:f,...x}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function m(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,C7(s,...r)]}function C7(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}var E7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bt=E7.reduce((e,r)=>{const n=u.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?_o:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{});function IN(e,r){e&&bl.flushSync(()=>e.dispatchEvent(r))}function zn(e){const r=u.useRef(e);return u.useEffect(()=>{r.current=e}),u.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}function P7(e,r=globalThis==null?void 0:globalThis.document){const n=zn(e);u.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[n,r])}var A7="DismissableLayer",n1="dismissableLayer.update",M7="dismissableLayer.pointerDownOutside",T7="dismissableLayer.focusOutside",X5,GM=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$m=u.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(GM),[m,h]=u.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=u.useState({}),x=sr(r,C=>h(C)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=m?g.indexOf(m):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,N=_7(C=>{const I=C.target,T=[...d.branches].some(_=>_.contains(I));!S||T||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),P=D7(C=>{const I=C.target;[...d.branches].some(_=>_.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return P7(C=>{b===d.layers.size-1&&(a==null||a(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),u.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(X5=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Z5(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=X5)}},[m,p,n,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Z5())},[m,d]),u.useEffect(()=>{const C=()=>f({});return document.addEventListener(n1,C),()=>document.removeEventListener(n1,C)},[]),t.jsx(bt.div,{...c,ref:x,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:it(e.onFocusCapture,P.onFocusCapture),onBlurCapture:it(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:it(e.onPointerDownCapture,N.onPointerDownCapture)})});$m.displayName=A7;var I7="DismissableLayerBranch",VM=u.forwardRef((e,r)=>{const n=u.useContext(GM),a=u.useRef(null),s=sr(r,a);return u.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),t.jsx(bt.div,{...e,ref:s})});VM.displayName=I7;function _7(e,r=globalThis==null?void 0:globalThis.document){const n=zn(e),a=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){zM(M7,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=c,r.addEventListener("click",s.current,{once:!0})):c()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function D7(e,r=globalThis==null?void 0:globalThis.document){const n=zn(e),a=u.useRef(!1);return u.useEffect(()=>{const s=i=>{i.target&&!a.current&&zM(T7,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Z5(){const e=new CustomEvent(n1);document.dispatchEvent(e)}function zM(e,r,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?IN(s,i):s.dispatchEvent(i)}var R7=$m,O7=VM,Fa=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},L7="Portal",Fm=u.forwardRef((e,r)=>{var l;const{container:n,...a}=e,[s,i]=u.useState(!1);Fa(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mM.createPortal(t.jsx(bt.div,{...a,ref:r}),o):null});Fm.displayName=L7;function $7(e,r){return u.useReducer((n,a)=>r[n][a]??n,e)}var Ta=e=>{const{present:r,children:n}=e,a=F7(r),s=typeof n=="function"?n({present:a.isPresent}):u.Children.only(n),i=sr(a.ref,U7(s));return typeof n=="function"||a.isPresent?u.cloneElement(s,{ref:i}):null};Ta.displayName="Presence";function F7(e){const[r,n]=u.useState(),a=u.useRef({}),s=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=$7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=g0(a.current);i.current=l==="mounted"?d:"none"},[l]),Fa(()=>{const d=a.current,m=s.current;if(m!==e){const p=i.current,f=g0(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Fa(()=>{if(r){let d;const m=r.ownerDocument.defaultView??window,h=f=>{const g=g0(a.current).includes(f.animationName);if(f.target===r&&g&&(c("ANIMATION_END"),!s.current)){const v=r.style.animationFillMode;r.style.animationFillMode="forwards",d=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=v)})}},p=f=>{f.target===r&&(i.current=g0(a.current))};return r.addEventListener("animationstart",p),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{m.clearTimeout(d),r.removeEventListener("animationstart",p),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(a.current=getComputedStyle(d)),n(d)},[])}}function g0(e){return(e==null?void 0:e.animationName)||"none"}function U7(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Es({prop:e,defaultProp:r,onChange:n=()=>{}}){const[a,s]=B7({defaultProp:r,onChange:n}),i=e!==void 0,o=i?e:a,l=zn(n),c=u.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else s(d)},[i,e,s,l]);return[o,c]}function B7({defaultProp:e,onChange:r}){const n=u.useState(e),[a]=n,s=u.useRef(a),i=zn(r);return u.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),n}var G7="VisuallyHidden",oy=u.forwardRef((e,r)=>t.jsx(bt.span,{...e,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));oy.displayName=G7;var _N="ToastProvider",[DN,V7,z7]=Lm("Toast"),[WM,sye]=ps("Toast",[z7]),[W7,ly]=WM(_N),HM=e=>{const{__scopeToast:r,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,m]=u.useState(0),h=u.useRef(!1),p=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_N}\`. Expected non-empty \`string\`.`),t.jsx(DN.Provider,{scope:r,children:t.jsx(W7,{scope:r,label:n,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(f=>f+1),[]),onToastRemove:u.useCallback(()=>m(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};HM.displayName=_N;var KM="ToastViewport",H7=["F8"],a1="toast.viewportPause",s1="toast.viewportResume",qM=u.forwardRef((e,r)=>{const{__scopeToast:n,hotkey:a=H7,label:s="Notifications ({hotkey})",...i}=e,o=ly(KM,n),l=V7(n),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),p=sr(r,h,o.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;u.useEffect(()=>{const v=y=>{var w;a.length!==0&&a.every(S=>y[S]||y.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[a]),u.useEffect(()=>{const v=c.current,y=h.current;if(x&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(a1);y.dispatchEvent(P),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(s1);y.dispatchEvent(P),o.isClosePausedRef.current=!1}},S=P=>{!v.contains(P.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",S),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const S=w.ref.current,N=[S,...sG(S)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return u.useEffect(()=>{const v=h.current;if(v){const y=b=>{var N,P,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const I=document.activeElement,T=b.shiftKey;if(b.target===v&&T){(N=d.current)==null||N.focus();return}const A=g({tabbingDirection:T?"backwards":"forwards"}),F=A.findIndex(V=>V===I);Kv(A.slice(F+1))?b.preventDefault():T?(P=d.current)==null||P.focus():(C=m.current)==null||C.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,g]),t.jsxs(O7,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&t.jsx(i1,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Kv(v)}}),t.jsx(DN.Slot,{scope:n,children:t.jsx(bt.ol,{tabIndex:-1,...i,ref:p})}),x&&t.jsx(i1,{ref:m,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Kv(v)}})]})});qM.displayName=KM;var YM="ToastFocusProxy",i1=u.forwardRef((e,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...s}=e,i=ly(YM,n);return t.jsx(oy,{"aria-hidden":!0,tabIndex:0,...s,ref:r,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&a()}})});i1.displayName=YM;var cy="Toast",K7="toast.swipeStart",q7="toast.swipeMove",Y7="toast.swipeCancel",Q7="toast.swipeEnd",QM=u.forwardRef((e,r)=>{const{forceMount:n,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,c]=Es({prop:a,defaultProp:s,onChange:i});return t.jsx(Ta,{present:n||l,children:t.jsx(Z7,{open:l,...o,ref:r,onClose:()=>c(!1),onPause:zn(e.onPause),onResume:zn(e.onResume),onSwipeStart:it(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:it(e.onSwipeMove,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:it(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:it(e.onSwipeEnd,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});QM.displayName=cy;var[J7,X7]=WM(cy,{onClose(){}}),Z7=u.forwardRef((e,r)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...x}=e,g=ly(cy,n),[v,y]=u.useState(null),b=sr(r,V=>y(V)),w=u.useRef(null),S=u.useRef(null),N=s||g.duration,P=u.useRef(0),C=u.useRef(N),I=u.useRef(0),{onToastAdd:T,onToastRemove:_}=g,k=zn(()=>{var J;(v==null?void 0:v.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),o()}),A=u.useCallback(V=>{!V||V===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(k,V))},[k]);u.useEffect(()=>{const V=g.viewport;if(V){const J=()=>{A(C.current),d==null||d()},M=()=>{const R=new Date().getTime()-P.current;C.current=C.current-R,window.clearTimeout(I.current),c==null||c()};return V.addEventListener(a1,M),V.addEventListener(s1,J),()=>{V.removeEventListener(a1,M),V.removeEventListener(s1,J)}}},[g.viewport,N,c,d,A]),u.useEffect(()=>{i&&!g.isClosePausedRef.current&&A(N)},[i,N,g.isClosePausedRef,A]),u.useEffect(()=>(T(),()=>_()),[T,_]);const F=u.useMemo(()=>v?nT(v):null,[v]);return g.viewport?t.jsxs(t.Fragment,{children:[F&&t.jsx(eG,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),t.jsx(J7,{scope:n,onClose:k,children:bl.createPortal(t.jsx(DN.ItemSlot,{scope:n,children:t.jsx(R7,{asChild:!0,onEscapeKeyDown:it(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:it(e.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:it(e.onPointerDown,V=>{V.button===0&&(w.current={x:V.clientX,y:V.clientY})}),onPointerMove:it(e.onPointerMove,V=>{if(!w.current)return;const J=V.clientX-w.current.x,M=V.clientY-w.current.y,R=!!S.current,B=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=B?O(0,J):0,ae=B?0:O(0,M),$=V.pointerType==="touch"?10:2,re={x:X,y:ae},le={originalEvent:V,delta:re};R?(S.current=re,x0(q7,h,le,{discrete:!1})):eC(re,g.swipeDirection,$)?(S.current=re,x0(K7,m,le,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(J)>$||Math.abs(M)>$)&&(w.current=null)}),onPointerUp:it(e.onPointerUp,V=>{const J=S.current,M=V.target;if(M.hasPointerCapture(V.pointerId)&&M.releasePointerCapture(V.pointerId),S.current=null,w.current=null,J){const R=V.currentTarget,B={originalEvent:V,delta:J};eC(J,g.swipeDirection,g.swipeThreshold)?x0(Q7,f,B,{discrete:!0}):x0(Y7,p,B,{discrete:!0}),R.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),eG=e=>{const{__scopeToast:r,children:n,...a}=e,s=ly(cy,r),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return nG(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:t.jsx(Fm,{asChild:!0,children:t.jsx(oy,{...a,children:i&&t.jsxs(t.Fragment,{children:[s.label," ",n]})})})},tG="ToastTitle",JM=u.forwardRef((e,r)=>{const{__scopeToast:n,...a}=e;return t.jsx(bt.div,{...a,ref:r})});JM.displayName=tG;var rG="ToastDescription",XM=u.forwardRef((e,r)=>{const{__scopeToast:n,...a}=e;return t.jsx(bt.div,{...a,ref:r})});XM.displayName=rG;var ZM="ToastAction",eT=u.forwardRef((e,r)=>{const{altText:n,...a}=e;return n.trim()?t.jsx(rT,{altText:n,asChild:!0,children:t.jsx(RN,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZM}\`. Expected non-empty \`string\`.`),null)});eT.displayName=ZM;var tT="ToastClose",RN=u.forwardRef((e,r)=>{const{__scopeToast:n,...a}=e,s=X7(tT,n);return t.jsx(rT,{asChild:!0,children:t.jsx(bt.button,{type:"button",...a,ref:r,onClick:it(e.onClick,s.onClose)})})});RN.displayName=tT;var rT=u.forwardRef((e,r)=>{const{__scopeToast:n,altText:a,...s}=e;return t.jsx(bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:r})});function nT(e){const r=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),aG(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...nT(a))}}),r}function x0(e,r,n,{discrete:a}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?IN(s,i):s.dispatchEvent(i)}var eC=(e,r,n=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return r==="left"||r==="right"?i&&a>n:!i&&s>n};function nG(e=()=>{}){const r=zn(e);Fa(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[r])}function aG(e){return e.nodeType===e.ELEMENT_NODE}function sG(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function Kv(e){const r=document.activeElement;return e.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var iG=HM,aT=qM,sT=QM,iT=JM,oT=XM,lT=eT,cT=RN;function dT(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=dT(e[r]))&&(a&&(a+=" "),a+=n);else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function oG(){for(var e,r,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(r=dT(e))&&(a&&(a+=" "),a+=r);return a}const tC=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,rC=oG,gf=(e,r)=>n=>{var a;if((r==null?void 0:r.variants)==null)return rC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const m=n==null?void 0:n[d],h=i==null?void 0:i[d];if(m===null)return null;const p=tC(m)||tC(h);return s[d][p]}),l=n&&Object.entries(n).reduce((d,m)=>{let[h,p]=m;return p===void 0||(d[h]=p),d},{}),c=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,m)=>{let{class:h,className:p,...f}=m;return Object.entries(f).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,h,p]:d},[]);return rC(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uT=(...e)=>e.filter((r,n,a)=>!!r&&a.indexOf(r)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=u.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...cG,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:uT("lucide",s),...l},[...o.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,r)=>{const n=u.forwardRef(({className:a,...s},i)=>u.createElement(dG,{ref:i,iconNode:r,className:uT(`lucide-${lG(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=He("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=He("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=He("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=He("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=He("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=He("BookType",[["path",{d:"M10 13h4",key:"ytezjc"}],["path",{d:"M12 6v7",key:"1f6ttz"}],["path",{d:"M16 8V6H8v2",key:"x8j6u4"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=He("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=He("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=He("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=He("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=He("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=He("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=He("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=He("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=He("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=He("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=He("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=He("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=He("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=He("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=He("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=He("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=He("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=He("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=He("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=He("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=He("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=He("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=He("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=He("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=He("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=He("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=He("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=He("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=He("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=He("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=He("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=He("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=He("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=He("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=He("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=He("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=He("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=He("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=He("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=He("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=He("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=He("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=He("MoveLeft",[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=He("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=He("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=He("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=He("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=He("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=He("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=He("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=He("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=He("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=He("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=He("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=He("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=He("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=He("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=He("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=He("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=He("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=He("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=He("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=He("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=He("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=He("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=He("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=He("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=He("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=He("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=He("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=He("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=He("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=He("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=He("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=He("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function CT(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=CT(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function WG(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=CT(e))&&(a&&(a+=" "),a+=r);return a}const BN="-",HG=e=>{const r=qG(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(BN);return l[0]===""&&l.length!==1&&l.shift(),ET(l,r)||KG(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},ET=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],a=r.nextPart.get(n),s=a?ET(e.slice(1),a):void 0;if(s)return s;if(r.validators.length===0)return;const i=e.join(BN);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},mC=/^\[(.+)\]$/,KG=e=>{if(mC.test(e)){const r=mC.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},qG=e=>{const{theme:r,prefix:n}=e,a={nextPart:new Map,validators:[]};return QG(Object.entries(e.classGroups),n).forEach(([i,o])=>{m1(o,a,i,r)}),a},m1=(e,r,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?r:hC(r,s);i.classGroupId=n;return}if(typeof s=="function"){if(YG(s)){m1(s(a),r,n,a);return}r.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{m1(o,hC(r,i),n,a)})})},hC=(e,r)=>{let n=e;return r.split(BN).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},YG=e=>e.isThemeGetter,QG=(e,r)=>r?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[n,s]}):e,JG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,a=new Map;const s=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,a=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},PT="!",XG=e=>{const{separator:r,experimentalParseClassName:n}=e,a=r.length===1,s=r[0],i=r.length,o=l=>{const c=[];let d=0,m=0,h;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===s&&(a||l.slice(v,v+i)===r)){c.push(l.slice(m,v)),m=v+i;continue}if(y==="/"){h=v;continue}}y==="["?d++:y==="]"&&d--}const p=c.length===0?l:l.substring(m),f=p.startsWith(PT),x=f?p.substring(1):p,g=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},ZG=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(a=>{a[0]==="["?(r.push(...n.sort(),a),n=[]):n.push(a)}),r.push(...n.sort()),r},eV=e=>({cache:JG(e.cacheSize),parseClassName:XG(e),...HG(e)}),tV=/\s+/,rV=(e,r)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=r,i=[],o=e.trim().split(tV);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:m,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(d);let x=!!f,g=a(x?p.substring(0,f):p);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=a(p),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=ZG(m).join(":"),y=h?v+PT:v,b=y+g;if(i.includes(b))continue;i.push(b);const w=s(g,x);for(let S=0;S<w.length;++S){const N=w[S];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function nV(){let e=0,r,n,a="";for(;e<arguments.length;)(r=arguments[e++])&&(n=AT(r))&&(a&&(a+=" "),a+=n);return a}const AT=e=>{if(typeof e=="string")return e;let r,n="";for(let a=0;a<e.length;a++)e[a]&&(r=AT(e[a]))&&(n&&(n+=" "),n+=r);return n};function aV(e,...r){let n,a,s,i=o;function o(c){const d=r.reduce((m,h)=>h(m),e());return n=eV(d),a=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const m=rV(c,n);return s(c,m),m}return function(){return i(nV.apply(null,arguments))}}const Pn=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},MT=/^\[(?:([a-z-]+):)?(.+)\]$/i,sV=/^\d+\/\d+$/,iV=new Set(["px","full","screen"]),oV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=e=>Du(e)||iV.has(e)||sV.test(e),kl=e=>Um(e,"length",vV),Du=e=>!!e&&!Number.isNaN(Number(e)),Jv=e=>Um(e,"number",Du),oh=e=>!!e&&Number.isInteger(Number(e)),mV=e=>e.endsWith("%")&&Du(e.slice(0,-1)),Er=e=>MT.test(e),Sl=e=>oV.test(e),hV=new Set(["length","size","percentage"]),pV=e=>Um(e,hV,TT),fV=e=>Um(e,"position",TT),gV=new Set(["image","url"]),xV=e=>Um(e,gV,wV),yV=e=>Um(e,"",bV),lh=()=>!0,Um=(e,r,n)=>{const a=MT.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):n(a[2]):!1},vV=e=>lV.test(e)&&!cV.test(e),TT=()=>!1,bV=e=>dV.test(e),wV=e=>uV.test(e),jV=()=>{const e=Pn("colors"),r=Pn("spacing"),n=Pn("blur"),a=Pn("brightness"),s=Pn("borderColor"),i=Pn("borderRadius"),o=Pn("borderSpacing"),l=Pn("borderWidth"),c=Pn("contrast"),d=Pn("grayscale"),m=Pn("hueRotate"),h=Pn("invert"),p=Pn("gap"),f=Pn("gradientColorStops"),x=Pn("gradientColorStopPositions"),g=Pn("inset"),v=Pn("margin"),y=Pn("opacity"),b=Pn("padding"),w=Pn("saturate"),S=Pn("scale"),N=Pn("sepia"),P=Pn("skew"),C=Pn("space"),I=Pn("translate"),T=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Er,r],A=()=>[Er,r],F=()=>["",Bo,kl],V=()=>["auto",Du,Er],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Er],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Du,Er];return{cacheSize:500,separator:":",theme:{colors:[lh],spacing:[Bo,kl],blur:["none","",Sl,Er],brightness:ae(),borderColor:[e],borderRadius:["none","","full",Sl,Er],borderSpacing:A(),borderWidth:F(),contrast:ae(),grayscale:O(),hueRotate:ae(),invert:O(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[mV,kl],inset:k(),margin:k(),opacity:ae(),padding:A(),saturate:ae(),scale:ae(),sepia:O(),skew:ae(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Er]}],container:["container"],columns:[{columns:[Sl]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Er]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oh,Er]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Er]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",oh,Er]}],"grid-cols":[{"grid-cols":[lh]}],"col-start-end":[{col:["auto",{span:["full",oh,Er]},Er]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[lh]}],"row-start-end":[{row:["auto",{span:[oh,Er]},Er]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Er]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Er]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Er,r]}],"min-w":[{"min-w":[Er,r,"min","max","fit"]}],"max-w":[{"max-w":[Er,r,"none","full","min","max","fit","prose",{screen:[Sl]},Sl]}],h:[{h:[Er,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Er,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Er,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Er,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Sl,kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jv]}],"font-family":[{font:[lh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Er]}],"line-clamp":[{"line-clamp":["none",Du,Jv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bo,Er]}],"list-image":[{"list-image":["none",Er]}],"list-style-type":[{list:["none","disc","decimal",Er]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bo,kl]}],"underline-offset":[{"underline-offset":["auto",Bo,Er]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),fV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Bo,Er]}],"outline-w":[{outline:[Bo,kl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Bo,kl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sl,yV]}],"shadow-color":[{shadow:[lh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sl,Er]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Er]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Er]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Er]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[oh,Er]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Er]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Er]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Er]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bo,kl,Jv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NV=aV(jV);function We(...e){return NV(WG(e))}function GN(e){const n=Math.floor((new Date().getTime()-e.getTime())/1e3);let a=Math.floor(n/31536e3);return a>=1?a===1?"1 year ago":`${a} years ago`:(a=Math.floor(n/2592e3),a>=1?a===1?"1 month ago":`${a} months ago`:(a=Math.floor(n/86400),a>=1?a===1?"1 day ago":`${a} days ago`:(a=Math.floor(n/3600),a>=1?a===1?"1 hour ago":`${a} hours ago`:(a=Math.floor(n/60),a>=1?a===1?"1 minute ago":`${a} minutes ago`:n<10?"just now":`${Math.floor(n)} seconds ago`))))}function h1(e,r=500){let n=null;return function(...a){n&&clearTimeout(n),n=setTimeout(()=>{e(...a),n=null},r)}}const kV=iG,IT=u.forwardRef(({className:e,...r},n)=>t.jsx(aT,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));IT.displayName=aT.displayName;const SV=gf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_T=u.forwardRef(({className:e,variant:r,...n},a)=>t.jsx(sT,{ref:a,className:We(SV({variant:r}),e),...n}));_T.displayName=sT.displayName;const CV=u.forwardRef(({className:e,...r},n)=>t.jsx(lT,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r}));CV.displayName=lT.displayName;const DT=u.forwardRef(({className:e,...r},n)=>t.jsx(cT,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:t.jsx(mt,{className:"h-4 w-4"})}));DT.displayName=cT.displayName;const RT=u.forwardRef(({className:e,...r},n)=>t.jsx(iT,{ref:n,className:We("text-sm font-semibold",e),...r}));RT.displayName=iT.displayName;const OT=u.forwardRef(({className:e,...r},n)=>t.jsx(oT,{ref:n,className:We("text-sm opacity-90",e),...r}));OT.displayName=oT.displayName;function EV(){const{toasts:e}=Wr();return t.jsxs(kV,{children:[e.map(function({id:r,title:n,description:a,action:s,...i}){return t.jsxs(_T,{...i,children:[t.jsxs("div",{className:"grid gap-1",children:[n&&t.jsx(RT,{children:n}),a&&t.jsx(OT,{children:a})]}),s,t.jsx(DT,{})]},r)}),t.jsx(IT,{})]})}const wr=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));wr.displayName="Card";const On=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...r}));On.displayName="CardHeader";const ca=u.forwardRef(({className:e,...r},n)=>t.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...r}));ca.displayName="CardTitle";const jo=u.forwardRef(({className:e,...r},n)=>t.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...r}));jo.displayName="CardDescription";const $r=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("p-6 pt-0",e),...r}));$r.displayName="CardContent";const PV=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...r}));PV.displayName="CardFooter";function AV(){return t.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:t.jsx(wr,{className:"w-full max-w-md mx-4",children:t.jsxs($r,{className:"pt-6",children:[t.jsxs("div",{className:"flex mb-4 gap-2",children:[t.jsx(Ed,{className:"h-8 w-8 text-red-500"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const MV="modulepreload",TV=function(e){return"/"+e},pC={},Ri=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=TV(c),c in pC)return;pC[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":MV,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},LT="charley_logout_timestamp",$T="charley_match_check_needed";function IV(){try{const e=new Date().toISOString();localStorage.setItem(LT,e),console.log("[MATCH-CHECKER] Recorded logout time:",e)}catch(e){console.error("[MATCH-CHECKER] Error recording logout time:",e)}}function fC(){try{localStorage.setItem($T,"true"),console.log("[MATCH-CHECKER] Marked match check as needed for next login")}catch(e){console.error("[MATCH-CHECKER] Error marking match check needed:",e)}}async function _V(e){try{console.log("[MATCH-CHECKER] Starting match check for user:",e);const n=localStorage.getItem(LT)||new Date(Date.now()-24*60*60*1e3).toISOString();console.log("[MATCH-CHECKER] Using timestamp for match check:",n);const a=await fetch(`/api/matches/since/${encodeURIComponent(n)}`);if(!a.ok){console.error("[MATCH-CHECKER] API error checking for offline matches:",a.status);return}const s=await a.json();if(console.log("[MATCH-CHECKER] Found matches for user:",s),s&&s.length>0){const{showMatchPopup:i}=await Ri(async()=>{const{showMatchPopup:o}=await Promise.resolve().then(()=>Nxe);return{showMatchPopup:o}},void 0);console.log(`[MATCH-CHECKER]  CRITICAL: Will show ${s.length} match popup(s) now!`);for(let o=0;o<s.length;o++){const l=s[o];setTimeout(()=>{console.log(`[MATCH-CHECKER]  Showing match popup #${o+1}:`,l),i(l)},o*1500)}}else console.log("[MATCH-CHECKER] No new matches found for user");DV()}catch(r){console.error("[MATCH-CHECKER] Error checking for offline matches:",r)}}function DV(){try{localStorage.removeItem($T),console.log("[MATCH-CHECKER] Cleared match check flags")}catch(e){console.error("[MATCH-CHECKER] Error clearing match check flags:",e)}}const FT=u.createContext(null);function RV({children:e}){const{toast:r}=Wr(),[,n]=lr(),{data:a,error:s,isLoading:i}=dt({queryKey:["/api/user"],queryFn:TN({on401:"returnNull"}),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:2}),o=wt({mutationFn:async d=>await(await ze("/api/login",{method:"POST",data:d})).json(),onSuccess:async d=>{if(me.setQueryData(["/api/user"],d),await me.invalidateQueries({queryKey:["/api/user"]}),me.prefetchQuery({queryKey:["/api/matches"],staleTime:0}),me.prefetchQuery({queryKey:["/api/matches/counts"],staleTime:0}),d&&d.id)try{console.log("Checking for new matches immediately after login"),fC(),await _V(d.id)}catch(h){console.error("Error checking for new matches on login:",h)}r({title:"Login successful",description:"Welcome back to CHARLEY!"});const m=d!=null&&d.id?localStorage.getItem(`show_app_mode_selection_${d.id}`)!=="false":!0;if(console.log("Login successful. Show app selection preference:",m),m)sessionStorage.removeItem("appModeSelected"),sessionStorage.setItem("loginTransition","true"),console.log("Redirecting to app selection page"),window.location.href="/app-selection";else{const h=localStorage.getItem(`last_used_app_${d.id}`)||"meet";sessionStorage.setItem("appModeSelected","true"),console.log("Direct navigation to app:",h),window.location.href=h==="meet"?"/":`/${h}`}},onError:d=>{r({title:"Login failed",description:d.message,variant:"destructive"})}}),l=wt({mutationFn:async d=>await(await ze("/api/register",{method:"POST",data:d})).json(),onSuccess:d=>{me.setQueryData(["/api/user"],d),r({title:"Registration successful",description:"Welcome to CHARLEY! Let's get started."}),n("/app-selection")},onError:d=>{r({title:"Registration failed",description:d.message,variant:"destructive"})}}),c=wt({mutationFn:async()=>{try{IV(),fC(),console.log("[AUTH] Recorded logout time for offline match detection")}catch(d){console.error("[AUTH] Failed to record logout time:",d)}ze("/api/logout",{method:"POST"}).catch(d=>{console.error("[AUTH] Logout API call failed:",d)})},onSuccess:()=>{me.setQueryData(["/api/user"],null),n("/auth"),Promise.resolve().then(()=>{me.invalidateQueries({queryKey:["/api/messages"]}),me.invalidateQueries({queryKey:["/api/matches"]});try{const d=Object.keys(sessionStorage).filter(m=>m.includes("chat_")||m.includes("message_")||m.includes("_session_")||m.includes("content_fingerprint_"));d.forEach(m=>{sessionStorage.removeItem(m)}),console.log(`[AUTH] Cleared ${d.length} message related items from session storage`)}catch(d){console.error("[AUTH] Error during final cleanup:",d)}try{localStorage.clear(),console.log("[AUTH] Cleared all localStorage on logout")}catch(d){console.error("[AUTH] Error clearing localStorage:",d)}})},onError:d=>{r({title:"Logout failed",description:d.message,variant:"destructive"})}});return t.jsx(FT.Provider,{value:{user:a??null,isLoading:i,error:s,loginMutation:o,logoutMutation:c,registerMutation:l},children:e})}function Sr(){const e=u.useContext(FT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function xf(){if(typeof window>"u")return!1;const e=window.navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),n=window.innerWidth<=768;return r||n}function OV(e,r,n){console.log(`[CACHE-CLEAR] Clearing React Query cache for match ${r}, reason: ${n}`);try{xf()&&n==="message_delete"?(console.log("[CACHE-CLEAR] Using mobile-friendly cache invalidation"),e.invalidateQueries({queryKey:["/api/messages",r],refetchType:"none"}),console.log("[CACHE-CLEAR] Preserving matches cache on mobile for stability")):(console.log("[CACHE-CLEAR] Using standard cache invalidation for desktop"),e.removeQueries({queryKey:["/api/messages",r]}),e.removeQueries({queryKey:["/api/matches",r,"reactions"]}),e.removeQueries({queryKey:["/api/matches",r,"auto-delete-settings"]}),e.invalidateQueries({queryKey:["/api/matches"]}),e.invalidateQueries({queryKey:["/api/messages/unread/count"]}),e.invalidateQueries({queryKey:["/api/matches/counts"]})),console.log(`[CACHE-CLEAR] React Query cache cleared for match ${r}`)}catch(a){console.error("[CACHE-CLEAR] Error clearing React Query cache:",a)}}function LV(e,r){console.log(`[CACHE-CLEAR] Clearing browser storage for match ${e}, reason: ${r}`);try{if(xf()&&r==="message_delete")console.log("[CACHE-CLEAR] Using selective storage clearing for mobile"),[`MEET_messages_${e}`,`DISCOVER_messages_${e}`,`chat_messages_${e}`,`session_messages_${e}`].forEach(s=>{try{ti(s),console.log(`[CACHE-CLEAR] Cleared message storage key: ${s}`)}catch(i){console.warn(`[CACHE-CLEAR] Failed to clear key ${s}:`,i)}}),console.log("[CACHE-CLEAR] Preserving match data storage on mobile");else{console.log("[CACHE-CLEAR] Using comprehensive storage clearing for desktop");const s=h7().filter(i=>i.includes(`${e}`)&&(i.includes("messages")||i.includes("reactions")||i.includes("rq_persist")||i.includes("match_data")||i.includes("chat_")||i.includes("auto_delete")));console.log(`[CACHE-CLEAR] Found ${s.length} storage keys to clear:`,s),s.forEach(i=>{try{ti(i),console.log(`[CACHE-CLEAR] Cleared storage key: ${i}`)}catch(o){console.warn(`[CACHE-CLEAR] Failed to clear key ${i}:`,o)}})}}catch(n){console.error("[CACHE-CLEAR] Error clearing browser storage:",n)}}function $V(e,r){console.log(`[CACHE-CLEAR] Clearing persistent cache for match ${e}, reason: ${r}`);try{xf()&&r==="message_delete"?(console.log("[CACHE-CLEAR] Using selective persistent cache clearing for mobile"),[`rq_persist_/api/messages_${e}`,`rq_persist__api_messages_${e}`,`rq_persist_apimessages${e}`,`rq_persist_["/api/messages",${e}]`].forEach(s=>{try{ti(s)}catch{}}),console.log("[CACHE-CLEAR] Preserving match persistent cache on mobile")):(console.log("[CACHE-CLEAR] Using comprehensive persistent cache clearing"),[`rq_persist_/api/messages_${e}`,`rq_persist__api_messages_${e}`,`rq_persist_apimessages${e}`,`rq_persist_["/api/messages",${e}]`,`global_messages_${e}`,`match_${e}_messages`].forEach(s=>{try{ti(s)}catch{}})),console.log(`[CACHE-CLEAR] Persistent cache cleared for match ${e}`)}catch(n){console.error("[CACHE-CLEAR] Error clearing persistent cache:",n)}}function FV(e,r){console.log(`[CACHE-CLEAR] Resetting global message persistence for match ${e}, reason: ${r}`);try{if(xf()&&r==="message_delete"){console.log("[CACHE-CLEAR] Skipping global state clearing on mobile for stability");return}typeof window<"u"&&Object.keys(window).filter(s=>s.includes("message")&&s.includes(`${e}`)).forEach(s=>{try{delete window[s]}catch{}})}catch(n){console.error("[CACHE-CLEAR] Error resetting global message persistence:",n)}}function UV(e,r){const{matchId:n,reason:a,messageId:s}=r;console.log(`[CACHE-INVALIDATION] Processing cache clear for match ${n}, reason: ${a}`);const i=xf();console.log(`[CACHE-INVALIDATION] Device type: ${i?"mobile":"desktop"}`);try{return OV(e,n,a),LV(n,a),$V(n,a),FV(n,a),console.log(`[CACHE-INVALIDATION] Complete cache invalidation completed for match ${n}`),{success:!0,matchId:n,reason:a,messageId:s,deviceType:i?"mobile":"desktop",timestamp:new Date().toISOString()}}catch(o){return console.error("[CACHE-INVALIDATION] Error during cache invalidation:",o),{success:!1,matchId:n,reason:a,error:o instanceof Error?o.message:"Unknown error",deviceType:i?"mobile":"desktop",timestamp:new Date().toISOString()}}}const UT=u.createContext(null);function BV({children:e}){const{user:r}=Sr(),{toast:n}=Wr(),[a,s]=u.useState(!1),[i,o]=u.useState(new Map),[l,c]=u.useState(new Set),[d,m]=u.useState(new Map),[h,p]=u.useState(new Map),[f,x]=u.useState(new Map),g=u.useRef(null),v=u.useRef(0),y=u.useCallback($=>{if(!r||!$)return;const re=$.receiverId===r.id,le=$.senderId===r.id;if(!re&&!le){console.error(`[PRIVACY ERROR] Received unauthorized message with ID ${$.id} for match ${$.matchId}`);return}console.log(`[REAL-TIME] Updating message cache for matchId=${$.matchId} with new message ID ${$.id}`);const ce=me.getQueryData(["/api/messages",$.matchId])||[];if(!ce.some(ee=>ee.id===$.id)){const ee=[...ce,$];me.setQueryData(["/api/messages",$.matchId],ee);try{const Z=`${localStorage.getItem("currentMode")||"MEET"}_messages_${$.matchId}`;localStorage.setItem(Z,JSON.stringify({messages:ee,timestamp:Date.now()}))}catch(Z){console.error("[STORAGE ERROR] Failed to update local message cache:",Z)}re&&n({title:"New Message",description:"You have received a new message."})}},[r,n,me]),b=u.useCallback($=>{if(!r)return;const{match:re,fromUserId:le,fromUserInfo:ce,counts:ue,isMatch:ee}=$;if(!(re.userId1===r.id||re.userId2===r.id)){console.error(`[PRIVACY ERROR] Received unauthorized like notification for match ${re.id}`);return}if(ce&&ce.id===r.id){console.error("[MATCH ERROR] Received match notification where fromUserInfo is the current user - ignoring");return}if(re.userId1===r.id&&re.userId2===le||re.userId2===r.id&&re.userId1===le){console.log(" Real-time like notification received via WebSocket:",$);const Se=(ce==null?void 0:ce.fullName)||"Someone";if(n({title:re.matched?" New Match!":" New Like",description:re.matched?`You matched with ${Se}! Start chatting now.`:`${Se} has liked your profile!`,variant:(re.matched,"default")}),ue?(console.log("Using server-provided count data for immediate UI update:",ue),window.dispatchEvent(new CustomEvent("match:countsUpdated",{detail:{confirmed:ue.confirmed,pending:ue.pending,total:ue.total||ue.pending}})),me.setQueryData(["/api/matches/counts"],ue)):me.invalidateQueries({queryKey:["/api/matches/counts"],refetchType:"active"}),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"active"}),localStorage.setItem("newLike",Date.now().toString()),localStorage.setItem(`like_${re.id}`,"true"),re.matched===!0){console.log(" GLOBAL MATCH POPUP TRIGGER: Implementing guaranteed match popup display",ce),_t("pending_match_popup","true"),_t("force_match_popup","true"),_t("current_match_id",re.id.toString()),Zo("matched_user_data",ce);const Ue=localStorage.getItem("seen_match_popups")||"[]";let De=[];try{De=JSON.parse(Ue)}catch{De=[]}De.includes(re.id)||(De.push(re.id),Zo("seen_match_popups",De));const se=Date.now();_t("match_timestamp",se.toString()),n({title:" New Match!",description:`You matched with ${ce.fullName}! Start chatting now.`,variant:"default"}),window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{match:re,fromUserId:le,fromUserInfo:ce,matchId:re.id,timestamp:se,forceDisplay:!0}})),window.dispatchEvent(new StorageEvent("storage",{key:"force_match_popup",newValue:"true"}))}window.dispatchEvent(new CustomEvent("match:newLike",{detail:{match:re,fromUserId:le,fromUserInfo:ce,counts:ue,isMatch:re.matched===!0}}))}},[r,n,me]),w=u.useCallback(($,re,le)=>{o(ce=>{const ue=new Map(ce);return ue.set($,le),ue})},[]),S=u.useCallback(($,re)=>{x(le=>{const ce=new Map(le);return ce.set($,re),ce})},[]),N=u.useCallback($=>{const{userId:re,status:le,lastSeen:ce,timestamp:ue,inChatMatch:ee,priority:Z}=$,Se=ue?new Date(ue).getTime():Date.now();console.log(`[WebSocket] User status update: userId=${re}, status=${le}, timestamp=${ue}, priority=${Z||"normal"}`),c(Ue=>{const De=new Set(Ue);return le==="online"?De.add(re):De.delete(re),De}),m(Ue=>{const De=new Map(Ue),se=De.get(re)||{status:"offline",lastSeen:null,inChatMatch:null,lastUpdateTimestamp:0};if(Z!=="high"&&se.lastUpdateTimestamp&&se.lastUpdateTimestamp>Se)return console.log(`[WebSocket] Skipping outdated status update for userId=${re}`),De;const L=se.lastSeen?new Date(se.lastSeen).getTime():0,q=ce?new Date(ce).getTime():0,H=Math.max(L,q)>0?new Date(Math.max(L,q)).toISOString():ce||ue||new Date().toISOString(),ge={...se,status:le==="online"?"online":"offline",lastUpdateTimestamp:Se,lastSeen:le==="offline"?H:se.lastSeen};return ee!==void 0&&(ge.inChatMatch=ee),console.log(`[PRESENCE] Updated status for user ${re}: ${le}, lastSeen: ${ge.lastSeen}`),De.set(re,ge),De})},[]),P=u.useCallback($=>{const{userId:re,matchId:le,active:ce,inChat:ue,timestamp:ee}=$,Z=ee?new Date(ee).getTime():Date.now();console.log(`[WebSocket] Chat partner active update: userId=${re}, matchId=${le}, active=${ce}, timestamp=${ee}`),p(Se=>{const Ue=new Map(Se);Ue.has(re)||Ue.set(re,new Set);const De=Ue.get(re);return ce?De.add(le):De.delete(le),Ue}),m(Se=>{const Ue=new Map(Se),De=Ue.get(re)||{status:"offline",lastSeen:null,inChatMatch:null,lastUpdateTimestamp:0,lastChatUpdateTimestamp:0};if(De.lastChatUpdateTimestamp&&De.lastChatUpdateTimestamp>Z)return console.log(`[WebSocket] Skipping outdated chat active update for userId=${re}, matchId=${le}`),Ue;const se={...De,inChatMatch:ce?le:null,lastChatUpdateTimestamp:Z,status:De.status||"online"};return Ue.set(re,se),Ue})},[]),C=u.useRef("disconnected"),I=u.useRef(Date.now().toString()),T=u.useRef({}),_=u.useCallback(()=>{if(!r){g.current&&(g.current.close(),g.current=null,s(!1)),C.current="disconnected";return}if(!r.id||C.current==="connecting"||g.current&&g.current.readyState===WebSocket.OPEN)return;(v.current===0||v.current%5===0)&&console.log(`Connecting WebSocket: user ${r.id} (attempt: ${v.current+1})`),C.current="connecting";const re=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;try{const le=new WebSocket(re);g.current=le,window.chatSocket=le,le.addEventListener("open",()=>{v.current>0&&console.log("WebSocket reconnected successfully"),s(!0),v.current=0,C.current="connected",me.prefetchQuery({queryKey:["/api/matches"],staleTime:5e3,cacheTime:6e4}),me.prefetchQuery({queryKey:["/api/matches/counts"],staleTime:5e3,cacheTime:6e4}),le.send(JSON.stringify({type:"auth",userId:r.id}))}),le.addEventListener("message",ue=>{var ee;try{const Z=JSON.parse(ue.data);switch(Z.type){case"auth_success":C.current="connected";break;case"auth_error":C.current="disconnected",s(!1),le.close();break;case"match_popup_prepare":if(console.log(" MATCH POPUP PREPARE: Received pre-notification to prepare for match popup",Z),Z.fromUserInfo){if(r&&Z.fromUserInfo.id===r.id){console.error("[MATCH ERROR] Received match prepare notification with current user as fromUserInfo - ignoring");return}Zo("matched_user_data",Z.fromUserInfo),_t("force_match_popup","true"),Z.matchId&&_t("current_match_id",Z.matchId.toString()),window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{fromUserInfo:Z.fromUserInfo,matchId:Z.matchId,forceDisplay:!0}}))}break;case"new_message":if(Z.for==="recipient"){console.log(`[REAL-TIME] Received new message for recipient: matchId=${Z.message.matchId}`);const De=Z.receiptId||`message_${Z.message.id}_${Date.now()}`,se=`message_receipt_${De}`;if(sessionStorage.getItem(se))console.log(`[DUPLICATE] Message receipt ${De} already processed`);else{sessionStorage.setItem(se,Date.now().toString());const L=`message_id_${Z.message.id}`;sessionStorage.getItem(L)?console.log(`[DUPLICATE] Message ID ${Z.message.id} already processed, skipping duplicate`):(sessionStorage.setItem(L,Date.now().toString()),console.log(`[REAL-TIME] Processing new message as recipient: ID=${Z.message.id}`),y(Z.message),window.dispatchEvent(new CustomEvent("message:new",{detail:{message:Z.message,timestamp:Date.now(),for:"recipient"}})))}}else console.log("[REAL-TIME] Ignoring message not meant for recipient");break;case"message_sent":console.log(`[REAL-TIME] Message sent confirmation: ID=${Z.messageId}, matchId=${Z.matchId}`);break;case"new_like":if((Z.guaranteed_match_popup===!0||Z.forceDisplay===!0||Z.isMatch===!0&&Z.priority==="critical")&&(console.log(" GUARANTEED MATCH POPUP: Received message with guaranteed popup flag",Z),n({title:" New Match!",description:Z.fromUserInfo?`You matched with ${Z.fromUserInfo.fullName}! Start chatting now.`:"You have a new match! Start chatting now.",variant:"default"}),Z.fromUserInfo)){if(r&&Z.fromUserInfo.id===r.id){console.error("[MATCH ERROR] Received new_like notification with current user as fromUserInfo - ignoring");return}Zo("matched_user_data",Z.fromUserInfo),_t("force_match_popup","true"),Z.match&&Z.match.id&&_t("current_match_id",Z.match.id.toString()),window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{fromUserInfo:Z.fromUserInfo,matchId:(ee=Z.match)==null?void 0:ee.id,forceDisplay:!0}})),window.dispatchEvent(new StorageEvent("storage",{key:"force_match_popup",newValue:"true"})),setTimeout(()=>{var De;window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{fromUserInfo:Z.fromUserInfo,matchId:(De=Z.match)==null?void 0:De.id,forceDisplay:!0}}))},300)}b(Z);break;case"typing_status":w(Z.matchId,Z.userId,Z.isTyping);break;case"read_receipt":S(Z.messageId,new Date(Z.readAt));break;case"user_status":N(Z);break;case"chat_partner_active":P(Z);break;case"chat_clear_user":console.log(`[WebSocket] Received chat_clear_user for userId=${Z.userId}`);const Se={userId:Z.userId,status:"offline",lastSeen:Z.timestamp||new Date().toISOString(),inChatMatch:null,timestamp:Z.timestamp||new Date().toISOString(),priority:"highest"};N(Se),p(De=>{const se=new Map(De);return se.delete(Z.userId),se}),o(De=>{const se=new Map(De);return se.forEach((L,q)=>{}),se});break;case"user_disconnected":console.log(`[WebSocket] Received user_disconnected event for userId=${Z.userId}, timestamp=${Z.timestamp}`);const Ue={userId:Z.userId,status:"offline",lastSeen:Z.timestamp||new Date().toISOString(),inChatMatch:null,timestamp:Z.timestamp||new Date().toISOString(),priority:"high"};console.log(`[PRESENCE] User ${Z.userId} disconnected at ${Z.timestamp}`),N(Ue),p(De=>{const se=new Map(De);return se.delete(Z.userId),se});break;case"chat_created":if(console.log(`[WebSocket] Received chat_created event for matchId=${Z.matchId}, userId=${Z.userId}, isDirectMessage=${Z.isDirectMessage}`),Z.isDirectMessage){console.log("[WebSocket] Skipping match notification - this was a direct message"),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"active",exact:!1}),window.dispatchEvent(new CustomEvent("chat:created",{detail:{matchId:Z.matchId,userId:Z.userId,isDirectMessage:!0,timestamp:Z.timestamp||new Date().toISOString()}}));break}me.invalidateQueries({queryKey:["/api/matches"],refetchType:"active",exact:!1}),window.dispatchEvent(new CustomEvent("chat:created",{detail:{matchId:Z.matchId,userId:Z.userId,timestamp:Z.timestamp||new Date().toISOString()}})),n({title:"New Chat Created",description:"A new chat has been created for you.",variant:"default"});break;case"cache:invalidate":console.log(`[WebSocket] Received cache invalidation event for match ${Z.matchId}, reason: ${Z.reason}`);try{const De=UV(me,Z);De.success?console.log(`[CACHE-INVALIDATION] Successfully processed cache invalidation for match ${Z.matchId}`):console.error(`[CACHE-INVALIDATION] Cache invalidation failed for match ${Z.matchId}:`,De.error),window.dispatchEvent(new CustomEvent("cache:invalidated",{detail:{matchId:Z.matchId,messageId:Z.messageId,reason:Z.reason,success:De.success,timestamp:Z.timestamp}}))}catch(De){console.error("[CACHE-INVALIDATION] Error handling cache invalidation event:",De)}break}}catch{}});const ce=I.current;le.addEventListener("close",()=>{if(C.current==="connected"&&console.log("WebSocket disconnected"),s(!1),C.current="disconnected",window.chatSocket===le&&(window.chatSocket=void 0),v.current>=5){console.log("Maximum reconnection attempts reached. Waiting for user interaction.");return}v.current+=1;const ue=[2e3,5e3,1e4,2e4,3e4],ee=ue[Math.min(v.current-1,ue.length-1)],Z=setTimeout(()=>{r&&document.visibilityState!=="hidden"&&I.current===ce&&_()},ee),Se=`reconnect_${Date.now()}`;T.current[Se]=Z}),le.addEventListener("error",()=>{C.current="disconnected",window.chatSocket===le&&(window.chatSocket=void 0),le.close()})}catch{C.current="disconnected"}},[r,y,b,w,S,N,P]);u.useEffect(()=>{const $=()=>{document.visibilityState==="visible"&&r&&(!g.current||g.current.readyState!==WebSocket.OPEN)&&_()};return document.addEventListener("visibilitychange",$),()=>{document.removeEventListener("visibilitychange",$)}},[_,r]),u.useEffect(()=>(_(),()=>{g.current&&(g.current.close(),window.chatSocket===g.current&&(window.chatSocket=void 0)),Object.values(T.current).forEach($=>{clearTimeout($)}),I.current=Date.now().toString()}),[_]);const k=u.useCallback(($,re,le)=>!g.current||g.current.readyState!==WebSocket.OPEN?!1:(g.current.send(JSON.stringify({type:"message",matchId:$,receiverId:re,content:le})),!0),[]),A=u.useRef({}),F=u.useCallback(($,re)=>{if(!g.current||g.current.readyState!==WebSocket.OPEN)return;const le=`typing_${$}`;A.current[le]&&clearTimeout(A.current[le]),re?(g.current.send(JSON.stringify({type:"typing_status",matchId:$,isTyping:!0})),A.current[le]=setTimeout(()=>{delete A.current[le]},4e3)):A.current[le]=setTimeout(()=>{g.current&&g.current.readyState===WebSocket.OPEN&&g.current.send(JSON.stringify({type:"typing_status",matchId:$,isTyping:!1})),delete A.current[le]},800)},[]),V=u.useCallback($=>{!g.current||g.current.readyState!==WebSocket.OPEN||g.current.send(JSON.stringify({type:"message_read",messageId:$}))},[]),J=u.useRef({}),M=u.useRef({}),R=u.useCallback(($,re)=>{if(!g.current||g.current.readyState!==WebSocket.OPEN)return;const le=`active_chat_${$}`,ce=`${$}`;M.current[ce]!==re&&(M.current[ce]=re,J.current[le]&&clearTimeout(J.current[le]),J.current[le]=setTimeout(()=>{g.current&&g.current.readyState===WebSocket.OPEN&&(g.current.send(JSON.stringify({type:"active_chat",matchId:$,active:re})),console.log(`[WebSocket] Sent active chat status: matchId=${$}, active=${re}`)),delete J.current[le]},re?300:500))},[]),B=u.useCallback(()=>{g.current&&g.current.close(),v.current=0,I.current=Date.now().toString(),o(new Map),c(new Set),p(new Map),_()},[_]),O=u.useCallback($=>d.get($)||null,[d]),X=u.useCallback(($,re)=>{const le=d.get($);return le?le.inChatMatch===re:!1},[d]),ae={sendMessage:k,updateTypingStatus:F,markMessageAsRead:V,setActiveChatStatus:R,resetConnection:B,isConnected:a,isTyping:i,onlineUsers:l,userPresence:d,activeChats:h,readReceipts:f,getUserPresence:O,isUserInChat:X};return t.jsx(UT.Provider,{value:ae,children:e})}function Bm(){const e=u.useContext(UT);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e}const BT=u.createContext(null);function GV({children:e}){const{user:r}=Sr(),n=r==null?void 0:r.id,[a,s]=u.useState("MEET"),[i,o]=u.useState(!1),[l,c]=u.useState(null);u.useEffect(()=>{if(n){const f=Mr(`last_used_app_${n}`);if(f){const g=f.toUpperCase();if(["MEET","HEAT","SUITE"].includes(g)){console.log(`[APP-MODE] Using last used app for user ${n}: ${g}`),s(g);return}}const x=Mr(`charley-app-mode-${n}`);if(x&&["MEET","HEAT","SUITE"].includes(x)){console.log(`[APP-MODE] Using stored app mode for user ${n}: ${x}`),s(x),_t(`last_used_app_${n}`,x.toLowerCase());return}}const p=Mr("charley-app-mode");p&&["MEET","HEAT","SUITE"].includes(p)&&(s(p),n&&(_t(`charley-app-mode-${n}`,p),_t(`last_used_app_${n}`,p.toLowerCase())))},[n]);const d=p=>{if(s(p),n){_t(`charley-app-mode-${n}`,p);const f=p.toLowerCase();_t(`last_used_app_${n}`,f),_t(`show_app_mode_selection_${n}`,"false"),console.log(`[APP-MODE] User ${n} set app mode to ${p}, will use this on next login`)}else _t("charley-app-mode",p)},m=p=>{c(p),o(!0)},h=()=>{l&&d(l),o(!1),c(null)};return t.jsx(BT.Provider,{value:{currentMode:a,setAppMode:d,isTransitioning:i,transitionMode:l,startTransition:m,completeTransition:h},children:e})}function Ts(){const e=u.useContext(BT);if(!e)throw new Error("useAppMode must be used within an AppModeProvider");return e}const au=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"ko",name:"Korean",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:"",rtl:!0},{code:"hi",name:"Hindi",nativeName:"",flag:""},{code:"bn",name:"Bengali",nativeName:"",flag:""},{code:"pa",name:"Punjabi",nativeName:"",flag:""},{code:"jv",name:"Javanese",nativeName:"Basa Jawa",flag:""},{code:"te",name:"Telugu",nativeName:"",flag:""},{code:"mr",name:"Marathi",nativeName:"",flag:""},{code:"ta",name:"Tamil",nativeName:"",flag:""},{code:"ur",name:"Urdu",nativeName:"",flag:"",rtl:!0},{code:"gu",name:"Gujarati",nativeName:"",flag:""},{code:"kn",name:"Kannada",nativeName:"",flag:""},{code:"ml",name:"Malayalam",nativeName:"",flag:""},{code:"fa",name:"Persian",nativeName:"",flag:"",rtl:!0},{code:"th",name:"Thai",nativeName:"",flag:""},{code:"tr",name:"Turkish",nativeName:"Trke",flag:""},{code:"nl",name:"Dutch",nativeName:"Nederlands",flag:""},{code:"sv",name:"Swedish",nativeName:"Svenska",flag:""},{code:"da",name:"Danish",nativeName:"Dansk",flag:""},{code:"no",name:"Norwegian",nativeName:"Norsk",flag:""},{code:"fi",name:"Finnish",nativeName:"Suomi",flag:""},{code:"pl",name:"Polish",nativeName:"Polski",flag:""},{code:"uk",name:"Ukrainian",nativeName:"",flag:""},{code:"cs",name:"Czech",nativeName:"etina",flag:""},{code:"hu",name:"Hungarian",nativeName:"Magyar",flag:""},{code:"el",name:"Greek",nativeName:"",flag:""},{code:"bg",name:"Bulgarian",nativeName:"",flag:""},{code:"ro",name:"Romanian",nativeName:"Romn",flag:""},{code:"id",name:"Indonesian",nativeName:"Bahasa Indonesia",flag:""},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",flag:""},{code:"vi",name:"Vietnamese",nativeName:"Ting Vit",flag:""},{code:"km",name:"Khmer",nativeName:"",flag:""},{code:"he",name:"Hebrew",nativeName:"",flag:"",rtl:!0},{code:"am",name:"Amharic",nativeName:"",flag:""},{code:"sw",name:"Swahili",nativeName:"Kiswahili",flag:""},{code:"ha",name:"Hausa",nativeName:"",flag:""},{code:"yo",name:"Yoruba",nativeName:"Yorb",flag:""},{code:"ig",name:"Igbo",nativeName:"Ass Igbo",flag:""},{code:"ak",name:"Akan",nativeName:"Akan",flag:""},{code:"ee",name:"Ewe",nativeName:"Eegbe",flag:""},{code:"ga",name:"Ga",nativeName:"Ga",flag:""},{code:"dag",name:"Dagbani",nativeName:"Dagbani",flag:""},{code:"tw",name:"Twi",nativeName:"Twi",flag:""}];function GT(){try{const e=Mr("userData");return e&&JSON.parse(e).id||null}catch(e){return console.error("Error getting current user ID:",e),null}}function VV(){const e=GT();let r=null;if(e){if(r=Mr(`userLanguage-${e}`),!r){const s=Mr("userLanguage");s&&(_t(`userLanguage-${e}`,s),r=s)}}else r=Mr("userLanguage");if(r)return r;const n=navigator.language.split("-")[0];return au.some(s=>s.code===n)?n:"en"}function zV(e){const r=GT();_t(r?`userLanguage-${r}`:"userLanguage",e)}const VN={ANYWHERE:"Everyone",Afghanistan:"Afghans",Albania:"Albanians",Algeria:"Algerians",Andorra:"Andorrans",Angola:"Angolans","Antigua and Barbuda":"Antiguans",Argentina:"Argentinians",Armenia:"Armenians",Australia:"Australians",Austria:"Austrians",Azerbaijan:"Azerbaijanis",Bahamas:"Bahamians",Bahrain:"Bahrainis",Bangladesh:"Bangladeshis",Barbados:"Barbadians",Belarus:"Belarusians",Belgium:"Belgians",Belize:"Belizeans",Benin:"Beninese",Bhutan:"Bhutanese",Bolivia:"Bolivians","Bosnia and Herzegovina":"Bosnians",Botswana:"Botswanans",Brazil:"Brazilians",Brunei:"Bruneians",Bulgaria:"Bulgarians","Burkina Faso":"Burkinab",Burundi:"Burundians",Cambodia:"Cambodians",Cameroon:"Cameroonians",Canada:"Canadians","Cape Verde":"Cape Verdeans","Central African Republic":"Central Africans",Chad:"Chadians",Chile:"Chileans",China:"Chinese",Colombia:"Colombians",Comoros:"Comorians","Costa Rica":"Costa Ricans",Croatia:"Croatians",Cuba:"Cubans",Cyprus:"Cypriots","Czech Republic":"Czechs",Denmark:"Danes",Djibouti:"Djiboutians",Dominica:"Dominicans","Dominican Republic":"Dominicans",Ecuador:"Ecuadorians",Egypt:"Egyptians","El Salvador":"Salvadorans","Equatorial Guinea":"Equatorial Guineans",Eritrea:"Eritreans",Estonia:"Estonians",Eswatini:"Swazis",Ethiopia:"Ethiopians",Fiji:"Fijians",Finland:"Finns",France:"French",Gabon:"Gabonese",Gambia:"Gambians",Georgia:"Georgians",Germany:"Germans",Ghana:"Ghanaians",Greece:"Greeks",Grenada:"Grenadians",Guatemala:"Guatemalans",Guinea:"Guineans","Guinea-Bissau":"Guinea-Bissauans",Guyana:"Guyanese",Haiti:"Haitians",Honduras:"Hondurans",Hungary:"Hungarians",Iceland:"Icelanders",India:"Indians",Indonesia:"Indonesians",Iran:"Iranians",Iraq:"Iraqis",Ireland:"Irish",Israel:"Israelis",Italy:"Italians",Jamaica:"Jamaicans",Japan:"Japanese",Jordan:"Jordanians",Kazakhstan:"Kazakhstanis",Kenya:"Kenyans",Kiribati:"I-Kiribati",Kuwait:"Kuwaitis",Kyrgyzstan:"Kyrgyzstanis",Laos:"Laotians",Latvia:"Latvians",Lebanon:"Lebanese",Lesotho:"Basotho",Liberia:"Liberians",Libya:"Libyans",Liechtenstein:"Liechtensteiners",Lithuania:"Lithuanians",Luxembourg:"Luxembourgers",Madagascar:"Malagasy",Malawi:"Malawians",Malaysia:"Malaysians",Maldives:"Maldivians",Mali:"Malians",Malta:"Maltese","Marshall Islands":"Marshallese",Mauritania:"Mauritanians",Mauritius:"Mauritians",Mexico:"Mexicans",Micronesia:"Micronesians",Moldova:"Moldovans",Monaco:"Mongasques",Mongolia:"Mongolians",Montenegro:"Montenegrins",Morocco:"Moroccans",Mozambique:"Mozambicans",Myanmar:"Burmese",Namibia:"Namibians",Nauru:"Nauruans",Nepal:"Nepalese",Netherlands:"Dutch","New Zealand":"New Zealanders",Nicaragua:"Nicaraguans",Niger:"Nigeriens",Nigeria:"Nigerians","North Korea":"North Koreans","North Macedonia":"Macedonians",Norway:"Norwegians",Oman:"Omanis",Pakistan:"Pakistanis",Palau:"Palauans",Palestine:"Palestinians",Panama:"Panamanians","Papua New Guinea":"Papua New Guineans",Paraguay:"Paraguayans",Peru:"Peruvians",Philippines:"Filipinos",Poland:"Poles",Portugal:"Portuguese",Qatar:"Qataris",Romania:"Romanians",Russia:"Russians",Rwanda:"Rwandans","Saint Kitts and Nevis":"Kittitians","Saint Lucia":"Saint Lucians","Saint Vincent and the Grenadines":"Vincentians",Samoa:"Samoans","San Marino":"Sammarinese","Sao Tome and Principe":"So Tomans","Saudi Arabia":"Saudis",Senegal:"Senegalese",Serbia:"Serbians",Seychelles:"Seychellois","Sierra Leone":"Sierra Leoneans",Singapore:"Singaporeans",Slovakia:"Slovaks",Slovenia:"Slovenians","Solomon Islands":"Solomon Islanders",Somalia:"Somalis","South Africa":"South Africans","South Korea":"South Koreans","South Sudan":"South Sudanese",Spain:"Spaniards","Sri Lanka":"Sri Lankans",Sudan:"Sudanese",Suriname:"Surinamese",Sweden:"Swedes",Switzerland:"Swiss",Syria:"Syrians",Taiwan:"Taiwanese",Tajikistan:"Tajiks",Tanzania:"Tanzanians",Thailand:"Thais","Timor-Leste":"Timorese",Togo:"Togolese",Tonga:"Tongans","Trinidad and Tobago":"Trinidadians",Tunisia:"Tunisians",Turkey:"Turks",Turkmenistan:"Turkmens",Tuvalu:"Tuvaluans",Uganda:"Ugandans",Ukraine:"Ukrainians","United Arab Emirates":"Emiratis","United Kingdom":"British","United States":"Americans",Uruguay:"Uruguayans",Uzbekistan:"Uzbeks",Vanuatu:"Ni-Vanuatu","Vatican City":"Vatican Citizens",Venezuela:"Venezuelans",Vietnam:"Vietnamese",Yemen:"Yemenis",Zambia:"Zambians",Zimbabwe:"Zimbabweans"},b0="user_nationality",VT=u.createContext({country:"Ghana",setCountry:()=>{},demonym:"Ghanaians",resetCountry:()=>{}});function WV({children:e}){const{user:r}=Sr(),{data:n}=dt({queryKey:["/api/user/pool-country"],enabled:!!(r!=null&&r.id),queryFn:async()=>{console.log("[NATIONALITY-HOOK] Fetching app-specific pool country data");const m=await fetch("/api/user/pool-country",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!m.ok)return console.warn("[NATIONALITY-HOOK] Pool country fetch failed, using localStorage fallback"),null;const h=await m.json();return console.log("[NATIONALITY-HOOK] Pool country data loaded:",h),h}}),[a,s]=u.useState("MEET");u.useEffect(()=>{const m=()=>{const x=window.location.pathname;console.log("[NATIONALITY-HOOK] Checking path for app context:",x);const v=x.includes("/suite")||x.includes("/networking")||x.includes("/mentorship")||x.includes("/jobs")?"SUITE":"MEET";console.log("[NATIONALITY-HOOK] Detected app context:",v,"from path:",x),v!==a&&(console.log(`[NATIONALITY-HOOK] App context changed from ${a} to ${v}`),s(v))};m();const h=()=>{console.log("[NATIONALITY-HOOK] Navigation detected, re-detecting app context"),m()},p=history.pushState,f=history.replaceState;return history.pushState=function(...x){p.apply(this,x),setTimeout(h,0)},history.replaceState=function(...x){f.apply(this,x),setTimeout(h,0)},window.addEventListener("popstate",h),()=>{window.removeEventListener("popstate",h),history.pushState=p,history.replaceState=f}},[a]);const[i,o]=u.useState(()=>{const m=Mr(b0);console.log("[NATIONALITY-HOOK] Loaded saved country from localStorage:",m);const h=m||"ANYWHERE";return console.log("[NATIONALITY-HOOK] Using initial country:",h),h});u.useEffect(()=>{if(console.log("[NATIONALITY-HOOK] Effect triggered:",{poolCountryData:n,appContext:a,userId:r==null?void 0:r.id,currentCountry:i}),n&&(r!=null&&r.id)){const m=a==="SUITE"?n.suitePoolCountry:n.meetPoolCountry;console.log(`[NATIONALITY-HOOK] App-specific country for ${a}:`,m),console.log(`[NATIONALITY-HOOK] Current country: ${i}, Target country: ${m}`),m&&m!==i?(console.log(`[NATIONALITY-HOOK] Updating country from ${i} to ${m} for ${a} context`),o(m)):m&&console.log(`[NATIONALITY-HOOK] Country already matches target: ${m}`)}else console.log("[NATIONALITY-HOOK] Missing data:",{hasPoolData:!!n,hasUser:!!(r!=null&&r.id)})},[n,a,r==null?void 0:r.id,i]);const l=VN[i]||"Everyone",c=async m=>{if(console.log("[NATIONALITY-HOOK] Setting country to:",m),o(m),_t(b0,m),r!=null&&r.id)try{const h=a==="SUITE"?"suitePoolCountry":"meetPoolCountry";console.log(`[NATIONALITY-HOOK] Updating ${h} to ${m} in database`),me.setQueryData(["/api/user/pool-country"],f=>f&&(console.log(`[NATIONALITY-HOOK] Optimistic cache update: ${h} = ${m}`),{...f,[h]:m})),(await fetch("/api/user/pool-country",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({[h]:m})})).ok?(console.log("[NATIONALITY-HOOK] Database updated successfully"),await me.invalidateQueries({queryKey:["/api/user/pool-country"]}),console.log("[NATIONALITY-HOOK] Pool country cache refreshed from server")):(console.warn("[NATIONALITY-HOOK] Database update failed, reverting optimistic update"),await me.invalidateQueries({queryKey:["/api/user/pool-country"]}))}catch(h){console.error("[NATIONALITY-HOOK] Error updating database:",h),await me.invalidateQueries({queryKey:["/api/user/pool-country"]})}console.log("[NATIONALITY-HOOK] Country update process completed")},d=()=>{o("ANYWHERE"),_t(b0,"ANYWHERE")};return u.useEffect(()=>{_t(b0,i)},[i]),t.jsx(VT.Provider,{value:{country:i,setCountry:c,demonym:l,resetCountry:d},children:e})}function yf(){const e=u.useContext(VT);if(!e)throw new Error("useNationality must be used within a NationalityProvider");return e}const HV={slogan:"Connecting Worldwide",noMoreMatches:"No More Matches",findingMorePeople:"We're finding more people for you. Check back soon!",noPhotoAvailable:"No Photo Available",topInterests:"Top Interests",meetDescription:"Connect with singles who share your heritage and values",heatDescription:"Join conversations and social events with your community",suiteDescription:"Build professional connections within your business network",suiteSplashTitle:"SUITE",suiteSplashDescription:"Build professional connections within your business network",meetSplashTitle:"MEET",meetSplashDescription:"Connect with singles who share your heritage and values",heatSplashTitle:"HEAT",heatSplashDescription:"Join conversations and social events with your community"},KV={account:"Account",app:"App",logo:"Logo",subscription:"Subscription",logout:"Logout",save:"Save",cancel:"Cancel",back:"Back",settings:"Settings",search:"Search",loading:"Loading...",seeMore:"See More",update:"Update",details:"Details",close:"Close",yes:"Yes",no:"No",success:"Success",error:"Error",warning:"Warning",info:"Information",next:"Next",previous:"Previous",submit:"Submit",continue:"Continue",done:"Done",edit:"Edit",delete:"Delete",remove:"Remove",add:"Add",create:"Create",view:"View",select:"Select",send:"Send",receive:"Receive",free:"Free",premium:"Premium",unlimited:"Unlimited",limited:"Limited",retry:"Try Again",unknownError:"An unknown error occurred",processing:"Processing..."},qV={searchPlaceholder:"Search for a city...",noCityFound:"No city found.",selectCity:"Select your city..."},YV={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Select Mode",chooseYourAppMode:"Choose Your App Mode",meetDescription:"Find meaningful relationships and connections",heatDescription:"Connect with friends and share moments",suiteDescription:"Build your professional network and opportunities",datingApp:"Dating App",socialApp:"Social App",professionalNetwork:"Professional Network",meetLongDescription:"Connect with singles globally for dating and meaningful relationships",heatLongDescription:"Find and connect with events, cultural gatherings and social groups worldwide",suiteLongDescription:"Build career connections with professionals through mentorship, jobs, and business opportunities",continueTo:"Continue to",loading:"Loading"},QV={login:"Login",register:"Register",forgotPassword:"Forgot Password",resetPassword:"Reset Password",phoneNumber:"Phone Number",email:"Email",password:"Password",confirmPassword:"Confirm Password",verificationCode:"Verification Code",enterVerificationCode:"Enter the verification code sent to your phone",resendCode:"Resend Code",verifyPhone:"Verify Your Phone",createAccount:"Create Account",createPassword:"Create Password",passwordRequirements:"Password must contain at least 6 characters",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signIn:"Sign In",signUp:"Sign Up",welcomeBack:"Welcome Back",passwordsMatch:"Passwords match",passwordsDontMatch:"Passwords don't match",recoverPassword:"Recover Password",recoverPasswordInstructions:"Enter your email to receive a password reset link",enterCode:"Enter Code",codeExpires:"Code expires in",minutes:"minutes",seconds:"seconds",wrongCode:"Wrong code. Please try again.",verifyingCode:"Verifying Code...",verifyCode:"Verify Code",enterPassword:"Enter Password",enterPasswordPlaceholder:"Enter your password",createPasswordPlaceholder:"Create a secure password",phoneVerified:"Phone Verified",phoneVerifiedSuccessfully:"Phone Verified Successfully",createPasswordPrompt:"Now create a secure password for your account",invalidVerificationCode:"Invalid Verification Code",pleaseTryAgain:"Please try again",errorSendingCode:"Error Sending Code",checkCodeBelow:"Check the code displayed below",phoneRecognized:"Phone Number Recognized",enterPasswordToContinue:"Enter your password to continue",errorResettingPassword:"Error Resetting Password",profileCreatedSuccessfully:"Profile Created Successfully",welcomeToCharley:"Welcome to CHARLEY! Your profile has been created.",errorCreatingProfile:"Error Creating Profile",photoRequired:"Photo Required",uploadPhotoToContinue:"Please upload at least one photo to continue",createNewPassword:"Create New Password",yourResetTokenIs:"Your reset token is:",realAppEmailNote:"In a real app, this would be sent to your email",newPassword:"New Password",enterNewPassword:"Enter your new password",confirmNewPassword:"Confirm your new password",signInWithPhoneNumber:"Sign in with phone number",goBack:"Go back",continue:"Continue",byTappingSignIn:"By tapping 'Sign in with phone number', you agree to our",skipForLater:"Skip for Later",enterYourEmail:"Enter your email",cookiePolicy:"Cookie Policy",resetPasswordInstruction:"Enter your email address and we'll send you a 7-digit reset code.",terms:"Terms",learnHowWeProcess:". Learn how we process your data in our",privacyPolicy:"Privacy Policy",and:"and",termsOfService:"Terms of Service",privacyPolicyTitle:"Privacy Policy",lastUpdated:"Last Updated",effectiveDate:"Effective Date",importantNotice:"IMPORTANT",termsContainArbitration:"These Terms contain an arbitration clause and class action waiver that affects your legal rights. Please read carefully.",yourPrivacyMatters:"YOUR PRIVACY MATTERS",privacyPolicyDescription:"This policy explains how Baobab Technologies collects, uses, and protects your personal information when using CHARLEY.",viewFullTerms:"View full terms",viewFullPolicy:"View full policy",confirmPasswordPlaceholder:"Confirm your password",passwordStrength:"Password strength",passwordWeak:"Weak",passwordFair:"Fair",passwordGood:"Good",passwordStrong:"Strong",passwordStrengthTip:"Strong passwords include uppercase and lowercase letters, numbers, and special characters.",passwordMinEightChars:"Password must be at least 8 characters",passwordsDontMatchValidation:"Passwords don't match",pleaseEnterPhoneNumber:"Please enter a valid phone number",invalidCountryCode:"Phone number must include country code (e.g., +1...)",verificationCodeMustBeSeven:"Verification code must be 7 digits",pleaseEnterValidEmail:"Please enter a valid email address",enterValidDeliverableEmail:"This email address does not exist or cannot receive emails",resetCodeMustBeSeven:"Reset code must be 7 digits",fullNameRequired:"Full name is required",dateOfBirthRequired:"Date of birth is required",pleaseEnterValidDate:"Please enter a valid date",genderRequired:"Gender is required",cityAndCountryRequired:"City and country are required",pleaseUploadPhoto:"Please upload at least one photo",nextAuthentication:"Next Authentication"},JV={title:"Settings",accountInformation:"Account Information",managePersonalInformation:"Manage your personal information",managePersonalInfo:"Manage your personal information",phoneNumber:"Phone Number",email:"Email",changePassword:"Change Password",securityAndPrivacy:"Security & Privacy",manageAccountSecurity:"Manage your account security settings",manageSecuritySettings:"Manage your account security settings",twoFactorAuth:"Two-Factor Authentication",accountPrivacy:"Account Privacy",notifications:"Notifications",manageNotifications:"Manage how and when you receive alerts",newMatches:"New Matches",messages:"Messages",appUpdates:"App Updates",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",appSettings:"App Settings",customizeAppExperience:"Customize your app experience based on region",language:"Language",darkMode:"Dark Mode",dataUsage:"Data Usage",manageDataUsage:"Manage how the app uses data",autoplayVideos:"Autoplay Videos",downloadOverWifi:"Download only over Wi-Fi",subscriptionDetails:"Subscription Details",manageSubscription:"Manage Subscription",currentPlan:"Current Plan",charleyFree:"CHARLEY Free",freeAccount:"Freemium",yourCurrentPlan:"Your current plan",limitedFeatures:"Limited Features",billingInfo:"Billing Information",paymentMethods:"Payment Methods",planFeatures:"Plan Features",upgradePlan:"Upgrade Plan",featureAvailableSoon:"This feature will be available soon",upgradeToPremium:"Upgrade to Premium",upgradeForUnlimited:"Upgrade to a premium plan for unlimited features",legalAndSupport:"Legal & Support",termsAndResources:"Terms and resources",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",helpAndSupport:"Help & Support",logOut:"Log Out",loggingOut:"Logging out...",updatePhoneNumber:"Update Phone Number",securelyUpdateContact:"Securely update your contact information",enterPhoneNumber:"Enter your phone number",verificationCodeSent:"We'll send a verification code to confirm this number",updating:"Updating",updateNumber:"Update Number",showChooseAppModePage:"Show 'Choose App Mode' Page",controlWhetherToShow:"Control whether to show the app selection screen after login",showAppSelectionScreen:"Show app selection screen",whenTurnedOnYoullBeAsked:"When turned ON, you'll be asked to choose which app to use after login",showNationalitySelectionScreen:"Show nationality selection screen",whenTurnedOnReturningUsers:"When turned ON, returning users will see the nationality selection screens before app selection",languageSettings:"Language Settings",selectYourPreferredLanguage:"Select your preferred language",premiumAccess:"Premium Access",enablePremiumFeatures:"Enable premium features for testing",verificationAccess:"Verification Access",showVerificationBadge:"Show verification badge on your profile cards",subscriptionCanceled:"Subscription Canceled",changeSubscription:"Change Subscription",upgradeToPremiumSubscription:"Upgrade to Premium Subscription",legalDocuments:"Legal Documents",communityGuidelines:"Community Guidelines",updateEmailAddress:"Update Email Address",changeAccountEmail:"Change your account email securely",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",passwordStrength:"Password strength",weak:"Weak",medium:"Medium",strong:"Strong",verified:"Verified",submittedVerification:"Submitted Verification",verifyMe:"Verify Me",currentPasswordRequired:"Current Password Required",pleaseEnterCurrentPassword:"Please enter your current password",invalidNewPassword:"Invalid New Password",newPasswordMinSix:"New password must be at least 6 characters",passwordsDontMatch:"Passwords Don't Match",passwordsMustMatch:"New password and confirmation must match",invalidPhoneNumber:"Invalid Phone Number",pleaseEnterPhoneNumber:"Please enter a phone number",invalidCountryCode:"Invalid Country Code",pleaseSelectValidCountryCode:"Please select a valid country code",phoneMustHaveSevenDigits:"Phone number must have at least 7 digits after country code",invalidEmail:"Invalid Email",pleaseEnterValidEmail:"Please enter a valid email address",emailVerificationFailed:"Email Verification Failed",enterValidDeliverableEmail:"Please enter a valid, deliverable email address",emailNotVerified:"Email Not Verified",recommendVerifyEmail:"We recommend verifying your email exists before updating",enterYourEmailAddress:"Enter your email address",willSendVerificationLink:"We'll send a verification link to confirm this email",emailForRecoveryNote:"Your email address is used for account recovery, important notifications, and connection updates. Make sure to use an email you check regularly.",enterCurrentPasswordPlaceholder:"Enter your current password",createNewPasswordPlaceholder:"Create a new password",confirmNewPasswordPlaceholder:"Confirm your new password",updatePasswordSecurity:"Update your password to enhance security",strongPasswordsInclude:"Strong passwords include uppercase and lowercase letters, numbers, and special characters for maximum security.",updateEmail:"Update Email",recommendVerifyEmailBeforeUpdate:"We recommend verifying your email exists before updating",updatePasswordButton:"Update Password",cancel:"Cancel",currentLanguage:"Current Language",changeLanguage:"Change Language",appModeSettings:"App Mode Settings",nationalitySettings:"Nationality Settings",whenTurnedOffDirectLogin:"When turned OFF, you'll be logged directly into your last used app",whenTurnedOffSkipNationality:"When turned OFF, returning users will skip the nationality selection screens",regionalSettings:"Regional Settings",privacyAndDiscoveryControls:"Privacy & Discovery Controls",privacyControls:"Privacy Controls",ghostMode:"Ghost Mode",ghostModeDescription:"Hide your online status and typing indicators from other users",deleteYourCharleyAccount:"Delete Your CHARLEY Account",deleteAccountWarning:"Warning: This action is permanent and cannot be undone. All your data, matches, and messages will be deleted.",privacyControlsExplained:"Privacy Controls Explained",privacyControlsDescription:"Manage who can see your profile and how you appear in discovery across all apps",hideMeetProfile:"Hide MEET Profile",hideJobsProfile:"Hide Jobs Profile",hideMentorshipProfile:"Hide Mentorship Profile",hideNetworkingProfile:"Hide Networking Profile",hideMyAge:"Hide My Age",jobProfileDiscoveryDescription:"Your profile won't appear in job discovery",mentorshipProfileDiscoveryDescription:"Your profile won't appear in mentorship discovery",networkingProfileDiscoveryDescription:"Your profile won't appear in networking discovery",ageProfileDescription:"Your age won't be displayed on profile cards",currentOnly:"Current Only",showAll:"Show All",enterPasswordToConfirm:"Enter Password to Confirm",deleteAccount:"Delete Account"},XV={aboutMe:"About Me",aboutMePlaceholder:"Tell us about yourself...",profession:"Profession",professionPlaceholder:"What do you do?",dateOfBirth:"Date of Birth",residence:"Residence (City, Country)",residencePlaceholder:"Enter your city, country",ethnicityTribe:"Ethnicity/Tribe",selectTribe:"Select tribe",tribeSelectionMultiple:"You can select up to 2 tribes",religion:"Religion",selectReligion:"Select religion",selectReligionDenomination:"Select religion and denomination",relationshipGoal:"Relationship Goal",relationshipGoalPlaceholder:"What are you looking for?",continueButton:"Continue",createProfileButton:"Create Profile",skipForNow:"Skip for now",addPhoto:"Add Photo",uploadPhoto:"Upload Photo",photoRequired:"Photo Required",atLeastOnePhoto:"Please upload at least one photo to continue",enterCustomOption:"Enter custom option...",searchPlaceholder:"Search {{type}}...",salaryPlaceholder:"50,000"},ZV={editProfile:"Edit Profile",photos:"Photos",addPhotos:"Add Photos",aboutMe:"About Me",interests:"Interests",addInterests:"Add Interests",location:"Location",occupation:"Occupation",education:"Education",relationshipGoals:"Relationship Goals",languages:"Languages",height:"Height",age:"Age",birthday:"Birthday",gender:"Gender",male:"Male",female:"Female",religion:"Religion",tribe:"Tribe",tribes:"Tribes",selectTribes:"Select Your Tribes",selectUpToTwo:"Select up to 2 tribes",drinkingHabits:"Drinking",smokingHabits:"Smoking",personalityType:"Personality",bodyType:"Body Type",children:"Children",wantChildren:"Want Children",noPhotos:"No Photos",addSomePhotos:"Add some photos to complete your profile",complete:"complete",completeYourProfile:"Complete your profile to improve matches",profileComplete:"Your profile is complete!",uploadPhoto:"Upload Photo",profilePicture:"Profile Picture",selectFromGallery:"Select from Gallery",takePhoto:"Take Photo",updateInterests:"Update Interests",selectInterests:"Select interests that represent you",addMoreDetails:"Add More Details",enhanceProfile:"Enhance your profile with more details",updateLocation:"Update Location",confirmLocation:"Confirm your location",saveChanges:"Save Changes",discardChanges:"Discard Changes",profileUpdated:"Profile Updated",profileSaved:"Your profile has been saved successfully",profilePhotoRequired:"Profile photo is required",pleaseAddPhoto:"Please add at least one photo to continue",primaryPhoto:"Primary Photo",setAsPrimary:"Set as Primary",deletePhoto:"Delete Photo",confirmDeletePhoto:"Are you sure you want to delete this photo?",photoDeleted:"Photo Deleted",photoDeletedSuccess:"Your photo has been deleted successfully",showPreview:"Show Preview",show:"Show",yourInfo:"YOUR INFO",myInfo:"MY INFO",residence:"Residence",profession:"Profession",myPhotos:"MY PHOTOS",myPhotosHeader:"MY PHOTOS",myInterests:"MY INTERESTS",educationSection:"EDUCATION",relationshipGoalsSection:"RELATIONSHIP GOALS",whatImLookingFor:"What I'm looking for",notSpecified:"Not Specified",tribeCannotBeEdited:"Tribe cannot be edited",profilePreview:"Profile Preview",previewDescription:"This is how others see your profile when swiping",enterCityCountry:"Enter City, Country",enterProfession:"Enter Profession",selectReligion:"Select Religion",tellAboutYourself:"Tell About Yourself",whatAreYouLookingFor:"What are you looking for?",offline:"Offline",online:"Online",addPhoto:"Add Photo",noPhotosYet:"No photos added yet",userPhoto:"User photo",save:"Save",hidePreview:"Hide Preview",removingPhoto:"Removing photo from your profile...",noInterestsVisible:"No interests visible on profile",lastSeen:"Last seen {{time}}",clear:"Clear",addInterestsToProfile:"Add some interests to your profile",showOnCard:"Show on Card",myRelationshipStatus:"My Relationship Status",vocationalCollegeUniversity:"Vocational/College/University",highSchool:"High School",optionalSection:"OTHER",showOptionalFields:"Show Optional Fields",haveChildren:"Have Children",showPhoto:"Show photo",nationality:"Nationality"},ez={discover:"Discover",messages:"Messages",matches:"Matches",profile:"Profile",feed:"Feed",explore:"Explore",network:"Network",jobs:"Jobs",mentorship:"Mentorship",connections:"Connections"},tz={noJobApplicationsYet:"No job applications yet",noJobApplicationsSubtitle:"You haven't applied to any positions. Start exploring career opportunities.",browseJobs:"Browse Jobs",noNetworkingConnectionsYet:"No networking connections yet",noNetworkingConnectionsSubtitle:"You haven't made any professional matches. Start discovering and connecting with industry leaders.",startNetworking:"Start Networking",noMentorshipConnectionsYet:"No mentorship connections yet",noMentorshipConnectionsSubtitle:"You haven't matched with any mentors or mentees. Begin your mentorship journey now.",findMentors:"Find Mentors / Mentees",jobsTab:"Jobs",mentorshipTab:"Mentorship",networkTab:"Network"},rz={accountSettings:"Account Settings",datingPreferences:"Dating Preferences",contentPreferences:"Content Preferences",communityGuidelines:"Community Guidelines",notificationSettings:"Notification Settings",professionalProfile:"Professional Profile",jobAlertSettings:"Job Alert Settings",networkingPreferences:"Connections Preferences"},nz={noPhotoAvailable:"No Photo Available",topInterests:"Top Interests",noInterests:"No interests to display",errorTitle:"Error",likeError:"Could not process your like. Please try again.",noMoreMatches:"No More Matches",checkBackSoon:"We're finding more people for you. Check back soon!",noBioAvailable:"No bio available yet.",undoActionTitle:"Action Undone",undoActionDescription:"Previous action has been restored",undoFailedTitle:"Undo Failed",undoFailedDescription:"Could not undo the previous action. Please try again.",messagingTitle:"Starting a chat",messagingDescription:"Opening chat with {{name}}",messagingFailedTitle:"Message Failed",messagingFailedDescription:"Could not start a chat. Please try again."},az={matches:"Matches",newMatches:"New Matches",noMatches:"No Matches Yet",noMatchesDescription:"When you match with someone, they'll appear here",keepSwiping:"Keep Swiping",itsAMatch:"It's a Match!",youAndUserLikedEachOther:"You and {{name}} liked each other",sendMessage:"Send Message",potentialMatches:"Potential Matches",noPotentialMatches:"No potential matches at the moment",tryAgainLater:"Please try again later",mutualInterests:"Mutual Interests",compatibility:"Compatibility"},sz={chats:"Chats",messages:"Messages",noMessages:"No Messages Yet",noMessagesDescription:"Start a conversation with your matches",typeMessage:"Type a message...",sendingMessage:"Sending...",autoDelete:"Auto-Delete Messages",autoDeleteNever:"Never",autoDeleteAlways:"Always",autoDeleteCustom:"Custom",autoDeleteMinutes:"Minutes",autoDeleteHours:"Hours",autoDeleteDays:"Days",autoDeleteWeeks:"Weeks",autoDeleteMonths:"Months",unmatch:"Unmatch",chatOptions:"Chat Options",failedToSend:"Failed to send",retryMessageSend:"Tap to retry",online:"Online",offline:"Offline",lastSeen:"Last seen {{time}}",typing:"typing...",yourMessage:"Your message",theirMessage:"Their message",unreadMessages:"Unread Messages",newMessage:"New Message",deleteConversation:"Delete Conversation",confirmDeleteConversation:"Are you sure you want to delete this conversation?",conversationDeleted:"Conversation Deleted",conversationDeletedSuccess:"The conversation has been deleted successfully",startConversation:"Start a Conversation",sayHello:"Say hello to {{name}} and start a connection!",deleteMessageConfirm:"Are you sure you want to delete this message?",messageDeleted:"Message Deleted",options:"Options",errorLoading:"Error loading messages",saveMessages:"Save Messages",translate:"Translate Messages",report:"Report User",block:"Block User",videoCall:"Video Call",audioCall:"Audio Call",sendPhoto:"Send Photo",sendGif:"Send GIF",sendEmoji:"Send Emoji",today:"Today",yesterday:"Yesterday",sendingFailed:"Message failed to send",retry:"Retry",delete:"Delete",messageWillBeDeleted:"This message will be permanently deleted",sendingMedia:"Sending media...",readReceipt:"Read",deliveredReceipt:"Delivered",recordAudio:"Record Audio",stopRecording:"Stop Recording",discardRecording:"Discard Recording",sendRecording:"Send Recording",typeAMessage:"Type a message",messageToUser:"Message to {{name}}",messageSent:"Message sent",messageFailed:"Failed to send message. Tap to retry.",reconnecting:"Reconnecting...",lostConnection:"Connection lost",connecting:"Connecting...",connected:"Connected"},iz={yourConnections:"Your Connections",yourChats:"Your Chats",professionalNetwork:"Professional Network",searchPlaceholder:"Search conversations...",searchProfessionals:"Search professionals, companies, and jobs...",allMessages:"All Messages",unread:"Unread",newMatches:"New Matches",newConnections:"New Connectionsssss",directMessages:"Direct Messages",communities:"Communities",professionals:"Professionals",companies:"Companies",opportunities:"Opportunities",noConversationsMatching:"No conversations matching your search",noUnreadMessages:"No unread messages",noNewMatches:"No new matches",noConversationsYet:"No conversations yet",noDirectMessagesYet:"No direct messages yet",noCommunitiesYet:"No communities joined yet",noProfessionalsYet:"No professional connections yet",noCompaniesYet:"No company connections yet",noOpportunitiesYet:"No job opportunities yet",noCommunitiesMatching:"No communities matching your search",noProfessionalsMatching:"No professionals matching your search",noCompaniesMatching:"No companies matching your search",noOpportunitiesMatching:"No opportunities matching your search",trendingCommunities:"Trending Communities",noTrendingCommunities:"No trending communities at the moment",findMatches:"Find Matches",exploreUsers:"Explore Users",discoverCommunities:"Discover Communities",buildNetwork:"Build Your Network",discoverCompanies:"Discover Companies",findOpportunities:"Find Opportunities",sayHello:"Say hello...",joinConversation:"Join the conversation...",connectProfessionally:"Connect professionally...",companyInformation:"Company information and updates...",jobDetails:"Job details and application info..."},oz={videoCall:"Video Call",startVideoCall:"Start Video Call",incomingCall:"Incoming Call",isCallingYou:"{{name}} is calling you",answer:"Answer",decline:"Decline",calling:"Calling...",connecting:"Connecting...",callEnded:"Call Ended",callDuration:"Call duration: {{time}}",callFailed:"Call Failed",callFailedDescription:"Unable to establish call connection",tryAgain:"Try Again",endCall:"End Call",mute:"Mute",unmute:"Unmute",speaker:"Speaker",camera:"Camera",switchCamera:"Switch Camera",missedCall:"Missed Call",missedCallDescription:"You missed a call from {{name}}",callBack:"Call Back"},lz={photoAdded:"Photo added",photoAddedDescription:"Your photo has been added to your profile",errorAddingPhoto:"Error adding photo",unknownError:"Unknown error occurred",deletingPhoto:"Deleting photo",photoDeleted:"Photo deleted",photoDeletedDescription:"Your photo has been removed from your profile",errorDeletingPhoto:"Error deleting photo",updatingPrimaryPhoto:"Updating primary photo",settingProfilePicture:"Setting your profile picture...",primaryPhotoUpdated:"Primary photo updated",profilePictureUpdated:"Your profile picture has been updated",errorUpdatingPrimaryPhoto:"Error updating primary photo",profileUpdated:"Profile updated",profileUpdatedDescription:"Your profile has been updated successfully",errorUpdatingProfile:"Error updating profile"},cz={loadingMessages:"Failed to load messages",tryAgainLater:"Please try again later",networkError:"Network connection issue",serverError:"Server error occurred",unauthorized:"Unauthorized access",notFound:"Resource not found",connectionLost:"Connection lost",couldNotLoadConversation:"Could not load the conversation. Please try again later."},dz={reconnect:"Reconnect",reconnecting:"Reconnecting",retry:"Retry",refresh:"Refresh"},uz={network:"Network",jobs:"Jobs",connections:"Connections",mentorship:{mentor:"Mentor",mentee:"Mentee",areasOfExpertise:"Areas of expertise",learningGoals:"Learning goals",timeCommitment:"Time commitment",mentorshipStyle:"Mentorship style",availability:"Availability",languagesSpoken:"Languages spoken",preferredFormat:"Preferred format",communicationStyle:"Communication style"},actionFailed:"Action Failed",couldNotProcess:"Could not process your action. Please try again.",connectionTabs:{networking:"Networking",mentorship:"Mentorship",jobs:"Job Applications"},connectionStatus:{matched:"Matched",pending:"Pending",total:"Total Connections"},labels:{lookingFor:"Looking for",canOffer:"Can offer",sharedInterests:"Shared interests",areasOfExpertise:"Areas of expertise",timeCommitment:"Time commitment",professionalTag:"Professional tag",currentRole:"Current role",industry:"Industry",availability:"Availability",applicationStatus:"Application status",applied:"Applied",noConnections:"No connections yet",startNetworking:"Start networking to see your connections here",messageConnection:"Message",viewProfile:"View Profile"},jobPositions:{seniorFrontendDeveloper:"Senior Frontend Developer",productManager:"Product Manager",uxDesignerIntern:"UX Designer Intern",dataScientist:"Data Scientist",businessAnalyst:"Business Analyst",marketingSpecialist:"Marketing Specialist"},companies:{techCorpGhana:"TechCorp Ghana",agriTechSolutions:"AgriTech Solutions",designStudioAccra:"Design Studio Accra",ghanaFintech:"Ghana Fintech",innovateGH:"Innovate GH"},locations:{accraGhana:"Accra, Ghana",kumasiGhana:"Kumasi, Ghana",remote:"Remote",takoradiGhana:"Takoradi, Ghana"},workTypes:{remote:"Remote",inPerson:"In-person",hybrid:"Hybrid"},jobDescriptions:{joinGhanaFastestGrowing:"Join Ghana's fastest-growing fintech company and help democratize financial services across West Africa.",leadInnovativeSolutions:"Lead innovative solutions that empower smallholder farmers and transform Ghana's agricultural sector.",getHandsOnExperience:"Get hands-on experience designing digital products that solve real problems for African users.",buildScalableDataSystems:"Build scalable data systems that drive insights for Ghana's emerging digital economy.",optimizeBusinessProcesses:"Optimize business processes for Ghana's leading e-commerce platform."},skills:{react:"React",typeScript:"TypeScript",nodeJs:"Node.js",aws:"AWS",productStrategy:"Product Strategy",dataAnalysis:"Data Analysis",userResearch:"User Research",agile:"Agile",figma:"Figma",prototyping:"Prototyping",designSystems:"Design Systems",python:"Python",machineLearning:"Machine Learning",sql:"SQL",tableau:"Tableau"},networking:{professionalNetworking:"Professional networking",lookingFor:"Looking for",canOffer:"Can offer",sharedInterests:"Shared interests",sparkIndicator:"Spark indicator",professionalTag:"Professional tag",currentRole:"Current role",industry:"Industry"}},mz={discover:"Discover",matches:"Matches",messages:"Messages",profile:"Profile",swipeActions:{like:"Like",dislike:"Pass",superLike:"Super Like",undo:"Undo"},matchModal:{itsAMatch:"It's a Match!",youAndUserLiked:"You and {{name}} liked each other",startConversation:"Start Conversation",keepSwiping:"Keep Swiping"},preferences:{ageRange:"Age range",distance:"Distance",religion:"Religion",education:"Education",tribes:"Tribes",bodyType:"Body type",dealBreakers:"Deal breakers",interests:"Interests"}},hz={title:"ID Verification",verifyYourIdentity:"Verify Your Identity",description:"Upload your government ID and take a live photo to earn a verification badge on your profile.",governmentIdPhoto:"Government ID Photo",liveVerificationPhoto:"Live Verification Photo",uploadGovernmentId:"Upload Government ID",acceptedDocuments:"Driver's license, passport, or national ID",takeLivePhoto:"Take Live Photo",selfieForVerification:"Selfie for verification",removePhoto:"Remove photo",submitVerification:"Submit Verification",uploadBothPhotos:"Upload Both Photos to Continue",submitting:"Submitting...",verificationSubmitted:"Verification Submitted!",verificationSubmittedDescription:"Your ID verification has been successfully submitted for review.",fileTooLarge:"File too large",fileTooLargeDescription:"Please select an image smaller than 10MB",verificationFailed:"Verification failed",verificationFailedDescription:"Failed to update verification photos",missingPhotos:"Missing photos",missingPhotosDescription:"Please upload both your ID and take a live photo"},pz={pageTitle:"Connection Preferences",title:"Connection Preferences",header:"Connection Preferences",description:"Customize your preferences for professional networking, job discovery, and mentorship",savePreferences:"Save Preferences",clearAll:"Clear All",loading:"Loading preferences...",saving:"Saving...",successSaved:"Preferences saved successfully!",errorSaving:"Error saving preferences",completeFieldsMessage:"Complete these fields for better matches",allCompleted:"All preferences completed!",profileRequired:"Profile Required",profileRequiredMessage:"To access {{section}} preferences, you need to create an active {{profile}} profile first.",cancel:"Cancel",createProfile:"Create Profile",moreMissing:"+{{count}} more",addCustomOption:"Add Custom Option",enterCustomOption:"Enter custom option...",jobs:{title:"Job Discovery Preferences",workArrangement:"Work Arrangement",workLocation:"Work Location",functionalAreas:"Functional Areas",minSalary:"Minimum Salary",maxSalary:"Maximum Salary",currency:"Currency"},mentorship:{title:"Mentorship & Learning Preferences",lookingFor:"Looking For",topics:"Topics of Interest",format:"Preferred Format",timeCommitment:"Time Commitment",roles:{mentor:"Mentor",mentee:"Mentee",both:"Both"},formats:{oneOnOne:"One-on-One",groupSessions:"Group Sessions",workshops:"Workshops",online:"Online",inPerson:"In Person"}},networking:{title:"Professional Networking Preferences",purpose:"Networking Purpose",seniority:"Seniority Level",functionalAreas:"Functional Areas",eventPreference:"Event Preference",purposes:{careerAdvancement:"Career Advancement",businessDevelopment:"Business Development",knowledgeSharing:"Knowledge Sharing",mentorship:"Mentorship",jobOpportunities:"Job Opportunities",collaboration:"Collaboration"}},global:"Global",jobsPreferences:"Jobs Preferences",mentorshipPreferences:"Mentorship Preferences",networkingPreferences:"Networking Preferences",globalPreferences:"Global Preferences",industry:"Industry",skills:"Skills",salaryRange:"Salary Range",educationLevel:"Education Level",workLocation:"Work Location",jobTypes:"Job Types",jobProfile:"Job",mentorshipProfile:"Mentorship",networkingProfile:"Networking",workArrangement:"Work Arrangement",experienceLevel:"Experience Level",matchingPriorities:"Matching Priorities",whatLookingFor:"What You're Looking For",areasOfExpertise:"Areas of Expertise",locationPreference:"Location Preference",networkingPurpose:"Networking Purpose",companySize:"Company Size",seniorityLevel:"Seniority Level",dealBreakers:"Deal Breakers",sections:{networking:"Professional Networking",jobs:"Job Discovery",mentorship:"Mentorship & Learning"},common:{industry:"Industry",areasOfExpertise:"Areas of Expertise",skills:"Skills",educationLevel:"Education Level",experienceLevel:"Experience Level",location:"Location",locationPreference:"Location Preference",remote:"Remote",hybrid:"Hybrid",onSite:"On-site",anyLocation:"Any Location",companySize:"Company Size",salaryRange:"Salary Range",workStyle:"Work Style",jobType:"Job Type",fullTime:"Full-time",partTime:"Part-time",contract:"Contract",internship:"Internship",freelance:"Freelance",startup:"Startup (1-50)",smallCompany:"Small Company (51-200)",mediumCompany:"Medium Company (201-1000)",largeCompany:"Large Company (1000+)",enterprise:"Enterprise (5000+)",dealBreakers:"Deal Breakers",weights:"Importance Weights"}},fz={app:HV,common:KV,cities:qV,appMode:YV,auth:QV,settings:JV,profileCreation:XV,profile:ZV,navigation:ez,suiteConnections:tz,settingsMenu:rz,swipeCard:nz,matches:az,chat:sz,messages:iz,videoCalls:oz,toast:lz,errors:cz,actions:dz,suite:uz,meet:mz,idVerification:hz,connectionsPreferences:pz},gz={slogan:"Connexion Mondiale",noMoreMatches:"Plus de matchs disponibles",findingMorePeople:"Nous recherchons plus de personnes pour vous. Revenez bientt !",noPhotoAvailable:"Pas de photo disponible",topInterests:"Centres d'intrt principaux:",meetDescription:"Connectez-vous avec des clibataires qui partagent votre hritage et vos valeurs ghanennes",heatDescription:"Rejoignez des conversations et des vnements sociaux avec la communaut ghanenne",suiteDescription:"tablissez des connexions professionnelles au sein du rseau d'affaires ghanen",suiteSplashTitle:"SUITE",suiteSplashDescription:"Crez des connexions professionnelles dans votre rseau d'affaires",meetSplashTitle:"MEET",meetSplashDescription:"Rencontrez des clibataires qui partagent vos valeurs",heatSplashTitle:"HEAT",heatSplashDescription:"Rejoignez conversations et vnements avec votre communaut"},xz={discover:"Dcouvrir",messages:"Messages",matches:"Matchs",profile:"Profil",feed:"Fil d'actualit",explore:"Explorer",network:"Rseau",jobs:"Emplois",mentorship:"Mentorat",connections:"Connexions"},yz={noJobApplicationsYet:"Aucune candidature encore",noJobApplicationsSubtitle:"Vous n'avez postul  aucun poste. Commencez  explorer les opportunits de carrire.",browseJobs:"Parcourir les Emplois",noNetworkingConnectionsYet:"Aucune connexion rseau encore",noNetworkingConnectionsSubtitle:"Vous n'avez fait aucun match professionnel. Commencez  dcouvrir et vous connecter avec les leaders de l'industrie.",startNetworking:"Commencer le Rseautage",noMentorshipConnectionsYet:"Aucune connexion de mentorat encore",noMentorshipConnectionsSubtitle:"Vous n'avez match avec aucun mentor ou mentee. Commencez votre parcours de mentorat maintenant.",findMentors:"Trouver Mentors / Mentees",jobsTab:"Emplois",mentorshipTab:"Mentorat",networkTab:"Rseau"},vz={matches:"Matchs",newMatches:"Nouveaux Matchs",noMatches:"Aucun Match Encore",noMatchesDescription:"Quand vous matcherez avec quelqu'un, il apparatra ici",whenYouMatch:"Quand vous matcherez avec quelqu'un, il apparatra ici",startSwiping:"Commencer  Swiper",keepSwiping:"Continuer  Swiper",itsAMatch:"C'est un Match !",youAndUserLikedEachOther:"Vous et {{name}} vous tes plu mutuellement",sendMessage:"Envoyer un Message",potentialMatches:"Matchs Potentiels",noPotentialMatches:"Aucun match potentiel pour le moment",tryAgainLater:"Veuillez ressayer plus tard",mutualInterests:"Intrts Mutuels",compatibility:"Compatibilit"},bz={accountSettings:"Paramtres du Compte",datingPreferences:"Prfrences de Rencontres",contentPreferences:"Prfrences de Contenu",communityGuidelines:"Rgles de la Communaut",notificationSettings:"Paramtres de Notification",professionalProfile:"Profil Professionnel",jobAlertSettings:"Paramtres d'Alertes d'Emploi",networkingPreferences:"Prfrences de Rseau"},wz={searchPlaceholder:"Rechercher une ville...",noCityFound:"Aucune ville trouve.",selectCity:"Slectionnez votre ville..."},jz={chooseYourAppMode:"Choisissez Votre Mode d'Application",meet:"MEET",heat:"HEAT",suite:"SUITE",datingApp:"Application de Rencontres",socialApp:"Application Sociale",professionalNetwork:"Rseau Professionnel",meetLongDescription:"Connectez-vous avec des clibataires qui partagent votre hritage et vos valeurs",heatLongDescription:"Rejoignez des conversations et des vnements sociaux avec votre communaut",suiteLongDescription:"tablissez des connexions professionnelles au sein de votre rseau d'affaires",continueTo:"Continuer vers",loading:"Chargement"},Nz={showChooseAppModePage:"Afficher la page 'Choisir le mode d'application'",controlWhetherToShow:"Contrler s'il faut afficher l'cran de slection d'application aprs la connexion",showAppSelectionScreen:"Afficher l'cran de slection d'application",whenTurnedOnYoullBeAsked:"Lorsqu'elle est active, il vous sera demand de choisir quelle application utiliser aprs la connexion",showNationalitySelectionScreen:"Afficher l'cran de slection de nationalit",whenTurnedOnReturningUsers:"Lorsqu'elle est active, les utilisateurs de retour verront les crans de slection de nationalit avant la slection d'application",languageSettings:"Paramtres de langue",selectYourPreferredLanguage:"Slectionnez votre langue prfre",currentLanguage:"Langue actuelle",changeLanguage:"Changer de langue",appModeSettings:"Paramtres du mode d'application",nationalitySettings:"Paramtres de nationalit",whenTurnedOffDirectLogin:"Lorsqu'elle est dsactive, vous serez connect directement  votre dernire application utilise",whenTurnedOffSkipNationality:"Lorsqu'elle est dsactive, les utilisateurs de retour ignoreront les crans de slection de nationalit",regionalSettings:"Paramtres rgionaux",customizeAppExperience:"Personnalisez votre exprience d'application en fonction de la rgion",premiumAccess:"Accs Premium",enablePremiumFeatures:"Activer les fonctionnalits premium pour les tests",verificationAccess:"Accs de Vrification",showVerificationBadge:"Afficher le badge de vrification sur vos cartes de profil",accountInformation:"Informations du Compte",managePersonalInfo:"Grer vos informations personnelles",managePersonalInformation:"Grer vos informations personnelles",securityAndPrivacy:"Scurit et Confidentialit",manageSecuritySettings:"Grer les paramtres de scurit de votre compte",manageAccountSecurity:"Grer les paramtres de scurit de votre compte",twoFactorAuth:"Authentification  Deux Facteurs",accountPrivacy:"Confidentialit du Compte",phoneNumber:"Numro de tlphone",email:"E-mail",changePassword:"Changer le mot de passe",language:"Langue",darkMode:"Mode Sombre",basedOnLocation:"Bas sur {{location}}",yourLocation:"votre localisation",charleyPremium:"CHARLEY Premium",yourCurrentPlan:"Votre plan actuel",allFeaturesUnlocked:"Toutes les fonctionnalits dbloques",youHaveAccess:"Vous avez accs  toutes les fonctionnalits premium incluant",ghostMode:"Mode Fantme",hideMyAge:"Masquer Mon ge",enhancedPrivacyControls:"et contrles de confidentialit amliors",subscriptionCanceled:"Abonnement Annul",premiumAccessContinues:"L'accs premium continue jusqu'au {{date}}. Vous pouvez ractiver  tout moment avant cette date.",changeSubscription:"Changer l'abonnement",manageSubscription:"Grer l'Abonnement",verifyMe:"Vrifiez-Moi",verified:"Vrifi",legalSupport:"Juridique et Support",legalAndSupport:"Juridique et Support",termsAndResources:"Conditions et ressources",legalDocuments:"Documents Juridiques",privacyPolicy:"Politique de Confidentialit",termsOfService:"Conditions d'Utilisation",communityGuidelines:"Rgles de la Communaut",helpSupport:"Aide et Support",helpAndSupport:"Aide et Support",logOut:"Se Dconnecter",updatePhoneNumber:"Mettre  jour le numro de tlphone",securelyUpdateContact:"Mettez  jour en toute scurit vos informations de contact",updateEmail:"Mettre  jour l'adresse e-mail",securelyUpdateEmail:"Modifiez votre adresse e-mail de compte en toute scurit",updatePassword:"Mettre  jour le mot de passe",securelyUpdatePassword:"Mettez  jour en toute scurit votre mot de passe",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le mot de passe",currentPassword:"Mot de passe actuel",updating:"Mise  jour...",update:"Mettre  jour",downgradeConfirmation:"tes-vous sr de vouloir rtrograder ?",loseAccessPremium:"Vous perdrez l'accs  ces fonctionnalits premium :",hideMyAgeFeature:"Masquer mon ge aux autres utilisateurs",advancedMatchingAlgorithms:"Algorithmes de correspondance avancs",priorityDiscoveryQueue:"Priorit dans la file d'attente de dcouverte",enhancedProfileVisibility:"Visibilit de profil amliore",premiumCustomerSupport:"Support client premium",upgradeLaterNote:"Vous pouvez toujours effectuer une mise  niveau plus tard, mais vos avantages premium s'arrteront immdiatement.",keepPremium:"Conserver Premium",confirmDowngrade:"Confirmer la rtrogradation",downgrading:"Rtrogradation en cours...",yesDowngrade:"Oui, rtrograder",manageYourSubscription:"Grer votre abonnement",close:"Fermer",updateEmailAddress:"Mettre  jour l'adresse e-mail",changeAccountEmail:"Modifiez votre adresse e-mail de compte en toute scurit",emailAddress:"Adresse e-mail",enterEmailAddress:"Entrez votre adresse e-mail",emailVerified:"E-mail vrifi",confidence:"confiance",emailVerificationFailed:"chec de la vrification de l'e-mail",verificationLinkNote:"Nous enverrons un lien de vrification pour confirmer cet e-mail",emailImportantNote:"Votre adresse e-mail est utilise pour la rcupration de compte, les notifications importantes et les mises  jour de connexion. Assurez-vous d'utiliser un e-mail que vous consultez rgulirement.",createNewPasswordPlaceholder:"Crez un nouveau mot de passe scuris",confirmNewPasswordPlaceholder:"Confirmez votre nouveau mot de passe",passwordStrength:"Force du mot de passe",weak:"Faible",medium:"Moyen",strong:"Fort",passwordsMatch:"Les mots de passe correspondent",passwordsDoNotMatch:"Les mots de passe ne correspondent pas",passwordsMustMatch:"Les mots de passe correspondent",passwordsDontMatch:"Les mots de passe ne correspondent pas",strongPasswordsInclude:"Les mots de passe forts incluent au moins 6 caractres, un mlange de lettres et de chiffres.",passwordImportantNote:"Votre mot de passe protge votre compte. Choisissez quelque chose d'unique que vous vous souviendrez. Votre mot de passe doit contenir au moins 6 caractres.",updatePasswordButton:"Mettre  jour le mot de passe",verificationCodeNote:"Nous enverrons un code de vrification pour confirmer ce numro",verificationCodeSent:"Nous enverrons un code de vrification pour confirmer ce numro",updateNumber:"Mettre  jour le numro",upgradeToaPremiumPlan:"Passer  un plan premium pour des fonctionnalits illimites",upgradeToPremium:"Passer  Premium",limitedFeatures:"Fonctionnalits limites",unlockAdvancedPrivacy:"Dbloquez des contrles de confidentialit avancs et des fonctionnalits exclusives",advancedPrivacyControls:"Contrles de Confidentialit Avancs",hideProfilesGhostMode:"Masquer les profils, activer le mode fantme et plus",unlimitedMatches:"Matchs Illimits",noDailyLimits:"Aucune limite quotidienne sur les connexions",prioritySupport:"Support Prioritaire",fastResponseTimes:"Temps de rponse rapides et aide personnalise",getStarted:"Commencer",advancedFilters:"Filtres Avancs",findExactlyWhatLookingFor:"Trouvez exactement ce que vous cherchez",privacyAndDiscoveryControls:"Contrles de Confidentialit et de Dcouverte",privacyControls:"Contrles de Confidentialit",showAll:"Tout Afficher",hideJobsProfile:"Masquer le Profil d'Emploi",jobProfileDiscoveryDescription:"Votre profil d'emploi n'apparatra pas dans la dcouverte professionnelle",hideMentorshipProfile:"Masquer le Profil de Mentorat",mentorshipProfileDiscoveryDescription:"Votre profil de mentorat n'apparatra pas dans la dcouverte mentor/mentor",hideNetworkingProfile:"Masquer le Profil de Rseautage",networkingProfileDiscoveryDescription:"Votre profil de rseautage n'apparatra pas dans les connexions professionnelles",ageProfileDescription:"Votre ge n'apparatra pas sur votre profil MEET lorsque les autres vous voient en dcouverte",ghostModeDescription:"Masquez votre statut en ligne et les indicateurs de frappe de toutes les conversations",deleteYourCharleyAccount:"Supprimer Votre Compte CHARLEY",deleteAccountWarning:"Cette action ne peut pas tre annule. Toutes vos donnes, matchs et conversations seront dfinitivement supprims.",enterPasswordToConfirm:"Entrez votre mot de passe pour confirmer",deleteAccount:"Supprimer le Compte",privacyControlsExplained:"Contrles de Confidentialit Expliqus",privacyControlsDescription:"Ces contrles grent votre visibilit dans les flux de dcouverte. Lorsqu'ils sont masqus, votre profil n'apparatra pas aux autres, mais les matchs et conversations existants restent actifs."},kz={continue:"Continuer",loading:"Chargement...",cancel:"Annuler",processing:"Traitement en cours..."},Sz={enterPassword:"Entrez le mot de passe",createPassword:"Crer un mot de passe",enterPasswordPlaceholder:"Entrez votre mot de passe",createPasswordPlaceholder:"Crez votre mot de passe",signInWithPhoneNumber:"Connexion par tlphone",byTappingSignIn:"En appuyant sur 'Connexion par tlphone', vous acceptez nos",cookiePolicy:"Politique de Cookies",terms:"Conditions",learnHowWeProcess:". Dcouvrez comment nous traitons vos donnes dans notre",privacyPolicy:"Politique de Confidentialit",and:"et",termsOfService:"Conditions d'Utilisation",privacyPolicyTitle:"Politique de Confidentialit",lastUpdated:"Dernire Mise  Jour",effectiveDate:"Date d'Entre en Vigueur",importantNotice:"IMPORTANT",termsContainArbitration:"Ces Conditions contiennent une clause d'arbitrage et une renonciation aux recours collectifs qui affectent vos droits lgaux. Veuillez lire attentivement.",yourPrivacyMatters:"VOTRE VIE PRIVE COMPTE",privacyPolicyDescription:"Cette politique explique comment Baobab Technologies collecte, utilise et protge vos informations personnelles lors de l'utilisation de CHARLEY.",viewFullTerms:"Voir les conditions compltes",viewFullPolicy:"Voir la politique complte",confirmPassword:"Confirmer le Mot de Passe",confirmPasswordPlaceholder:"Confirmez votre mot de passe",passwordsMatch:"Les mots de passe correspondent",passwordsDontMatch:"Les mots de passe ne correspondent pas",passwordStrength:"Force du mot de passe",passwordWeak:"Faible",passwordFair:"Correct",passwordGood:"Bon",passwordStrong:"Fort",passwordStrengthTip:"Les mots de passe forts incluent des lettres majuscules et minuscules, des chiffres et des caractres spciaux.",passwordMinEightChars:"Le mot de passe doit contenir au moins 8 caractres",passwordsDontMatchValidation:"Les mots de passe ne correspondent pas",pleaseEnterPhoneNumber:"Veuillez entrer un numro de tlphone valide",invalidCountryCode:"Le numro de tlphone doit inclure l'indicatif pays (ex: +1...)",verificationCodeMustBeSeven:"Le code de vrification doit contenir 7 chiffres",pleaseEnterValidEmail:"Veuillez entrer une adresse email valide",enterValidDeliverableEmail:"Cette adresse email n'existe pas ou ne peut pas recevoir d'emails",resetCodeMustBeSeven:"Le code de rinitialisation doit contenir 7 chiffres",fullNameRequired:"Le nom complet est requis",dateOfBirthRequired:"La date de naissance est requise",pleaseEnterValidDate:"Veuillez entrer une date valide",genderRequired:"Le sexe est requis",cityAndCountryRequired:"La ville et le pays sont requis",pleaseUploadPhoto:"Veuillez tlcharger au moins une photo",nextAuthentication:"Authentification Suivante",goBack:"Retour",signIn:"Se Connecter",forgotPassword:"Mot de Passe Oubli"},Cz={noConversationsYet:"Aucune conversation pour le moment",noConversationsMatching:"Aucune conversation correspondant  votre recherche"},Ez={editProfile:"Modifier le Profil",photos:"Photos",addPhotos:"Ajouter des Photos",aboutMe:" Propos de Moi",interests:"Centres d'Intrt",addInterests:"Ajouter des Centres d'Intrt",location:"Localisation",occupation:"Profession",education:"ducation",relationshipGoals:"Objectifs Relationnels",languages:"Langues",height:"Taille",age:"ge",birthday:"Anniversaire",gender:"Genre",male:"Homme",female:"Femme",religion:"Religion",tribe:"Tribu",tribes:"Tribus",residence:"Rsidence",profession:"Profession",myPhotos:"Mes Photos",whatImLookingFor:"Ce Que Je Cherche",addPhoto:"Ajouter une Photo",noPhotosYet:"Aucune photo ajoute",userPhoto:"Photo utilisateur",notSpecified:"Non spcifi",tribeCannotBeEdited:"La tribu ne peut pas tre modifie",show:"Afficher",save:"Enregistrer",showPreview:"Afficher l'Aperu",hidePreview:"Masquer l'Aperu",whatAreYouLookingFor:"Que recherchez-vous ?",removingPhoto:"Suppression de la photo de votre profil...",profilePreview:"Aperu du Profil",myInfo:"MES INFORMATIONS",myInterests:"MES CENTRES D'INTRT",relationshipGoalsSection:"OBJECTIFS RELATIONNELS",educationSection:"DUCATION",myRelationshipStatus:"Mon Statut Relationnel",whatImLookingForSection:"Ce Que Je Cherche",highSchool:"Lyce",vocationalCollegeUniversity:"Professionnel/Collge/Universit",addInterestsToProfile:"Ajoutez des centres d'intrt  votre profil",showOnCard:"Afficher sur la Carte",active:"Actif",inactive:"Inactif",delete:"Supprimer",addSomeInterestsToYourProfile:"Ajoutez quelques centres d'intrt  votre profil",showPhoto:"Afficher photo",myPhotosHeader:"MES PHOTOS",nationality:"Nationalit",optional:"optionnel"},Pz={pageTitle:"Prfrences de Connexion",title:"Prfrences de Connexion",header:"Prfrences de Connexion",description:"Personnalisez vos prfrences pour le rseautage professionnel, la dcouverte d'emplois et le mentorat",savePreferences:"Enregistrer les Prfrences",clearAll:"Tout Effacer",loading:"Chargement des prfrences...",saving:"Enregistrement...",successSaved:"Prfrences enregistres avec succs!",errorSaving:"Erreur lors de l'enregistrement des prfrences",completeFieldsMessage:"Compltez ces champs pour de meilleurs matches",allCompleted:"Toutes les prfrences compltes!",profileRequired:"Profil Requis",profileRequiredMessage:"Pour accder aux prfrences {{section}}, vous devez d'abord crer un profil {{profile}} actif.",cancel:"Annuler",createProfile:"Crer un Profil",moreMissing:"+{{count}} de plus",addCustomOption:"Ajouter une Option Personnalise",enterCustomOption:"Entrez une option personnalise...",jobs:"Emplois",mentorship:"Mentorat",networking:"Rseautage",global:"Global",jobsPreferences:"Prfrences Emplois",mentorshipPreferences:"Prfrences Mentorat",networkingPreferences:"Prfrences Rseautage",globalPreferences:"Prfrences Globales",industry:"Industrie",skills:"Comptences",salaryRange:"Fourchette Salariale",educationLevel:"Niveau d'ducation",workLocation:"Lieu de Travail",jobTypes:"Types d'Emplois",workArrangement:"Modalits de Travail",experienceLevel:"Niveau d'Exprience",companySize:"Taille d'Entreprise",areasOfExpertise:"Domaines d'Expertise",locationPreference:"Prfrence de Localisation",whatLookingFor:"Ce Que Je Cherche",networkingPurpose:"Objectif du Rseautage",seniorityLevel:"Niveau de Sniorit",matchingPriorities:"Priorits de Correspondance",dealBreakers:"Critres liminatoires"},Az={app:gz,navigation:xz,suiteConnections:yz,matches:vz,settingsMenu:bz,cities:wz,appMode:jz,settings:Nz,common:kz,auth:Sz,messages:Cz,profile:Ez,connectionsPreferences:Pz},Mz={slogan:"Conctate con ghaneses en todo el mundo",noMoreMatches:"No hay ms coincidencias",findingMorePeople:"Estamos buscando ms personas para ti. Vuelve pronto!",noPhotoAvailable:"No hay foto disponible",topInterests:"Intereses principales:",meetDescription:"Conctate con solteros que comparten tu herencia y valores ghaneses",heatDescription:"nete a conversaciones y eventos sociales con la comunidad ghanesa",suiteDescription:"Construye conexiones profesionales dentro de la red empresarial ghanesa"},Tz={discover:"Descubrir",messages:"Mensajes",matches:"Coincidencias",profile:"Perfil",feed:"Feed",explore:"Explorar",network:"Red",jobs:"Empleos",connections:"Conexiones"},Iz={accountSettings:"Configuracin de cuenta",datingPreferences:"Preferencias de citas",contentPreferences:"Preferencias de contenido",communityGuidelines:"Directrices de la comunidad",notificationSettings:"Configuracin de notificaciones",professionalProfile:"Perfil profesional",jobAlertSettings:"Configuracin de alertas de empleo",networkingPreferences:"Preferencias de networking"},_z={account:"Cuenta",app:"Aplicacin",logo:"Logo",subscription:"Suscripcin",logout:"Cerrar sesin",save:"Guardar",cancel:"Cancelar",back:"Volver",settings:"Ajustes",search:"Buscar",loading:"Cargando...",seeMore:"Ver ms",update:"Actualizar",details:"Detalles",close:"Cerrar",yes:"S",no:"No",success:"xito",error:"Error",warning:"Advertencia",info:"Informacin",next:"Siguiente",previous:"Anterior",submit:"Enviar",continue:"Continuar",done:"Hecho",edit:"Editar",delete:"Eliminar",remove:"Quitar",add:"Aadir",create:"Crear",view:"Ver",select:"Seleccionar",send:"Enviar",receive:"Recibir",free:"Gratuito",premium:"Premium",unlimited:"Ilimitado",limited:"Limitado"},Dz={login:"Iniciar sesin",register:"Registrarse",forgotPassword:"Olvidaste tu contrasea?",resetPassword:"Restablecer contrasea",phoneNumber:"Nmero de telfono",email:"Correo electrnico",password:"Contrasea",confirmPassword:"Confirmar contrasea",verificationCode:"Cdigo de verificacin",enterVerificationCode:"Ingresa el cdigo de verificacin enviado a tu telfono",resendCode:"Reenviar cdigo",verifyPhone:"Verificar tu telfono",createAccount:"Crear cuenta",createPassword:"Crear contrasea",passwordRequirements:"La contrasea debe contener al menos 6 caracteres",alreadyHaveAccount:"Ya tienes una cuenta?",dontHaveAccount:"No tienes una cuenta?",signIn:"Iniciar sesin",signUp:"Registrarse",welcomeBack:"Bienvenido de nuevo",passwordsMatch:"Las contraseas coinciden",passwordsDontMatch:"Las contraseas no coinciden",recoverPassword:"Recuperar contrasea",recoverPasswordInstructions:"Ingresa tu correo electrnico para recibir un enlace de restablecimiento de contrasea",enterCode:"Ingresar cdigo",codeExpires:"El cdigo expira en",minutes:"minutos",seconds:"segundos",wrongCode:"Cdigo incorrecto. Intntalo de nuevo.",verifyingCode:"Verificando cdigo...",verifyCode:"Verificar cdigo",signInWithPhoneNumber:"Iniciar sesin con nmero de telfono",goBack:"Volver",continue:"Continuar",byTappingSignIn:"Al tocar 'Iniciar sesin con nmero de telfono', aceptas nuestros",skipForLater:"Omitir por ahora",enterYourEmail:"Ingresa tu email",cookiePolicy:"Poltica de cookies",resetPasswordInstruction:"Ingresa tu direccin de correo electrnico y te enviaremos un cdigo de restablecimiento de 7 dgitos."},Rz={showChooseAppModePage:"Mostrar pgina 'Elegir modo de aplicacin'",controlWhetherToShow:"Controla si mostrar la pantalla de seleccin de aplicacin despus del inicio de sesin",showAppSelectionScreen:"Mostrar pantalla de seleccin de aplicacin",whenTurnedOnYoullBeAsked:"Cuando est activado, se te pedir que elijas qu aplicacin usar despus del inicio de sesin",showNationalitySelectionScreen:"Mostrar pantalla de seleccin de nacionalidad",whenTurnedOnReturningUsers:"Cuando est activado, los usuarios que regresan vern las pantallas de seleccin de nacionalidad antes de la seleccin de aplicacin",languageSettings:"Configuracin de idioma",selectYourPreferredLanguage:"Selecciona tu idioma preferido",currentLanguage:"Idioma actual",changeLanguage:"Cambiar idioma",appModeSettings:"Configuracin del modo de aplicacin",nationalitySettings:"Configuracin de nacionalidad",whenTurnedOffDirectLogin:"Cuando est desactivado, iniciars sesin directamente en tu ltima aplicacin utilizada",whenTurnedOffSkipNationality:"Cuando est desactivado, los usuarios que regresan omitirn las pantallas de seleccin de nacionalidad",regionalSettings:"Configuracin regional",language:"Idioma",customizeAppExperience:"Personaliza tu experiencia de aplicacin",accountSettings:"Configuracin de cuenta",personalInformation:"Informacin personal",manageYourAccount:"Gestiona tu cuenta y preferencias",phoneNumber:"Nmero de telfono",enterPhoneNumber:"Ingresa el nmero de telfono",updatePhone:"Actualizar telfono",phoneUpdated:"Telfono actualizado",phoneUpdateSuccess:"Tu nmero de telfono ha sido actualizado exitosamente",emailAddress:"Direccin de correo electrnico",enterEmailAddress:"Ingresa la direccin de correo electrnico",updateEmail:"Actualizar correo electrnico",emailUpdated:"Correo electrnico actualizado",emailUpdateSuccess:"Tu direccin de correo electrnico ha sido actualizada exitosamente",changePassword:"Cambiar contrasea",currentPassword:"Contrasea actual",newPassword:"Nueva contrasea",confirmPassword:"Confirmar contrasea",updatePassword:"Actualizar contrasea",passwordUpdated:"Contrasea actualizada",passwordUpdateSuccess:"Tu contrasea ha sido actualizada exitosamente",privacySettings:"Configuracin de privacidad",managePrivacy:"Gestiona tu privacidad y visibilidad",profileVisibility:"Visibilidad del perfil",whoCanSeeProfile:"Quin puede ver tu perfil",everyone:"Todos",matches:"Solo matches",showOnlineStatus:"Mostrar estado en lnea",letOthersKnowOnline:"Permite que otros sepan cuando ests en lnea",showLastSeen:"Mostrar ltima conexin",displayLastActive:"Mostrar cundo estuviste activo por ltima vez",dataSettings:"Configuracin de datos",manageDataUsage:"Gestiona el uso y almacenamiento de datos",autoDownloadMedia:"Descarga automtica de medios",downloadPhotosVideos:"Descargar automticamente fotos y videos",dataUsageOptimization:"Optimizacin del uso de datos",reduceDataUsage:"Reducir el uso de datos para conexiones lentas",clearCache:"Limpiar cach",clearStoredData:"Limpiar datos almacenados para liberar espacio",notificationSettings:"Configuracin de notificaciones",customizeNotifications:"Personaliza tus notificaciones",pushNotifications:"Notificaciones push",enablePushNotifications:"Habilitar notificaciones push",newMatchNotifications:"Notificaciones de nuevos matches",notifyNewMatches:"Notificar sobre nuevos matches",messageNotifications:"Notificaciones de mensajes",notifyNewMessages:"Notificar sobre nuevos mensajes",soundEnabled:"Sonido habilitado",playSoundForNotifications:"Reproducir sonido para las notificaciones",vibrationEnabled:"Vibracin habilitada",vibrateForNotifications:"Vibrar para las notificaciones",securitySettings:"Configuracin de seguridad",protectYourAccount:"Protege tu cuenta",twoFactorAuthentication:"Autenticacin de dos factores",enableTwoFactor:"Habilitar autenticacin de dos factores",loginAlerts:"Alertas de inicio de sesin",notifyUnusualActivity:"Notificar sobre actividad inusual",connectedDevices:"Dispositivos conectados",manageConnectedDevices:"Gestionar dispositivos conectados a tu cuenta",supportSettings:"Configuracin de soporte",getHelpSupport:"Obtn ayuda y soporte",contactSupport:"Contactar soporte",getHelpWithIssues:"Obtn ayuda con problemas o preguntas",reportBug:"Reportar error",reportTechnicalIssues:"Reportar problemas tcnicos",sendFeedback:"Enviar comentarios",shareYourThoughts:"Comparte tus pensamientos y sugerencias",helpCenter:"Centro de ayuda",browseHelp:"Navegar artculos de ayuda y preguntas frecuentes",aboutSettings:"Acerca de",appInformation:"Informacin de la aplicacin",version:"Versin",currentAppVersion:"Versin actual de la aplicacin",termsOfService:"Trminos de servicio",readTermsOfService:"Leer trminos de servicio",privacyPolicy:"Poltica de privacidad",readPrivacyPolicy:"Leer poltica de privacidad",licenses:"Licencias",viewOpenSourceLicenses:"Ver licencias de cdigo abierto",logOut:"Cerrar sesin",signOutOfAccount:"Cerrar sesin de tu cuenta",deleteAccount:"Eliminar cuenta",permanentlyDeleteAccount:"Eliminar permanentemente tu cuenta"},Oz={aboutMe:"Sobre m",aboutMePlaceholder:"Cuntanos sobre ti...",profession:"Profesin",professionPlaceholder:"A qu te dedicas?",dateOfBirth:"Fecha de nacimiento",residence:"Residencia (Ciudad, Pas)",residencePlaceholder:"Ingresa tu ciudad, pas",ethnicityTribe:"Etnia/Tribu",selectTribe:"Seleccionar tribu",tribeSelectionMultiple:"Puedes seleccionar hasta 2 tribus",religion:"Religin",selectReligion:"Seleccionar religin",selectReligionDenomination:"Seleccionar religin y denominacin",relationshipGoal:"Objetivo de relacin",relationshipGoalPlaceholder:"Qu ests buscando?",continueButton:"Continuar",createProfileButton:"Crear perfil",skipForNow:"Saltar por ahora",addPhoto:"Agregar foto",uploadPhoto:"Subir foto",photoRequired:"Foto requerida",atLeastOnePhoto:"Por favor sube al menos una foto para continuar",enterCustomOption:"Ingresa opcin personalizada...",searchPlaceholder:"Buscar {{type}}...",salaryPlaceholder:"50,000"},Lz={appSettings:"Configuracin de la aplicacin",customizeAppExperience:"Personaliza tu experiencia en la aplicacin",language:"Idioma",darkMode:"Modo oscuro",dataUsage:"Uso de datos",manageDataUsage:"Administra cmo la aplicacin utiliza los datos",autoplayVideos:"Reproduccin automtica de videos",downloadOverWifi:"Descargar solo con Wi-Fi",subscriptionDetails:"Detalles de suscripcin",manageSubscription:"Administrar Suscripcin",currentPlan:"Plan actual",charleyFree:"CHARLEY Gratis",yourCurrentPlan:"Tu plan actual",limitedFeatures:"Funciones limitadas",billingInfo:"Informacin de facturacin",paymentMethods:"Mtodos de pago",planFeatures:"Caractersticas del plan",upgradePlan:"Mejorar plan",upgradeForUnlimited:"Actualiza a Premium para obtener matches ilimitados y funciones avanzadas",upgradeToPremium:"Actualizar a Premium",helpSupport:"Ayuda y soporte",helpAndSupport:"Ayuda y soporte",getAssistance:"Obtn ayuda para usar la aplicacin",contactSupport:"Contactar soporte",faq:"Preguntas frecuentes",privacyPolicy:"Poltica de privacidad",termsOfService:"Trminos de servicio",legalAndSupport:"Legal y soporte",termsAndPolicies:"Trminos, polticas y recursos de ayuda",termsAndResources:"Trminos, polticas y recursos de ayuda",aboutApp:"Acerca de",version:"Versin",deleteAccount:"Eliminar cuenta",permanentlyDeleteAccount:"Eliminar permanentemente tu cuenta y todos tus datos",appModeSettings:"Controles de Pantalla de Inicio",notAdded:"No agregado",basedOnLocation:"Basado en {{location}}",yourLocation:"tu ubicacin",currentPasswordRequired:"Se Requiere Contrasea Actual",pleaseEnterCurrentPassword:"Por favor ingresa tu contrasea actual",invalidNewPassword:"Nueva Contrasea Invlida",passwordMustBeSixChars:"La nueva contrasea debe tener al menos 6 caracteres",passwordsDontMatch:"Las Contraseas no Coinciden",passwordConfirmationMustMatch:"La nueva contrasea y su confirmacin deben coincidir",passwordUpdated:"Contrasea actualizada",passwordSuccessfullyChanged:"Tu contrasea ha sido cambiada con xito",emailUpdated:"Correo electrnico actualizado",emailSuccessfullyUpdated:"Tu correo electrnico ha sido actualizado con xito",phoneUpdated:"Nmero de telfono actualizado",phoneSuccessfullyUpdated:"Tu nmero de telfono ha sido actualizado con xito",languageUpdated:"Idioma actualizado",languagePreferenceSet:"Tu preferencia de idioma ha sido establecida a {{language}}",darkModeActivated:"Modo oscuro activado",lightModeActivated:"Modo claro activado",preferencesSaved:"Tus preferencias han sido guardadas",notificationsEnabled:"Notificaciones activadas",notificationsDisabled:"Notificaciones desactivadas",willReceiveMatchNotifications:"Recibirs notificaciones de nuevos matches",matchNotificationsTurnedOff:"Notificaciones de nuevos matches desactivadas",willReceiveMessageNotifications:"Recibirs notificaciones de mensajes",messageNotificationsTurnedOff:"Notificaciones de mensajes desactivadas",willReceiveUpdateNotifications:"Recibirs notificaciones de actualizaciones de la aplicacin",updateNotificationsTurnedOff:"Notificaciones de actualizaciones de la aplicacin desactivadas",comingSoon:"Prximamente",featureAvailableSoon:"Esta funcin estar disponible pronto",updatePhoneNumber:"Actualizar nmero de telfono",premiumAccess:"Acceso Premium",enablePremiumFeatures:"Habilitar funciones premium para pruebas",verificationAccess:"Acceso de Verificacin",showVerificationBadge:"Mostrar insignia de verificacin en tus tarjetas de perfil",subscriptionCanceled:"Suscripcin Cancelada",changeSubscription:"Cambiar Suscripcin",upgradeToPremiumSubscription:"Actualizar a Suscripcin Premium",legalDocuments:"Documentos Legales",communityGuidelines:"Directrices de la Comunidad",updateEmailAddress:"Actualizar direccin de correo electrnico",changeAccountEmail:"Cambiar el correo electrnico de tu cuenta de forma segura",currentPassword:"Contrasea actual",newPassword:"Nueva contrasea",confirmPassword:"Confirmar Contrasea",passwordStrength:"Fuerza de la contrasea",weak:"Dbil",medium:"Medio",strong:"Fuerte",verified:"Verificado",submittedVerification:"Verificacin Enviada",verifyMe:"Verificarme",newPasswordMinSix:"La nueva contrasea debe tener al menos 6 caracteres",passwordsMustMatch:"La nueva contrasea y la confirmacin deben coincidir",invalidPhoneNumber:"Nmero de Telfono Invlido",pleaseEnterPhoneNumber:"Por favor ingresa un nmero de telfono",invalidCountryCode:"Cdigo de Pas Invlido",pleaseSelectValidCountryCode:"Por favor selecciona un cdigo de pas vlido",phoneMustHaveSevenDigits:"El nmero de telfono debe tener al menos 7 dgitos despus del cdigo de pas",invalidEmail:"Email Invlido",pleaseEnterValidEmail:"Por favor introduce una direccin de email vlida",emailVerificationFailed:"Fallo en la Verificacin del Email",enterValidDeliverableEmail:"Por favor introduce una direccin de email vlida y entregable",emailNotVerified:"Email No Verificado",recommendVerifyEmail:"Recomendamos verificar que tu email existe antes de actualizar",enterYourEmailAddress:"Ingresa tu direccin de email",willSendVerificationLink:"Enviaremos un enlace de verificacin para confirmar este email",emailForRecoveryNote:"Tu direccin de email se usa para recuperacin de cuenta, notificaciones importantes y actualizaciones de conexiones. Asegrate de usar un email que revises regularmente.",enterCurrentPasswordPlaceholder:"Ingresa tu contrasea actual",createNewPasswordPlaceholder:"Crea una nueva contrasea",confirmNewPasswordPlaceholder:"Confirma tu nueva contrasea",updatePasswordSecurity:"Actualiza tu contrasea para mejorar la seguridad",strongPasswordsInclude:"Las contraseas fuertes incluyen letras maysculas y minsculas, nmeros y caracteres especiales para mxima seguridad.",updateEmail:"Actualizar Email",changePassword:"Cambiar Contrasea",recommendVerifyEmailBeforeUpdate:"Recomendamos verificar que tu email existe antes de actualizar",updatePasswordButton:"Actualizar Contrasea",updating:"Actualizando",securelyUpdateContactInfo:"Actualiza de forma segura tu informacin de contacto",willSendVerificationCode:"Te enviaremos un cdigo de verificacin para confirmar este nmero",updateNumber:"Actualizar nmero",emailVerificationNote:"Te enviaremos un enlace de verificacin para confirmar este correo electrnico",emailImportantNote:"Tu direccin de correo electrnico se utiliza para la recuperacin de cuenta, notificaciones importantes y actualizaciones de conexin. Asegrate de usar un correo electrnico que revises regularmente.",updateYourPassword:"Actualizar tu contrasea",securelyChangePassword:"Cambiar la contrasea de tu cuenta de forma segura",currentPasswordPlaceholder:"Ingresa tu contrasea actual",newPasswordPlaceholder:"Ingresa tu nueva contrasea",confirmPasswordPlaceholder:"Confirma tu nueva contrasea",passwordStrengthNote:"Las contraseas fuertes incluyen letras maysculas y minsculas, nmeros y caracteres especiales.",selectLanguage:"Seleccionar idioma",languageChangeNote:"Cambiar el idioma afectar a todo el texto de la aplicacin. Algunos contenidos traducidos pueden tardar un momento en cargarse.",regionalSettings:"Configuracin regional",logOut:"Cerrar sesin",loggingOut:"Cerrando sesin..."},$z={editProfile:"Editar perfil",photos:"Fotos",addPhotos:"Aadir fotos",aboutMe:"Sobre m",interests:"Intereses",addInterests:"Aadir intereses",location:"Ubicacin",occupation:"Ocupacin",education:"Educacin",relationshipGoals:"Objetivos de relacin",languages:"Idiomas",height:"Altura",age:"Edad",birthday:"Fecha de nacimiento",gender:"Gnero",male:"Hombre",female:"Mujer",religion:"Religin",tribe:"Tribu",tribes:"Tribus",selectTribes:"Selecciona tus tribus",selectUpToTwo:"Selecciona hasta 2 tribus",drinkingHabits:"Hbitos de bebida",smokingHabits:"Hbitos de fumar",personalityType:"Tipo de personalidad",bodyType:"Tipo de cuerpo",children:"Hijos",wantChildren:"Desea hijos",noPhotos:"Sin fotos",noPhotosYet:"An no hay fotos",addSomePhotos:"Aade algunas fotos para completar tu perfil",uploadPhoto:"Subir foto",profilePicture:"Foto de perfil",selectFromGallery:"Seleccionar de la galera",takePhoto:"Tomar foto",updateInterests:"Actualizar intereses",selectInterests:"Selecciona intereses que te representen",addMoreDetails:"Aadir ms detalles",enhanceProfile:"Mejora tu perfil con ms detalles",updateLocation:"Actualizar ubicacin",confirmLocation:"Confirma tu ubicacin",saveChanges:"Guardar cambios",discardChanges:"Descartar cambios",profileUpdated:"Perfil actualizado",profileSaved:"Tu perfil se ha guardado con xito",profilePhotoRequired:"Se requiere foto de perfil",pleaseAddPhoto:"Por favor, aade al menos una foto para continuar",primaryPhoto:"Foto principal",setAsPrimary:"Establecer como principal",deletePhoto:"Eliminar foto",confirmDeletePhoto:"Ests seguro de que quieres eliminar esta foto?",photoDeleted:"Foto eliminada",photoDeletedSuccess:"Tu foto ha sido eliminada con xito",showPreview:"Mostrar vista previa",show:"Mostrar",yourInfo:"TU INFORMACIN",residence:"Residencia",profession:"Profesin",myPhotos:"MIS FOTOS",relationshipGoalsSection:"OBJETIVOS DE RELACIN",whatImLookingFor:"Lo que busco",notSpecified:"No especificado",tribeCannotBeEdited:"La tribu no puede ser editada",profilePreview:"Vista previa del perfil",previewDescription:"As es como otros ven tu perfil al deslizar"},Fz={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Seleccionar modo",meetDescription:"Encuentra relaciones significativas y conexiones",heatDescription:"Conctate con amigos y comparte momentos",suiteDescription:"Construye tu red profesional y oportunidades",datingApp:"Aplicacin de citas",socialApp:"Aplicacin social",professionalNetwork:"Red profesional",meetLongDescription:"Conctate con solteros ghaneses globalmente para citas y relaciones significativas",heatLongDescription:"Encuentra y conctate con eventos ghaneses, reuniones culturales y grupos sociales en todo el mundo",suiteLongDescription:"Construye conexiones profesionales con profesionales ghaneses a travs de mentoras, empleos y oportunidades de negocio",chooseYourAppMode:"Elige tu modo de aplicacin",continueTo:"Continuar a"},Uz={noPhotoAvailable:"Foto no disponible",topInterests:"Intereses principales",errorTitle:"Error",likeError:"No se pudo procesar tu like. Por favor, intntalo de nuevo.",noMoreMatches:"No hay ms coincidencias",checkBackSoon:"Estamos buscando ms personas para ti. Vuelve pronto!",noBioAvailable:"Biografa no disponible todava."},Bz={matches:"Matches",newMatches:"Nuevos matches",noMatches:"An no hay matches",noMatchesDescription:"Cuando hagas match con alguien, aparecern aqu",keepSwiping:"Sigue deslizando",itsAMatch:"Es un match!",youAndUserLikedEachOther:"A ti y a {{name}} se han gustado mutuamente",sendMessage:"Enviar mensaje",potentialMatches:"Posibles matches",noPotentialMatches:"No hay posibles matches en este momento",tryAgainLater:"Por favor, intntalo ms tarde",mutualInterests:"Intereses mutuos",compatibility:"Compatibilidad"},Gz={chats:"Chats",messages:"Mensajes",noMessages:"An no hay mensajes",noMessagesDescription:"Comienza una conversacin con tus matches",typeMessage:"Escribe un mensaje...",sendingMessage:"Enviando...",failedToSend:"Error al enviar",retryMessageSend:"Toca para reintentar",online:"En lnea",offline:"Desconectado",lastSeen:"ltima vez {{time}}",typing:"escribiendo...",yourMessage:"Tu mensaje",theirMessage:"Su mensaje",unreadMessages:"Mensajes no ledos",newMessage:"Nuevo mensaje",deleteConversation:"Eliminar conversacin",confirmDeleteConversation:"Ests seguro de que quieres eliminar esta conversacin?",conversationDeleted:"Conversacin eliminada",conversationDeletedSuccess:"La conversacin ha sido eliminada con xito",startConversation:"Iniciar conversacin",deleteMessageConfirm:"Ests seguro de que quieres eliminar este mensaje?",messageDeleted:"Mensaje eliminado"},Vz={videoCall:"Videollamada",startVideoCall:"Iniciar videollamada",incomingCall:"Llamada entrante",isCallingYou:"{{name}} te est llamando",answer:"Responder",decline:"Rechazar",calling:"Llamando...",connecting:"Conectando...",callEnded:"Llamada finalizada",callDuration:"Duracin de la llamada: {{time}}",callFailed:"Llamada fallida",callFailedDescription:"No se pudo establecer la conexin de llamada",tryAgain:"Intentar de nuevo",endCall:"Finalizar llamada",mute:"Silenciar",unmute:"Activar sonido",speaker:"Altavoz",camera:"Cmara",switchCamera:"Cambiar cmara",missedCall:"Llamada perdida",missedCallDescription:"Perdiste una llamada de {{name}}",callBack:"Devolver llamada"},zz={title:"Verificacin de identidad",verifyYourIdentity:"Verifica tu identidad",description:"Sube tu documento de identidad oficial y toma una foto en vivo para obtener una insignia de verificacin en tu perfil.",governmentIdPhoto:"Foto de documento de identidad oficial",liveVerificationPhoto:"Foto de verificacin en vivo",uploadGovernmentId:"Subir documento de identidad",acceptedDocuments:"Licencia de conducir, pasaporte o cdula de identidad nacional",takeLivePhoto:"Tomar foto en vivo",selfieForVerification:"Selfie para verificacin",removePhoto:"Eliminar foto",submitVerification:"Enviar verificacin",uploadBothPhotos:"Sube ambas fotos para continuar",submitting:"Enviando...",verificationSubmitted:"Verificacin enviada!",verificationSubmittedDescription:"Tu verificacin de identidad ha sido enviada exitosamente para revisin.",fileTooLarge:"Archivo demasiado grande",fileTooLargeDescription:"Por favor selecciona una imagen menor a 10MB",verificationFailed:"Verificacin fall",verificationFailedDescription:"Error al actualizar las fotos de verificacin",missingPhotos:"Fotos faltantes",missingPhotosDescription:"Por favor sube tu documento de identidad y toma una foto en vivo"},Wz={pageTitle:"Preferencias de conexin",title:"Preferencias de conexin",header:"Preferencias de conexin",description:"Personaliza tus preferencias para networking profesional, descubrimiento de empleos y mentora",savePreferences:"Guardar preferencias",clearAll:"Limpiar todo",loading:"Cargando preferencias...",saving:"Guardando...",successSaved:"Preferencias guardadas exitosamente!",errorSaving:"Error guardando preferencias",completeFieldsMessage:"Complete estos campos para mejores coincidencias",allCompleted:"Todas las preferencias completadas!",profileRequired:"Perfil Requerido",profileRequiredMessage:"Para acceder a las preferencias de {{section}}, necesitas crear primero un perfil {{profile}} activo.",cancel:"Cancelar",createProfile:"Crear Perfil",moreMissing:"+{{count}} ms",addCustomOption:"Aadir Opcin Personalizada",enterCustomOption:"Ingresa una opcin personalizada...",jobs:{title:"Preferencias de descubrimiento de empleos",workArrangement:"Modalidad de trabajo",workLocation:"Lugar de trabajo",functionalAreas:"reas funcionales",minSalary:"Salario mnimo",maxSalary:"Salario mximo",currency:"Moneda"},mentorship:{title:"Preferencias de mentora y aprendizaje",lookingFor:"Buscando",topics:"Temas de inters",format:"Formato preferido",timeCommitment:"Compromiso de tiempo",roles:{mentor:"Mentor",mentee:"Aprendiz",both:"Ambos"},formats:{oneOnOne:"Uno a uno",groupSessions:"Sesiones grupales",workshops:"Talleres",online:"En lnea",inPerson:"En persona"}},networking:{title:"Preferencias de networking profesional",purpose:"Propsito del networking",seniority:"Nivel de antigedad",functionalAreas:"reas funcionales",eventPreference:"Preferencia de eventos",purposes:{careerAdvancement:"Avance profesional",businessDevelopment:"Desarrollo de negocios",knowledgeSharing:"Intercambio de conocimientos",mentorship:"Mentora",jobOpportunities:"Oportunidades laborales",collaboration:"Colaboracin"}},jobProfile:"Empleo",mentorshipProfile:"Mentora",networkingProfile:"Networking",jobTypes:"Tipos de Empleo",salaryRange:"Rango Salarial",workArrangement:"Modalidad de Trabajo",industry:"Industria",educationLevel:"Nivel Educativo",skills:"Habilidades",experienceLevel:"Nivel de Experiencia",workLocation:"Ubicacin de Trabajo",matchingPriorities:"Prioridades de Coincidencia",whatLookingFor:"Lo Que Buscas",areasOfExpertise:"reas de Expertise",locationPreference:"Preferencia de Ubicacin",networkingPurpose:"Propsito de Networking",companySize:"Tamao de Empresa",seniorityLevel:"Nivel de Seniority",dealBreakers:"Factores Decisivos",sections:{networking:"Networking profesional",jobs:"Descubrimiento de empleos",mentorship:"Mentora y aprendizaje"},common:{industry:"Industria",areasOfExpertise:"reas de experiencia",skills:"Habilidades",educationLevel:"Nivel educativo",experienceLevel:"Nivel de experiencia",location:"Ubicacin",locationPreference:"Preferencia de ubicacin",remote:"Remoto",hybrid:"Hbrido",onSite:"Presencial",anyLocation:"Cualquier ubicacin",companySize:"Tamao de empresa",salaryRange:"Rango salarial",workStyle:"Estilo de trabajo",jobType:"Tipo de trabajo",fullTime:"Tiempo completo",partTime:"Tiempo parcial",contract:"Contrato",internship:"Pasanta",freelance:"Freelance",startup:"Startup (1-50)",smallCompany:"Empresa pequea (51-200)",mediumCompany:"Empresa mediana (201-1000)",largeCompany:"Empresa grande (1000+)",enterprise:"Corporativo (5000+)",dealBreakers:"Criterios eliminatorios",weights:"Pesos de importancia"}},Hz={app:Mz,navigation:Tz,settingsMenu:Iz,common:_z,auth:Dz,settings:Rz,profileCreation:Oz,appSettings:Lz,profile:$z,appMode:Fz,swipeCard:Uz,matches:Bz,chat:Gz,videoCalls:Vz,idVerification:zz,connectionsPreferences:Wz},Kz={slogan:"Verbinde dich mit Ghanaern weltweit",noMoreMatches:"Keine weiteren Matches verfgbar",findingMorePeople:"Wir suchen nach mehr Personen fr dich. Schau bald wieder vorbei!",noPhotoAvailable:"Kein Foto verfgbar",topInterests:"Hauptinteressen:"},qz={discover:"Entdecken",messages:"Nachrichten",matches:"Matches",profile:"Profil",feed:"Feed",explore:"Erkunden",network:"Netzwerk",jobs:"Jobs",connections:"Verbindungen"},Yz={accountSettings:"Kontoeinstellungen",datingPreferences:"Dating-Prferenzen",contentPreferences:"Inhaltsprferenzen",communityGuidelines:"Community-Richtlinien",notificationSettings:"Benachrichtigungseinstellungen",professionalProfile:"Berufliches Profil",jobAlertSettings:"Job-Benachrichtigungseinstellungen",networkingPreferences:"Netzwerkprferenzen"},Qz={account:"Konto",app:"App",subscription:"Abonnement",logout:"Abmelden",save:"Speichern",cancel:"Abbrechen",back:"Zurck",settings:"Einstellungen",search:"Suchen",loading:"Wird geladen...",seeMore:"Mehr anzeigen",update:"Aktualisieren",details:"Details",close:"Schlieen",yes:"Ja",no:"Nein",success:"Erfolg",error:"Fehler",warning:"Warnung",info:"Information",next:"Weiter",previous:"Zurck",submit:"Absenden",continue:"Fortfahren",done:"Fertig",edit:"Bearbeiten",delete:"Lschen",remove:"Entfernen",add:"Hinzufgen",create:"Erstellen",view:"Ansehen",select:"Auswhlen",send:"Senden",receive:"Empfangen",free:"Kostenlos",premium:"Premium",unlimited:"Unbegrenzt",limited:"Begrenzt"},Jz={login:"Anmelden",register:"Registrieren",forgotPassword:"Passwort vergessen",resetPassword:"Passwort zurcksetzen",phoneNumber:"Telefonnummer",email:"E-Mail",password:"Passwort",confirmPassword:"Passwort besttigen",verificationCode:"Besttigungscode",enterVerificationCode:"Gib den an dein Telefon gesendeten Besttigungscode ein",resendCode:"Code erneut senden",verifyPhone:"Telefon verifizieren",createAccount:"Konto erstellen",createPassword:"Passwort erstellen",passwordRequirements:"Das Passwort muss mindestens 6 Zeichen lang sein",alreadyHaveAccount:"Hast du bereits ein Konto?",dontHaveAccount:"Hast du noch kein Konto?",signIn:"Anmelden",signUp:"Registrieren",welcomeBack:"Willkommen zurck",passwordsMatch:"Passwrter stimmen berein",passwordsDontMatch:"Passwrter stimmen nicht berein",recoverPassword:"Passwort wiederherstellen",recoverPasswordInstructions:"Gib deine E-Mail-Adresse ein, um einen Link zum Zurcksetzen des Passworts zu erhalten",enterCode:"Code eingeben",codeExpires:"Der Code luft ab in",minutes:"Minuten",seconds:"Sekunden",wrongCode:"Falscher Code. Bitte versuche es erneut.",verifyingCode:"Code wird berprft...",verifyCode:"Code prfen"},Xz={showChooseAppModePage:"Seite 'App-Modus whlen' anzeigen",controlWhetherToShow:"Steuern Sie, ob der App-Auswahlbildschirm nach der Anmeldung angezeigt wird",showAppSelectionScreen:"App-Auswahlbildschirm anzeigen",whenTurnedOnYoullBeAsked:"Wenn aktiviert, werden Sie nach der Anmeldung gefragt, welche App Sie verwenden mchten",showNationalitySelectionScreen:"Nationalittsauswahlbildschirm anzeigen",whenTurnedOnReturningUsers:"Wenn aktiviert, sehen wiederkehrende Benutzer die Nationalittsauswahlbildschirme vor der App-Auswahl",languageSettings:"Spracheinstellungen",selectYourPreferredLanguage:"Whlen Sie Ihre bevorzugte Sprache",currentLanguage:"Aktuelle Sprache",changeLanguage:"Sprache ndern",appModeSettings:"App-Modus-Einstellungen",nationalitySettings:"Nationalittseinstellungen",whenTurnedOffDirectLogin:"Wenn deaktiviert, werden Sie direkt in Ihre zuletzt verwendete App eingeloggt",whenTurnedOffSkipNationality:"Wenn deaktiviert, berspringen wiederkehrende Benutzer die Nationalittsauswahlbildschirme",regionalSettings:"Regionale Einstellungen",language:"Sprache",customizeAppExperience:"Passen Sie Ihr App-Erlebnis an",securityAndPrivacy:"Sicherheit und Datenschutz",manageSecuritySettings:"Sicherheitseinstellungen verwalten",twoFactorAuth:"Zwei-Faktor-Authentifizierung",accountPrivacy:"Konto-Datenschutz",accountSettings:"Kontoeinstellungen",personalInformation:"Persnliche Informationen",manageYourAccount:"Verwalten Sie Ihr Konto und Ihre Einstellungen",phoneNumber:"Telefonnummer",enterPhoneNumber:"Telefonnummer eingeben",updatePhone:"Telefon aktualisieren",phoneUpdated:"Telefon aktualisiert",phoneUpdateSuccess:"Ihre Telefonnummer wurde erfolgreich aktualisiert",emailAddress:"E-Mail-Adresse",enterEmailAddress:"E-Mail-Adresse eingeben",updateEmail:"E-Mail aktualisieren",emailUpdated:"E-Mail aktualisiert",emailUpdateSuccess:"Ihre E-Mail-Adresse wurde erfolgreich aktualisiert",changePassword:"Passwort ndern",currentPassword:"Aktuelles Passwort",newPassword:"Neues Passwort",confirmPassword:"Passwort besttigen",updatePassword:"Passwort aktualisieren",passwordUpdated:"Passwort aktualisiert",passwordUpdateSuccess:"Ihr Passwort wurde erfolgreich aktualisiert",privacySettings:"Datenschutzeinstellungen",managePrivacy:"Verwalten Sie Ihre Privatsphre und Sichtbarkeit",profileVisibility:"Profilsichtbarkeit",whoCanSeeProfile:"Wer kann Ihr Profil sehen",everyone:"Jeder",matches:"Nur Matches",showOnlineStatus:"Online-Status anzeigen",letOthersKnowOnline:"Lassen Sie andere wissen, wann Sie online sind",showLastSeen:"Zuletzt gesehen anzeigen",displayLastActive:"Anzeigen, wann Sie zuletzt aktiv waren",dataSettings:"Dateneinstellungen",manageDataUsage:"Verwalten Sie Datennutzung und -speicherung",autoDownloadMedia:"Automatischer Medien-Download",downloadPhotosVideos:"Fotos und Videos automatisch herunterladen",dataUsageOptimization:"Datennutzungsoptimierung",reduceDataUsage:"Datennutzung fr langsame Verbindungen reduzieren",clearCache:"Cache leeren",clearStoredData:"Gespeicherte Daten lschen, um Speicherplatz freizugeben",notificationSettings:"Benachrichtigungseinstellungen",customizeNotifications:"Passen Sie Ihre Benachrichtigungen an",pushNotifications:"Push-Benachrichtigungen",enablePushNotifications:"Push-Benachrichtigungen aktivieren",newMatchNotifications:"Benachrichtigungen fr neue Matches",notifyNewMatches:"ber neue Matches benachrichtigen",messageNotifications:"Nachrichten-Benachrichtigungen",notifyNewMessages:"ber neue Nachrichten benachrichtigen",soundEnabled:"Ton aktiviert",playSoundForNotifications:"Ton fr Benachrichtigungen abspielen",vibrationEnabled:"Vibration aktiviert",vibrateForNotifications:"Fr Benachrichtigungen vibrieren",securitySettings:"Sicherheitseinstellungen",protectYourAccount:"Schtzen Sie Ihr Konto",twoFactorAuthentication:"Zwei-Faktor-Authentifizierung",enableTwoFactor:"Zwei-Faktor-Authentifizierung aktivieren",loginAlerts:"Anmelde-Benachrichtigungen",notifyUnusualActivity:"ber ungewhnliche Aktivitten benachrichtigen",connectedDevices:"Verbundene Gerte",manageConnectedDevices:"Mit Ihrem Konto verbundene Gerte verwalten",supportSettings:"Support-Einstellungen",getHelpSupport:"Hilfe und Support erhalten",contactSupport:"Support kontaktieren",getHelpWithIssues:"Hilfe bei Problemen oder Fragen erhalten",reportBug:"Fehler melden",reportTechnicalIssues:"Technische Probleme melden",sendFeedback:"Feedback senden",shareYourThoughts:"Teilen Sie Ihre Gedanken und Vorschlge",helpCenter:"Hilfezentrum",browseHelp:"Hilfe-Artikel und FAQ durchsuchen",aboutSettings:"ber",appInformation:"App-Informationen",version:"Version",currentAppVersion:"Aktuelle App-Version",termsOfService:"Nutzungsbedingungen",readTermsOfService:"Nutzungsbedingungen lesen",privacyPolicy:"Datenschutzrichtlinie",readPrivacyPolicy:"Datenschutzrichtlinie lesen",licenses:"Lizenzen",viewOpenSourceLicenses:"Open-Source-Lizenzen anzeigen",logOut:"Abmelden",signOutOfAccount:"Von Ihrem Konto abmelden",deleteAccount:"Konto lschen",permanentlyDeleteAccount:"Ihr Konto dauerhaft lschen"},Zz={editProfile:"Profil bearbeiten",photos:"Fotos",addPhotos:"Fotos hinzufgen",aboutMe:"ber mich",interests:"Interessen",addInterests:"Interessen hinzufgen",noPhotosYet:"Noch keine Fotos hinzugefgt",location:"Standort",occupation:"Beruf",education:"Bildung",relationshipGoals:"Beziehungsziele",languages:"Sprachen",height:"Gre",age:"Alter",birthday:"Geburtstag",gender:"Geschlecht",male:"Mnnlich",female:"Weiblich",religion:"Religion",tribe:"Stamm",tribes:"Stmme",selectTribes:"Whle deine Stmme",selectUpToTwo:"Whle bis zu 2 Stmme",drinkingHabits:"Trinkgewohnheiten",smokingHabits:"Rauchgewohnheiten",personalityType:"Persnlichkeitstyp",bodyType:"Krpertyp",children:"Kinder",wantChildren:"Mchte Kinder",noPhotos:"Keine Fotos",addSomePhotos:"Fge einige Fotos hinzu, um dein Profil zu vervollstndigen",uploadPhoto:"Foto hochladen",profilePicture:"Profilbild",selectFromGallery:"Aus Galerie auswhlen",takePhoto:"Foto aufnehmen",updateInterests:"Interessen aktualisieren",selectInterests:"Whle Interessen, die dich reprsentieren",addMoreDetails:"Mehr Details hinzufgen",enhanceProfile:"Verbessere dein Profil mit mehr Details",updateLocation:"Standort aktualisieren",confirmLocation:"Besttige deinen Standort",saveChanges:"nderungen speichern",discardChanges:"nderungen verwerfen",profileUpdated:"Profil aktualisiert",profileSaved:"Dein Profil wurde erfolgreich gespeichert",profilePhotoRequired:"Profilbild erforderlich",pleaseAddPhoto:"Bitte fge mindestens ein Foto hinzu, um fortzufahren",primaryPhoto:"Hauptfoto",setAsPrimary:"Als Hauptfoto festlegen",deletePhoto:"Foto lschen",confirmDeletePhoto:"Bist du sicher, dass du dieses Foto lschen mchtest?",photoDeleted:"Foto gelscht",photoDeletedSuccess:"Dein Foto wurde erfolgreich gelscht",showPreview:"Vorschau anzeigen",show:"Anzeigen",yourInfo:"DEINE INFORMATIONEN",residence:"Wohnort",profession:"Beruf",myPhotos:"MEINE FOTOS",relationshipGoalsSection:"BEZIEHUNGSZIELE",whatImLookingFor:"Wonach ich suche",notSpecified:"Nicht angegeben",tribeCannotBeEdited:"Stamm kann nicht bearbeitet werden",profilePreview:"Profilvorschau",previewDescription:"So sehen andere dein Profil beim Swipen"},eW={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Modus auswhlen",chooseYourAppMode:"Whle deinen App-Modus",meetDescription:"Finde bedeutungsvolle Beziehungen und Verbindungen",heatDescription:"Verbinde dich mit Freunden und teile Momente",suiteDescription:"Baue dein berufliches Netzwerk und Mglichkeiten auf",datingApp:"Dating-App",socialApp:"Soziale App",professionalNetwork:"Professionelles Netzwerk",meetLongDescription:"Verbinde dich mit ghanaischen Singles weltweit fr Dating und bedeutungsvolle Beziehungen",heatLongDescription:"Finde und verbinde dich mit ghanaischen Veranstaltungen, kulturellen Treffen und sozialen Gruppen weltweit",suiteLongDescription:"Baue professionelle Verbindungen mit ghanaischen Fachleuten durch Mentoring, Jobs und Geschftsmglichkeiten auf",continueTo:"Weiter zu"},tW={noPhotoAvailable:"Kein Foto verfgbar",topInterests:"Hauptinteressen",errorTitle:"Fehler",likeError:"Konnte dein Like nicht verarbeiten. Bitte versuche es erneut.",noMoreMatches:"Keine weiteren Matches",checkBackSoon:"Wir suchen nach mehr Personen fr dich. Schau bald wieder vorbei!",noBioAvailable:"Noch keine Bio verfgbar."},rW={matches:"Matches",newMatches:"Neue Matches",noMatches:"Noch keine Matches",noMatchesDescription:"Wenn du mit jemandem matchst, erscheinen sie hier",keepSwiping:"Weiter wischen",itsAMatch:"Es ist ein Match!",youAndUserLikedEachOther:"Du und {{name}} mgt euch gegenseitig",sendMessage:"Nachricht senden",potentialMatches:"Potenzielle Matches",noPotentialMatches:"Derzeit keine potenziellen Matches",tryAgainLater:"Bitte versuche es spter noch einmal",mutualInterests:"Gemeinsame Interessen",compatibility:"Kompatibilitt"},nW={chats:"Chats",messages:"Nachrichten",noMessages:"Noch keine Nachrichten",noMessagesDescription:"Starte eine Unterhaltung mit deinen Matches",typeMessage:"Nachricht schreiben...",sendingMessage:"Wird gesendet...",failedToSend:"Senden fehlgeschlagen",retryMessageSend:"Zum Wiederholen tippen",online:"Online",offline:"Offline",lastSeen:"Zuletzt gesehen {{time}}",typing:"tippt...",yourMessage:"Deine Nachricht",theirMessage:"Ihre Nachricht",unreadMessages:"Ungelesene Nachrichten",newMessage:"Neue Nachricht",deleteConversation:"Unterhaltung lschen",confirmDeleteConversation:"Bist du sicher, dass du diese Unterhaltung lschen mchtest?",conversationDeleted:"Unterhaltung gelscht",conversationDeletedSuccess:"Die Unterhaltung wurde erfolgreich gelscht",startConversation:"Unterhaltung beginnen",deleteMessageConfirm:"Bist du sicher, dass du diese Nachricht lschen mchtest?",messageDeleted:"Nachricht gelscht"},aW={videoCall:"Videoanruf",startVideoCall:"Videoanruf starten",incomingCall:"Eingehender Anruf",isCallingYou:"{{name}} ruft dich an",answer:"Antworten",decline:"Ablehnen",calling:"Anrufen...",connecting:"Verbinden...",callEnded:"Anruf beendet",callDuration:"Anrufdauer: {{time}}",callFailed:"Anruf fehlgeschlagen",callFailedDescription:"Anrufverbindung konnte nicht hergestellt werden",tryAgain:"Erneut versuchen",endCall:"Anruf beenden",mute:"Stummschalten",unmute:"Stummschaltung aufheben",speaker:"Lautsprecher",camera:"Kamera",switchCamera:"Kamera wechseln",missedCall:"Verpasster Anruf",missedCallDescription:"Du hast einen Anruf von {{name}} verpasst",callBack:"Zurckrufen"},sW={app:Kz,navigation:qz,settingsMenu:Yz,common:Qz,auth:Jz,settings:Xz,profile:Zz,appMode:eW,swipeCard:tW,matches:rW,chat:nW,videoCalls:aW},iW={slogan:"Connettiti con ghanesi in tutto il mondo",noMoreMatches:"Nessun altro match disponibile",findingMorePeople:"Stiamo cercando pi persone per te. Torna presto!",noPhotoAvailable:"Nessuna foto disponibile",topInterests:"Interessi principali:"},oW={discover:"Scopri",messages:"Messaggi",matches:"Match",profile:"Profilo",feed:"Feed",explore:"Esplora",network:"Rete",jobs:"Lavori",connections:"Connessioni"},lW={accountSettings:"Impostazioni account",datingPreferences:"Preferenze di incontri",contentPreferences:"Preferenze contenuti",communityGuidelines:"Linee guida della community",notificationSettings:"Impostazioni notifiche",professionalProfile:"Profilo professionale",jobAlertSettings:"Impostazioni avvisi di lavoro",networkingPreferences:"Preferenze di networking"},cW={account:"Account",app:"App",subscription:"Abbonamento",logout:"Disconnessione",save:"Salva",cancel:"Annulla",back:"Indietro",settings:"Impostazioni",search:"Cerca",loading:"Caricamento...",seeMore:"Mostra altro",update:"Aggiorna",details:"Dettagli",close:"Chiudi",yes:"S",no:"No",success:"Successo",error:"Errore",warning:"Avviso",info:"Informazione",next:"Avanti",previous:"Indietro",submit:"Invia",continue:"Continua",done:"Fatto",edit:"Modifica",delete:"Elimina",remove:"Rimuovi",add:"Aggiungi",create:"Crea",view:"Visualizza",select:"Seleziona",send:"Invia",receive:"Ricevi",free:"Gratuito",premium:"Premium",unlimited:"Illimitato",limited:"Limitato"},dW={login:"Accedi",register:"Registrati",forgotPassword:"Password dimenticata",resetPassword:"Reimposta password",phoneNumber:"Numero di telefono",email:"Email",password:"Password",confirmPassword:"Conferma password",verificationCode:"Codice di verifica",enterVerificationCode:"Inserisci il codice di verifica inviato al tuo telefono",resendCode:"Reinvia codice",verifyPhone:"Verifica il tuo telefono",createAccount:"Crea account",createPassword:"Crea password",passwordRequirements:"La password deve contenere almeno 6 caratteri",alreadyHaveAccount:"Hai gi un account?",dontHaveAccount:"Non hai un account?",signIn:"Accedi",signUp:"Registrati",welcomeBack:"Bentornato",passwordsMatch:"Le password corrispondono",passwordsDontMatch:"Le password non corrispondono",recoverPassword:"Recupera password",recoverPasswordInstructions:"Inserisci la tua email per ricevere un link per reimpostare la password",enterCode:"Inserisci codice",codeExpires:"Il codice scade in",minutes:"minuti",seconds:"secondi",wrongCode:"Codice errato. Riprova.",verifyingCode:"Verifica del codice...",verifyCode:"Verifica codice"},uW={showChooseAppModePage:"Mostra pagina 'Scegli modalit app'",controlWhetherToShow:"Controlla se mostrare la schermata di selezione app dopo il login",showAppSelectionScreen:"Mostra schermata selezione app",whenTurnedOnYoullBeAsked:"Quando attivato, ti verr chiesto quale app usare dopo il login",showNationalitySelectionScreen:"Mostra schermata selezione nazionalit",whenTurnedOnReturningUsers:"Quando attivato, gli utenti di ritorno vedranno le schermate di selezione nazionalit prima della selezione app",languageSettings:"Impostazioni lingua",selectYourPreferredLanguage:"Seleziona la tua lingua preferita",currentLanguage:"Lingua attuale",changeLanguage:"Cambia lingua",appModeSettings:"Impostazioni modalit app",nationalitySettings:"Impostazioni nazionalit",whenTurnedOffDirectLogin:"Quando disattivato, accederai direttamente alla tua ultima app utilizzata",whenTurnedOffSkipNationality:"Quando disattivato, gli utenti di ritorno salteranno le schermate di selezione nazionalit",regionalSettings:"Impostazioni regionali",language:"Lingua",customizeAppExperience:"Personalizza la tua esperienza app",securityAndPrivacy:"Sicurezza e privacy",manageSecuritySettings:"Gestisci impostazioni di sicurezza",twoFactorAuth:"Autenticazione a due fattori",accountPrivacy:"Privacy dell'account"},mW={editProfile:"Modifica profilo",photos:"Foto",addPhotos:"Aggiungi foto",aboutMe:"Su di me",interests:"Interessi",addInterests:"Aggiungi interessi",location:"Posizione",occupation:"Occupazione",education:"Istruzione",relationshipGoals:"Obiettivi relazionali",languages:"Lingue",height:"Altezza",age:"Et",birthday:"Compleanno",gender:"Genere",male:"Uomo",female:"Donna",religion:"Religione",tribe:"Trib",tribes:"Trib",selectTribes:"Seleziona le tue trib",selectUpToTwo:"Seleziona fino a 2 trib",drinkingHabits:"Abitudini di consumo",smokingHabits:"Abitudini di fumo",personalityType:"Tipo di personalit",bodyType:"Tipo di corpo",children:"Figli",wantChildren:"Vuole figli",noPhotos:"Nessuna foto",addSomePhotos:"Aggiungi alcune foto per completare il tuo profilo",uploadPhoto:"Carica foto",profilePicture:"Foto profilo",selectFromGallery:"Seleziona dalla galleria",takePhoto:"Scatta foto",updateInterests:"Aggiorna interessi",selectInterests:"Seleziona interessi che ti rappresentano",addMoreDetails:"Aggiungi pi dettagli",enhanceProfile:"Migliora il tuo profilo con pi dettagli",updateLocation:"Aggiorna posizione",confirmLocation:"Conferma la tua posizione",saveChanges:"Salva modifiche",discardChanges:"Annulla modifiche",profileUpdated:"Profilo aggiornato",profileSaved:"Il tuo profilo  stato salvato con successo",profilePhotoRequired:"Foto profilo richiesta",pleaseAddPhoto:"Aggiungi almeno una foto per continuare",primaryPhoto:"Foto principale",setAsPrimary:"Imposta come principale",deletePhoto:"Elimina foto",confirmDeletePhoto:"Sei sicuro di voler eliminare questa foto?",photoDeleted:"Foto eliminata",photoDeletedSuccess:"La tua foto  stata eliminata con successo",showPreview:"Mostra anteprima",show:"Mostra",yourInfo:"LE TUE INFORMAZIONI",residence:"Residenza",profession:"Professione",myPhotos:"LE MIE FOTO",relationshipGoalsSection:"OBIETTIVI RELAZIONALI",whatImLookingFor:"Cosa sto cercando",notSpecified:"Non specificato",tribeCannotBeEdited:"La trib non pu essere modificata",profilePreview:"Anteprima del profilo",previewDescription:"Ecco come gli altri vedono il tuo profilo durante lo swipe"},hW={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Seleziona modalit",meetDescription:"Trova relazioni significative e connessioni",heatDescription:"Connettiti con amici e condividi momenti",suiteDescription:"Costruisci la tua rete professionale e opportunit"},pW={noPhotoAvailable:"Nessuna foto disponibile",topInterests:"Interessi principali",errorTitle:"Errore",likeError:"Impossibile elaborare il tuo like. Riprova.",noMoreMatches:"Nessun altro match",checkBackSoon:"Stiamo cercando altre persone per te. Torna presto!",noBioAvailable:"Nessuna biografia disponibile al momento."},fW={matches:"Match",newMatches:"Nuovi match",noMatches:"Ancora nessun match",noMatchesDescription:"Quando farai match con qualcuno, appariranno qui",keepSwiping:"Continua a scorrere",itsAMatch:" un match!",youAndUserLikedEachOther:"Tu e {{name}} vi siete piaciuti a vicenda",sendMessage:"Invia messaggio",potentialMatches:"Match potenziali",noPotentialMatches:"Nessun match potenziale al momento",tryAgainLater:"Riprova pi tardi",mutualInterests:"Interessi comuni",compatibility:"Compatibilit"},gW={chats:"Chat",messages:"Messaggi",noMessages:"Ancora nessun messaggio",noMessagesDescription:"Inizia una conversazione con i tuoi match",typeMessage:"Scrivi un messaggio...",sendingMessage:"Invio in corso...",failedToSend:"Invio fallito",retryMessageSend:"Tocca per riprovare",online:"Online",offline:"Offline",lastSeen:"Ultimo accesso {{time}}",typing:"sta scrivendo...",yourMessage:"Il tuo messaggio",theirMessage:"Il loro messaggio",unreadMessages:"Messaggi non letti",newMessage:"Nuovo messaggio",deleteConversation:"Elimina conversazione",confirmDeleteConversation:"Sei sicuro di voler eliminare questa conversazione?",conversationDeleted:"Conversazione eliminata",conversationDeletedSuccess:"La conversazione  stata eliminata con successo",startConversation:"Inizia conversazione",deleteMessageConfirm:"Sei sicuro di voler eliminare questo messaggio?",messageDeleted:"Messaggio eliminato"},xW={videoCall:"Videochiamata",startVideoCall:"Inizia videochiamata",incomingCall:"Chiamata in arrivo",isCallingYou:"{{name}} ti sta chiamando",answer:"Rispondi",decline:"Rifiuta",calling:"Chiamata in corso...",connecting:"Connessione in corso...",callEnded:"Chiamata terminata",callDuration:"Durata chiamata: {{time}}",callFailed:"Chiamata fallita",callFailedDescription:"Impossibile stabilire la connessione per la chiamata",tryAgain:"Riprova",endCall:"Termina chiamata",mute:"Disattiva audio",unmute:"Attiva audio",speaker:"Altoparlante",camera:"Fotocamera",switchCamera:"Cambia fotocamera",missedCall:"Chiamata persa",missedCallDescription:"Hai perso una chiamata da {{name}}",callBack:"Richiama"},yW={app:iW,navigation:oW,settingsMenu:lW,common:cW,auth:dW,settings:uW,profile:mW,appMode:hW,swipeCard:pW,matches:fW,chat:gW,videoCalls:xW},vW={slogan:"Conecte-se com ganenses em todo o mundo",noMoreMatches:"Sem mais correspondncias disponveis",findingMorePeople:"Estamos procurando mais pessoas para voc. Volte em breve!",noPhotoAvailable:"Nenhuma foto disponvel",topInterests:"Principais interesses:"},bW={discover:"Descobrir",messages:"Mensagens",matches:"Matches",profile:"Perfil",feed:"Feed",explore:"Explorar",network:"Rede",jobs:"Empregos",connections:"Conexes"},wW={accountSettings:"Configuraes da conta",datingPreferences:"Preferncias de namoro",contentPreferences:"Preferncias de contedo",communityGuidelines:"Diretrizes da comunidade",notificationSettings:"Configuraes de notificao",professionalProfile:"Perfil profissional",jobAlertSettings:"Configuraes de alertas de emprego",networkingPreferences:"Preferncias de networking"},jW={account:"Conta",app:"Aplicativo",subscription:"Assinatura",logout:"Sair",save:"Salvar",cancel:"Cancelar",back:"Voltar",settings:"Configuraes",search:"Buscar",loading:"Carregando...",seeMore:"Ver mais",update:"Atualizar",details:"Detalhes",close:"Fechar",yes:"Sim",no:"No",success:"Sucesso",error:"Erro",warning:"Aviso",info:"Informao",next:"Prximo",previous:"Anterior",submit:"Enviar",continue:"Continuar",done:"Concludo",edit:"Editar",delete:"Excluir",remove:"Remover",add:"Adicionar",create:"Criar",view:"Visualizar",select:"Selecionar",send:"Enviar",receive:"Receber",free:"Grtis",premium:"Premium",unlimited:"Ilimitado",limited:"Limitado"},NW={login:"Entrar",register:"Registrar",forgotPassword:"Esqueceu a senha?",resetPassword:"Redefinir senha",phoneNumber:"Nmero de telefone",email:"E-mail",password:"Senha",confirmPassword:"Confirmar senha",verificationCode:"Cdigo de verificao",enterVerificationCode:"Digite o cdigo de verificao enviado para seu telefone",resendCode:"Reenviar cdigo",verifyPhone:"Verificar seu telefone",createAccount:"Criar conta",createPassword:"Criar senha",passwordRequirements:"A senha deve ter pelo menos 6 caracteres",alreadyHaveAccount:"J tem uma conta?",dontHaveAccount:"No tem uma conta?",signIn:"Entrar",signUp:"Cadastrar",welcomeBack:"Bem-vindo de volta",passwordsMatch:"As senhas correspondem",passwordsDontMatch:"As senhas no correspondem",recoverPassword:"Recuperar senha",recoverPasswordInstructions:"Digite seu e-mail para receber um link de redefinio de senha",enterCode:"Digite o cdigo",codeExpires:"O cdigo expira em",minutes:"minutos",seconds:"segundos",wrongCode:"Cdigo incorreto. Por favor, tente novamente.",verifyingCode:"Verificando cdigo...",verifyCode:"Verificar cdigo"},kW={showChooseAppModePage:"Mostrar pgina 'Escolher modo do app'",controlWhetherToShow:"Controle se deseja mostrar a tela de seleo de app aps o login",showAppSelectionScreen:"Mostrar tela de seleo de app",whenTurnedOnYoullBeAsked:"Quando ativado, voc ser perguntado qual app usar aps o login",showNationalitySelectionScreen:"Mostrar tela de seleo de nacionalidade",whenTurnedOnReturningUsers:"Quando ativado, usurios recorrentes vero as telas de seleo de nacionalidade antes da seleo do app",languageSettings:"Configuraes de idioma",selectYourPreferredLanguage:"Selecione seu idioma preferido",currentLanguage:"Idioma atual",changeLanguage:"Alterar idioma",appModeSettings:"Configuraes do modo do app",nationalitySettings:"Configuraes de nacionalidade",whenTurnedOffDirectLogin:"Quando desativado, voc far login diretamente no seu ltimo app usado",whenTurnedOffSkipNationality:"Quando desativado, usurios recorrentes pularo as telas de seleo de nacionalidade",regionalSettings:"Configuraes regionais",language:"Idioma",customizeAppExperience:"Personalize sua experincia do app",securityAndPrivacy:"Segurana e privacidade",manageSecuritySettings:"Gerenciar configuraes de segurana",twoFactorAuth:"Autenticao de dois fatores",accountPrivacy:"Privacidade da conta"},SW={editProfile:"Editar perfil",photos:"Fotos",addPhotos:"Adicionar fotos",aboutMe:"Sobre mim",interests:"Interesses",addInterests:"Adicionar interesses",location:"Localizao",occupation:"Profisso",education:"Educao",relationshipGoals:"Objetivos de relacionamento",languages:"Idiomas",height:"Altura",age:"Idade",birthday:"Data de nascimento",gender:"Gnero",male:"Masculino",female:"Feminino",religion:"Religio",tribe:"Tribo",tribes:"Tribos",selectTribes:"Selecione suas tribos",selectUpToTwo:"Selecione at 2 tribos",drinkingHabits:"Hbitos de bebida",smokingHabits:"Hbitos de fumo",personalityType:"Tipo de personalidade",bodyType:"Tipo fsico",children:"Filhos",wantChildren:"Quer filhos",noPhotos:"Sem fotos",addSomePhotos:"Adicione algumas fotos para completar seu perfil",uploadPhoto:"Carregar foto",profilePicture:"Foto de perfil",selectFromGallery:"Selecionar da galeria",takePhoto:"Tirar foto",updateInterests:"Atualizar interesses",selectInterests:"Selecione interesses que representam voc",addMoreDetails:"Adicionar mais detalhes",enhanceProfile:"Melhore seu perfil com mais detalhes",updateLocation:"Atualizar localizao",confirmLocation:"Confirmar sua localizao",saveChanges:"Salvar alteraes",discardChanges:"Descartar alteraes",profileUpdated:"Perfil atualizado",profileSaved:"Seu perfil foi salvo com sucesso",profilePhotoRequired:"Foto de perfil necessria",pleaseAddPhoto:"Por favor, adicione pelo menos uma foto para continuar",primaryPhoto:"Foto principal",setAsPrimary:"Definir como principal",deletePhoto:"Excluir foto",confirmDeletePhoto:"Tem certeza de que deseja excluir esta foto?",photoDeleted:"Foto excluda",photoDeletedSuccess:"Sua foto foi excluda com sucesso",showPreview:"Mostrar pr-visualizao",show:"Mostrar",yourInfo:"SUAS INFORMAES",residence:"Residncia",profession:"Profisso",myPhotos:"MINHAS FOTOS",relationshipGoalsSection:"OBJETIVOS DE RELACIONAMENTO",whatImLookingFor:"O que estou procurando",notSpecified:"No especificado",tribeCannotBeEdited:"A tribo no pode ser editada",profilePreview:"Pr-visualizao do perfil",previewDescription:" assim que os outros veem seu perfil ao deslizar"},CW={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Selecionar modo",meetDescription:"Encontre relacionamentos significativos e conexes",heatDescription:"Conecte-se com amigos e compartilhe momentos",suiteDescription:"Construa sua rede profissional e oportunidades"},EW={noPhotoAvailable:"Foto no disponvel",topInterests:"Principais interesses",errorTitle:"Erro",likeError:"No foi possvel processar seu like. Por favor, tente novamente.",noMoreMatches:"Sem mais matches",checkBackSoon:"Estamos encontrando mais pessoas para voc. Volte em breve!",noBioAvailable:"Biografia no disponvel ainda."},PW={matches:"Matches",newMatches:"Novos matches",noMatches:"Ainda sem matches",noMatchesDescription:"Quando voc der match com algum, eles aparecero aqui",keepSwiping:"Continue deslizando",itsAMatch:" um match!",youAndUserLikedEachOther:"Voc e {{name}} se curtiram",sendMessage:"Enviar mensagem",potentialMatches:"Matches potenciais",noPotentialMatches:"Nenhum match potencial no momento",tryAgainLater:"Por favor, tente novamente mais tarde",mutualInterests:"Interesses mtuos",compatibility:"Compatibilidade"},AW={chats:"Conversas",messages:"Mensagens",noMessages:"Ainda sem mensagens",noMessagesDescription:"Inicie uma conversa com seus matches",typeMessage:"Digite uma mensagem...",sendingMessage:"Enviando...",failedToSend:"Falha ao enviar",retryMessageSend:"Toque para tentar novamente",online:"Online",offline:"Offline",lastSeen:"Visto pela ltima vez {{time}}",typing:"digitando...",yourMessage:"Sua mensagem",theirMessage:"Mensagem deles",unreadMessages:"Mensagens no lidas",newMessage:"Nova mensagem",deleteConversation:"Excluir conversa",confirmDeleteConversation:"Tem certeza de que deseja excluir esta conversa?",conversationDeleted:"Conversa excluda",conversationDeletedSuccess:"A conversa foi excluda com sucesso",startConversation:"Iniciar conversa",deleteMessageConfirm:"Tem certeza de que deseja excluir esta mensagem?",messageDeleted:"Mensagem excluda"},MW={videoCall:"Videochamada",startVideoCall:"Iniciar videochamada",incomingCall:"Chamada recebida",isCallingYou:"{{name}} est te ligando",answer:"Atender",decline:"Recusar",calling:"Chamando...",connecting:"Conectando...",callEnded:"Chamada encerrada",callDuration:"Durao da chamada: {{time}}",callFailed:"Chamada falhou",callFailedDescription:"No foi possvel estabelecer a conexo da chamada",tryAgain:"Tentar novamente",endCall:"Encerrar chamada",mute:"Silenciar",unmute:"Ativar som",speaker:"Alto-falante",camera:"Cmera",switchCamera:"Alternar cmera",missedCall:"Chamada perdida",missedCallDescription:"Voc perdeu uma chamada de {{name}}",callBack:"Retornar chamada"},TW={app:vW,navigation:bW,settingsMenu:wW,common:jW,auth:NW,settings:kW,profile:SW,appMode:CW,swipeCard:EW,matches:PW,chat:AW,videoCalls:MW},IW={slogan:"     ",noMoreMatches:"  ",findingMorePeople:"     .    !",noPhotoAvailable:" ",topInterests:" :"},_W={discover:"",messages:"",matches:"",profile:"",feed:"",explore:"",network:"",jobs:"",connections:""},DW={accountSettings:" ",datingPreferences:" ",contentPreferences:" ",communityGuidelines:" ",notificationSettings:" ",professionalProfile:" ",jobAlertSettings:"   ",networkingPreferences:"  "},RW={account:"",app:"",subscription:"",logout:"",save:"",cancel:"",back:"",settings:"",search:"",loading:"...",seeMore:" ",update:"",details:"",close:"",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:"",continue:"",done:"",edit:"",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:"",free:"",premium:"",unlimited:"",limited:""},OW={login:"",register:"",forgotPassword:" ?",resetPassword:" ",phoneNumber:" ",email:" ",password:"",confirmPassword:" ",verificationCode:" ",enterVerificationCode:" ,    ",resendCode:"  ",verifyPhone:"  ",createAccount:" ",createPassword:" ",passwordRequirements:"     6 ",alreadyHaveAccount:"  ?",dontHaveAccount:" ?",signIn:"",signUp:"",welcomeBack:" ",passwordsMatch:" ",passwordsDontMatch:"  ",recoverPassword:" ",recoverPasswordInstructions:"        ",enterCode:" ",codeExpires:"    ",minutes:"",seconds:"",wrongCode:" . ,   .",verifyingCode:" ...",verifyCode:" "},LW={showChooseAppModePage:"  '  '",controlWhetherToShow:"      ",showAppSelectionScreen:"   ",whenTurnedOnYoullBeAsked:"        ",showNationalitySelectionScreen:"   ",whenTurnedOnReturningUsers:"          ",languageSettings:" ",selectYourPreferredLanguage:"  ",currentLanguage:" ",changeLanguage:" ",appModeSettings:"  ",nationalitySettings:" ",whenTurnedOffDirectLogin:"        ",whenTurnedOffSkipNationality:"       ",regionalSettings:" ",language:"",customizeAppExperience:"     ",securityAndPrivacy:"  ",manageSecuritySettings:"  ",twoFactorAuth:" ",accountPrivacy:" "},$W={residence:" ",tribe:"",profession:"",religion:"",aboutMe:" ",myPhotos:" ",relationshipGoals:" ",whatImLookingFor:"  ",addPhoto:" ",noPhotosYet:"   ",userPhoto:" ",notSpecified:" ",tribeCannotBeEdited:"  ",show:"",save:"",showPreview:" ",whatAreYouLookingFor:"  ?",removingPhoto:"    ...",profilePreview:" ",previewDescription:"      ",enterCityCountry:"    ",enterProfession:"  ",selectReligion:"   ",tellAboutYourself:"  ",hidePreview:" "},FW={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:" ",chooseYourAppMode:"  ",meetDescription:"    ",heatDescription:"     ",suiteDescription:"     ",datingApp:"  ",socialApp:" ",professionalNetwork:" ",meetLongDescription:"           ",heatLongDescription:"     ,        ",suiteLongDescription:"       ,    ",continueTo:" ",loading:""},UW={noPhotoAvailable:" ",topInterests:" ",errorTitle:"",likeError:"    . ,   .",noMoreMatches:"  ",checkBackSoon:"     .  !",noBioAvailable:"   "},BW={matches:"",newMatches:" ",noMatches:"  ",noMatchesDescription:"     -,   ",keepSwiping:" ",itsAMatch:"  !",youAndUserLikedEachOther:"  {{name}}   ",sendMessage:" ",potentialMatches:" ",noPotentialMatches:"     ",tryAgainLater:",  ",mutualInterests:" ",compatibility:""},GW={chats:"",messages:"",noMessages:"  ",noMessagesDescription:"    ",typeMessage:" ...",sendingMessage:"...",failedToSend:"  ",retryMessageSend:",  ",online:" ",offline:"  ",lastSeen:"()   {{time}}",typing:"...",yourMessage:" ",theirMessage:" ",unreadMessages:" ",newMessage:" ",deleteConversation:" ",confirmDeleteConversation:" ,     ?",conversationDeleted:" ",conversationDeletedSuccess:"  ",startConversation:" ",deleteMessageConfirm:" ,     ?",messageDeleted:" "},VW={videoCall:"",startVideoCall:" ",incomingCall:" ",isCallingYou:"{{name}}  ",answer:"",decline:"",calling:"...",connecting:"...",callEnded:" ",callDuration:" : {{time}}",callFailed:"  ",callFailedDescription:"     ",tryAgain:" ",endCall:" ",mute:" ",unmute:" ",speaker:"",camera:"",switchCamera:" ",missedCall:" ",missedCallDescription:"    {{name}}",callBack:""},zW={app:IW,navigation:_W,settingsMenu:DW,common:RW,auth:OW,settings:LW,profile:$W,appMode:FW,swipeCard:UW,matches:BW,chat:GW,videoCalls:VW},WW={slogan:"Verbind met Ghanezen wereldwijd",noMoreMatches:"Geen matches meer beschikbaar",findingMorePeople:"We zoeken meer mensen voor je. Kom snel terug!",noPhotoAvailable:"Geen foto beschikbaar",topInterests:"Belangrijkste interesses:"},HW={discover:"Ontdekken",messages:"Berichten",matches:"Matches",profile:"Profiel",feed:"Feed",explore:"Verkennen",network:"Netwerk",jobs:"Vacatures",connections:"Connecties"},KW={accountSettings:"Account-instellingen",datingPreferences:"Dating-voorkeuren",contentPreferences:"Inhoud-voorkeuren",communityGuidelines:"Communityrichtlijnen",notificationSettings:"Meldingsinstellingen",professionalProfile:"Professioneel profiel",jobAlertSettings:"Vacaturemeldingsinstellingen",networkingPreferences:"Netwerkvoorkeuren"},qW={account:"Account",app:"App",subscription:"Abonnement",logout:"Uitloggen",save:"Opslaan",cancel:"Annuleren",back:"Terug",settings:"Instellingen",search:"Zoeken",loading:"Laden...",seeMore:"Meer zien",update:"Bijwerken",details:"Details",close:"Sluiten",yes:"Ja",no:"Nee",success:"Geslaagd",error:"Fout",warning:"Waarschuwing",info:"Informatie",next:"Volgende",previous:"Vorige",submit:"Verzenden",continue:"Doorgaan",done:"Klaar",edit:"Bewerken",delete:"Verwijderen",remove:"Verwijderen",add:"Toevoegen",create:"Aanmaken",view:"Bekijken",select:"Selecteren",send:"Verzenden",receive:"Ontvangen",free:"Gratis",premium:"Premium",unlimited:"Onbeperkt",limited:"Beperkt"},YW={login:"Inloggen",register:"Registreren",forgotPassword:"Wachtwoord vergeten",resetPassword:"Wachtwoord resetten",phoneNumber:"Telefoonnummer",email:"E-mail",password:"Wachtwoord",confirmPassword:"Wachtwoord bevestigen",verificationCode:"Verificatiecode",enterVerificationCode:"Voer de verificatiecode in die naar je telefoon is gestuurd",resendCode:"Code opnieuw verzenden",verifyPhone:"Verifieer je telefoon",createAccount:"Account aanmaken",createPassword:"Wachtwoord aanmaken",passwordRequirements:"Wachtwoord moet minimaal 6 tekens bevatten",alreadyHaveAccount:"Heb je al een account?",dontHaveAccount:"Heb je nog geen account?",signIn:"Inloggen",signUp:"Registreren",welcomeBack:"Welkom terug",passwordsMatch:"Wachtwoorden komen overeen",passwordsDontMatch:"Wachtwoorden komen niet overeen",recoverPassword:"Wachtwoord herstellen",recoverPasswordInstructions:"Voer je e-mailadres in om een link te ontvangen om je wachtwoord te resetten",enterCode:"Code invoeren",codeExpires:"Code verloopt over",minutes:"minuten",seconds:"seconden",wrongCode:"Verkeerde code. Probeer het opnieuw.",verifyingCode:"Code verifiren...",verifyCode:"Code verifiren"},QW={showChooseAppModePage:"'Kies App-modus' pagina tonen",controlWhetherToShow:"Bepaal of het app-selectiescherm na inloggen wordt getoond",showAppSelectionScreen:"App-selectiescherm tonen",whenTurnedOnYoullBeAsked:"Wanneer ingeschakeld, wordt gevraagd welke app je wilt gebruiken na inloggen",showNationalitySelectionScreen:"Nationaliteit-selectiescherm tonen",whenTurnedOnReturningUsers:"Wanneer ingeschakeld, zien terugkerende gebruikers nationaliteit-selectieschermen vr app-selectie",languageSettings:"Taalinstellingen",selectYourPreferredLanguage:"Selecteer je voorkeurstaal",currentLanguage:"Huidige taal",changeLanguage:"Taal wijzigen",appModeSettings:"App-modus instellingen",nationalitySettings:"Nationaliteit instellingen",whenTurnedOffDirectLogin:"Wanneer uitgeschakeld, log je direct in op je laatst gebruikte app",whenTurnedOffSkipNationality:"Wanneer uitgeschakeld, slaan terugkerende gebruikers nationaliteit-selectieschermen over",regionalSettings:"Regionale instellingen",language:"Taal",customizeAppExperience:"Pas je app-ervaring aan",securityAndPrivacy:"Beveiliging en privacy",manageSecuritySettings:"Beveiligingsinstellingen beheren",twoFactorAuth:"Tweefactorauthenticatie",accountPrivacy:"Accountprivacy"},JW={editProfile:"Profiel bewerken",photos:"Foto's",addPhotos:"Foto's toevoegen",aboutMe:"Over mij",interests:"Interesses",addInterests:"Interesses toevoegen",location:"Locatie",occupation:"Beroep",education:"Opleiding",relationshipGoals:"Relatiedoelen",languages:"Talen",height:"Lengte",age:"Leeftijd",birthday:"Geboortedatum",gender:"Geslacht",male:"Man",female:"Vrouw",religion:"Religie",tribe:"Stam",tribes:"Stammen",selectTribes:"Selecteer je stammen",selectUpToTwo:"Selecteer maximaal 2 stammen",drinkingHabits:"Drinkgewoonten",smokingHabits:"Rookgewoonten",personalityType:"Persoonlijkheidstype",bodyType:"Lichaamstype",children:"Kinderen",wantChildren:"Wil kinderen",noPhotos:"Geen foto's",addSomePhotos:"Voeg enkele foto's toe om je profiel te voltooien",uploadPhoto:"Foto uploaden",profilePicture:"Profielfoto",selectFromGallery:"Selecteer uit galerij",takePhoto:"Foto maken",updateInterests:"Interesses bijwerken",selectInterests:"Selecteer interesses die jou vertegenwoordigen",addMoreDetails:"Meer details toevoegen",enhanceProfile:"Verbeter je profiel met meer details",updateLocation:"Locatie bijwerken",confirmLocation:"Bevestig je locatie",saveChanges:"Wijzigingen opslaan",discardChanges:"Wijzigingen ongedaan maken",profileUpdated:"Profiel bijgewerkt",profileSaved:"Je profiel is succesvol opgeslagen",profilePhotoRequired:"Profielfoto vereist",pleaseAddPhoto:"Voeg ten minste n foto toe om door te gaan",primaryPhoto:"Primaire foto",setAsPrimary:"Als primair instellen",deletePhoto:"Foto verwijderen",confirmDeletePhoto:"Weet je zeker dat je deze foto wilt verwijderen?",photoDeleted:"Foto verwijderd",photoDeletedSuccess:"Je foto is succesvol verwijderd",showPreview:"Voorbeeld weergeven",show:"Weergeven",yourInfo:"JOUW INFORMATIE",residence:"Woonplaats",profession:"Beroep",myPhotos:"MIJN FOTO'S",relationshipGoalsSection:"RELATIEDOELEN",whatImLookingFor:"Waar ik naar zoek",notSpecified:"Niet gespecificeerd",tribeCannotBeEdited:"Stam kan niet worden bewerkt",profilePreview:"Profielvoorbeeld",previewDescription:"Zo zien anderen je profiel tijdens het swipen"},XW={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Selecteer modus",meetDescription:"Vind betekenisvolle relaties en connecties",heatDescription:"Maak verbinding met vrienden en deel momenten",suiteDescription:"Bouw je professionele netwerk en kansen op"},ZW={noPhotoAvailable:"Geen foto beschikbaar",topInterests:"Belangrijkste interesses",errorTitle:"Fout",likeError:"Kon je like niet verwerken. Probeer het opnieuw.",noMoreMatches:"Geen matches meer",checkBackSoon:"We zoeken naar meer mensen voor je. Kom snel terug!",noBioAvailable:"Nog geen bio beschikbaar."},eH={matches:"Matches",newMatches:"Nieuwe matches",noMatches:"Nog geen matches",noMatchesDescription:"Wanneer je met iemand matcht, verschijnen ze hier",keepSwiping:"Blijf swipen",itsAMatch:"Het is een match!",youAndUserLikedEachOther:"Jij en {{name}} vinden elkaar leuk",sendMessage:"Bericht verzenden",potentialMatches:"Potentile matches",noPotentialMatches:"Geen potentile matches op dit moment",tryAgainLater:"Probeer het later nog eens",mutualInterests:"Gemeenschappelijke interesses",compatibility:"Compatibiliteit"},tH={chats:"Chats",messages:"Berichten",noMessages:"Nog geen berichten",noMessagesDescription:"Start een gesprek met je matches",typeMessage:"Typ een bericht...",sendingMessage:"Verzenden...",failedToSend:"Verzenden mislukt",retryMessageSend:"Tik om opnieuw te proberen",online:"Online",offline:"Offline",lastSeen:"Laatst gezien {{time}}",typing:"typt...",yourMessage:"Jouw bericht",theirMessage:"Hun bericht",unreadMessages:"Ongelezen berichten",newMessage:"Nieuw bericht",deleteConversation:"Gesprek verwijderen",confirmDeleteConversation:"Weet je zeker dat je dit gesprek wilt verwijderen?",conversationDeleted:"Gesprek verwijderd",conversationDeletedSuccess:"Het gesprek is succesvol verwijderd",startConversation:"Gesprek starten",deleteMessageConfirm:"Weet je zeker dat je dit bericht wilt verwijderen?",messageDeleted:"Bericht verwijderd"},rH={videoCall:"Videogesprek",startVideoCall:"Videogesprek starten",incomingCall:"Inkomende oproep",isCallingYou:"{{name}} belt je",answer:"Beantwoorden",decline:"Weigeren",calling:"Bellen...",connecting:"Verbinden...",callEnded:"Gesprek beindigd",callDuration:"Gespreksduur: {{time}}",callFailed:"Gesprek mislukt",callFailedDescription:"Kan geen gespreksverbinding tot stand brengen",tryAgain:"Opnieuw proberen",endCall:"Gesprek beindigen",mute:"Dempen",unmute:"Dempen opheffen",speaker:"Luidspreker",camera:"Camera",switchCamera:"Camera wisselen",missedCall:"Gemiste oproep",missedCallDescription:"Je hebt een oproep van {{name}} gemist",callBack:"Terugbellen"},nH={app:WW,navigation:HW,settingsMenu:KW,common:qW,auth:YW,settings:QW,profile:JW,appMode:XW,swipeCard:ZW,matches:eH,chat:tH,videoCalls:rH},aH={slogan:"Dnya genelindeki Ganallarla balant kurun",noMoreMatches:"Baka eleme yok",findingMorePeople:"Sizin iin daha fazla kii aryoruz. Yaknda tekrar gelin!",noPhotoAvailable:"Fotoraf mevcut deil",topInterests:"Balca ilgi alanlar:",meetDescription:"Gana kltrn ve deerlerini paylaan bekarlarla balant kurun",heatDescription:"Gana topluluu ile sohbetlere ve sosyal etkinliklere katln",suiteDescription:"Gana i anda profesyonel balantlar kurun"},sH={discover:"Kefet",messages:"Mesajlar",matches:"Elemeler",profile:"Profil",feed:"Ak",explore:"Kefet",network:"A",jobs:"ler",connections:"Balantlar"},iH={accountSettings:"Hesap Ayarlar",datingPreferences:"Flrt Tercihleri",contentPreferences:"erik Tercihleri",communityGuidelines:"Topluluk Kurallar",notificationSettings:"Bildirim Ayarlar",professionalProfile:"Profesyonel Profil",jobAlertSettings:" Uyar Ayarlar",networkingPreferences:"A Oluturma Tercihleri"},oH={account:"Hesap",app:"Uygulama",logo:"Logo",subscription:"Abonelik",logout:"k Yap",save:"Kaydet",cancel:"ptal",back:"Geri",settings:"Ayarlar",search:"Ara",loading:"Ykleniyor...",seeMore:"Daha fazla gr",update:"Gncelle",details:"Detaylar",close:"Kapat",yes:"Evet",no:"Hayr",success:"Baarl",error:"Hata",warning:"Uyar",info:"Bilgi",next:"leri",previous:"Geri",submit:"Gnder",continue:"Devam et",done:"Tamamland",edit:"Dzenle",delete:"Sil",remove:"Kaldr",add:"Ekle",create:"Olutur",view:"Grntle",select:"Se",send:"Gnder",receive:"Al",free:"cretsiz",premium:"Premium",unlimited:"Snrsz",limited:"Snrl"},lH={login:"Giri Yap",register:"Kaydol",forgotPassword:"ifremi Unuttum",resetPassword:"ifreyi Sfrla",phoneNumber:"Telefon Numaras",email:"E-posta",password:"ifre",confirmPassword:"ifreyi Onayla",verificationCode:"Dorulama Kodu",enterVerificationCode:"Telefonunuza gnderilen dorulama kodunu girin",resendCode:"Kodu Tekrar Gnder",verifyPhone:"Telefonunuzu Dorulayn",createAccount:"Hesap Olutur",createPassword:"ifre Olutur",passwordRequirements:"ifre en az 6 karakter olmaldr",alreadyHaveAccount:"Zaten bir hesabnz var m?",dontHaveAccount:"Hesabnz yok mu?",signIn:"Giri Yap",signUp:"Kaydol",welcomeBack:"Tekrar Ho Geldiniz",passwordsMatch:"ifreler eleiyor",passwordsDontMatch:"ifreler elemiyor",recoverPassword:"ifreyi Kurtar",recoverPasswordInstructions:"ifre sfrlama balants almak iin e-posta adresinizi girin",enterCode:"Kodu Girin",codeExpires:"Kod u sre iinde sona erecek",minutes:"dakika",seconds:"saniye",wrongCode:"Yanl kod. Ltfen tekrar deneyin.",verifyingCode:"Kod dorulanyor...",verifyCode:"Kodu Dorula"},cH={showChooseAppModePage:"'Uygulama Modu Se' Sayfasn Gster",controlWhetherToShow:"Giri sonras uygulama seim ekrannn gsterilip gsterilmeyeceini kontrol edin",showAppSelectionScreen:"Uygulama seim ekrann gster",whenTurnedOnYoullBeAsked:"Aldnda, giri sonras hangi uygulamay kullanacanz sorulacak",showNationalitySelectionScreen:"Milliyet seim ekrann gster",whenTurnedOnReturningUsers:"Aldnda, geri dnen kullanclar uygulama seiminden nce milliyet seim ekranlarn grecek",languageSettings:"Dil Ayarlar",selectYourPreferredLanguage:"Tercih ettiiniz dili sein",currentLanguage:"Mevcut dil",changeLanguage:"Dili deitir",appModeSettings:"Uygulama modu ayarlar",nationalitySettings:"Milliyet ayarlar",whenTurnedOffDirectLogin:"Kapatldnda, dorudan son kullandnz uygulamaya giri yapacaksnz",whenTurnedOffSkipNationality:"Kapatldnda, geri dnen kullanclar milliyet seim ekranlarn atlayacak",regionalSettings:"Blgesel ayarlar",language:"Dil",customizeAppExperience:"Uygulama deneyiminizi zelletirin",securityAndPrivacy:"Gvenlik ve gizlilik",manageSecuritySettings:"Gvenlik ayarlarn ynet",twoFactorAuth:"ki faktrl kimlik dorulama",accountPrivacy:"Hesap gizlilii"},dH={editProfile:"Profili Dzenle",photos:"Fotoraflar",addPhotos:"Fotoraf Ekle",aboutMe:"Hakkmda",interests:"lgi Alanlar",addInterests:"lgi Alanlar Ekle",location:"Konum",occupation:"Meslek",education:"Eitim",relationshipGoals:"liki Hedefleri",languages:"Diller",height:"Boy",age:"Ya",birthday:"Doum Gn",gender:"Cinsiyet",male:"Erkek",female:"Kadn",religion:"Din",tribe:"Kabile",tribes:"Kabileler",selectTribes:"Kabilelerinizi Sein",selectUpToTwo:"En fazla 2 kabile sein",drinkingHabits:"ki Alkanlklar",smokingHabits:"Sigara Alkanlklar",personalityType:"Kiilik Tipi",bodyType:"Vcut Tipi",children:"ocuklar",wantChildren:"ocuk stiyor",noPhotos:"Fotoraf Yok",noPhotosYet:"Henz fotoraf eklenmedi",addSomePhotos:"Profilinizi tamamlamak iin baz fotoraflar ekleyin",uploadPhoto:"Fotoraf Ykle",profilePicture:"Profil Resmi",selectFromGallery:"Galeriden Se",takePhoto:"Fotoraf ek",updateInterests:"lgi Alanlarn Gncelle",selectInterests:"Sizi temsil eden ilgi alanlarn sein",addMoreDetails:"Daha Fazla Detay Ekle",enhanceProfile:"Profilinizi daha fazla detayla zenginletirin",updateLocation:"Konumu Gncelle",confirmLocation:"Konumunuzu onaylayn",saveChanges:"Deiiklikleri Kaydet",discardChanges:"Deiiklikleri ptal Et",profileUpdated:"Profil Gncellendi",profileSaved:"Profiliniz baaryla kaydedildi",profilePhotoRequired:"Profil fotoraf gerekli",pleaseAddPhoto:"Devam etmek iin ltfen en az bir fotoraf ekleyin",primaryPhoto:"Ana Fotoraf",setAsPrimary:"Ana Fotoraf Olarak Ayarla",deletePhoto:"Fotoraf Sil",confirmDeletePhoto:"Bu fotoraf silmek istediinizden emin misiniz?",photoDeleted:"Fotoraf Silindi",photoDeletedSuccess:"Fotorafnz baaryla silindi",showPreview:"nizleme Gster",show:"Gster",yourInfo:"BLGLERNZ",residence:"kamet Yeri",profession:"Meslek",myPhotos:"FOTORAFLARIM",relationshipGoalsSection:"LK HEDEFLER",whatImLookingFor:"Ne Aryorum",notSpecified:"Belirtilmemi",tribeCannotBeEdited:"Kabile dzenlenemez",profilePreview:"Profil nizleme",previewDescription:"Dierleri profilinizi kaydrrken byle grnecek"},uH={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Mod Sein",meetDescription:"Anlaml ilikiler ve balantlar bulun",heatDescription:"Arkadalarnzla balant kurun ve anlar paylan",suiteDescription:"Profesyonel anz ve frsatlarnz oluturun",datingApp:"Tanma Uygulamas",socialApp:"Sosyal Uygulama",professionalNetwork:"Profesyonel A",meetLongDescription:"Dnya apnda Ganal bekarlarla tanma ve anlaml ilikiler iin balant kurun",heatLongDescription:"Dnya genelinde Gana etkinlikleri, kltrel bulumalar ve sosyal gruplarla bulun ve balant kurun",suiteLongDescription:"Mentorluk, i ve i frsatlar araclyla Ganal profesyonellerle kariyer balantlar kurun",chooseYourAppMode:"Uygulama Modunuzu Sein",continueTo:"uraya devam et:"},mH={noPhotoAvailable:"Fotoraf Mevcut Deil",topInterests:"lgi Alanlar",errorTitle:"Hata",likeError:"Beeniniz ilenemedi. Ltfen tekrar deneyin.",noMoreMatches:"Baka Eleme Yok",checkBackSoon:"Sizin iin daha fazla kii buluyoruz. Yaknda tekrar kontrol edin!",noBioAvailable:"Henz biyografi yok."},hH={matches:"Elemeler",newMatches:"Yeni Elemeler",noMatches:"Henz Eleme Yok",noMatchesDescription:"Biriyle eletiinizde, burada grnecekler",keepSwiping:"Kaydrmaya Devam Et",itsAMatch:"Eletiniz!",youAndUserLikedEachOther:"Sen ve {{name}} birbirinizi beendiniz",sendMessage:"Mesaj Gnder",potentialMatches:"Potansiyel Elemeler",noPotentialMatches:"u anda potansiyel eleme yok",tryAgainLater:"Ltfen daha sonra tekrar deneyin",mutualInterests:"Ortak lgi Alanlar",compatibility:"Uyumluluk"},pH={chats:"Sohbetler",messages:"Mesajlar",noMessages:"Henz Mesaj Yok",noMessagesDescription:"Elemelerinizle bir konuma balatn",typeMessage:"Mesaj yazn...",sendingMessage:"Gnderiliyor...",failedToSend:"Gnderilemedi",retryMessageSend:"Yeniden denemek iin dokunun",online:"evrimii",offline:"evrimd",lastSeen:"Son grlme {{time}}",typing:"yazyor...",yourMessage:"Senin mesajn",theirMessage:"Onlarn mesaj",unreadMessages:"Okunmam Mesajlar",newMessage:"Yeni Mesaj",deleteConversation:"Konumay Sil",confirmDeleteConversation:"Bu konumay silmek istediinizden emin misiniz?",conversationDeleted:"Konuma Silindi",conversationDeletedSuccess:"Konuma baaryla silindi",startConversation:"Konuma Balat",deleteMessageConfirm:"Bu mesaj silmek istediinizden emin misiniz?",messageDeleted:"Mesaj Silindi"},fH={videoCall:"Grntl Arama",startVideoCall:"Grntl Arama Balat",incomingCall:"Gelen Arama",isCallingYou:"{{name}} sizi aryor",answer:"Cevapla",decline:"Reddet",calling:"Aranyor...",connecting:"Balanyor...",callEnded:"Arama Sona Erdi",callDuration:"Arama sresi: {{time}}",callFailed:"Arama Baarsz",callFailedDescription:"Arama balants kurulamad",tryAgain:"Tekrar Dene",endCall:"Aramay Sonlandr",mute:"Sessize Al",unmute:"Sesi A",speaker:"Hoparlr",camera:"Kamera",switchCamera:"Kameray Deitir",missedCall:"Cevapsz Arama",missedCallDescription:"{{name}} tarafndan yaplan aramay kardnz",callBack:"Geri Ara"},gH={app:aH,navigation:sH,settingsMenu:iH,common:oH,auth:lH,settings:cH,profile:dH,appMode:uH,swipeCard:mH,matches:hH,chat:pH,videoCalls:fH},xH={slogan:"",noMoreMatches:"",findingMorePeople:"",noPhotoAvailable:"",topInterests:""},yH={discover:"",messages:"",matches:"",profile:"",feed:"",explore:"",network:"",jobs:"",connections:""},vH={accountSettings:"",datingPreferences:"",contentPreferences:"",communityGuidelines:"",notificationSettings:"",professionalProfile:"",jobAlertSettings:"",networkingPreferences:""},bH={account:"",app:"",subscription:"",logout:"",save:"",cancel:"",back:"",settings:"",search:"",loading:"...",seeMore:"",update:"",details:"",close:"",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:"",continue:"",done:"",edit:"",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:"",free:"",premium:"",unlimited:"",limited:""},wH={login:"",register:"",forgotPassword:"",resetPassword:"",phoneNumber:"",email:"",password:"",confirmPassword:"",verificationCode:"",enterVerificationCode:"",resendCode:"",verifyPhone:"",createAccount:"",createPassword:"",passwordRequirements:"6",alreadyHaveAccount:"",dontHaveAccount:"",signIn:"",signUp:"",welcomeBack:"",passwordsMatch:"",passwordsDontMatch:"",recoverPassword:"",recoverPasswordInstructions:"",enterCode:"",codeExpires:"",minutes:"",seconds:"",wrongCode:"",verifyingCode:"...",verifyCode:""},jH={showChooseAppModePage:"''",controlWhetherToShow:"",showAppSelectionScreen:"",whenTurnedOnYoullBeAsked:"",showNationalitySelectionScreen:"",whenTurnedOnReturningUsers:"",languageSettings:"",selectYourPreferredLanguage:"",currentLanguage:"",changeLanguage:"",appModeSettings:"",nationalitySettings:"",whenTurnedOffDirectLogin:"",whenTurnedOffSkipNationality:"",regionalSettings:"",language:"",customizeAppExperience:"",securityAndPrivacy:"",manageSecuritySettings:"",twoFactorAuth:"",accountPrivacy:""},NH={residence:"",tribe:"",profession:"",religion:"",aboutMe:"",myPhotos:"",relationshipGoals:"",whatImLookingFor:"",addPhoto:"",noPhotosYet:"",userPhoto:"",notSpecified:"",tribeCannotBeEdited:"",show:"",save:"",showPreview:"",whatAreYouLookingFor:"",removingPhoto:"...",profilePreview:"",previewDescription:"",enterCityCountry:"",enterProfession:"",selectReligion:"",tellAboutYourself:"",hidePreview:""},kH={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"",chooseYourAppMode:"",meetDescription:"",heatDescription:"",suiteDescription:"",datingApp:"",socialApp:"",professionalNetwork:"",meetLongDescription:"",heatLongDescription:"",suiteLongDescription:"",continueTo:"",loading:""},SH={noPhotoAvailable:"",topInterests:"",errorTitle:"",likeError:"",noMoreMatches:"",checkBackSoon:"",noBioAvailable:""},CH={matches:"",newMatches:"",noMatches:"",noMatchesDescription:"",keepSwiping:"",itsAMatch:"",youAndUserLikedEachOther:"{{name}}",sendMessage:"",potentialMatches:"",noPotentialMatches:"",tryAgainLater:"",mutualInterests:"",compatibility:""},EH={chats:"",messages:"",noMessages:"",noMessagesDescription:"",typeMessage:"...",sendingMessage:"...",failedToSend:"",retryMessageSend:"",online:"",offline:"",lastSeen:" {{time}}",typing:"...",yourMessage:"",theirMessage:"",unreadMessages:"",newMessage:"",deleteConversation:"",confirmDeleteConversation:"",conversationDeleted:"",conversationDeletedSuccess:"",startConversation:"",deleteMessageConfirm:"",messageDeleted:""},PH={videoCall:"",startVideoCall:"",incomingCall:"",isCallingYou:"{{name}}",answer:"",decline:"",calling:"...",connecting:"...",callEnded:"",callDuration:"{{time}}",callFailed:"",callFailedDescription:"",tryAgain:"",endCall:"",mute:"",unmute:"",speaker:"",camera:"",switchCamera:"",missedCall:"",missedCallDescription:"{{name}}",callBack:""},AH={app:xH,navigation:yH,settingsMenu:vH,common:bH,auth:wH,settings:jH,profile:NH,appMode:kH,swipeCard:SH,matches:CH,chat:EH,videoCalls:PH},MH={slogan:"",noMoreMatches:"",findingMorePeople:"",noPhotoAvailable:"",topInterests:""},TH={discover:"",messages:"",matches:"",profile:"",feed:"",explore:"",network:"",jobs:"",connections:""},IH={accountSettings:"",datingPreferences:"",contentPreferences:"",communityGuidelines:"",notificationSettings:"",professionalProfile:"",jobAlertSettings:"",networkingPreferences:""},_H={account:"",app:"",subscription:"",logout:"",save:"",cancel:"",back:"",settings:"",search:"",loading:"...",seeMore:"",update:"",details:"",close:"",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:"",continue:"",done:"",edit:"",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:"",free:"",premium:"",unlimited:"",limited:""},DH={login:"",register:"",forgotPassword:"",resetPassword:"",phoneNumber:"",email:"",password:"",confirmPassword:"",verificationCode:"",enterVerificationCode:"",resendCode:"",verifyPhone:"",createAccount:"",createPassword:"",passwordRequirements:"6",alreadyHaveAccount:"",dontHaveAccount:"",signIn:"",signUp:"",welcomeBack:"",passwordsMatch:"",passwordsDontMatch:"",recoverPassword:"",recoverPasswordInstructions:"",enterCode:"",codeExpires:"",minutes:"",seconds:"",wrongCode:"",verifyingCode:"...",verifyCode:""},RH={showChooseAppModePage:"''",controlWhetherToShow:"",showAppSelectionScreen:"",whenTurnedOnYoullBeAsked:"",showNationalitySelectionScreen:"",whenTurnedOnReturningUsers:"",languageSettings:"",selectYourPreferredLanguage:"",currentLanguage:"",changeLanguage:"",appModeSettings:"",nationalitySettings:"",whenTurnedOffDirectLogin:"",whenTurnedOffSkipNationality:"",regionalSettings:"",language:"",customizeAppExperience:"",securityAndPrivacy:"",manageSecuritySettings:"",twoFactorAuth:"",accountPrivacy:""},OH={residence:"",tribe:"",profession:"",religion:"",aboutMe:"",myPhotos:"",relationshipGoals:"",whatImLookingFor:"",addPhoto:"",noPhotosYet:"",userPhoto:"",notSpecified:"",tribeCannotBeEdited:"",show:"",save:"",showPreview:"",whatAreYouLookingFor:"",removingPhoto:"...",profilePreview:"",previewDescription:"",enterCityCountry:"",enterProfession:"",selectReligion:"",tellAboutYourself:"",hidePreview:""},LH={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"",chooseYourAppMode:"",meetDescription:"",heatDescription:"",suiteDescription:"",datingApp:"",socialApp:"",professionalNetwork:"",meetLongDescription:"",heatLongDescription:"",suiteLongDescription:"",continueTo:"",loading:""},$H={noPhotoAvailable:"",topInterests:"",errorTitle:"",likeError:"",noMoreMatches:"",checkBackSoon:"",noBioAvailable:""},FH={matches:"",newMatches:"",noMatches:"",noMatchesDescription:"",keepSwiping:"",itsAMatch:"",youAndUserLikedEachOther:"{{name}}",sendMessage:"",potentialMatches:"",noPotentialMatches:"",tryAgainLater:"",mutualInterests:"",compatibility:""},UH={chats:"",messages:"",noMessages:"",noMessagesDescription:"",typeMessage:"...",sendingMessage:"...",failedToSend:"",retryMessageSend:"",online:"",offline:"",lastSeen:" {{time}}",typing:"...",yourMessage:"",theirMessage:"",unreadMessages:"",newMessage:"",deleteConversation:"",confirmDeleteConversation:"",conversationDeleted:"",conversationDeletedSuccess:"",startConversation:"",deleteMessageConfirm:"",messageDeleted:""},BH={videoCall:"",startVideoCall:"",incomingCall:"",isCallingYou:"{{name}}",answer:"",decline:"",calling:"...",connecting:"...",callEnded:"",callDuration:": {{time}}",callFailed:"",callFailedDescription:"",tryAgain:"",endCall:"",mute:"",unmute:"",speaker:"",camera:"",switchCamera:"",missedCall:"",missedCallDescription:"{{name}}",callBack:""},GH={app:MH,navigation:TH,settingsMenu:IH,common:_H,auth:DH,settings:RH,profile:OH,appMode:LH,swipeCard:$H,matches:FH,chat:UH,videoCalls:BH},VH={slogan:"   ",noMoreMatches:"   ",findingMorePeople:"    .   !",noPhotoAvailable:" ",topInterests:" :"},zH={discover:"",messages:"",matches:"",profile:"",feed:"",explore:"",network:"",jobs:"",connections:""},WH={accountSettings:" ",datingPreferences:" ",contentPreferences:" ",communityGuidelines:" ",notificationSettings:" ",professionalProfile:" ",jobAlertSettings:"  ",networkingPreferences:" "},HH={account:"",app:"",subscription:"",logout:"",save:"",cancel:"",back:"",settings:"",search:"",loading:" ...",seeMore:" ",update:"",details:"",close:"",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:"",continue:"",done:"",edit:"",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:"",free:"",premium:"",unlimited:"",limited:""},KH={login:"",register:"",forgotPassword:" ?",resetPassword:" ",phoneNumber:"",email:"",password:"",confirmPassword:" ",verificationCode:" ",enterVerificationCode:"    ",resendCode:" ",verifyPhone:" ",createAccount:" ",createPassword:" ",passwordRequirements:"  6  ",alreadyHaveAccount:"  ?",dontHaveAccount:" ?",signIn:"",signUp:"",welcomeBack:"   ",passwordsMatch:" ",passwordsDontMatch:"  ",recoverPassword:" ",recoverPasswordInstructions:"     ",enterCode:" ",codeExpires:"  ",minutes:"",seconds:"",wrongCode:" .  .",verifyingCode:"  ...",verifyCode:" "},qH={showChooseAppModePage:"'  '  ",controlWhetherToShow:"       ",showAppSelectionScreen:"   ",whenTurnedOnYoullBeAsked:"       ",showNationalitySelectionScreen:"   ",whenTurnedOnReturningUsers:"          ",languageSettings:" ",selectYourPreferredLanguage:"  ",currentLanguage:" ",changeLanguage:" ",appModeSettings:"  ",nationalitySettings:" ",whenTurnedOffDirectLogin:"     ",whenTurnedOffSkipNationality:"      ",regionalSettings:" ",language:"",customizeAppExperience:"   ",securityAndPrivacy:"  ",manageSecuritySettings:"  ",twoFactorAuth:"2 ",accountPrivacy:" "},YH={residence:"",tribe:"",profession:"",religion:"",aboutMe:"",myPhotos:" ",relationshipGoals:" ",whatImLookingFor:"  ",addPhoto:" ",noPhotosYet:"   ",userPhoto:" ",notSpecified:" ",tribeCannotBeEdited:"   ",show:"",save:"",showPreview:" ",whatAreYouLookingFor:"  ?",removingPhoto:"   ...",profilePreview:" ",previewDescription:"      ",enterCityCountry:"  ",enterProfession:" ",selectReligion:"  ",tellAboutYourself:"    ",hidePreview:" "},QH={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:" ",meetDescription:"    ",heatDescription:"   ",suiteDescription:"   "},JH={noPhotoAvailable:" ",topInterests:" ",errorTitle:"",likeError:"   .   .",noMoreMatches:"   ",checkBackSoon:"    .    !",noBioAvailable:"  "},XH={matches:"",newMatches:" ",noMatches:"  ",noMatchesDescription:"   ",keepSwiping:" ",itsAMatch:" !",youAndUserLikedEachOther:" {{name}}  ",sendMessage:" ",potentialMatches:" ",noPotentialMatches:"   ",tryAgainLater:"  ",mutualInterests:" ",compatibility:""},ZH={chats:"",messages:"",noMessages:"  ",noMessagesDescription:"   ",typeMessage:" ...",sendingMessage:" ...",failedToSend:" ",retryMessageSend:"  ",online:"",offline:"",lastSeen:"  {{time}}",typing:" ...",yourMessage:" ",theirMessage:" ",unreadMessages:"  ",newMessage:" ",deleteConversation:" ",confirmDeleteConversation:"  ?",conversationDeleted:" ",conversationDeletedSuccess:"  ",startConversation:" ",deleteMessageConfirm:"  ?",messageDeleted:" "},eK={videoCall:"",startVideoCall:" ",incomingCall:" ",isCallingYou:"{{name}}   ",answer:"",decline:"",calling:" ...",connecting:" ...",callEnded:" ",callDuration:" : {{time}}",callFailed:" ",callFailedDescription:"    ",tryAgain:" ",endCall:" ",mute:"",unmute:" ",speaker:"",camera:"",switchCamera:" ",missedCall:" ",missedCallDescription:"{{name}}   ",callBack:" "},tK={app:VH,navigation:zH,settingsMenu:WH,common:HH,auth:KH,settings:qH,profile:YH,appMode:QH,swipeCard:JH,matches:XH,chat:ZH,videoCalls:eK},rK={slogan:"     ",noMoreMatches:"     ",findingMorePeople:"            !",noPhotoAvailable:"    ",topInterests:" :"},nK={discover:"",messages:"",matches:"",profile:"",feed:"",explore:" ",network:"",jobs:"",connections:""},aK={accountSettings:" ",datingPreferences:" ",contentPreferences:" ",communityGuidelines:" ",notificationSettings:" ",professionalProfile:" ",jobAlertSettings:"  ",networkingPreferences:" "},sK={account:"",app:"",subscription:"",logout:" ",save:"",cancel:" ",back:"",settings:"",search:"",loading:"   ...",seeMore:" ",update:" ",details:"",close:" ",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:" ",continue:" ",done:" ",edit:" ",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:" ",free:"",premium:"",unlimited:"",limited:""},iK={login:"",register:" ",forgotPassword:"  ",resetPassword:"  ",phoneNumber:" ",email:"",password:"",confirmPassword:"   ",verificationCode:" ",enterVerificationCode:"         ",resendCode:"  ",verifyPhone:"   ",createAccount:" ",createPassword:" ",passwordRequirements:"    6    ",alreadyHaveAccount:"    ?",dontHaveAccount:"  ?",signIn:"  ",signUp:"  ",welcomeBack:"   ",passwordsMatch:"   ",passwordsDontMatch:"   ",recoverPassword:"   ",recoverPasswordInstructions:"          ",enterCode:"  ",codeExpires:"   ",minutes:"",seconds:"",wrongCode:"     ",verifyingCode:"     ...",verifyCode:"  "},oK={showChooseAppModePage:"'  '  ",controlWhetherToShow:"        ",showAppSelectionScreen:"   ",whenTurnedOnYoullBeAsked:"  ,             ",showNationalitySelectionScreen:"   ",whenTurnedOnReturningUsers:"  ,            ",languageSettings:" ",selectYourPreferredLanguage:"   ",currentLanguage:" ",changeLanguage:" ",appModeSettings:"  ",nationalitySettings:" ",whenTurnedOffDirectLogin:"  ,            ",whenTurnedOffSkipNationality:"  ,         ",regionalSettings:" ",language:"",customizeAppExperience:"    ",securityAndPrivacy:"  ",manageSecuritySettings:"   ",twoFactorAuth:"- ",accountPrivacy:" "},lK={residence:" ",tribe:"",profession:"",religion:"",aboutMe:"  ",myPhotos:" ",relationshipGoals:"  ",whatImLookingFor:"    ",addPhoto:" ",noPhotosYet:"       ",userPhoto:"  ",notSpecified:"  ",tribeCannotBeEdited:"     ",show:"",save:"",showPreview:" ",whatAreYouLookingFor:"    ?",removingPhoto:"       ...",profilePreview:" ",previewDescription:"         ",enterCityCountry:"     ",enterProfession:"   ",selectReligion:"   ",tellAboutYourself:"     ",hidePreview:" "},cK={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:" ",meetDescription:"    ",heatDescription:"      ",suiteDescription:"     "},dK={noPhotoAvailable:"    ",topInterests:" ",errorTitle:"",likeError:"           ",noMoreMatches:"    ",checkBackSoon:"            !",noBioAvailable:"      "},uK={matches:"",newMatches:" ",noMatches:"    ",noMatchesDescription:"     ,     ",keepSwiping:"  ",itsAMatch:"   !",youAndUserLikedEachOther:"  {{name}}  -    ",sendMessage:" ",potentialMatches:" ",noPotentialMatches:"      ",tryAgainLater:"     ",mutualInterests:" ",compatibility:""},mK={chats:"",messages:"",noMessages:"    ",noMessagesDescription:"      ",typeMessage:"  ...",sendingMessage:"  ...",failedToSend:"  ",retryMessageSend:"      ",online:"",offline:"",lastSeen:"    {{time}}",typing:"   ...",yourMessage:" ",theirMessage:" ",unreadMessages:" ",newMessage:" ",deleteConversation:" ",confirmDeleteConversation:"        ?",conversationDeleted:"   ",conversationDeletedSuccess:"     ",startConversation:"  ",deleteMessageConfirm:"        ?",messageDeleted:"   "},hK={videoCall:" ",startVideoCall:"   ",incomingCall:"  ",isCallingYou:"{{name}}     ",answer:" ",decline:" ",calling:"   ...",connecting:"   ...",callEnded:"  ",callDuration:" : {{time}}",callFailed:" ",callFailedDescription:"     ",tryAgain:"  ",endCall:"  ",mute:" ",unmute:" ",speaker:"",camera:"",switchCamera:"  ",missedCall:"  ",missedCallDescription:" {{name}}     ",callBack:"  "},pK={app:rK,navigation:nK,settingsMenu:aK,common:sK,auth:iK,settings:oK,profile:lK,appMode:cK,swipeCard:dK,matches:uK,chat:mK,videoCalls:hK},fK={slogan:"    ",noMoreMatches:"    ",findingMorePeople:"      .  !",noPhotoAvailable:"   ",topInterests:" :",meetDescription:"       ",heatDescription:"       ",suiteDescription:"      "},gK={discover:"",messages:"",matches:"",profile:" ",feed:"",explore:"",network:"",jobs:"",connections:""},xK={accountSettings:" ",datingPreferences:" ",contentPreferences:" ",communityGuidelines:" ",notificationSettings:" ",professionalProfile:" ",jobAlertSettings:"  ",networkingPreferences:" "},yK={account:"",app:"",logo:"",subscription:"",logout:" ",save:"",cancel:"",back:"",settings:"",search:"",loading:" ...",seeMore:" ",update:"",details:"",close:"",yes:"",no:"",success:"",error:"",warning:"",info:"",next:"",previous:"",submit:"",continue:"",done:"",edit:"",delete:"",remove:"",add:"",create:"",view:"",select:"",send:"",receive:"",free:"",premium:"",unlimited:" ",limited:""},vK={login:" ",register:"",forgotPassword:"  ",resetPassword:"   ",phoneNumber:" ",email:" ",password:" ",confirmPassword:"  ",verificationCode:" ",enterVerificationCode:"     ",resendCode:"  ",verifyPhone:"  ",createAccount:" ",createPassword:"  ",passwordRequirements:"      6   ",alreadyHaveAccount:"   ",dontHaveAccount:"  ",signIn:" ",signUp:"",welcomeBack:" ",passwordsMatch:"  ",passwordsDontMatch:"   ",recoverPassword:"  ",recoverPasswordInstructions:"        ",enterCode:" ",codeExpires:"  ",minutes:"",seconds:"",wrongCode:" .    .",verifyingCode:"   ...",verifyCode:"  "},bK={showChooseAppModePage:"  '  '",controlWhetherToShow:"        ",showAppSelectionScreen:"   ",whenTurnedOnYoullBeAsked:"          ",showNationalitySelectionScreen:"   ",whenTurnedOnReturningUsers:"          ",languageSettings:" ",selectYourPreferredLanguage:"  ",currentLanguage:" ",changeLanguage:" ",appModeSettings:"  ",nationalitySettings:" ",whenTurnedOffDirectLogin:"       ",whenTurnedOffSkipNationality:"       ",regionalSettings:" ",language:"",customizeAppExperience:"  ",securityAndPrivacy:" ",manageSecuritySettings:"  ",twoFactorAuth:" ",accountPrivacy:" "},wK={residence:" ",tribe:"",profession:"",religion:"",aboutMe:" ",myPhotos:"",relationshipGoals:" ",whatImLookingFor:"  ",addPhoto:" ",noPhotosYet:"    ",userPhoto:" ",notSpecified:" ",tribeCannotBeEdited:"   ",show:"",save:"",showPreview:" ",whatAreYouLookingFor:" ",removingPhoto:"     ...",profilePreview:"  ",previewDescription:"      ",enterCityCountry:"  ",enterProfession:" ",selectReligion:"  ",tellAboutYourself:"   ",hidePreview:" "},jK={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:" ",meetDescription:"     ",heatDescription:"    ",suiteDescription:"   ",datingApp:" ",socialApp:" ",professionalNetwork:" ",meetLongDescription:"       ",heatLongDescription:"            ",suiteLongDescription:"           ",chooseYourAppMode:"    ",continueTo:" "},NK={noPhotoAvailable:"   ",topInterests:" ",errorTitle:"",likeError:"  .    .",noMoreMatches:"   ",checkBackSoon:"      .  !",noBioAvailable:"    "},kK={matches:"",newMatches:" ",noMatches:"   ",noMatchesDescription:"      ",keepSwiping:"  ",itsAMatch:" !",youAndUserLikedEachOther:" {{name}}   ",sendMessage:" ",potentialMatches:" ",noPotentialMatches:"      ",tryAgainLater:"    ",mutualInterests:" ",compatibility:""},SK={chats:"",messages:"",noMessages:"   ",noMessagesDescription:"   ",typeMessage:" ...",sendingMessage:" ...",failedToSend:" ",retryMessageSend:"  ",online:"",offline:" ",lastSeen:"   {{time}}",typing:"...",yourMessage:"",theirMessage:"",unreadMessages:"  ",newMessage:" ",deleteConversation:" ",confirmDeleteConversation:"        ",conversationDeleted:"  ",conversationDeletedSuccess:"   ",startConversation:" ",deleteMessageConfirm:"        ",messageDeleted:"  "},CK={videoCall:" ",startVideoCall:"  ",incomingCall:" ",isCallingYou:"{{name}}  ",answer:"",decline:"",calling:" ...",connecting:" ...",callEnded:" ",callDuration:" : {{time}}",callFailed:" ",callFailedDescription:"   ",tryAgain:"  ",endCall:" ",mute:" ",unmute:"  ",speaker:" ",camera:"",switchCamera:" ",missedCall:" ",missedCallDescription:"   {{name}}",callBack:" "},EK={app:fK,navigation:gK,settingsMenu:xK,common:yK,auth:vK,settings:bK,profile:wK,appMode:jK,swipeCard:NK,matches:kK,chat:SK,videoCalls:CK},PK={slogan:"Nya nkitahodie w wiase nyinaa",noMoreMatches:"Matches bi nni h bio",findingMorePeople:"Yrehwehw nnipa pii ama wo. Sn bio!",noPhotoAvailable:"Mfonini bi nni h",topInterests:"Nnema a wp yie:",meetDescription:"Nya nkitahodie ne single nnipa a wne wo ky agyapade ne sde wgye di",heatDescription:"Fa wo ho hy nkmmdie ne fekuo dwumadie mu",suiteDescription:"Nya adwuma ho nkitahodie w wo business network mu",suiteSplashTitle:"SUITE",suiteSplashDescription:"Nya adwuma ho nkitahodie w wo business network mu",meetSplashTitle:"MEET",meetSplashDescription:"Nya nkitahodie ne single nnipa a wne wo ky agyapade ne sde wgye di",heatSplashTitle:"HEAT",heatSplashDescription:"Fa wo ho hy nkmmdie ne fekuo dwumadie mu"},AK={discover:"Hunu",messages:"Nkrataa",matches:"Matches",profile:"Profile",feed:"Feed",explore:"Hwehw",network:"Nkitahodi",jobs:"Adwuma",mentorship:"Akwankyer",connections:"Nkitahodie"},MK={accountSettings:"Account nhyehye",datingPreferences:"Dating anisoadehunu",contentPreferences:"Content anisoadehunu",communityGuidelines:"Fekuban nhyehye",notificationSettings:"Notifications nhyehye",professionalProfile:"Adwuma ho profile",jobAlertSettings:"Adwuma ho alerts nhyehye",networkingPreferences:"Nkitahodie anisoadehunu"},TK={account:"Account",app:"App",subscription:"Subscription",logout:"Pue",save:"Fa sie",cancel:"Gyae",back:"San k",settings:"Nhyehye",search:"Hwehw",loading:"retwn...",seeMore:"Hw bio",update:"Sesa fofor",details:"Nsm",close:"To mu",yes:"Aane",no:"Daabi",success:"k yie",error:"Mfomso",warning:"Kkb",info:"Nsm",next:"Nea di so",previous:"Nea di kan",submit:"Fa k",continue:"Toa so",done:"Awie",edit:"Sesa",delete:"Yi",remove:"Yi firi h",add:"Fa ka ho",create:"Y fofor",view:"Hw",select:"Yi",send:"Fa k",receive:"Gye",free:"Kwa",premium:"Premium",unlimited:"Unlimited",limited:"Limited",processing:"rey adwuma..."},IK={login:"Wura mu",register:"Register",forgotPassword:"Me Wer Afi Password",resetPassword:"San y Password",phoneNumber:"Phone nma",email:"Email",password:"Password",confirmPassword:"Si Password no Bio",verificationCode:"Code a wde si so dua",enterVerificationCode:"Fa code a yde k wo phone no w ha",resendCode:"San fa code no k bio",verifyPhone:"Si wo phone so dua",createAccount:"B account",createPassword:"B password",passwordRequirements:"Password no nnuru nkrataa 6 a",alreadyHaveAccount:"Wow account dada?",dontHaveAccount:"Wunni account?",signIn:"K Mu",signUp:"Sign up",welcomeBack:"Akwaaba bio",passwordsMatch:"Password ahorow no y p",passwordsDontMatch:"Password ahorow no ny p",recoverPassword:"Fa wo password san k",recoverPasswordInstructions:"Fa wo email w ha na ybma wo link de asesa wo password",enterCode:"Fa code no w ha",codeExpires:"Code no bsa n'ani w",minutes:"simma",seconds:"sknd",wrongCode:"Code no ny nokor. Mepawokyw san y bio.",verifyingCode:"resi code no so dua...",verifyCode:"Si code no so dua",signInWithPhoneNumber:"Fa wo phone nma sign in",goBack:"San k akyiri",continue:"Toa so",byTappingSignIn:"S wo click 'Fa wo phone nma sign in' a, wopene yn",skipForLater:"Gya mpr",enterYourEmail:"Kyerw wo email",cookiePolicy:"Cookie nhyehye",resetPasswordInstruction:"Kyerw wo email address na yde 7-digit reset code bma wo.",terms:"Nhyehye",learnHowWeProcess:". Sua snea yde wo nsm di dwuma w yn",privacyPolicy:"Kokokwaa Nhyehye",and:"ne",termsOfService:"Dwumadie Nhyehye",privacyPolicyTitle:"Kokokwaa Nhyehye",lastUpdated:"Akyiri nsm",effectiveDate:"firi da",importantNotice:"HO HIA",termsContainArbitration:"Nhyehye yi w gyinaede ne kuo adwene a ka wo dm ho nsm. Kenkan no yiye.",yourPrivacyMatters:"WO KOKOKWAA HO HIA",privacyPolicyDescription:"Nhyehye yi kyer snea Baobab Technologies boaboa wo nsm ano, de di dwuma na whye wo CHARLEY.",viewFullTerms:"Hw nhyehye nyinaa",viewFullPolicy:"Hw nhyehye nyinaa",confirmPasswordPlaceholder:"Si wo password no bio",passwordStrength:"Password ahoden",passwordWeak:"Mmr",passwordFair:"y kakra",passwordGood:"y",passwordStrong:"y yie",passwordStrengthTip:"Password a y den no w nkyerwee akse ne nketewa, nma, ne nkyerwee soronko.",passwordMinEightChars:"Password no s s y nkrataa 8 p",passwordsDontMatchValidation:"Password no mp",pleaseEnterPhoneNumber:"Fa telefon nma a y nokware ma",invalidCountryCode:"Telefon nma no s s w man nma (s ebi ne +1...)",verificationCodeMustBeSeven:"Verification code no s s y nkyerwee 7",pleaseEnterValidEmail:"Fa email address a y nokware ma",enterValidDeliverableEmail:"Saa email address yi nni h anaas ntumi mfa email",resetCodeMustBeSeven:"Reset code no s s y nkyerwee 7",fullNameRequired:"Din a y mua no ho hia",dateOfBirthRequired:"Awo da no ho hia",pleaseEnterValidDate:"Fa da a y nokware ma",genderRequired:"Suban no ho hia",cityAndCountryRequired:"Kurow ne man no ho hia",pleaseUploadPhoto:"Fa mfoni baako p ma",nextAuthentication:"Authentication Fofor"},_K={searchPlaceholder:"Hwehw kurow...",noCityFound:"Kurow biara nni h.",selectCity:"Yi wo kurow..."},DK={chooseYourAppMode:"Paw Wo App Kwan",meet:"MEET",heat:"HEAT",suite:"SUITE",datingApp:"Mpena App",socialApp:"Fekuo App",professionalNetwork:"Adwuma Nkitahodie",meetLongDescription:"Fa wo ho b singles a wne wo ky amammer ne nnema a whw mu",heatLongDescription:"Ka wo ho b nkmm ne nnipa nhyiamu w wo kuo mu",suiteLongDescription:"Si dwumay nkitahodie w wo dwuma network mu",continueTo:"K so k",loading:"retwe"},RK={showChooseAppModePage:"Kyer 'Paw App Kwan' kratafa",controlWhetherToShow:"Hw s wobe kyer app paabi kratafa w akneaba akyiri",showAppSelectionScreen:"Kyer app yi kwan screen",whenTurnedOnYoullBeAsked:"S wos a, wbbisa wo",showNationalitySelectionScreen:"Kyer nationality yi kwan screen",whenTurnedOnReturningUsers:"S wos a, users a wsan ba",languageSettings:"Kasa ho nhyehye",selectYourPreferredLanguage:"Paw kasa a wop",currentLanguage:"Kasa a wode di dwuma seisei",changeLanguage:"Sesa kasa",appModeSettings:"App Kwan Nhyehye",nationalitySettings:"man ho nhyehye",whenTurnedOffDirectLogin:"S wodum a, direct login",whenTurnedOffSkipNationality:"S wodum a, skip nationality",regionalSettings:"Mptam Nhyehye",customizeAppExperience:"Sesa app no snea wop",premiumAccess:"Premium kwan",enablePremiumFeatures:"Bue premium nnema ma shw",verificationAccess:"Verification Kwan",showVerificationBadge:"Kyer verification badge",accountInformation:"Account ho nsm",managePersonalInfo:"Hw wo ara wo ho nsm so",managePersonalInformation:"Hw wo ara wo ho nsm so",securityAndPrivacy:"Ahobanb ne Awomasie",manageSecuritySettings:"Hw Ahobamm Nhyehye",manageAccountSecurity:"Hw w'account ahobanb nhyehye so",twoFactorAuth:"Two-Factor Ahobamm",accountPrivacy:"Akaunt Privacy",phoneNumber:"Phone nma",email:"Email",changePassword:"Sesa Password",language:"Kasa",darkMode:"sum Kwan",basedOnLocation:"{{location}} so na egyina",yourLocation:"Wo bea",charleyPremium:"CHARLEY Premium",yourCurrentPlan:"Wo plan a woy de no seesei",allFeaturesUnlocked:"Nnema nyinaa abue",youHaveAccess:"Wow kwan",ghostMode:"Ghost Mode",hideMyAge:"Suma Me Mfe",enhancedPrivacyControls:"Privacy Hwso a y Paa",subscriptionCanceled:"Watwi subscription no",premiumAccessContinues:"Premium kwan k so",changeSubscription:"Sesa Subscription",manageSubscription:"Hw Subscription",verifyMe:"Gye me to mu",verified:"Wasi so dua",legalSupport:"Mmara ne Mmoa",legalAndSupport:"Mmara ne Mmoa",termsAndResources:"Nhyehye ne mmoa",legalDocuments:"Mmara ho krataa",privacyPolicy:"Privacy ho nhyehye",termsOfService:"Adwumay ho nhyehye",communityGuidelines:"Fekuban nhyehye",helpSupport:"Mmoa ne by",helpAndSupport:"Mmoa ne Support",logOut:"Fi mu",updatePhoneNumber:"Update Phone Nma",securelyUpdateContact:"Update contact nsm w ahobamm mu",updateEmail:"Sesa Email",securelyUpdateEmail:"Update email w ahobamm mu",updatePassword:"Update Password",securelyUpdatePassword:"Sesa wo password w ahobanb kwan so",newPassword:"Password fofor",confirmPassword:"Gye Password to mu",currentPassword:"Password a woy de",updating:"rey update",update:"Sesa",downgradeConfirmation:"Downgrade gye to mu",loseAccessPremium:"Wobhwere premium kwan",hideMyAgeFeature:"Sie me mfe",advancedMatchingAlgorithms:"Matching algorithms a y den",priorityDiscoveryQueue:"Priority discovery queue",enhancedProfileVisibility:"Profile visibility a y paa",premiumCustomerSupport:"Premium customer support",upgradeLaterNote:"Upgrade akyiri nsm",keepPremium:"Fa premium sie",confirmDowngrade:"Si brase so dua",downgrading:"rey downgrade",yesDowngrade:"Aane, downgrade",manageYourSubscription:"Hw wo subscription so",close:"To mu",updateEmailAddress:"Sesa email address",changeAccountEmail:"Sesa w'account email w ahobanb kwan so",emailAddress:"Email Adrese",enterEmailAddress:"Kyerw wo email address",emailVerified:"Wagye email no to mu",confidence:"Ahoden",emailVerificationFailed:"Email verification ank yie",verificationLinkNote:"Verification link ho nsm",emailImportantNote:"Email ho nsm a ho hia",passwordStrength:"Password den",weak:"Mmerw",medium:"Mfinimfini",strong:"Den",passwordsMatch:"Passwords no p",passwordsDoNotMatch:"Passwords no mp",passwordsMustMatch:"Passwords no s s s",passwordsDontMatch:"Passwords no ns",strongPasswordsInclude:"Passwords a y den no bi ne",passwordImportantNote:"Wo password b w'account ho ban. Paw biribi soronko a wobkae. Wo password no nnuru nkrataa 6 p.",updatePasswordButton:"Sesa Password",verificationCodeNote:"Ybmena wo verification code de asi saa nma yi so dua",verificationCodeSent:"Verification code a wde ak",updateNumber:"Update Nma",upgradeToaPremiumPlan:"K premium nhyehye so ma nnema a enni ano",upgradeToPremium:"K Premium",limitedFeatures:"Nnema kakraa bi p",unlockAdvancedPrivacy:"Bue awomasie hwso a k anim ne nnema soronko",advancedPrivacyControls:"Awomasie Hwso a k Anim",hideProfilesGhostMode:"Sie profiles, bue sunsum kwan ne afoforo",unlimitedMatches:"Matches a Enni Ano",noDailyLimits:"Da biara ano nni nkitahodie so",prioritySupport:"Mmoa a Edi Kan",fastResponseTimes:"Mbuae a y ntm ne mmoa soronko",getStarted:"Hy ase",advancedFilters:"Nsensnso a k Anim",findExactlyWhatLookingFor:"Hunu ptee nea worehwehw no",privacyAndDiscoveryControls:"Ahintasm ne Hwehw Nhyehye",privacyControls:"Ahintasm Nhyehye",showAll:"Kyer Nyinaa",hideJobsProfile:"Suma Jobs Profile",jobProfileDiscoveryDescription:"Job Profile hwehw ho nsm",hideMentorshipProfile:"Suma Mentorship Profile",mentorshipProfileDiscoveryDescription:"Mentorship Profile hwehw ho nsm",hideNetworkingProfile:"Suma Networking Profile",networkingProfileDiscoveryDescription:"Networking Profile hwehw ho nsm",ageProfileDescription:"Mfe Profile ho nsm",ghostModeDescription:"Ghost Mode ho nsm",deleteYourCharleyAccount:"Yi Wo CHARLEY Account",deleteAccountWarning:"Account yi ho kkb",enterPasswordToConfirm:"Fa password kyerw ma gye to mu",deleteAccount:"Yi Account",privacyControlsExplained:"Awomasie Hwso Mu Nkyerase",privacyControlsDescription:"Saa hwso yi hw snea wobekyer w hunu akwan mu. S wosie a, wo profile remmda adi w afoforo anim, nanso matches ne nkmmdie a w h dada no bk so ay adwuma.",notifications:"Nkaeb",manageNotifications:"Hw ber ne kwan a wobfa so anya alerts",newMatches:"Matches fofor",messages:"Nkrataa",appUpdates:"App ho nsesae",pushNotifications:"Push notifications",emailNotifications:"Email notifications",appSettings:"App nhyehye",autoplayVideos:"Videos a di dwuma ankasa",downloadOverWifi:"Download w Wi-Fi nkutoo mu",subscriptionDetails:"Subscription ho nsm",currentPlan:"Plan a woy de no",charleyFree:"CHARLEY Free",freeAccount:"Free Account",billingInfo:"Sika a wotua ho nsm",paymentMethods:"Akwan a wofa tua ka",planFeatures:"Plan no mu nnema",upgradePlan:"Foro wo plan",upgradeForUnlimited:"Upgrade ma unlimited",contactSupport:"Fr support",faq:"Nsmfua a w bisa",aboutApp:"App no ho",version:"Version",notAdded:"Wmfaa nka ho",currentPasswordRequired:"Password a woy de no ho hia",pleaseEnterCurrentPassword:"Fa wo password a woy de no kyerw",invalidNewPassword:"Password fofor no ny",newPasswordMinSix:"Password fofor no by 6 anaa nea boro saa",invalidPhoneNumber:"Phone nma no ny",pleaseEnterPhoneNumber:"Mepawokyw fa phone nma w ha",invalidCountryCode:"man code no ny",pleaseSelectValidCountryCode:"Mepawokyw paw man code a y",phoneMustHaveSevenDigits:"Phone nma no s y nma 7 w man code no akyi",invalidEmail:"Email no ny",pleaseEnterValidEmail:"Mepawokyw fa email a y w ha",emailNotVerified:"Wnnyee email no nto mu",recommendVerifyEmailBeforeUpdate:"Yka kyer s verify email ansa na woasesa",enterYourEmailAddress:"Kyerw wo email address",willSendVerificationLink:"Yde verification link bma wo de asi email no so dua",emailForRecoveryNote:"Wo email no y nea yde san gye w'account, nsm a ho hia, ne connections ho nsesae. Hw s email a wobdi dwuma no y nea wobu ani fi mu.",updatePasswordSecurity:"Update password ahobamm",account:"Akaunt",app:"App",subscription:"Subscription",automaticDarkMode:"Sunsum Kwan a y Ankasa",enterPhoneNumber:"Kyerw wo phone nma",enterValidDeliverableEmail:"Kyerw email a y adwuma",createNewPasswordPlaceholder:"Y password fofor",confirmNewPasswordPlaceholder:"Gye password fofor no to mu",enterCurrentPasswordPlaceholder:"Fa wo password a woy de no kyerw",submittedVerification:"Wde verification ak",upgradeToPremiumSubscription:"Upgrade k Premium Subscription",loggingOut:"refi mu",currentOnly:"Mprempren Nko",hideMeetProfile:"Suma MEET Profile",enterYourCurrentPassword:"Fa wo password a woy de no kyerw",createANewPassword:"Y password fofor",confirmYourNewPassword:"Gye wo password fofor no to mu",strongPasswordsIncludeDescription:"Passwords a y den no bi y nkyerwde akse ne nketewa, nma, ne nsnkyernne soronko ma ahobamm a y paa",cancel:"Gyae",securelyUpdateContactInfo:"Update contact nsm w ahobamm mu",verificationCodeMessage:"Ybde verification code ak saa nma yi so ma yagye ato mu"},OK={aboutMe:"Me ho nsm",aboutMePlaceholder:"Ka wo ho nsm kyer yn...",profession:"Adwuma",professionPlaceholder:"Adwuma bn na woy?",dateOfBirth:"Awo da",residence:"Beae a wote (Kuro, man)",residencePlaceholder:"Kyerw wo kuro, man",ethnicityTribe:"Abusua/Abusuakuo",selectTribe:"Paw abusua",tribeSelectionMultiple:"Wotumi paw mmusuakuo 2",religion:"som",selectReligion:"Paw som",selectReligionDenomination:"Paw som ne ne kyekymu",relationshipGoal:"Aynkofa botae",relationshipGoalPlaceholder:"Dn na worehwehw?",continueButton:"K so",createProfileButton:"Y wo ho nsm krataa",skipForNow:"Gya mprempren",addPhoto:"Fa mfonini ka ho",uploadPhoto:"Upload mfonini",photoRequired:"Mfonini ho hia",atLeastOnePhoto:"Mesr wo fa mfonini baako p na k so",enterCustomOption:"Fa wo ankasa nsm w ha...",searchPlaceholder:"Hwehw {{type}}...",salaryPlaceholder:"50,000"},LK={autoplayVideos:"Auto-play videos",downloadOverWifi:"Download fa Wi-Fi so nko ara",subscriptionDetails:"Subscription ho nsm",manageSubscription:"Hw Subscription so",currentPlan:"Nhyehye a wow mu seisei",yourCurrentPlan:"Wo nhyehye a wow mu seisei",limitedFeatures:"Limited features",billingInfo:"Abden ho nsm",paymentMethods:"Akwan a wfa so tua ka",planFeatures:"Nhyehye no mu nnema",upgradePlan:"K nhyehye a y papa so",upgradeForUnlimited:"K Premium so na woanya unlimited matches ne features a y papa",upgradeToPremium:"K Premium so",helpSupport:"Mmoa ne support",getAssistance:"Nya mmoa a fa app no ho",contactSupport:"Fa nsa ka support",faq:"FAQ",privacyPolicy:"Privacy policy",termsOfService:"Terms of service",legalAndSupport:"Mmara ne support",termsAndPolicies:"Mmara, policies, ne mmoa ho nsm",termsAndResources:"Mmara, policies, ne mmoa ho nsm",aboutApp:"App no ho nsm",version:"Version",deleteAccount:"Yi account no",permanentlyDeleteAccount:"Yi w'account ne wo data nyinaa korakora",currentPasswordRequired:"Wohia Password a wow seisei",pleaseEnterCurrentPassword:"Mepawokyw fa wo password a wow seisei w ha",invalidNewPassword:"Password fofor no nni mu",passwordMustBeSixChars:"Password fofor no w s nnuru nkrataa 6 a",passwordsDontMatch:"Passwords no mp",passwordConfirmationMustMatch:"Password fofor no ne confirmation no w s p",passwordUpdated:"Wasesa password no",passwordSuccessfullyChanged:"Wasesa wo password no yie",emailUpdated:"Wasesa email no",emailSuccessfullyUpdated:"Wasesa wo email no yie",phoneUpdated:"Wasesa phone nma no",phoneSuccessfullyUpdated:"Wasesa wo phone nma no yie",languageUpdated:"Wasesa kasa no",languagePreferenceSet:"Waseta wo kasa no ak {{language}}",darkModeActivated:"Wakra dark mode no",lightModeActivated:"Wakra light mode no",preferencesSaved:"Wasie w'anisoadehunu",notificationsEnabled:"Wakra notifications no",notificationsDisabled:"Wadum notifications no",willReceiveMatchNotifications:"Wobnya matches fofor ho notifications",matchNotificationsTurnedOff:"Wadum matches fofor ho notifications",willReceiveMessageNotifications:"Wobnya nkrataa ho notifications",messageNotificationsTurnedOff:"Wadum nkrataa ho notifications",willReceiveUpdateNotifications:"Wobnya app nsesae ho notifications",updateNotificationsTurnedOff:"Wadum app nsesae ho notifications",comingSoon:"reba nnky",featureAvailableSoon:"Saa feature yi bba nnky",updatePhoneNumber:"Sesa phone nma no",securelyUpdateContactInfo:"Sesa wo contact ho nsm w kwan a w banbo so",willSendVerificationCode:"Ybma wo verification code de asi saa nma yi so dua",updateNumber:"Sesa nma no",emailVerificationNote:"Ybma wo verification link de asi saa email yi so dua",updateEmailAddress:"Sesa Email Address",changeAccountEmail:"Sesa wo account email w ahobanb mu",emailImportantNote:"Wde w'email address di dwuma w account recovery, notifications a ho hia, ne connections ho nsesae mu. Ma wo ho awerhyem s wode email a wohw no mpnpn redie adwuma.",updateYourPassword:"Sesa wo password",securelyChangePassword:"Sesa w'account password w kwan a w banbo so",premiumAccess:"Premium Access",enablePremiumFeatures:"B premium features ma test",verificationAccess:"Verification Access",showVerificationBadge:"Kyer verification badge w wo profile cards so",subscriptionCanceled:"Wasan subscription no",changeSubscription:"Sesa Subscription",upgradeToPremiumSubscription:"K Premium Subscription so",legalDocuments:"Mmara ho krataa",communityGuidelines:"Fekuban nhyehye",currentPassword:"Password a wow seisei",newPassword:"Password fofor",confirmPassword:"Si Password so dua",passwordStrength:"Password ahoden",weak:"Mmer",medium:"Mfimfini",strong:"Ahoden",verified:"Wasi so dua",submittedVerification:"Verification a wde ke",verifyMe:"Si me so dua",newPasswordMinSix:"Password fofor no w s nnuru nkrataa 6",passwordsMustMatch:"Password fofor ne confirmation no w s p",invalidPhoneNumber:"Phone nma no nni mu",pleaseEnterPhoneNumber:"Mepawokyw fa phone nma w ha",invalidCountryCode:"man code no nni mu",pleaseSelectValidCountryCode:"Mepawokyw paw man code a fata",phoneMustHaveSevenDigits:"Phone nma no w s w nma 7 fi man code no akyi",invalidEmail:"Email a ny yie",pleaseEnterValidEmail:"Y sr s fa email address a y yie",emailVerificationFailed:"Email verification annya nkonimdi",enterValidDeliverableEmail:"Y sr s fa email address a y yie na wtumi de k",emailNotVerified:"Wmmaa email no so adanse",recommendVerifyEmail:"Yka kyer s si w'email so dua ansa na woasesa",enterYourEmailAddress:"Fa wo email address w ha",willSendVerificationLink:"Ybfa verification link ak de asi saa email yi so dua",emailForRecoveryNote:"Wde wo email address di dwuma w account recovery, nsm a ho hia, ne nkitahodie nsesae mu. Hw s wofa email a wohw no mpnpn redie adwuma.",updatePasswordSecurity:"Sesa wo password na ny ahobanb yie",strongPasswordsInclude:"Passwords a y ahoden no w nkrataa akse ne nketewa, nma, ne nkrataa soronko ma ahobanb a y den.",updateEmail:"Sesa Email",recommendVerifyEmailBeforeUpdate:"Ykamfo s hw s wo email w h ansa na wosesa",updatePasswordButton:"Sesa Password",updating:"resesa",currentPasswordPlaceholder:"Fa wo password a wow seisei w ha",newPasswordPlaceholder:"Fa wo password fofor no w ha",confirmPasswordPlaceholder:"San si wo password fofor no so dua",passwordStrengthNote:"Passwords a y den no mu w capital letters, small letters, nma, ne nsnkyernne sononko.",selectLanguage:"Yi wo kasa",languageChangeNote:"S wosesa kasa a, bnya app no mu nsm nyinaa so nkutahodie. Nsm bi a wakyer ase no btumi akyre kakra ansa na akfa wn.",regionalSettings:"Mantam mu nhyehye",logOut:"Pue",loggingOut:"repue..."},$K={noJobApplicationsYet:"Adwuma mmuae biara nni h",noJobApplicationsSubtitle:"Woamma wo din amfa adwuma biara so. Fi ase hwehw adwuma hokwan ahorow.",browseJobs:"Hwehw Adwuma",noNetworkingConnectionsYet:"Network nkitahodie biara nni h",noNetworkingConnectionsSubtitle:"Woany adwumayfo match biara. Fi ase hwehw na wo ne industry leaders nkitaho.",startNetworking:"Fi ase Networking",noMentorshipConnectionsYet:"Akwankyer nkitahodie biara nni h",noMentorshipConnectionsSubtitle:"Wo ne mentor anaa mentee biara ny match. Fi ase wo akwankyer akwantu.",findMentors:"Hwehw Mentors / Mentees",jobsTab:"Adwuma",mentorshipTab:"Akwankyer",networkTab:"Network"},FK={editProfile:"Sesa wo profile",photos:"Mfonini",addPhotos:"Fa mfonini ka ho",aboutMe:"Me ho nsm",interests:"Nnema a mep",addInterests:"Fa nnema a wop ka ho",location:"Beae",occupation:"Adwuma",education:"Nwomasua",relationshipGoals:"Aynkofa botae",languages:"Kasa",height:"Tentene",age:"Mfe",birthday:"Awoda",gender:"Mmarima anaa mmaa",male:"Barima",female:"baa",religion:"som",tribe:"Abusua",tribes:"Mmusuakuo",selectTribes:"Yi wo mmusuakuo",selectUpToTwo:"Yi mmusuakuo 2 p",drinkingHabits:"Nsanom su",smokingHabits:"Sigaret nom su",personalityType:"Suban",bodyType:"Nipadua su",children:"Mma",wantChildren:"P mma",noPhotos:"Mfonini nni h",addSomePhotos:"Fa mfonini bi ka ho na woawie wo profile",uploadPhoto:"Upload mfonini",profilePicture:"Profile mfonini",selectFromGallery:"Yi firi gallery mu",takePhoto:"Twa mfonini",updateInterests:"Sesa nnema a wop",selectInterests:"Yi nnema a kyer wo su",addMoreDetails:"Fa nsm pii ka ho",enhanceProfile:"Ma wo profile mu ny f w nsm pii a wode bka ho",updateLocation:"Sesa beae",confirmLocation:"Si wo beae so dua",saveChanges:"Sie nsesae no",discardChanges:"Gyae nsesae no",profileUpdated:"Wasesa profile no",profileSaved:"Wasie wo profile yie",profilePhotoRequired:"Wohia profile mfonini",pleaseAddPhoto:"Mepawokyw, fa mfonini baako p ka ho ansa na woatoa so",primaryPhoto:"Mfonini titire",setAsPrimary:"Fa y titire",deletePhoto:"Yi mfonini no",confirmDeletePhoto:"Wop s woyi saa mfonini yi ampa?",photoDeleted:"Wayi mfonini no",photoDeletedSuccess:"Wayi wo mfonini no yie",showPreview:"Kyer snea by",show:"Kyer",yourInfo:"WO HO NSM",residence:"Faako a wote",profession:"Adwuma",myPhotos:"ME MFONINI",relationshipGoalsSection:"AYNKOFA BOTAE",whatImLookingFor:"Nea mehwehw",notSpecified:"Wmfaa biara nto dwa",tribeCannotBeEdited:"Wobtumi nsesa abusua no",profilePreview:"Snea profile no by",previewDescription:"Snea afoforo bhunu wo profile ber a wde bdane akfa",addPhoto:"Fa mfonyi ka ho",userPhoto:"Onipa mfonyi",save:"Kora",whatAreYouLookingFor:"Dn na worehwehw?",removingPhoto:"reyi mfonyi no afiri wo profile mu...",myInfo:"ME HO NSM",myInterests:"NNEMA A MEP",educationSection:"ADESUA",highSchool:"Secondary School",vocationalCollegeUniversity:"Vocational/College/University",clear:"Pepa",hidePreview:"Suma Nhwso",showOnCard:"Kyer W Card So",optional:"ho nhia",addInterestsToProfile:"Fa nnema a wop ka wo profile ho",myRelationshipStatus:"Me Aynkofa Suban",showPhoto:"Kyer mfoni",myPhotosHeader:"ME MFONII",nationality:"man"},UK={noPhotoAvailable:"Mfonin nni h",topInterests:"Nnema a hia",errorTitle:"Mfomso",likeError:"Yantumi any wo 'like' no. Ysr wo s bio.",noMoreMatches:"Matches biara nni h bio",checkBackSoon:"Yrehwehw nkurfo bebree ma wo. Bhw bio renky!",noBioAvailable:"Bio nni h nn."},BK={matches:"Matches",newMatches:"Match fofor",noMatches:"Match biara nni h",noMatchesDescription:"S wo ne obi match a, bba ha",whenYouMatch:"S wo ne obi match a, bba ha",startSwiping:"Firi ase swipe",keepSwiping:"K so swipe",itsAMatch:"y Match!",youAndUserLikedEachOther:"Wo ne {{name}} mo ani gyee mo ho",sendMessage:"De nkrataa k",potentialMatches:"Match a btumi aba",noPotentialMatches:"Match biara nni h seesei",tryAgainLater:"San y akyiri",mutualInterests:"Nnema a mo baanu ani gye ho",compatibility:"S mo fata"},GK={chats:"Nkmmdie",messages:"Nkrataa",noMessages:"Nkrataa nni h nn",noMessagesDescription:"Hy nkmmb ase w wo matches no mu",typeMessage:"Kyerw nkrataa...",sendingMessage:"rek...",failedToSend:"Antumi ank",retryMessageSend:"Fa wo nsa ka na wasan ay bio",online:"w so",offline:"Onni so",lastSeen:"Wohuu no akyire yi {{time}}",typing:"rekyerw...",yourMessage:"Wo nkrataa",theirMessage:"Wn nkrataa",unreadMessages:"Nkrataa a wonkenkan",newMessage:"Nkrataa fofor",deleteConversation:"Yi nkmmb no",confirmDeleteConversation:"Wop s woyi saa nkmmb yi ampa?",conversationDeleted:"Wayi nkmmb no",conversationDeletedSuccess:"Wayi nkmmb no yie",startConversation:"Hy nkmmb ase",deleteMessageConfirm:"Wop s woyi saa nkrataa yi ampa?",messageDeleted:"Wayi nkrataa no"},VK={videoCall:"Video call",startVideoCall:"Hy video call ase",incomingCall:"Call a reba",isCallingYou:"{{name}} refr wo",answer:"Yi so",decline:"Mmpene so",calling:"refr...",connecting:"rey nkitahodie...",callEnded:"Call no awie",callDuration:"Call no kye: {{time}}",callFailed:"Call no ansi",callFailedDescription:"Antumi any call nkitahodie no",tryAgain:"San y bio",endCall:"Twa call no mu",mute:"Dum nne no",unmute:"San ma nne no so",speaker:"Kasa so",camera:"Camera",switchCamera:"Sesa camera no",missedCall:"Call a woanhunu",missedCallDescription:"Woanhunu {{name}} ne call no",callBack:"San fr no"},zK={title:"ID Verification",verifyYourIdentity:"Hw wo ho s wo ne wo ara",description:"Fa wo aban krataa no ne fa wo mfoni snea woy mprempren no na woanya verification badge w wo profile so.",governmentIdPhoto:"Aban Krataa Mfoni",liveVerificationPhoto:"Seesei Verification Mfoni",uploadGovernmentId:"Fa Aban Krataa No",acceptedDocuments:"Car license, passport, anaa man ID krataa",takeLivePhoto:"Fa seesei mfoni",selfieForVerification:"Selfie ma verification",removePhoto:"Yi mfoni no fi",submitVerification:"Fa verification no k",uploadBothPhotos:"Fa mfoni abien no nyinaa na k so",submitting:"Yre de k...",verificationSubmitted:"Verification no ak!",verificationSubmittedDescription:"Wo ID verification no ak yiye s wnhw so.",fileTooLarge:"File no so dodo",fileTooLargeDescription:"Fa mfoni a ny 10MB so",verificationFailed:"Verification no antumi ank",verificationFailedDescription:"Yantumi ansesa verification mfoni no",missingPhotos:"Mfoni bi nni h",missingPhotosDescription:"Fa wo ID krataa ne fa seesei mfoni"},WK={pageTitle:"Connection Nhyehye",title:"Connection Nhyehye",header:"Connection Nhyehye",description:"Y wo nhyehye ma professional networking, job discovery, ne mentorship",savePreferences:"Sie nhyehye no",clearAll:"Yi nyinaa fi",loading:"Yre load nhyehye...",saving:"Yre sie...",successSaved:"Nhyehye no ak yiye!",errorSaving:"Mfomso w nhyehye saving mu",completeFieldsMessage:"Y fields yi ma better matches",allCompleted:"Nhyehye nyinaa ay!",profileRequired:"Profile Hwehw",profileRequiredMessage:"S wobk {{section}} nhyehye mu a, s s wo y {{profile}} profile kan.",cancel:"Gyae",createProfile:"Y Profile",moreMissing:"+{{count}} pii",addCustomOption:"Ka Option Fofor Ho",enterCustomOption:"Kyerw option fofor...",jobs:{title:"Job Discovery Nhyehye",workArrangement:"Work Arrangement",workLocation:"Work Location",functionalAreas:"Functional Areas",minSalary:"Akatua minimum",maxSalary:"Akatua maximum",currency:"Sika"},mentorship:{title:"Mentorship ne Learning Nhyehye",lookingFor:"De wohwehw",topics:"Topics a y wo d",format:"Format a wop",timeCommitment:"Ber commitment",roles:{mentor:"Mentor",mentee:"Mentee",both:"Mmienu nyinaa"},formats:{oneOnOne:"Obi ne obi",groupSessions:"Group sessions",workshops:"Workshops",online:"Online",inPerson:"Anim ne anim"}},networking:{title:"Professional Networking Nhyehye",purpose:"Networking Purpose",seniority:"Seniority Level",functionalAreas:"Functional Areas",eventPreference:"Event Preference",purposes:{careerAdvancement:"Career Advancement",businessDevelopment:"Business Development",knowledgeSharing:"Knowledge Sharing",mentorship:"Mentorship",jobOpportunities:"Job Opportunities",collaboration:"Collaboration"}},global:"Global",jobsPreferences:"Adwuma Nhyehye",mentorshipPreferences:"Mentorship Nhyehye",networkingPreferences:"Networking Nhyehye",globalPreferences:"Global Nhyehye",industry:"Industry",skills:"Skills",salaryRange:"Akatua Range",educationLevel:"Adesua Level",workLocation:"Adwuma Baabi",jobTypes:"Adwuma Types",jobProfile:"Adwuma",mentorshipProfile:"Mentorship",networkingProfile:"Networking",workArrangement:"Adwuma Arrangement",experienceLevel:"Osuahu Level",matchingPriorities:"Matching Priorities",whatLookingFor:"De Wohwehw",areasOfExpertise:"Nimde Nkyekymu",locationPreference:"Baabi a Wop",networkingPurpose:"Networking Purpose",companySize:"Company Kse",seniorityLevel:"Seniority Level",dealBreakers:"Deal Breakers",sections:{networking:"Professional Networking",jobs:"Job Discovery",mentorship:"Mentorship ne Learning"},common:{industry:"Industry",areasOfExpertise:"Nimde nkyekymu",skills:"Skills",educationLevel:"Adesua level",experienceLevel:"Osuahu level",location:"Baabi",locationPreference:"Baabi a wop",remote:"Remote",hybrid:"Hybrid",onSite:"Baabi h",anyLocation:"Baabi biara",companySize:"Company kse",salaryRange:"Akatua range",workStyle:"Adwuma style",jobType:"Adwuma type",fullTime:"Full time",partTime:"Part time",contract:"Contract",internship:"Internship",freelance:"Freelance",startup:"Startup (1-50)",smallCompany:"Company ketewa (51-200)",mediumCompany:"Company mfinimfini (201-1000)",largeCompany:"Company kse (1000+)",enterprise:"Enterprise (5000+)",dealBreakers:"Deal breakers",weights:"Importance weights"}},HK={noConversationsYet:"Nkmm biara nni h",noConversationsMatching:"Nkmm biara nni h a fata wo hwehw no"},KK={app:PK,navigation:AK,settingsMenu:MK,common:TK,auth:IK,cities:_K,appMode:DK,settings:RK,profileCreation:OK,appSettings:LK,suiteConnections:$K,profile:FK,swipeCard:UK,matches:BK,chat:GK,videoCalls:VK,idVerification:zK,connectionsPreferences:WK,messages:HK},qK={slogan:"km Wiase Nyinaa",noMoreMatches:"Matches bi nni h bio",findingMorePeople:"Yrehwehw nnipa pii ama wo. Bra bio nkyre!",noPhotoAvailable:"Mfoni bi nni h",topInterests:"Nnema a wn p:",meetDescription:"Fa wo ho b singles a wne wo ky Ghana amammer ne nnema a wn hw no mu ho",heatDescription:"Ka wo ho b nkmmdie ne nnipa nhyiamu w Ghana kuo no mu",suiteDescription:"Si dwumayfo nkitahodie w Ghana dwuma network no mu",suiteSplashTitle:"SUITE",suiteSplashDescription:"Si dwumayfo nkitahodie w wo business network mu",meetSplashTitle:"MEET",meetSplashDescription:"Fa wo ho b singles a wne wo ky agyapade ne nnema a wn hw no mu ho",heatSplashTitle:"HEAT",heatSplashDescription:"Ka wo ho b nkmmdie ne fekuo dwumadie mu"},YK={discover:"Hunu",messages:"Nkra",matches:"Matches",profile:"Profile",feed:"Feed",explore:"Hwehw",network:"Nkitahodi",jobs:"Dwumadie",mentorship:"Akwankyer",connections:"Nkabmu"},QK={accountSettings:"Account ho nhyehye",datingPreferences:"Dating ho apde",contentPreferences:"Content ho apde",communityGuidelines:"Kuo mu mmara",notificationSettings:"Nkaeb ho nhyehye",professionalProfile:"dwumay ho profile",jobAlertSettings:"Dwuma ho nkaeb nhyehye",networkingPreferences:"Nkitahodie ho apde"},JK={account:"Account",app:"App",logo:"Logo",subscription:"Subscription",logout:"Fi mu",save:"Kora",cancel:"Gyae",back:"San k",settings:"Nhyehye",search:"Hwehw",loading:"retwe...",seeMore:"Hw bio",update:"Nhyehye fofor",details:"Nnema",close:"To mu",yes:"Aane",no:"Dabi",success:"k yie",error:"Mfomso",warning:"Kkb",info:"Nsm",next:"De diso",previous:"De di kan",submit:"Fa kma",continue:"Kso",done:"Awie",edit:"Sesa",delete:"Yi fi h",remove:"Yi fi",add:"Fa ka ho",create:"Y",view:"Hw",select:"Fa yi",send:"Fa k",receive:"Gye",free:"Kwa",premium:"Premium",unlimited:"Unlimited",limited:"Limited",processing:"rey adwuma..."},XK={searchPlaceholder:"Hwehw kuropn...",noCityFound:"Kuropn biara nni h.",selectCity:"Paw wo kuropn..."},ZK={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Yi mode",meetDescription:"Hwehw aynkofa a w mu ne nkitahodie pa",heatDescription:"Nya nkitahodie ne w'adamfo na monky mo mmer",suiteDescription:"Y w'adwuma ho nkitahodie ne akwannya a w h",datingApp:"d ho app",socialApp:"Aynkofa ho app",professionalNetwork:"Adwuma mu nkitahodie",meetLongDescription:"Nya nkitahodie ne Ghana single afofor w wiase nyinaa de ma d ne nkitahodie a hia",heatLongDescription:"Hwehw na nya nkitahodie ne Ghana nsrahw, amanne nhyiamu ne aynkofa kuo w wiase nyinaa",suiteLongDescription:"Nya adwuma mu nkitahodie ne Ghana adwumayfo fa akwankyer, adwuma ne n'adwumasi akwannya so",chooseYourAppMode:"Yi wo app mode",continueTo:"K so k"},eq={login:"K mu",register:"Kyerw wo din",forgotPassword:"Me Wer Afi Password",resetPassword:"San y Password",phoneNumber:"Fon nma",email:"Email",password:"Password",confirmPassword:"Si Password no Bio",verificationCode:"Code a si agyinaso",enterVerificationCode:"Kyerw code a yde ak wo fon no",resendCode:"San de code no k bio",verifyPhone:"Hw s fon nma no y nokor",createAccount:"Y account",createPassword:"Y password",passwordRequirements:"Password no ny nkyerw 6 koraa",alreadyHaveAccount:"Wow account dada?",dontHaveAccount:"Wunni account?",signIn:"K Mu",signUp:"Y account",welcomeBack:"Yma wo akwaaba bio",passwordsMatch:"Password ahorow no y p",passwordsDontMatch:"Password ahorow no ny p",recoverPassword:"Gye wo password",recoverPasswordInstructions:"Fa wo email w ha na yde link bbr wo ama woasesa wo password",enterCode:"Kyerw code no",codeExpires:"Code no bwu w",minutes:"sima",seconds:"sknd",wrongCode:"Code no ny nokor. Mepa wo kyw, san y bio.",verifyingCode:"Yrehw code no mu...",verifyCode:"Hw code no mu",signInWithPhoneNumber:"Fa telefon nma k mu",byTappingSignIn:"S wo mia 'Fa telefon nma k mu' a, wo gye yn",cookiePolicy:"Cookie nhyehye",terms:"Nhyehye",learnHowWeProcess:". Sua snea yde wo nsm di dwuma w yn",privacyPolicy:"Kokokwaa Nhyehye",and:"ne",termsOfService:"Dwumadie Nhyehye",privacyPolicyTitle:"Kokokwaa Nhyehye",lastUpdated:"Akyiri nsm",effectiveDate:"firi da",importantNotice:"HO HIA",termsContainArbitration:"Nhyehye yi w gyinaede ne kuo adwene a ka wo dm ho nsm. Kenkan no yiye.",yourPrivacyMatters:"WO KOKOKWAA HO HIA",privacyPolicyDescription:"Nhyehye yi kyer snea Baobab Technologies boaboa wo nsm ano, de di dwuma na whye wo CHARLEY.",viewFullTerms:"Hw nhyehye nyinaa",viewFullPolicy:"Hw nhyehye nyinaa",confirmPasswordPlaceholder:"Si wo password no bio",passwordStrength:"Password ahoden",passwordWeak:"Mmr",passwordFair:"y kakra",passwordGood:"y",passwordStrong:"y yie",passwordStrengthTip:"Password a y den no w nkyerwee akse ne nketewa, nma, ne nkyerwee soronko.",passwordMinEightChars:"Password no s s y nkrataa 8 p",passwordsDontMatchValidation:"Password no mp",pleaseEnterPhoneNumber:"Fa telefon nma a y nokware ma",invalidCountryCode:"Telefon nma no s s w man nma (s ebi ne +1...)",verificationCodeMustBeSeven:"Verification code no s s y nkyerwee 7",pleaseEnterValidEmail:"Fa email address a y nokware ma",enterValidDeliverableEmail:"Saa email address yi nni h anaas ntumi mfa email",resetCodeMustBeSeven:"Reset code no s s y nkyerwee 7",fullNameRequired:"Din a y mua no ho hia",dateOfBirthRequired:"Awo da no ho hia",pleaseEnterValidDate:"Fa da a y nokware ma",genderRequired:"Suban no ho hia",cityAndCountryRequired:"Kurow ne man no ho hia",pleaseUploadPhoto:"Fa mfoni baako p ma",nextAuthentication:"Authentication Fofor",goBack:"San k akyiri"},tq={showChooseAppModePage:"Kyer 'Yi App Kwan' kratafa",controlWhetherToShow:"Hw s wobkyer app yiyie kratafa w akneaba akyiri",showAppSelectionScreen:"Kyer app yi kwan screen",whenTurnedOnYoullBeAsked:"S wos a, wbbisa wo",showNationalitySelectionScreen:"Kyer nationality yi kwan screen",whenTurnedOnReturningUsers:"S wos a, users a wsan ba",languageSettings:"Kasa ho nhyehye",selectYourPreferredLanguage:"Yi kasa a wop",currentLanguage:"Kasa a wode di dwuma seisei",changeLanguage:"Sesa kasa",appModeSettings:"App Kwan Nhyehye",nationalitySettings:"man ho nhyehye",whenTurnedOffDirectLogin:"S wodum a, direct login",whenTurnedOffSkipNationality:"S wodum a, skip nationality",regionalSettings:"Mptam Nhyehye",customizeAppExperience:"Sesa app no snea wop",premiumAccess:"Premium kwan",enablePremiumFeatures:"Bue premium nnema ma shw",verificationAccess:"Verification Kwan",showVerificationBadge:"Kyer verification badge",accountInformation:"Akaunt Ho Nsm",managePersonalInfo:"Hw Wo Ankasa Nsm",managePersonalInformation:"Hw wo nsm so",securityAndPrivacy:"Ahobamm ne Privacy",manageSecuritySettings:"Hw Ahobamm Nhyehye",manageAccountSecurity:"Hw w'account banb nhyehye so",twoFactorAuth:"Two-Factor Ahobamm",accountPrivacy:"Akaunt Privacy",phoneNumber:"Phone Nma",email:"Email",changePassword:"Sesa Password",language:"Kasa",darkMode:"sum Kwan",basedOnLocation:"{{location}} so na egyina",yourLocation:"Wo bea",charleyPremium:"CHARLEY Premium",yourCurrentPlan:"Wo plan a woy de no seesei",allFeaturesUnlocked:"Nnema nyinaa abue",youHaveAccess:"Wow kwan",ghostMode:"Ghost Mode",hideMyAge:"Suma Me Mfe",enhancedPrivacyControls:"Privacy Hwso a y Paa",subscriptionCanceled:"Watwi subscription no",premiumAccessContinues:"Premium kwan k so",changeSubscription:"Sesa Subscription",manageSubscription:"Hw Subscription",verifyMe:"Gye me to mu",verified:"Wasi so dua",legalSupport:"Mmara ne Mmoa",legalAndSupport:"Mmara ne Mmoa",termsAndResources:"Nhyehye ne mmoa",legalDocuments:"Mmara ho krataa",privacyPolicy:"Privacy ho nhyehye",termsOfService:"Adwumay ho nhyehye",communityGuidelines:"Fekuban nhyehye",helpSupport:"Mmoa ne by",helpAndSupport:"Mmoa ne Support",logOut:"Fi mu",updatePhoneNumber:"Update Phone Nma",securelyUpdateContact:"Update contact nsm w ahobamm mu",updateEmail:"Sesa Email",securelyUpdateEmail:"Update email w ahobamm mu",updatePassword:"Update Password",securelyUpdatePassword:"Sesa wo password w banb kwan so",newPassword:"Password fofor",confirmPassword:"Gye Password to mu",currentPassword:"Password a woy de",updating:"rey update",update:"Sesa",downgradeConfirmation:"Downgrade gye to mu",loseAccessPremium:"Wobhwere premium kwan",hideMyAgeFeature:"Sie me mfe",advancedMatchingAlgorithms:"Matching algorithms a y den",priorityDiscoveryQueue:"Priority discovery queue",enhancedProfileVisibility:"Profile visibility a y paa",premiumCustomerSupport:"Premium customer support",upgradeLaterNote:"Upgrade akyiri nsm",keepPremium:"Fa premium sie",confirmDowngrade:"Ka brase so",downgrading:"rey downgrade",yesDowngrade:"Aane, downgrade",manageYourSubscription:"Hw wo subscription so",close:"To mu",updateEmailAddress:"Sesa email address",changeAccountEmail:"Sesa w'account email w banb kwan so",emailAddress:"Email Adrese",enterEmailAddress:"Kyerw wo email address",emailVerified:"Wagye email no to mu",confidence:"Ahoden",emailVerificationFailed:"Email verification ank yie",verificationLinkNote:"Verification link ho nsm",emailImportantNote:"Email ho nsm a ho hia",passwordStrength:"Password den",weak:"Mmerw",medium:"Mfinimfini",strong:"Den",passwordsMatch:"Passwords no y p",passwordsDoNotMatch:"Passwords no ny p",passwordsMustMatch:"Passwords no s s s",passwordsDontMatch:"Passwords no ns",strongPasswordsInclude:"Passwords a y den no bi ne",passwordImportantNote:"Wo password b w'account ho ban. Yi biribi soronko a wobkae. Wo password no nnuru nkyerw 6 p.",updatePasswordButton:"Sesa Password",verificationCodeNote:"Ybbr wo hwmude code de asi saa nma yi so",verificationCodeSent:"Verification code a wde ak",updateNumber:"Update Nma",upgradeToaPremiumPlan:"K premium nhyehye so ma nnema a enni ano",upgradeToPremium:"K Premium",limitedFeatures:"Nnema kakraa bi p",unlockAdvancedPrivacy:"Bue privacy hwso a k anim ne nnema soronko",advancedPrivacyControls:"Privacy Hwso a k Anim",hideProfilesGhostMode:"Sie profiles, bue sunsum kwan ne afoforo",unlimitedMatches:"Matches a Enni Ano",noDailyLimits:"Da biara ano nni nkabmu so",prioritySupport:"Mmoa a Edi Kan",fastResponseTimes:"Mbuae a y ntm ne mmoa soronko",getStarted:"Hy ase",advancedFilters:"Nsensnso a k Anim",findExactlyWhatLookingFor:"Hunu ptee nea worehwehw no",privacyAndDiscoveryControls:"Ahintasm ne Hwehw Nhyehye",privacyControls:"Ahintasm Nhyehye",showAll:"Kyer Nyinaa",hideJobsProfile:"Suma Jobs Profile",jobProfileDiscoveryDescription:"Job Profile hwehw ho nsm",hideMentorshipProfile:"Suma Mentorship Profile",mentorshipProfileDiscoveryDescription:"Mentorship Profile hwehw ho nsm",hideNetworkingProfile:"Suma Networking Profile",networkingProfileDiscoveryDescription:"Networking Profile hwehw ho nsm",ageProfileDescription:"Mfe Profile ho nsm",ghostModeDescription:"Ghost Mode ho nsm",deleteYourCharleyAccount:"Yi Wo CHARLEY Account",deleteAccountWarning:"Account yi ho kkb",enterPasswordToConfirm:"Fa password kyerw ma gye to mu",deleteAccount:"Yi Account",privacyControlsExplained:"Privacy Hwso Mu Nkyerase",privacyControlsDescription:"Saa hwso yi hw snea wobkyer w hunu akwan mu. S wosie a, wo profile remmda adi w afoforo anim, nanso matches ne nkmmdie a w h dada no bk so ay adwuma.",account:"Akaunt",app:"App",subscription:"Subscription",automaticDarkMode:"Sunsum Kwan a y Ankasa",emailNotVerified:"Wnnyee email no nto mu",freeAccount:"Free Account",enterPhoneNumber:"Kyerw wo phone nma",enterValidDeliverableEmail:"Kyerw email a y adwuma",invalidEmail:"Email no ny",recommendVerifyEmailBeforeUpdate:"Yka kyer s verify email ansa na woasesa",pleaseEnterCurrentPassword:"Fa wo password a woy de no kyerw",currentPasswordRequired:"Password a woy de no ho hia",newPasswordMinSix:"Password fofor no by 6 anaa nea boro saa",invalidNewPassword:"Password fofor no ny",createNewPasswordPlaceholder:"Y password fofor",confirmNewPasswordPlaceholder:"Gye password fofor no to mu",enterCurrentPasswordPlaceholder:"Fa wo password a woy de no kyerw",updatePasswordSecurity:"Update password ahobamm",notAdded:"Wmfaa nka ho",submittedVerification:"Wde verification ak",charleyFree:"CHARLEY Free",upgradeForUnlimited:"Upgrade ma unlimited",upgradeToPremiumSubscription:"Upgrade k Premium Subscription",loggingOut:"refi mu",currentOnly:"Mprempren Nko",hideMeetProfile:"Suma MEET Profile",enterYourCurrentPassword:"Fa wo password a woy de no kyerw",createANewPassword:"Y password fofor",confirmYourNewPassword:"Gye wo password fofor no to mu",strongPasswordsIncludeDescription:"Passwords a y den no bi y nkyerwde akse ne nketewa, nma, ne nsnkyernne soronko ma ahobamm a y paa",cancel:"Gyae",securelyUpdateContactInfo:"Update contact nsm w ahobamm mu",verificationCodeMessage:"Ybde verification code ak saa nma yi so ma yagye ato mu"},rq={noJobApplicationsYet:"Adwuma mmuae biara nni h",noJobApplicationsSubtitle:"Woamma wo din amfa adwuma biara so. Fi ase hwehw adwuma hokwan ahorow.",browseJobs:"Hwehw Adwuma",noNetworkingConnectionsYet:"Network nkitahodie biara nni h",noNetworkingConnectionsSubtitle:"Woany adwumayfo match biara. Fi ase hwehw na wo ne industry leaders nkitaho.",startNetworking:"Fi ase Networking",noMentorshipConnectionsYet:"Akwankyer nkitahodie biara nni h",noMentorshipConnectionsSubtitle:"Wo ne mentor anaa mentee biara ny match. Fi ase wo akwankyer akwantu.",findMentors:"Hwehw Mentors / Mentees",jobsTab:"Adwuma",mentorshipTab:"Akwankyer",networkTab:"Network"},nq={editProfile:"Sesa wo profile",photos:"Mfonini",addPhotos:"Fa mfonini ka ho",aboutMe:"Me ho nsm",interests:"Nnema a mep",addInterests:"Fa nnema a wop ka ho",location:"Baabi a wow",occupation:"Adwuma",education:"Sukuu a wak",relationshipGoals:"De wohwehw w aynkofa mu",languages:"Kasa",height:"Tentene",age:"Mfe",birthday:"Awoda",gender:"Mmarima anaa mmaa",male:"Barima",female:"baa",religion:"som",tribe:"Abusua",tribes:"Mmusuakuo",selectTribes:"Yi wo mmusuakuo",selectUpToTwo:"Yi mmusuakuo 2 koraa",drinkingHabits:"Nsanom ho suban",smokingHabits:"Sigaret nom ho suban",personalityType:"Suban",bodyType:"Nipadua no s",children:"Mma",wantChildren:"P mma",noPhotos:"Mfonini bi nni h",noPhotosYet:"Wonnya ammfa mfonyi biara anka ho",addSomePhotos:"Fa mfonini bi ka ho na woatumi ato wo profile",uploadPhoto:"Upload mfonini",profilePicture:"Profile ho mfonini",selectFromGallery:"Yi fi gallery mu",takePhoto:"Yi mfonini",updateInterests:"Sesa nnema a wop",selectInterests:"Yi nnema a kyer wo snea wote",addMoreDetails:"Fa nsm ka ho",enhanceProfile:"Ma wo profile ny f w nsm bebree a wode bka ho",updateLocation:"Sesa wo location",confirmLocation:"Si w'atenae so dua",saveChanges:"Kora nsesa no",discardChanges:"Gyae nsesa no",profileUpdated:"Wasesa profile no",profileSaved:"Wakora wo profile yie",profilePhotoRequired:"hia s wow profile mfonini",pleaseAddPhoto:"Mepa wo kyw, fa mfonini baako p ka ho ansa na woakso",primaryPhoto:"Mfonini titire",setAsPrimary:"Fa y titire",deletePhoto:"Yi mfonini no",confirmDeletePhoto:"Wop s woyi saa mfonini yi ampa?",photoDeleted:"Wayi mfonini no",photoDeletedSuccess:"Wayi wo mfonini no yie",showPreview:"Kyer snea by",show:"Kyer",yourInfo:"WO HO NSM",residence:"Faako a wote",profession:"Adwuma",myPhotos:"ME MFONINI",relationshipGoalsSection:"AYNKOFA BOTAE",whatImLookingFor:"Nea mehwehw",notSpecified:"Wmfaa biara nto dwa",tribeCannotBeEdited:"Wobtumi nsesa abusua no",profilePreview:"Snea profile no by",previewDescription:"Snea afoforo bhunu wo profile ber a wde bdane akfa",addPhoto:"Fa mfonyi ka ho",userPhoto:"De de di dwuma no mfonyi",save:"Save",whatAreYouLookingFor:"Dn na worehwehw?",removingPhoto:"reyi mfonyi no afiri wo profile mu...",enterCityCountry:"Hyehy wo kuro ne man",enterProfession:"Hyehy w'adwuma",selectReligion:"Yi som ne asredan",tellAboutYourself:"Ka wo ho asm kyer afoforo",hidePreview:"Fa mu hw no sie",highSchool:"Secondary School",vocationalCollegeUniversity:"Vocational/College/University",clear:"Pepa",addInterestsToProfile:"Fa nnema a wop ka wo profile ho",showOnCard:"Kyer W Card So",myRelationshipStatus:"Me Aynkofa Suban",showPhoto:"Kyer mfoni",myPhotosHeader:"ME MFONII",nationality:"man"},aq={noPhotoAvailable:"Mfoni biara nni h",topInterests:"Nnema titiriw a hia wo",errorTitle:"Mfomso",likeError:"Yantumi any wo p no. Mepa wo kyw s bio.",noMoreMatches:"Matches biara nni h bio",checkBackSoon:"Yrehwehw nnipa bebree ma wo. Sane bra nky!",noBioAvailable:"Bio biara nni h seesei"},sq={matches:"Matchs",newMatches:"Match fofor",noMatches:"Match biara nni h",noMatchesDescription:"S wo ne obi match a, bba ha",whenYouMatch:"S wo ne obi match a, bba ha",startSwiping:"Firi ase swipe",keepSwiping:"K so swipe",itsAMatch:"y Match!",youAndUserLikedEachOther:"Wo ne {{name}} mo ani gyee mo ho",sendMessage:"De nkrataa k",potentialMatches:"Match a btumi aba",noPotentialMatches:"Match biara nni h seesei",tryAgainLater:"San y akyiri",mutualInterests:"Nnema a mo baanu ani gye ho",compatibility:"S mo fata"},iq={chats:"Nkmmdie",messages:"Nkra",noMessages:"Nkra bi nni h nn",noMessagesDescription:"Hy nkmmb ase w wo matches no mu",typeMessage:"Kyerw nkra...",sendingMessage:"rek...",failedToSend:"Antumi ank",retryMessageSend:"Ka s woasan by bio",online:"w so",offline:"Onni so",lastSeen:"Wohuu no akyire yi {{time}}",typing:"rekyerw...",yourMessage:"Wo nkra",theirMessage:"Wn nkra",unreadMessages:"Nkra a wonkenkan",newMessage:"Nkra fofor",deleteConversation:"Yi nkmmb no",confirmDeleteConversation:"Wop s woyi saa nkmmb yi ampa?",conversationDeleted:"Wayi nkmmb no",conversationDeletedSuccess:"Wayi nkmmb no yie",startConversation:"Hy nkmmb ase",deleteMessageConfirm:"Wop s woyi saa nkra yi ampa?",messageDeleted:"Wayi nkra no"},oq={videoCall:"Video call",startVideoCall:"Hy video call ase",incomingCall:"Call a reba",isCallingYou:"{{name}} refr wo",answer:"Yi ano",decline:"Mpa",calling:"refr...",connecting:"rey nkabmu...",callEnded:"Call no awie",callDuration:"Call no kye: {{time}}",callFailed:"Call no ansi",callFailedDescription:"Antumi any call nkabmu no",tryAgain:"San y bio",endCall:"Yi call no to h",mute:"Dum nne no",unmute:"San ma nne no so",speaker:"Speaker",camera:"Camera",switchCamera:"Sesa camera no",missedCall:"Call a woanhunu",missedCallDescription:"Woanhunu {{name}} call no",callBack:"San fr no"},lq={noConversationsYet:"Nkmm biara nni h",noConversationsMatching:"Nkmm biara nni h a fata wo hwehw no"},cq={pageTitle:"Connection Nhyehye",title:"Connection Nhyehye",header:"Connection Nhyehye",description:"Y wo nhyehye ma professional networking, job discovery, ne mentorship",savePreferences:"Sie nhyehye no",clearAll:"Yi nyinaa fi",loading:"Yre load nhyehye...",saving:"Yre sie...",successSaved:"Nhyehye no ak yiye!",errorSaving:"Mfomso w nhyehye saving mu",completeFieldsMessage:"Y fields yi ma better matches",allCompleted:"Nhyehye nyinaa ay!",profileRequired:"Profile Hwehw",profileRequiredMessage:"S wobk {{section}} nhyehye mu a, s s wo y {{profile}} profile kan.",cancel:"Gyae",createProfile:"Y Profile",moreMissing:"+{{count}} pii",addCustomOption:"Ka Option Fofor Ho",enterCustomOption:"Kyerw option fofor...",jobs:"Adwuma",mentorship:"Mentorship",networking:"Networking",global:"Global",jobsPreferences:"Adwuma Nhyehye",mentorshipPreferences:"Mentorship Nhyehye",networkingPreferences:"Networking Nhyehye",globalPreferences:"Global Nhyehye",industry:"Adwuma Mu",skills:"Ahokokwaa",salaryRange:"Akatua Kwan",educationLevel:"Adesua Kwan",workLocation:"Adwuma Beae",jobTypes:"Adwuma Ahorow",workArrangement:"Adwuma Arrangement",experienceLevel:"Osuahu Level",companySize:"Company Kse",areasOfExpertise:"Nimde Nkyekymu",locationPreference:"Baabi a Wop",whatLookingFor:"De Wohwehw",networkingPurpose:"Networking Purpose",seniorityLevel:"Seniority Level",matchingPriorities:"Matching Priorities",dealBreakers:"Deal Breakers"},dq={app:qK,navigation:YK,settingsMenu:QK,common:JK,cities:XK,appMode:ZK,auth:eq,settings:tq,suiteConnections:rq,profile:nq,swipeCard:aq,matches:sq,chat:iq,videoCalls:oq,messages:lq,connectionsPreferences:cq},uq={slogan:"Kp nuww le xexeame kat",noMoreMatches:"Match bubua eke megali o",findingMorePeople:"Mele ame bubuwo dim na w. Gatr va kpuie!",noPhotoAvailable:"Foto aeke meli o",topInterests:"Nuwna vevitwo:",meetDescription:"N omedodo me kple aensitwo eeko ame siwo kpa gome le Ghana e agbenn kple nuwnawo me",heatDescription:"Ge e dzeooawo kple amehawo e nuwnawo me kple Ghana duk me two",suiteDescription:"Tu kadodowo le dwewo me le Ghana dwlawo dome"},mq={discover:"Di",messages:"Gbedeasiwo",matches:"Matches",profile:"Profile",feed:"Feed",explore:"Tsa",network:"Network",jobs:"Dwo",connections:"Kadodo"},hq={accountSettings:"Account l",datingPreferences:"Dating didi",contentPreferences:"Content didi",communityGuidelines:"Habb sewo",notificationSettings:"Notification l",professionalProfile:"Dww profile",jobAlertSettings:"D nyadzdz l",networkingPreferences:"Kadodo didi"},pq={account:"Account",app:"App",logo:"Dzesi",subscription:"Subscription",logout:"Do go",save:"Dzra o",cancel:"Atsi x",back:"Tr",settings:"oowo",search:"Di",loading:"Ele d wm...",seeMore:"Kp bubuwo",update:"W yeyee",details:"Emenyawo",close:"Tui",yes:"",no:"Ao",success:"Ew d",error:"Vodada",warning:"Nuxlamenya",info:"Nyatakaka",next:"Eyomeo",previous:"Si do g",submit:"De a",continue:"Yi edzi",done:"Ewu",edit:"o",delete:"Tutu",remove:"e a",add:"Ts kpe",create:"W",view:"Kp",select:"Tia",send:"D a",receive:"X",free:"Femaxee",premium:"Premium",unlimited:"Mxexe meli o",limited:"Mxexe li"},fq={login:"Ge e me",register:"l k",forgotPassword:"l be nyagbew?",resetPassword:"Tr nyagbew",phoneNumber:"Kaom nmba",email:"Email",password:"Nyagbe",confirmPassword:"o kpe nyagbe la dzi",verificationCode:"Kpeou numba",enterVerificationCode:"l kpeou numba si woo e w kaom",resendCode:"Gad numba la a",verifyPhone:"o kpe w kaom dzi",createAccount:"W account",createPassword:"W nyagbe",passwordRequirements:"Ele be nyagbe la nan akpaa 6 alo wu nenema",alreadyHaveAccount:"Account le asiw xoxo?",dontHaveAccount:"Account mele asiw o?",signIn:"Ge e me",signUp:"l k",welcomeBack:"Woede gbe na w ake",passwordsMatch:"Nyagbe la s",passwordsDontMatch:"Nyagbe la mes o",recoverPassword:"Di nyagbe la",recoverPasswordInstructions:"l w email doi si dzi woao nyagbe ttr kadodo o",enterCode:"l numba la",codeExpires:"Numba la awu le",minutes:"aabaoo",seconds:"second",wrongCode:"Numba mele etee o. Taflatse, gadi kp.",verifyingCode:"Ele numba la kpm...",verifyCode:"o kpe numba la dzi"},gq={showChooseAppModePage:"Fia 'Tia Dwe Nnme' axa",controlWhetherToShow:"u dzi le dwe tiatia ukpo fiafia u le ge me v megbe",showAppSelectionScreen:"Fia dwe tiatia ukpo",whenTurnedOnYoullBeAsked:"Ne wle d dzi la, woabia wo be dwe ka ndi be yeaz le ge me v megbe",showNationalitySelectionScreen:"Fia dukmetnyenye tiatia ukpo",whenTurnedOnReturningUsers:"Ne wle d dzi la, ame siwo gbna akp dukmetnyenye tiatia ukpowo hafi dwe tiatia",languageSettings:"Gbe oowo",selectYourPreferredLanguage:"Tia gbe si ndi wu",currentLanguage:"Gbe si z fifia",changeLanguage:"Tr gbe",appModeSettings:"Dwe nnme oowo",nationalitySettings:"Dukmetnyenye oowo",whenTurnedOffDirectLogin:"Ne wtsi la, ge e dwe si nez mam me te",whenTurnedOffSkipNationality:"Ne wtsi la, ame siwo gbna atso dukmetnyenye tiatia ukpowo dzi ayi",regionalSettings:"Nuto oowo",language:"Gbe",customizeAppExperience:"W w dwe nuteekpkp abe ale si ndi ene",securityAndPrivacy:"Dedienn kple adzame ee fiafi",manageSecuritySettings:"u dedienn oowo dzi",twoFactorAuth:"Dzesi eve siwo woats agbl w dzesi",accountPrivacy:"Akawo ee fiafi"},xq={editProfile:"Tr w profile",photos:"Fotowo",addPhotos:"Ts fotowo kpe",aboutMe:"Nye uti",interests:"Nusiwo wdina",addInterests:"Ts nusiwo wdina kpe",location:"Tee",occupation:"Dww",education:"Nussr",relationshipGoals:"Nusi dim wle kadodoa me",languages:"Gbewo",height:"Atsutre",age:"Xexleme",birthday:"Dzigbe",gender:"utsu alo nynu",male:"utsu",female:"Nynu",religion:"Subsub",tribe:"Eome",tribes:"Eomewo",selectTribes:"Tia w eomewo",selectUpToTwo:"Tia eomewo 2 ko",drinkingHabits:"Ahanono",smokingHabits:"Atamaf nono",personalityType:"Amedzdzme",bodyType:"util e nnme",children:"Viwo",wantChildren:"Edi viwo",noPhotos:"Foto aeke mele o",noPhotosYet:"Foto aeke meli hae o",addSomePhotos:"Ts fotowo kpe na w profile la",uploadPhoto:"o foto a",profilePicture:"Profile foto",selectFromGallery:"Tiae tso galeria me",takePhoto:"e foto",updateInterests:"Tr w didiwo",selectInterests:"Tia didi siwo tututu lebe aw",addMoreDetails:"Ts nyatakataka bubuwo kpe",enhanceProfile:"W w profile la nyo wu kple nyatakataka geewo",updateLocation:"Tr w ne",confirmLocation:"o kpe w ne la dzi",saveChanges:"Dzra ttrwo o",discardChanges:"Gbe ttrwo",profileUpdated:"Wotr profile la",profileSaved:"Wodzra w profile la o dzidzedzete",profilePhotoRequired:"Ehi profile foto",pleaseAddPhoto:"Taflatse, ts foto eka p kpe do g be nayi edzi",primaryPhoto:"Foto vevit",setAsPrimary:"We vevit",deletePhoto:"Tutu foto la",confirmDeletePhoto:"ka e dzi be yeadi be yeae foto sia a?",photoDeleted:"Wotutu foto la",photoDeletedSuccess:"Wotutu w foto la dzidzedzete",showPreview:"Fia ale wan",show:"Fia",yourInfo:"W NYATAKAKAWO",residence:"Ne",profession:"Dww",myPhotos:"NYE FOTOWO",relationshipGoalsSection:"KADODO TAODZINUWO",whatImLookingFor:"Nusi dim mele",notSpecified:"Woo kpe edzi o",tribeCannotBeEdited:"Womate u atr eome o",profilePreview:"Profile e nnme",previewDescription:"Ale ame bubuwo akp w profile ne wole swiping wm"},yq={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Tia mode",meetDescription:"Di kadodo kple amewo vevitwo",heatDescription:"Kadodo kple xlwo eye nam nuteekpnuwo",suiteDescription:"Tu w dmewla e network kple mnukpkpwo",datingApp:"Llkadodo app",socialApp:"Habb app",professionalNetwork:"Dwla e kadodowo",meetLongDescription:"Dze si Ghana sigletwo le xexea me godoo hena llkadodo kple zznu tiatiawo",heatLongDescription:"Di eye n w kadodo kple Ghana e nutowomeviwo, deknukukukewo, kple habbwo le xexea me godoo",suiteLongDescription:"Tu dwmevi kadodowo kple Ghana dwlawo to kpkpl, dwo kple dwnumnukpkpwo me",chooseYourAppMode:"Tia w app mode",continueTo:"Yi edzi"},vq={noPhotoAvailable:"Foto aeke meli o",topInterests:"Nu siwo dzea dzi na w",errorTitle:"Vodada",likeError:"Miate u ao w lk o. Taflatse gao agbagba.",noMoreMatches:"Match aeke megali o",checkBackSoon:"Mele ame bubuwo dim na w. Gatr va kp kpuie!",noBioAvailable:"Bio aeke meli hae o."},bq={matches:"Matches",newMatches:"Match yeyewo",noMatches:"Match aeke meli hae o",noMatchesDescription:"Ne me kple ame ae la, woae wo afia le afisia",keepSwiping:"Yi edzi na swipe",itsAMatch:"ve s!",youAndUserLikedEachOther:"W kple {{name}} l mia newo",sendMessage:"o gbedasi a",potentialMatches:"Match siwo ate u ava",noPotentialMatches:"Match siwo ate u ava aeke meli o fifia",tryAgainLater:"Taflatse, gatr va emegbe",mutualInterests:"Nusiwo mia kple eve dina",compatibility:"Alesi mias"},wq={chats:"Dzeooawo",messages:"Gbedeasiwo",noMessages:"Gbedeasiwo aeke meli hae o",noMessagesDescription:"Dze dzeoo kple match siwo nkp",typeMessage:"l gbedasi...",sendingMessage:"Ele ddm...",failedToSend:"Gbedasi la med o",retryMessageSend:"Tia gade",online:"Ele online",offline:"Mele online o",lastSeen:"Wokpe mamlt {{time}}",typing:"ele nulm...",yourMessage:"W gbedasi",theirMessage:"Woawo e gbedasi",unreadMessages:"Gbedasi siwo mxl o",newMessage:"Gbedasi yeye",deleteConversation:"Tutu dzeooa",confirmDeleteConversation:"ka e dzi be yeadi be yeae dzeooa sia a?",conversationDeleted:"Wotutu dzeooa la",conversationDeletedSuccess:"Wotutu dzeooa la dzidzedzete",startConversation:"Dze dzeoo gme",deleteMessageConfirm:"ka e dzi be yeadi be yeae gbedasi sia a?",messageDeleted:"Wotutu gbedasi la"},jq={videoCall:"Vido yy",startVideoCall:"Dze vido yy",incomingCall:"Yy gbna",isCallingYou:"{{name}} le w ym",answer:"o nya u",decline:"Gbe",calling:"Ele yym...",connecting:"Ele kadodom...",callEnded:"Yy la wu",callDuration:"Yy la e didime: {{time}}",callFailed:"Yy la mew d o",callFailedDescription:"Mate u aw yy e kadodo o",tryAgain:"Gadi kp",endCall:"Tsi yy la nu",mute:"Tsi gbe la nu",unmute:"Tr gbe la va",speaker:"Nuogbu",camera:"Kamera",switchCamera:"Tr kamera",missedCall:"Yy si meo nya u o",missedCallDescription:"Mo {{name}} e yy nya u o",callBack:"Gaye"},Nq={app:uq,navigation:mq,settingsMenu:hq,common:pq,auth:fq,settings:gq,profile:xq,appMode:yq,swipeCard:vq,matches:bq,chat:wq,videoCalls:jq},kq={slogan:"Eka mli f he",noMoreMatches:"Matches ko b d",findingMorePeople:"Wmiitao mi krokomi ah bo. Ba eko!",noPhotoAvailable:"Mfoniri ko b",topInterests:"Nii ni sum waa:",meetDescription:"K hei ni kesua Ghana kusum k sanii he ekm",heatDescription:"Bm sanebi k Ghana kunim shishi si amli",suiteDescription:"Fee nitsum he nkitahodies y Ghana shishi adwuma nkitahodie"},Sq={discover:"Taom",messages:"Shmi",matches:"Matches",profile:"Profile",feed:"Feed",explore:"Ni kane",network:"Network",jobs:"Nitsumi",connections:"Ekai"},Cq={accountSettings:"Account hesaai",datingPreferences:"Dating nii ni sum",contentPreferences:"Content nii ni sum",communityGuidelines:"Kunia mli shishitoo kusum",notificationSettings:"Notifications hesaai",professionalProfile:"Nitsum he profile",jobAlertSettings:"Nitsum alerts hesaai",networkingPreferences:"Networking nii ni sum"},Eq={account:"Account",app:"App",logo:"Logo",subscription:"Subscription",logout:"Jee kpo",save:"Wo",cancel:"Kpale",back:"S",settings:"Hesaai",search:"Taom",loading:"Ets...",seeMore:"Na fe",update:"Tsakem",details:"Mliheei",close:"Na n",yes:"H",no:"Daabi",success:"Eyaye n",error:"Kptm",warning:"Kkb",info:"Sane",next:"Noni nyi s",previous:"Noni ts hi",submit:"Kha l",continue:"Ya hi",done:"Egbe",edit:"Tsakem",delete:"Jiem",remove:"Jiem",add:"Wo he",create:"Feem",view:"Kwem",select:"Hala",send:"K l ya",receive:"Nm",free:"Faa",premium:"Premium",unlimited:"Nii ni ab daam",limited:"Nii ni y daam"},Pq={login:"Bote mli",register:"Ye l wolo",forgotPassword:"Ohi ejw password l?",resetPassword:"Tsakem password l",phoneNumber:"Tlifo number",email:"Email",password:"Password",confirmPassword:"M password l n",verificationCode:"Mm he code",enterVerificationCode:"Wo code ni ak l ha bo tlifo l",resendCode:"maa code l eko",verifyPhone:"M tlifo l he",createAccount:"Feem account",createPassword:"Feem password",passwordRequirements:"Password l esa ak ewo b 6 aloo fe nakai",alreadyHaveAccount:"Account y on momo?",dontHaveAccount:"Account b on?",signIn:"Bote mli",signUp:"Ye l wolo",welcomeBack:"Obiafee oba eko",passwordsMatch:"Passwords l kpaa",passwordsDontMatch:"Passwords l ekpaaa",recoverPassword:"Taom password l",recoverPasswordInstructions:"Wo email l koni ak password tsakem mli link l aha bo",enterCode:"Wo code l",codeExpires:"Code l ba y",minutes:"minutsi",seconds:"seconds",wrongCode:"Code l et. Ofain, ka l m eko.",verifyingCode:"Akw code l...",verifyCode:"M code l n"},Aq={showChooseAppModePage:"Fia 'Tso App Mode' shia",controlWhetherToShow:"K app tsetse screen ni baa ge me v ko",showAppSelectionScreen:"Fia app tsetse screen",whenTurnedOnYoullBeAsked:"Ni otn la, oba bia wo ni app ka bo di zaa ge me v ko",showNationalitySelectionScreen:"Fia nationality tsetse screen",whenTurnedOnReturningUsers:"Ni otn la, ame siwo gbna akp nationality tsetse screens app tsetse kpn",languageSettings:"Gbe oowo",selectYourPreferredLanguage:"Tso wo gbe ni bo di pass",currentLanguage:"Gbe ni z fifia",changeLanguage:"Sesa gbe",appModeSettings:"App mode oowo",nationalitySettings:"Nationality oowo",whenTurnedOffDirectLogin:"Ni ote la, age e app si nez mam me te",whenTurnedOffSkipNationality:"Ni ote la, ame siwo gbna atso nationality tsetse screens dzi ayi",regionalSettings:"Area oowo",language:"Gbe",customizeAppExperience:"W wo app experience abe ale si bo di ene",securityAndPrivacy:"Security kple Privacy",manageSecuritySettings:"K wo security settings l dam",twoFactorAuth:"Two-Factor Authentication",accountPrivacy:"Account Privacy"},Mq={editProfile:"Tsakem profile l",photos:"Mfoniri",addPhotos:"Wo mfoniri he",aboutMe:"Mihe sane",interests:"Nii ni misum",addInterests:"Wo nii ni osum he",location:"Hei ni oy",occupation:"Nitsum",education:"Nikasem",relationshipGoals:"Nii ni otao y ek mli",languages:"Wiemi",height:"Agbojee",age:"Afii",birthday:"Gbi ni af l",gender:"Nuu aloo yoo",male:"Nuu",female:"Yoo",religion:"Jam",tribe:"Man gbi",tribes:"Maji gbi",selectTribes:"Hala omaji gbi",selectUpToTwo:"Hala maji gbi 2 p",drinkingHabits:"Danum",smokingHabits:"Tawa num",personalityType:"Su",bodyType:"Gbmtso su",children:"Gbekbii",wantChildren:"Sum gbekbii",noPhotos:"Mfoniri ko b",noPhotosYet:"Mfoniri ko b ll",addSomePhotos:"Ha mfoniri ekomi koni oeegbe profile l naa",uploadPhoto:"Ha mfoniri l",profilePicture:"Profile mfoniri",selectFromGallery:"Hala mfoniri kj gallery mli",takePhoto:"Ye mfoniri",updateInterests:"Tsakem nii ni osum",selectInterests:"Hala nii ni osum ni jie otam kpo",addMoreDetails:"Wo saji krokomi he",enhanceProfile:"Wo profile l hi k saji pii",updateLocation:"Tsakem hei ni oy",confirmLocation:"M hei ni oy n",saveChanges:"Wo tsakemi l",discardChanges:"Kpale tsakemi l",profileUpdated:"Atsakee profile l",profileSaved:"Awo oprofile l jogba",profilePhotoRequired:"Esa ak oha profile mfoniri",pleaseAddPhoto:"Ofain, ha mfoniri kome dani oyaya hi",primaryPhoto:"Mfoniri titri l",setAsPrimary:"K to titri",deletePhoto:"Jiem mfoniri l",confirmDeletePhoto:"Ani oma oya ak ojie mfoniri n?",photoDeleted:"Ajie mfoniri l",photoDeletedSuccess:"Ajie omfoniri l jogba",showPreview:"Ts m b ni ebaafee",show:"Ts m",yourInfo:"OHE SAJI",residence:"Shihje",profession:"Nitsum",myPhotos:"MIMFONIRI",relationshipGoalsSection:"EK MLI OTAO",whatImLookingFor:"Nii ni mitao",notSpecified:"Ak m ko",tribeCannotBeEdited:"Ony tsakee man gbi l",profilePreview:"Profile b ni etam",previewDescription:"B ni mi krokomi naa oprofile k ammiishwane"},Tq={meet:"MEET",heat:"HEAT",suite:"SUITE",selectMode:"Hala mode",meetDescription:"Taom wekukpa ni y s k eki",heatDescription:"Wo he ekm k nanemi ni ok am akp bei",suiteDescription:"Fee onitsum he ek k hegbi",datingApp:"Wekukpa app",socialApp:"Nanemi kpa app",professionalNetwork:"Nitsuli eki",meetLongDescription:"K Ghana hei abalontii awo he ekm y je f koni afee wekukpi ni y s",heatLongDescription:"Taom ni ok Ghana nii ahe ekm y je f, akpe k kusum eki k kuu asi ni afee",suiteLongDescription:"K Ghana nitsuli atsu nii k ts gb, nisumi k nitsum hegbi",chooseYourAppMode:"Hala app mode ni otao",continueTo:"Ya hi"},Iq={noPhotoAvailable:"Foni ko b",topInterests:"Nibii ni sum",errorTitle:"Tm",likeError:"Any afee olike l. Ofain ok ka eko.",noMoreMatches:"Match ko b d",checkBackSoon:"Wtao mi krokomi ahaa bo. Ko ba kkwm ets!",noBioAvailable:"Bio ko b ll."},_q={matches:"Matches",newMatches:"Matches hei",noMatches:"Matches ko b ll",noMatchesDescription:"Kji ok m ko ets match l, am baaj bi",keepSwiping:"Ya hi y swipe l",itsAMatch:"Ek match!",youAndUserLikedEachOther:"Bo k {{name}} sum nyhe",sendMessage:"K shm l ya",potentialMatches:"Matches ni baany aba",noPotentialMatches:"Matches ni baany aba ko b ll",tryAgainLater:"Ofain, ka m y be ni baaba mli",mutualInterests:"Nii ni ny f nysum",compatibility:"B ni nyy kpa ha nyhe"},Dq={chats:"Sanegbaa",messages:"Shmi",noMessages:"Shmi ko b ll",noMessagesDescription:"Bi sanegbaa k omatch l",typeMessage:"ma shm...",sendingMessage:"Ekmiiyi...",failedToSend:"Eyaaa n",retryMessageSend:"Tswa koni aka m eko",online:"Ey online",offline:"Eb online",lastSeen:"Ahuu l klk y {{time}}",typing:"eemaa...",yourMessage:"Oshm",theirMessage:"Am shm",unreadMessages:"Shmi ni akaneee l",newMessage:"Shm hee",deleteConversation:"Jiem sanegbaa l",confirmDeleteConversation:"Ani oma oya ak ojie sanegbaa n?",conversationDeleted:"Ajie sanegbaa l",conversationDeletedSuccess:"Ajie sanegbaa l jogba",startConversation:"Bi sanegbaa l",deleteMessageConfirm:"Ani oma oya ak ojie shm n?",messageDeleted:"Ajie shm l"},Rq={videoCall:"Video tsm",startVideoCall:"Bi video tsm",incomingCall:"Tsm ni miiba",isCallingYou:"{{name}} miits bo",answer:"H hetoo",decline:"Kwaaa",calling:"Miits...",connecting:"Miik edam...",callEnded:"Tsm l egbe naa",callDuration:"Tsm l sh: {{time}}",callFailed:"Tsm l et",callFailedDescription:"Eny ek tsm l dam",tryAgain:"Ka m eko",endCall:"Gbe tsm l naa",mute:"Gbe gbee l naa",unmute:"Km gbee l hi",speaker:"N ni k gbee j",camera:"Camera",switchCamera:"Tsakem camera l",missedCall:"Tsm ni et bo",missedCallDescription:"{{name}} tsm l et bo",callBack:"Ts l eko"},Oq={app:kq,navigation:Sq,settingsMenu:Cq,common:Eq,auth:Pq,settings:Aq,profile:Mq,appMode:Tq,swipeCard:Iq,matches:_q,chat:Dq,videoCalls:Rq},Lc={en:fz,fr:Az,es:Hz,de:sW,it:yW,pt:TW,ru:zW,nl:nH,tr:gH,zh:AH,ja:GH,ko:tK,hi:pK,ar:EK,tw:KK,ak:dq,ee:Nq,ga:Oq},zN=u.createContext(void 0);function gC(e,r){if(!e||!r)return r;const n=r.split(".");let a=e;for(const s of n){if(a==null||typeof a!="object")return r;a=a[s]}return typeof a!="string"?r:a}function Lq({children:e}){const{country:r,demonym:n}=yf(),[a,s]=u.useState(()=>{const h=VV();return console.log(`Initializing language system with saved code: ${h}`),au.find(p=>p.code===h)||au.find(p=>p.code==="en")||au[0]}),[i,o]=u.useState({}),[l,c]=u.useState(!0);u.useEffect(()=>{a.rtl?document.documentElement.classList.add("rtl-active"):document.documentElement.classList.remove("rtl-active")},[a]),u.useEffect(()=>{function h(){var p;c(!0);try{console.log(`Loading translations for language: ${a.code}`);const f=Lc[a.code]||Lc.en;console.log(`Translation data loaded for ${a.code}:`,f),console.log("Translation data has settings:",!!(f!=null&&f.settings)),console.log("Settings showChooseAppModePage:",(p=f==null?void 0:f.settings)==null?void 0:p.showChooseAppModePage),f?o(f):(console.warn(`Translation for ${a.code} not found, using English`),o(Lc.en))}catch(f){console.error("Failed to load translations:",f),o(Lc.en)}finally{c(!1)}}h()},[a.code]);const d=h=>{console.log(`Attempting to change language to: ${h}`);const p=au.find(f=>f.code===h);if(p){console.log("Language found:",p),s(p),zV(h);const f=Lc[h]||Lc.en;f&&(o(f),c(!1),console.log(`Instant translation reload complete for: ${h}`),console.log("French settings translations loaded:",f==null?void 0:f.settings)),console.log(`Language changed to: ${h}, instant reload completed`)}else console.warn(`Language not found for code: ${h}`)},m=(h,p={})=>{var x;if(!i||Object.keys(i).length===0)return console.log(`No translations available for key: ${h}`),h;h.includes("settings.")&&console.log(`Translating key: ${h}, Current language: ${a.code}, Has translations:`,Object.keys(i).length>0);let f=gC(i,h);if(h.includes("settings.")&&f!==h?console.log(`Translation found for ${h}: ${f}`):h.includes("settings.")&&f===h&&console.log(`Translation NOT found for ${h}, fallback will be used`),["settings.securityAndPrivacy","settings.twoFactorAuth","settings.accountPrivacy"].includes(h)){console.log(` DEBUGGING KEY: ${h}`),console.log(` Current language: ${a.code}`),console.log(" Translations object exists:",!!i),console.log(" Settings section exists:",!!i.settings);const g=h.split(".")[1];console.log(" Raw translation lookup:",(x=i.settings)==null?void 0:x[g]),console.log(` Final result: ${f}`)}if(f===h){const g=Lc.en,v=gC(g,h);if(v!==h)f=v;else{const y=h.split(".");if(y.length>1){const b=y[y.length-1];f=b.charAt(0).toUpperCase()+b.slice(1)}}}if(f.includes("Ghanaians")&&!p.nationality)try{n&&n!=="Ghanaians"&&(f=f.replace(/Ghanaians/g,n))}catch(g){console.warn("Error substituting nationality:",g)}return Object.entries(p).forEach(([g,v])=>{f=f.replace(new RegExp(`{{${g}}}`,"g"),v)}),f};return t.jsx(zN.Provider,{value:{currentLanguage:a,setLanguage:d,allLanguages:au,translate:m,isLoading:l},children:e})}function tn(){const e=u.useContext(zN);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}function Ge(e,r={}){const n=u.useContext(zN);return n?n.translate(e,r):e}const Gx=class Gx{static async getCoordinatesFromLocation(r){const n={accra:{lat:5.6037,lng:-.187},kumasi:{lat:6.6885,lng:-1.6244},tamale:{lat:9.4034,lng:-.8424},"cape coast":{lat:5.1053,lng:-1.2466},tema:{lat:5.6698,lng:.0166},"new york":{lat:40.7128,lng:-74.006},"los angeles":{lat:34.0522,lng:-118.2437},chicago:{lat:41.8781,lng:-87.6298},houston:{lat:29.7604,lng:-95.3698},phoenix:{lat:33.4484,lng:-112.074},philadelphia:{lat:39.9526,lng:-75.1652},"san antonio":{lat:29.4241,lng:-98.4936},"san diego":{lat:32.7157,lng:-117.1611},dallas:{lat:32.7767,lng:-96.797},"san jose":{lat:37.3382,lng:-121.8863},london:{lat:51.5074,lng:-.1278},manchester:{lat:53.4808,lng:-2.2426},birmingham:{lat:52.4862,lng:-1.8904},liverpool:{lat:53.4084,lng:-2.9916},bristol:{lat:51.4545,lng:-2.5879},toronto:{lat:43.6532,lng:-79.3832},vancouver:{lat:49.2827,lng:-123.1207},sydney:{lat:-33.8688,lng:151.2093},melbourne:{lat:-37.8136,lng:144.9631},lagos:{lat:6.5244,lng:3.3792},johannesburg:{lat:-26.2041,lng:28.0473},nairobi:{lat:-1.2921,lng:36.8219},cairo:{lat:30.0444,lng:31.2357}},a=r.toLowerCase().trim();if(n[a])return n[a];for(const[i,o]of Object.entries(n))if(a.includes(i)||i.includes(a))return o;const s={ghana:{lat:5.6037,lng:-.187},usa:{lat:38.9072,lng:-77.0369},"united states":{lat:38.9072,lng:-77.0369},uk:{lat:51.5074,lng:-.1278},"united kingdom":{lat:51.5074,lng:-.1278},canada:{lat:45.4215,lng:-75.6919},australia:{lat:-35.2809,lng:149.13},nigeria:{lat:9.0765,lng:7.3986},"south africa":{lat:-25.7479,lng:28.2293},kenya:{lat:-1.2921,lng:36.8219},egypt:{lat:30.0444,lng:31.2357}};for(const[i,o]of Object.entries(s))if(a.includes(i))return o;return null}static async checkDaylightStatus(r,n=!1){try{if(n)console.log("[DAYLIGHT] Force refresh requested - clearing cache"),this.clearCache();else{const f=this.getCachedStatus();if(f&&Date.now()-f.lastChecked<this.CACHE_DURATION)return console.log("[DAYLIGHT] Using cached daylight status"),f}let a=null;if(r&&(a=await this.getCoordinatesFromLocation(r)),!a&&navigator.geolocation)try{a=await new Promise((f,x)=>{navigator.geolocation.getCurrentPosition(g=>{f({lat:g.coords.latitude,lng:g.coords.longitude})},x,{timeout:5e3,enableHighAccuracy:!1})})}catch(f){console.warn("[DAYLIGHT] Geolocation not available:",f)}a||(console.log("[DAYLIGHT] Using default location (Accra, Ghana)"),a={lat:5.6037,lng:-.187});const s=await fetch(`https://api.sunrise-sunset.org/json?lat=${a.lat}&lng=${a.lng}&formatted=0`);if(!s.ok)throw new Error(`Sunrise API error: ${s.status}`);const i=await s.json();if(i.status!=="OK")throw new Error(`Sunrise API status: ${i.status}`);const o=new Date,l=new Date(i.results.sunrise),c=new Date(i.results.sunset),d=new Date(i.results.civil_twilight_end),m=new Date(i.results.civil_twilight_begin),h=o<m||o>d,p={isDark:h,isDarkMode:h,isAutomatic:!0,lastChecked:Date.now(),location:r||"Auto-detected",nextSunrise:l.toLocaleTimeString(),nextSunset:c.toLocaleTimeString()};return this.setCachedStatus(p),console.log(`[DAYLIGHT] Location: ${p.location}, Dark: ${h}, Sunrise: ${p.nextSunrise}, Sunset: ${p.nextSunset}`),p}catch(a){return console.error("[DAYLIGHT] Error checking daylight status:",a),{isDark:!1,isDarkMode:!1,isAutomatic:!1,lastChecked:Date.now(),location:"Unknown"}}}static getCachedStatus(){try{const r=localStorage.getItem(this.STORAGE_KEY);return r?JSON.parse(r):null}catch(r){return console.warn("[DAYLIGHT] Error reading cached status:",r),null}}static setCachedStatus(r){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}catch(n){console.warn("[DAYLIGHT] Error caching status:",n)}}static clearCache(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(r){console.warn("[DAYLIGHT] Error clearing cache:",r)}}};Gx.CACHE_DURATION=30*60*1e3,Gx.STORAGE_KEY="daylight_status";let Kg=Gx;const zT=u.createContext(null);function $q({children:e}){const{user:r}=Sr(),n=r==null?void 0:r.id,[a,s]=u.useState(!1),[i,o]=u.useState(!1),[l,c]=u.useState(null),d=()=>(r==null?void 0:r.location)||(r==null?void 0:r.countryOfOrigin),m=async(g=!0)=>{try{const v=d();console.log("[DARK-MODE] Refreshing daylight status for location:",v,"Force refresh:",g);const y=await Kg.checkDaylightStatus(v,g);c(y),i&&y.isAutomatic&&(s(y.isDark),h(y.isDark),n&&(_t(`darkMode-${n}`,y.isDark.toString()),_t(`darkMode-${n}-automatic`,"true")))}catch(v){console.error("[DARK-MODE] Error refreshing daylight status:",v)}};u.useEffect(()=>{(async()=>{let v=!1,y=!1;if(n){y=Mr(`darkMode-${n}-automatic`)==="true";const w=Mr(`darkMode-${n}`);w!==null?v=w==="true":(v=Mr("darkMode")==="true",y=!0,_t(`darkMode-${n}`,v.toString()),_t(`darkMode-${n}-automatic`,y.toString()))}else{const b=Mr("darkMode");b!==null&&(v=b==="true")}if(o(y),y&&n)try{const b=d();console.log("[DARK-MODE] Initial daylight check for location:",b);const w=await Kg.checkDaylightStatus(b,!1);c(w),w.isAutomatic&&(console.log(`[DARK-MODE] Automatic mode enabled, setting dark mode to ${w.isDark} based on location daylight`),v=w.isDark,_t(`darkMode-${n}`,v.toString()))}catch(b){console.error("[DARK-MODE] Error checking initial daylight status:",b)}s(v),h(v)})()},[n]),u.useEffect(()=>{if(!i||!n)return;const g=d();g&&(l!=null&&l.location)&&g!==l.location&&(console.log("[DARK-MODE] Location changed from",l.location,"to",g,"- force refreshing"),m(!0))},[r==null?void 0:r.location,r==null?void 0:r.countryOfOrigin,i,n,l==null?void 0:l.location]),u.useEffect(()=>{if(!i||!n)return;const g=setInterval(()=>{m(!1)},30*60*1e3);return()=>clearInterval(g)},[i,n]);const h=g=>{g?(document.documentElement.classList.add("dark"),document.documentElement.classList.add("dark-mode"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("dark-mode"),document.body.classList.remove("dark-mode"))},p=()=>{const g=!a;s(g),i&&(o(!1),n&&_t(`darkMode-${n}-automatic`,"false"),console.log("[DARK-MODE] Manual toggle detected, disabling automatic mode")),_t(n?`darkMode-${n}`:"darkMode",g.toString()),h(g)},f=async()=>{o(!0),n&&_t(`darkMode-${n}-automatic`,"true"),console.log("[DARK-MODE] Automatic mode enabled"),await m()},x=()=>{o(!1),n&&_t(`darkMode-${n}-automatic`,"false"),console.log("[DARK-MODE] Automatic mode disabled")};return t.jsx(zT.Provider,{value:{darkMode:a,isDarkMode:a,toggleDarkMode:p,isAutomaticMode:i,enableAutomaticMode:f,disableAutomaticMode:x,daylightStatus:l,refreshDaylight:m},children:e})}function Za(){const e=u.useContext(zT);if(!e)throw new Error("useDarkMode must be used within a DarkModeProvider");return e}function Fq(){const{user:e}=Sr();return dt({queryKey:["/api/home-page-data"],queryFn:async()=>{console.log("[UNIFIED-HOME-DATA]  Fetching optimized data in single request");const r=Date.now();try{const a=await(await ze("/api/home-page-data")).json(),s=Date.now()-r;return console.log(`[UNIFIED-HOME-DATA]  Data loaded in ${s}ms`),a}catch(n){throw console.error("[UNIFIED-HOME-DATA]  Failed to load data:",n),n instanceof Error&&n.message.includes("Failed to fetch")?new Error("Network connection issue. Please check your internet connection."):n}},enabled:!!(e!=null&&e.id),staleTime:30*1e3,gcTime:2*60*1e3,retry:(r,n)=>n instanceof Error&&n.message.includes("Failed to fetch")?(console.log("[UNIFIED-HOME-DATA] Network issue detected, not retrying to prevent overlay spam"),!1):r<2,retryDelay:r=>Math.min(1e3*2**r,3e3),refetchOnWindowFocus:!1,refetchOnReconnect:!0,throwOnError:!1})}function p1(e,r){if(!e)return Math.floor(Math.random()*31)+60;let n=70;e.location===r.location&&(n+=10),e.ethnicity&&r.ethnicity&&e.ethnicity===r.ethnicity&&(n+=5),e.religion&&r.religion&&e.religion===r.religion&&(n+=5),e.relationshipGoal&&r.relationshipGoal&&e.relationshipGoal===r.relationshipGoal&&(n+=10);const a=Math.floor(Math.random()*11)-5;return n+=a,Math.min(Math.max(n,0),100)}const Uq=gf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function St({className:e,variant:r,...n}){return t.jsx("div",{className:We(Uq({variant:r}),e),...n})}const f1=[{name:"Christianity",value:"christianity",denominations:[{name:"Roman Catholic",value:"christianity-roman-catholic"},{name:"Methodist",value:"christianity-methodist"},{name:"Presbyterian",value:"christianity-presbyterian"},{name:"Anglican",value:"christianity-anglican"},{name:"Pentecostal",value:"christianity-pentecostal"},{name:"Charismatic",value:"christianity-charismatic"},{name:"Baptist",value:"christianity-baptist"},{name:"Seventh Day Adventist",value:"christianity-seventh-day-adventist"},{name:"Evangelical",value:"christianity-evangelical"},{name:"Church of Christ",value:"christianity-church-of-christ"},{name:"Apostolic",value:"christianity-apostolic"},{name:"Lutheran",value:"christianity-lutheran"},{name:"Jehovah's Witness",value:"christianity-jehovahs-witness"},{name:"Salvation Army",value:"christianity-salvation-army"},{name:"Other Christian",value:"christianity-other"}]},{name:"Islam",value:"islam",denominations:[{name:"Sunni",value:"islam-sunni"},{name:"Ahmadiyya",value:"islam-ahmadiyya"},{name:"Shia",value:"islam-shia"},{name:"Sufi",value:"islam-sufi"},{name:"Other Islamic",value:"islam-other"}]},{name:"Traditional Religions",value:"traditional",denominations:[{name:"Akan Traditional",value:"traditional-akan"},{name:"Ewe Traditional",value:"traditional-ewe"},{name:"Ga-Adangme Traditional",value:"traditional-ga-adangme"},{name:"Dagbani Traditional",value:"traditional-dagbani"},{name:"Other Traditional",value:"traditional-other"}]},{name:"Other Religions",value:"other",denominations:[{name:"Bahai",value:"other-bahai"},{name:"Buddhism",value:"other-buddhism"},{name:"Hinduism",value:"other-hinduism"},{name:"Judaism",value:"other-judaism"},{name:"Rastafarianism",value:"other-rastafarianism"},{name:"Other",value:"other-other"}]},{name:"No Religion",value:"none",denominations:[{name:"Atheist",value:"none-atheist"},{name:"Agnostic",value:"none-agnostic"},{name:"Secular",value:"none-secular"},{name:"Prefer not to say",value:"none-prefer-not-to-say"}]}];let ai=[...f1];const qg={name:"Community Added",value:"global",denominations:[]};function Bq(e){return e.map(r=>({name:r.religion,value:`global-${r.id}`}))}async function Gq(){try{const e=await fetch("/api/global-religions");if(!e.ok)throw new Error("Failed to fetch global religions");const r=await e.json(),n=Bq(r);qg.denominations=n.map(a=>({name:a.name,value:a.value})),n.length>0&&(ai=ai.filter(a=>a.value!=="global"),ai=[...f1,qg]),console.log("Global religions loaded successfully:",r.length)}catch(e){console.error("Error loading global religions:",e),ai=[...f1]}}async function Vq(e){try{const r=await fetch("/api/global-religions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({religion:e})});if(!r.ok)throw new Error("Failed to add global religion");const n=await r.json(),a={name:n.religion,value:`global-${n.id}`},s=ai.find(i=>i.value==="global");return s?s.denominations.some(i=>i.value===a.value)||s.denominations.push({name:a.name,value:a.value}):(qg.denominations=[{name:a.name,value:a.value}],ai=[...ai,qg]),a}catch(r){console.error("Error adding global religion:",r);return}}function Yg(e){if(e.startsWith("global-")){const r=ai.find(n=>n.value==="global");if(r){const n=r.denominations.find(a=>a.value===e);if(n)return n.name}}for(const r of ai)for(const n of r.denominations)if(n.value===e)return r.value==="global"?n.name:`${r.name} - ${n.name}`;return"Not specified"}const zq={ANYWHERE:"Global",Ghana:"Ghanaian","United States":"American","United Kingdom":"British",Canada:"Canadian",Nigeria:"Nigerian","South Africa":"South African",Afghanistan:"Afghan",Albania:"Albanian",Algeria:"Algerian","American Samoa":"American Samoan",Andorra:"Andorran",Angola:"Angolan",Anguilla:"Anguillan",Antarctica:"Antarctic","Antigua and Barbuda":"Antiguan, Barbudan",Argentina:"Argentine",Armenia:"Armenian",Aruba:"Aruban",Australia:"Australian",Austria:"Austrian",Azerbaijan:"Azerbaijani",Bahamas:"Bahamian",Bahrain:"Bahraini",Bangladesh:"Bangladeshi",Barbados:"Barbadian",Belarus:"Belarusian",Belgium:"Belgian",Belize:"Belizean",Benin:"Beninese",Bermuda:"Bermudian",Bhutan:"Bhutanese",Bolivia:"Bolivian","Bosnia and Herzegovina":"Bosnian, Herzegovinian",Botswana:"Motswana, Batswana",Brazil:"Brazilian","British Indian Ocean Territory":"British","Brunei Darussalam":"Bruneian",Bulgaria:"Bulgarian","Burkina Faso":"Burkinab",Burundi:"Burundian",Cambodia:"Cambodian",Cameroon:"Cameroonian","Cape Verde":"Cape Verdean","Cayman Islands":"Caymanian","Central African Republic":"Central African",Chad:"Chadian",Chile:"Chilean",China:"Chinese","Christmas Island":"Christmas Islander","Cocos (Keeling) Islands":"Cocos Islander",Colombia:"Colombian",Comoros:"Comorian",Congo:"Congolese","Congo, DR":"Congolese","Cook Islands":"Cook Islander","Costa Rica":"Costa Rican","Cote d'Ivoire":"Ivorian",Croatia:"Croatian",Cuba:"Cuban",Cyprus:"Cypriot","Czech Republic":"Czech",Denmark:"Danish",Djibouti:"Djiboutian",Dominica:"Dominican","Dominican Republic":"Dominican",Ecuador:"Ecuadorian",Egypt:"Egyptian","El Salvador":"Salvadoran","Equatorial Guinea":"Equatorial Guinean",Eritrea:"Eritrean",Estonia:"Estonian",Ethiopia:"Ethiopian","Falkland Islands":"Falkland Islander","Faroe Islands":"Faroese",Fiji:"Fijian",Finland:"Finnish",France:"French","French Guiana":"French Guianese","French Polynesia":"French Polynesian",Gabon:"Gabonese",Gambia:"Gambian",Georgia:"Georgian",Germany:"German",Gibraltar:"Gibraltarian",Greece:"Greek",Greenland:"Greenlandic",Grenada:"Grenadian",Guadeloupe:"Guadeloupean",Guam:"Guamanian",Guatemala:"Guatemalan",Guinea:"Guinean","Guinea-Bissau":"Guinea-Bissauan",Guyana:"Guyanese",Haiti:"Haitian","Holy See (Vatican City)":"Vatican",Honduras:"Honduran","Hong Kong":"Hong Konger",Hungary:"Hungarian",Iceland:"Icelandic",India:"Indian",Indonesia:"Indonesian",Iran:"Iranian",Iraq:"Iraqi",Ireland:"Irish",Israel:"Israeli",Italy:"Italian",Jamaica:"Jamaican",Japan:"Japanese",Jordan:"Jordanian",Kazakhstan:"Kazakhstani",Kenya:"Kenyan",Kiribati:"I-Kiribati","North Korea":"North Korean","South Korea":"South Korean",Kuwait:"Kuwaiti",Kyrgyzstan:"Kyrgyzstani",Laos:"Lao",Latvia:"Latvian",Lebanon:"Lebanese",Lesotho:"Mosotho",Liberia:"Liberian",Libya:"Libyan",Liechtenstein:"Liechtensteiner",Lithuania:"Lithuanian",Luxembourg:"Luxembourger",Macao:"Macanese","North Macedonia":"Macedonian",Madagascar:"Malagasy",Malawi:"Malawian",Malaysia:"Malaysian",Maldives:"Maldivian",Mali:"Malian",Malta:"Maltese","Marshall Islands":"Marshallese",Martinique:"Martinican",Mauritania:"Mauritanian",Mauritius:"Mauritian",Mayotte:"Mahoran",Mexico:"Mexican",Micronesia:"Micronesian",Moldova:"Moldovan",Monaco:"Mongasque",Mongolia:"Mongolian",Montenegro:"Montenegrin",Montserrat:"Montserratian",Morocco:"Moroccan",Mozambique:"Mozambican",Myanmar:"Burmese",Namibia:"Namibian",Nauru:"Nauruan",Nepal:"Nepali",Netherlands:"Dutch","New Caledonia":"New Caledonian","New Zealand":"New Zealander",Nicaragua:"Nicaraguan",Niger:"Nigerien",Niue:"Niuean","Norfolk Island":"Norfolk Islander","Northern Mariana Islands":"Northern Mariana Islander",Norway:"Norwegian",Oman:"Omani",Pakistan:"Pakistani",Palau:"Palauan",Palestine:"Palestinian",Panama:"Panamanian","Papua New Guinea":"Papua New Guinean",Paraguay:"Paraguayan",Peru:"Peruvian",Philippines:"Filipino",Pitcairn:"Pitcairn Islander",Poland:"Polish",Portugal:"Portuguese","Puerto Rico":"Puerto Rican",Qatar:"Qatari",Reunion:"Runionese",Romania:"Romanian",Russia:"Russian",Rwanda:"Rwandan","Saint Barthlemy":"Saint Barthlemy Islander","Saint Helena":"Saint Helenian","Saint Kitts and Nevis":"Kittitian, Nevisian","Saint Lucia":"Saint Lucian","Saint Martin":"Saint Martin Islander","Saint Pierre and Miquelon":"Saint Pierre and Miquelon Islander","Saint Vincent and the Grenadines":"Saint Vincentian",Samoa:"Samoan","San Marino":"Sammarinese","Sao Tome and Principe":"So Toman","Saudi Arabia":"Saudi Arabian",Senegal:"Senegalese",Serbia:"Serbian",Seychelles:"Seychellois","Sierra Leone":"Sierra Leonean",Singapore:"Singaporean","Sint Maarten":"Sint Maartener",Slovakia:"Slovak",Slovenia:"Slovenian","Solomon Islands":"Solomon Islander",Somalia:"Somali",Spain:"Spanish","Sri Lanka":"Sri Lankan",Sudan:"Sudanese",Suriname:"Surinamese","Svalbard and Jan Mayen":"Svalbard and Jan Mayen Islander",Swaziland:"Swazi",Sweden:"Swedish",Switzerland:"Swiss",Syria:"Syrian",Taiwan:"Taiwanese",Tajikistan:"Tajikistani",Tanzania:"Tanzanian",Thailand:"Thai","Timor-Leste":"Timorese",Togo:"Togolese",Tokelau:"Tokelauan",Tonga:"Tongan","Trinidad and Tobago":"Trinidadian, Tobagonian",Tunisia:"Tunisian",Turkey:"Turkish",Turkmenistan:"Turkmen","Turks and Caicos Islands":"Turks and Caicos Islander",Tuvalu:"Tuvaluan",Uganda:"Ugandan",Ukraine:"Ukrainian","United Arab Emirates":"Emirati",Uruguay:"Uruguayan",Uzbekistan:"Uzbekistani",Vanuatu:"Ni-Vanuatu",Venezuela:"Venezuelan",Vietnam:"Vietnamese","Virgin Islands, British":"British Virgin Islander","Virgin Islands, U.S.":"U.S. Virgin Islander","Wallis and Futuna":"Wallisian, Futunan","Western Sahara":"Sahrawi",Yemen:"Yemeni",Zambia:"Zambian",Zimbabwe:"Zimbabwean"};function sc(e){return zq[e]||e}function bu(e,r){return r?!!(e.showProfilePhoto??!0):!1}function Wq(e){if(typeof Proxy>"u")return e;const r=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,s)=>s==="create"?e:(r.has(s)||r.set(s,e(s)),r.get(s))})}function dy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const g1=e=>Array.isArray(e);function WT(e,r){if(!Array.isArray(r))return!1;const n=r.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(r[a]!==e[a])return!1;return!0}function Np(e){return typeof e=="string"||Array.isArray(e)}function xC(e){const r=[{},{}];return e==null||e.values.forEach((n,a)=>{r[0][a]=n.get(),r[1][a]=n.getVelocity()}),r}function WN(e,r,n,a){if(typeof r=="function"){const[s,i]=xC(a);r=r(n!==void 0?n:e.custom,s,i)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[s,i]=xC(a);r=r(n!==void 0?n:e.custom,s,i)}return r}function uy(e,r,n){const a=e.getProps();return WN(a,r,n!==void 0?n:a.custom,e)}const HN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KN=["initial",...HN],vf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gd=new Set(vf),il=e=>e*1e3,ol=e=>e/1e3,Hq={type:"spring",stiffness:500,damping:25,restSpeed:10},Kq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qq={type:"keyframes",duration:.8},Yq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qq=(e,{keyframes:r})=>r.length>2?qq:Gd.has(e)?e.startsWith("scale")?Kq(r[1]):Hq:Yq;function qN(e,r){return e?e[r]||e.default||e:void 0}const Jq={skipAnimations:!1,useManualTiming:!1},Xq=e=>e!==null;function my(e,{repeat:r,repeatType:n="loop"},a){const s=e.filter(Xq),i=r&&n!=="loop"&&r%2===1?0:s.length-1;return!i||a===void 0?s[i]:a}const us=e=>e;let x1=us;function Zq(e){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,m=!1,h=!1)=>{const f=h&&a?r:n;return m&&i.add(d),f.has(d)||f.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,a){s=!0;return}a=!0,[r,n]=[n,r],n.clear(),r.forEach(l),a=!1,s&&(s=!1,c.process(d))}};return c}const w0=["read","resolveKeyframes","update","preRender","render","postRender"],eY=40;function HT(e,r){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=w0.reduce((y,b)=>(y[b]=Zq(i),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:m,render:h,postRender:p}=o,f=()=>{const y=performance.now();n=!1,s.delta=a?1e3/60:Math.max(Math.min(y-s.timestamp,eY),1),s.timestamp=y,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),m.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&r&&(a=!1,e(f))},x=()=>{n=!0,a=!0,s.isProcessing||e(f)};return{schedule:w0.reduce((y,b)=>{const w=o[b];return y[b]=(S,N=!1,P=!1)=>(n||x(),w.schedule(S,N,P)),y},{}),cancel:y=>{for(let b=0;b<w0.length;b++)o[w0[b]].cancel(y)},state:s,steps:o}}const{schedule:cn,cancel:pc,state:qa,steps:Xv}=HT(typeof requestAnimationFrame<"u"?requestAnimationFrame:us,!0),KT=(e,r,n)=>(((1-3*n+3*r)*e+(3*n-6*r))*e+3*r)*e,tY=1e-7,rY=12;function nY(e,r,n,a,s){let i,o,l=0;do o=r+(n-r)/2,i=KT(o,a,s)-e,i>0?n=o:r=o;while(Math.abs(i)>tY&&++l<rY);return o}function bf(e,r,n,a){if(e===r&&n===a)return us;const s=i=>nY(i,0,1,e,n);return i=>i===0||i===1?i:KT(s(i),r,a)}const qT=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,YT=e=>r=>1-e(1-r),QT=bf(.33,1.53,.69,.99),YN=YT(QT),JT=qT(YN),XT=e=>(e*=2)<1?.5*YN(e):.5*(2-Math.pow(2,-10*(e-1))),QN=e=>1-Math.sin(Math.acos(e)),ZT=YT(QN),eI=qT(QN),tI=e=>/^0[^.\s]+$/u.test(e);function aY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tI(e):!0}const rI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),nI=e=>r=>typeof r=="string"&&r.startsWith(e),aI=nI("--"),sY=nI("var(--"),JN=e=>sY(e)?iY.test(e.split("/*")[0].trim()):!1,iY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lY(e){const r=oY.exec(e);if(!r)return[,];const[,n,a,s]=r;return[`--${n??a}`,s]}function sI(e,r,n=1){const[a,s]=lY(e);if(!a)return;const i=window.getComputedStyle(r).getPropertyValue(a);if(i){const o=i.trim();return rI(o)?parseFloat(o):o}return JN(s)?sI(s,r,n+1):s}const pl=(e,r,n)=>n>r?r:n<e?e:n,Gm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kp={...Gm,transform:e=>pl(0,1,e)},j0={...Gm,default:1},wf=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),Al=wf("deg"),Ao=wf("%"),nr=wf("px"),cY=wf("vh"),dY=wf("vw"),yC={...Ao,parse:e=>Ao.parse(e)/100,transform:e=>Ao.transform(e*100)},uY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vC=e=>e===Gm||e===nr,bC=(e,r)=>parseFloat(e.split(", ")[r]),wC=(e,r)=>(n,{transform:a})=>{if(a==="none"||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/u);if(s)return bC(s[1],r);{const i=a.match(/^matrix\((.+)\)$/u);return i?bC(i[1],e):0}},mY=new Set(["x","y","z"]),hY=vf.filter(e=>!mY.has(e));function pY(e){const r=[];return hY.forEach(n=>{const a=e.getValue(n);a!==void 0&&(r.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),r}const fm={width:({x:e},{paddingLeft:r="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),height:({y:e},{paddingTop:r="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(r)-parseFloat(n),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:wC(4,13),y:wC(5,14)};fm.translateX=fm.x;fm.translateY=fm.y;const iI=e=>r=>r.test(e),fY={test:e=>e==="auto",parse:e=>e},oI=[Gm,nr,Ao,Al,dY,cY,fY],jC=e=>oI.find(iI(e)),dd=new Set;let y1=!1,v1=!1;function lI(){if(v1){const e=Array.from(dd).filter(a=>a.needsMeasurement),r=new Set(e.map(a=>a.element)),n=new Map;r.forEach(a=>{const s=pY(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),r.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}v1=!1,y1=!1,dd.forEach(e=>e.complete()),dd.clear()}function cI(){dd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(v1=!0)})}function gY(){cI(),lI()}class XN{constructor(r,n,a,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...r],this.onComplete=n,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dd.add(this),y1||(y1=!0,cn.read(cI),cn.resolveKeyframes(lI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:n,element:a,motionValue:s}=this;for(let i=0;i<r.length;i++)if(r[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=r[r.length-1];if(o!==void 0)r[0]=o;else if(a&&n){const c=a.readValue(n,l);c!=null&&(r[0]=c)}r[0]===void 0&&(r[0]=l),s&&o===void 0&&s.set(r[0])}else r[i]=r[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hh=e=>Math.round(e*1e5)/1e5,ZN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xY(e){return e==null}const yY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e2=(e,r)=>n=>!!(typeof n=="string"&&yY.test(n)&&n.startsWith(e)||r&&!xY(n)&&Object.prototype.hasOwnProperty.call(n,r)),dI=(e,r,n)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(ZN);return{[e]:parseFloat(s),[r]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},vY=e=>pl(0,255,e),Zv={...Gm,transform:e=>Math.round(vY(e))},Xc={test:e2("rgb","red"),parse:dI("red","green","blue"),transform:({red:e,green:r,blue:n,alpha:a=1})=>"rgba("+Zv.transform(e)+", "+Zv.transform(r)+", "+Zv.transform(n)+", "+Hh(kp.transform(a))+")"};function bY(e){let r="",n="",a="",s="";return e.length>5?(r=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(r=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),r+=r,n+=n,a+=a,s+=s),{red:parseInt(r,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const b1={test:e2("#"),parse:bY,transform:Xc.transform},wu={test:e2("hsl","hue"),parse:dI("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+Ao.transform(Hh(r))+", "+Ao.transform(Hh(n))+", "+Hh(kp.transform(a))+")"},is={test:e=>Xc.test(e)||b1.test(e)||wu.test(e),parse:e=>Xc.test(e)?Xc.parse(e):wu.test(e)?wu.parse(e):b1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xc.transform(e):wu.transform(e)},wY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jY(e){var r,n;return isNaN(e)&&typeof e=="string"&&(((r=e.match(ZN))===null||r===void 0?void 0:r.length)||0)+(((n=e.match(wY))===null||n===void 0?void 0:n.length)||0)>0}const uI="number",mI="color",NY="var",kY="var(",NC="${}",SY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sp(e){const r=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=r.replace(SY,c=>(is.test(c)?(a.color.push(i),s.push(mI),n.push(is.parse(c))):c.startsWith(kY)?(a.var.push(i),s.push(NY),n.push(c)):(a.number.push(i),s.push(uI),n.push(parseFloat(c))),++i,NC)).split(NC);return{values:n,split:l,indexes:a,types:s}}function hI(e){return Sp(e).values}function pI(e){const{split:r,types:n}=Sp(e),a=r.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=r[o],s[o]!==void 0){const l=n[o];l===uI?i+=Hh(s[o]):l===mI?i+=is.transform(s[o]):i+=s[o]}return i}}const CY=e=>typeof e=="number"?0:e;function EY(e){const r=hI(e);return pI(e)(r.map(CY))}const fc={test:jY,parse:hI,createTransformer:pI,getAnimatableNone:EY},PY=new Set(["brightness","contrast","saturate","opacity"]);function AY(e){const[r,n]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[a]=n.match(ZN)||[];if(!a)return e;const s=n.replace(a,"");let i=PY.has(r)?1:0;return a!==n&&(i*=100),r+"("+i+s+")"}const MY=/\b([a-z-]*)\(.*?\)/gu,w1={...fc,getAnimatableNone:e=>{const r=e.match(MY);return r?r.map(AY).join(" "):e}},TY={borderWidth:nr,borderTopWidth:nr,borderRightWidth:nr,borderBottomWidth:nr,borderLeftWidth:nr,borderRadius:nr,radius:nr,borderTopLeftRadius:nr,borderTopRightRadius:nr,borderBottomRightRadius:nr,borderBottomLeftRadius:nr,width:nr,maxWidth:nr,height:nr,maxHeight:nr,top:nr,right:nr,bottom:nr,left:nr,padding:nr,paddingTop:nr,paddingRight:nr,paddingBottom:nr,paddingLeft:nr,margin:nr,marginTop:nr,marginRight:nr,marginBottom:nr,marginLeft:nr,backgroundPositionX:nr,backgroundPositionY:nr},IY={rotate:Al,rotateX:Al,rotateY:Al,rotateZ:Al,scale:j0,scaleX:j0,scaleY:j0,scaleZ:j0,skew:Al,skewX:Al,skewY:Al,distance:nr,translateX:nr,translateY:nr,translateZ:nr,x:nr,y:nr,z:nr,perspective:nr,transformPerspective:nr,opacity:kp,originX:yC,originY:yC,originZ:nr},kC={...Gm,transform:Math.round},t2={...TY,...IY,zIndex:kC,size:nr,fillOpacity:kp,strokeOpacity:kp,numOctaves:kC},_Y={...t2,color:is,backgroundColor:is,outlineColor:is,fill:is,stroke:is,borderColor:is,borderTopColor:is,borderRightColor:is,borderBottomColor:is,borderLeftColor:is,filter:w1,WebkitFilter:w1},r2=e=>_Y[e];function fI(e,r){let n=r2(e);return n!==w1&&(n=fc),n.getAnimatableNone?n.getAnimatableNone(r):void 0}const DY=new Set(["auto","none","0"]);function RY(e,r,n){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!DY.has(i)&&Sp(i).values.length&&(s=e[a]),a++}if(s&&n)for(const i of r)e[i]=fI(n,s)}class gI extends XN{constructor(r,n,a,s,i){super(r,n,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<r.length;c++){let d=r[c];if(typeof d=="string"&&(d=d.trim(),JN(d))){const m=sI(d,n.current);m!==void 0&&(r[c]=m),c===r.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uY.has(a)||r.length!==2)return;const[s,i]=r,o=jC(s),l=jC(i);if(o!==l)if(vC(o)&&vC(l))for(let c=0;c<r.length;c++){const d=r[c];typeof d=="string"&&(r[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:n}=this,a=[];for(let s=0;s<r.length;s++)aY(r[s])&&a.push(s);a.length&&RY(r,a,n)}measureInitialState(){const{element:r,unresolvedKeyframes:n,name:a}=this;if(!r||!r.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fm[a](r.measureViewportBox(),window.getComputedStyle(r.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&r.getValue(a,s).jump(s,!1)}measureEndState(){var r;const{element:n,name:a,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(a);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=fm[a](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((r=this.removedTransforms)===null||r===void 0)&&r.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function n2(e){return typeof e=="function"}let sg;function OY(){sg=void 0}const Mo={now:()=>(sg===void 0&&Mo.set(qa.isProcessing||Jq.useManualTiming?qa.timestamp:performance.now()),sg),set:e=>{sg=e,queueMicrotask(OY)}},SC=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fc.test(e)||e==="0")&&!e.startsWith("url("));function LY(e){const r=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}function $Y(e,r,n,a){const s=e[0];if(s===null)return!1;if(r==="display"||r==="visibility")return!0;const i=e[e.length-1],o=SC(s,r),l=SC(i,r);return!o||!l?!1:LY(e)||(n==="spring"||n2(n))&&a}const FY=40;class xI{constructor({autoplay:r=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mo.now(),this.options={autoplay:r,delay:n,type:a,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>FY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gY(),this._resolved}onKeyframesResolved(r,n){this.resolvedAt=Mo.now(),this.hasAttemptedResolve=!0;const{name:a,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!$Y(r,a,s,i))if(o)this.options.duration=0;else{c==null||c(my(r,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const m=this.initPlayback(r,n);m!==!1&&(this._resolved={keyframes:r,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(r,n){return this.currentFinishedPromise.then(r,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(r=>{this.resolveFinishedPromise=r})}}const gm=(e,r,n)=>{const a=r-e;return a===0?1:(n-e)/a},yI=(e,r,n=10)=>{let a="";const s=Math.max(Math.round(r/n),2);for(let i=0;i<s;i++)a+=e(gm(0,s-1,i))+", ";return`linear(${a.substring(0,a.length-2)})`};function vI(e,r){return r?e*(1e3/r):0}const UY=5;function bI(e,r,n){const a=Math.max(r-UY,0);return vI(n-e(a),r-a)}const Jn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eb=.001;function BY({duration:e=Jn.duration,bounce:r=Jn.bounce,velocity:n=Jn.velocity,mass:a=Jn.mass}){let s,i,o=1-r;o=pl(Jn.minDamping,Jn.maxDamping,o),e=pl(Jn.minDuration,Jn.maxDuration,ol(e)),o<1?(s=d=>{const m=d*o,h=m*e,p=m-n,f=j1(d,o),x=Math.exp(-h);return eb-p/f*x},i=d=>{const h=d*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-h),g=j1(Math.pow(d,2),o);return(-s(d)+eb>0?-1:1)*((p-f)*x)/g}):(s=d=>{const m=Math.exp(-d*e),h=(d-n)*e+1;return-eb+m*h},i=d=>{const m=Math.exp(-d*e),h=(n-d)*(e*e);return m*h});const l=5/e,c=VY(s,i,l);if(e=il(e),isNaN(c))return{stiffness:Jn.stiffness,damping:Jn.damping,duration:e};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:e}}}const GY=12;function VY(e,r,n){let a=n;for(let s=1;s<GY;s++)a=a-e(a)/r(a);return a}function j1(e,r){return e*Math.sqrt(1-r*r)}const N1=2e4;function wI(e){let r=0;const n=50;let a=e.next(r);for(;!a.done&&r<N1;)r+=n,a=e.next(r);return r>=N1?1/0:r}const zY=["duration","bounce"],WY=["stiffness","damping","mass"];function CC(e,r){return r.some(n=>e[n]!==void 0)}function HY(e){let r={velocity:Jn.velocity,stiffness:Jn.stiffness,damping:Jn.damping,mass:Jn.mass,isResolvedFromDuration:!1,...e};if(!CC(e,WY)&&CC(e,zY))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,i=2*pl(.05,1,1-e.bounce)*Math.sqrt(s);r={...r,mass:Jn.mass,stiffness:s,damping:i}}else{const n=BY(e);r={...r,...n,mass:Jn.mass},r.isResolvedFromDuration=!0}return r}function jI(e=Jn.visualDuration,r=Jn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:a,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:m,duration:h,velocity:p,isResolvedFromDuration:f}=HY({...n,velocity:-ol(n.velocity||0)}),x=p||0,g=d/(2*Math.sqrt(c*m)),v=o-i,y=ol(Math.sqrt(c/m)),b=Math.abs(v)<5;a||(a=b?Jn.restSpeed.granular:Jn.restSpeed.default),s||(s=b?Jn.restDelta.granular:Jn.restDelta.default);let w;if(g<1){const N=j1(y,g);w=P=>{const C=Math.exp(-g*y*P);return o-C*((x+g*y*v)/N*Math.sin(N*P)+v*Math.cos(N*P))}}else if(g===1)w=N=>o-Math.exp(-y*N)*(v+(x+y*v)*N);else{const N=y*Math.sqrt(g*g-1);w=P=>{const C=Math.exp(-g*y*P),I=Math.min(N*P,300);return o-C*((x+g*y*v)*Math.sinh(I)+N*v*Math.cosh(I))/N}}const S={calculatedDuration:f&&h||null,next:N=>{const P=w(N);if(f)l.done=N>=h;else{let C=0;g<1&&(C=N===0?il(x):bI(w,N,P));const I=Math.abs(C)<=a,T=Math.abs(o-P)<=s;l.done=I&&T}return l.value=l.done?o:P,l},toString:()=>{const N=Math.min(wI(S),N1),P=yI(C=>S.next(N*C).value,N,30);return N+"ms "+P}};return S}function EC({keyframes:e,velocity:r=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const h=e[0],p={done:!1,value:h},f=I=>l!==void 0&&I<l||c!==void 0&&I>c,x=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let g=n*r;const v=h+g,y=o===void 0?v:o(v);y!==v&&(g=y-h);const b=I=>-g*Math.exp(-I/a),w=I=>y+b(I),S=I=>{const T=b(I),_=w(I);p.done=Math.abs(T)<=d,p.value=p.done?y:_};let N,P;const C=I=>{f(p.value)&&(N=I,P=jI({keyframes:[p.value,x(p.value)],velocity:bI(w,I,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:m}))};return C(0),{calculatedDuration:null,next:I=>{let T=!1;return!P&&N===void 0&&(T=!0,S(I),C(I)),N!==void 0&&I>=N?P.next(I-N):(!T&&S(I),p)}}}const KY=bf(.42,0,1,1),qY=bf(0,0,.58,1),NI=bf(.42,0,.58,1),YY=e=>Array.isArray(e)&&typeof e[0]!="number",a2=e=>Array.isArray(e)&&typeof e[0]=="number",PC={linear:us,easeIn:KY,easeInOut:NI,easeOut:qY,circIn:QN,circInOut:eI,circOut:ZT,backIn:YN,backInOut:JT,backOut:QT,anticipate:XT},AC=e=>{if(a2(e)){x1(e.length===4);const[r,n,a,s]=e;return bf(r,n,a,s)}else if(typeof e=="string")return x1(PC[e]!==void 0),PC[e];return e},QY=(e,r)=>n=>r(e(n)),ic=(...e)=>e.reduce(QY),Hn=(e,r,n)=>e+(r-e)*n;function tb(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}function JY({hue:e,saturation:r,lightness:n,alpha:a}){e/=360,r/=100,n/=100;let s=0,i=0,o=0;if(!r)s=i=o=n;else{const l=n<.5?n*(1+r):n+r-n*r,c=2*n-l;s=tb(c,l,e+1/3),i=tb(c,l,e),o=tb(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function Qg(e,r){return n=>n>0?r:e}const rb=(e,r,n)=>{const a=e*e,s=n*(r*r-a)+a;return s<0?0:Math.sqrt(s)},XY=[b1,Xc,wu],ZY=e=>XY.find(r=>r.test(e));function MC(e){const r=ZY(e);if(!r)return!1;let n=r.parse(e);return r===wu&&(n=JY(n)),n}const TC=(e,r)=>{const n=MC(e),a=MC(r);if(!n||!a)return Qg(e,r);const s={...n};return i=>(s.red=rb(n.red,a.red,i),s.green=rb(n.green,a.green,i),s.blue=rb(n.blue,a.blue,i),s.alpha=Hn(n.alpha,a.alpha,i),Xc.transform(s))},k1=new Set(["none","hidden"]);function eQ(e,r){return k1.has(e)?n=>n<=0?e:r:n=>n>=1?r:e}function tQ(e,r){return n=>Hn(e,r,n)}function s2(e){return typeof e=="number"?tQ:typeof e=="string"?JN(e)?Qg:is.test(e)?TC:aQ:Array.isArray(e)?kI:typeof e=="object"?is.test(e)?TC:rQ:Qg}function kI(e,r){const n=[...e],a=n.length,s=e.map((i,o)=>s2(i)(i,r[o]));return i=>{for(let o=0;o<a;o++)n[o]=s[o](i);return n}}function rQ(e,r){const n={...e,...r},a={};for(const s in n)e[s]!==void 0&&r[s]!==void 0&&(a[s]=s2(e[s])(e[s],r[s]));return s=>{for(const i in a)n[i]=a[i](s);return n}}function nQ(e,r){var n;const a=[],s={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const o=r.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;a[i]=c,s[o]++}return a}const aQ=(e,r)=>{const n=fc.createTransformer(r),a=Sp(e),s=Sp(r);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?k1.has(e)&&!s.values.length||k1.has(r)&&!a.values.length?eQ(e,r):ic(kI(nQ(a,s),s.values),n):Qg(e,r)};function SI(e,r,n){return typeof e=="number"&&typeof r=="number"&&typeof n=="number"?Hn(e,r,n):s2(e)(e,r)}function sQ(e,r,n){const a=[],s=n||SI,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(r){const c=Array.isArray(r)?r[o]||us:r;l=ic(c,l)}a.push(l)}return a}function iQ(e,r,{clamp:n=!0,ease:a,mixer:s}={}){const i=e.length;if(x1(i===r.length),i===1)return()=>r[0];if(i===2&&e[0]===e[1])return()=>r[1];e[0]>e[i-1]&&(e=[...e].reverse(),r=[...r].reverse());const o=sQ(r,a,s),l=o.length,c=d=>{let m=0;if(l>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const h=gm(e[m],e[m+1],d);return o[m](h)};return n?d=>c(pl(e[0],e[i-1],d)):c}function oQ(e,r){const n=e[e.length-1];for(let a=1;a<=r;a++){const s=gm(0,r,a);e.push(Hn(n,1,s))}}function lQ(e){const r=[0];return oQ(r,e.length-1),r}function cQ(e,r){return e.map(n=>n*r)}function dQ(e,r){return e.map(()=>r||NI).splice(0,e.length-1)}function Jg({duration:e=300,keyframes:r,times:n,ease:a="easeInOut"}){const s=YY(a)?a.map(AC):AC(a),i={done:!1,value:r[0]},o=cQ(n&&n.length===r.length?n:lQ(r),e),l=iQ(o,r,{ease:Array.isArray(s)?s:dQ(r,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const uQ=e=>{const r=({timestamp:n})=>e(n);return{start:()=>cn.update(r,!0),stop:()=>pc(r),now:()=>qa.isProcessing?qa.timestamp:Mo.now()}},mQ={decay:EC,inertia:EC,tween:Jg,keyframes:Jg,spring:jI},hQ=e=>e/100;class i2 extends xI{constructor(r){super(r),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:a,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||XN,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,a,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(r){const{type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=n2(n)?n:mQ[n]||Jg;let c,d;l!==Jg&&typeof r[0]!="number"&&(c=ic(hQ,SI(r[0],r[1])),r=[0,100]);const m=l({...this.options,keyframes:r});i==="mirror"&&(d=l({...this.options,keyframes:[...r].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=wI(m));const{calculatedDuration:h}=m,p=h+s,f=p*(a+1)-s;return{generator:m,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:f}}onPostResolved(){const{autoplay:r=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!r?this.pause():this.state=this.pendingPlayState}tick(r,n=!1){const{resolved:a}=this;if(!a){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:m,resolvedDuration:h}=a;if(this.startTime===null)return i.next(0);const{delay:p,repeat:f,repeatType:x,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-m/this.speed,this.startTime)),n?this.currentTime=r:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(r-this.startTime)*this.speed;const y=this.currentTime-p*(this.speed>=0?1:-1),b=this.speed>=0?y<0:y>m;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let w=this.currentTime,S=i;if(f){const I=Math.min(this.currentTime,m)/h;let T=Math.floor(I),_=I%1;!_&&I>=1&&(_=1),_===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(x==="reverse"?(_=1-_,g&&(_-=g/h)):x==="mirror"&&(S=o)),w=pl(0,1,_)*h}const N=b?{done:!1,value:c[0]}:S.next(w);l&&(N.value=l(N.value));let{done:P}=N;!b&&d!==null&&(P=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&s!==void 0&&(N.value=my(c,this.options,s)),v&&v(N.value),C&&this.finish(),N}get duration(){const{resolved:r}=this;return r?ol(r.calculatedDuration):0}get time(){return ol(this.currentTime)}set time(r){r=il(r),this.currentTime=r,this.holdTime!==null||this.speed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.speed)}get speed(){return this.playbackSpeed}set speed(r){const n=this.playbackSpeed!==r;this.playbackSpeed=r,n&&(this.time=ol(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:r=uQ,onPlay:n,startTime:a}=this.options;this.driver||(this.driver=r(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var r;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(r=this.currentTime)!==null&&r!==void 0?r:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}}const pQ=new Set(["opacity","clipPath","filter","transform"]);function o2(e){let r;return()=>(r===void 0&&(r=e()),r)}const fQ={linearEasing:void 0};function gQ(e,r){const n=o2(e);return()=>{var a;return(a=fQ[r])!==null&&a!==void 0?a:n()}}const Xg=gQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function CI(e){return!!(typeof e=="function"&&Xg()||!e||typeof e=="string"&&(e in S1||Xg())||a2(e)||Array.isArray(e)&&e.every(CI))}const Ph=([e,r,n,a])=>`cubic-bezier(${e}, ${r}, ${n}, ${a})`,S1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ph([0,.65,.55,1]),circOut:Ph([.55,0,1,.45]),backIn:Ph([.31,.01,.66,-.59]),backOut:Ph([.33,1.53,.69,.99])};function EI(e,r){if(e)return typeof e=="function"&&Xg()?yI(e,r):a2(e)?Ph(e):Array.isArray(e)?e.map(n=>EI(n,r)||S1.easeOut):S1[e]}function xQ(e,r,n,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[r]:n};c&&(d.offset=c);const m=EI(l,s);return Array.isArray(m)&&(d.easing=m),e.animate(d,{delay:a,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function IC(e,r){e.timeline=r,e.onfinish=null}const yQ=o2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Zg=10,vQ=2e4;function bQ(e){return n2(e.type)||e.type==="spring"||!CI(e.ease)}function wQ(e,r){const n=new i2({...r,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const s=[];let i=0;for(;!a.done&&i<vQ;)a=n.sample(i),s.push(a.value),i+=Zg;return{times:void 0,keyframes:s,duration:i-Zg,ease:"linear"}}const PI={anticipate:XT,backInOut:JT,circInOut:eI};function jQ(e){return e in PI}class _C extends xI{constructor(r){super(r);const{name:n,motionValue:a,element:s,keyframes:i}=this.options;this.resolver=new gI(i,(o,l)=>this.onKeyframesResolved(o,l),n,a,s),this.resolver.scheduleResolve()}initPlayback(r,n){var a;let{duration:s=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:m}=this.options;if(!(!((a=c.owner)===null||a===void 0)&&a.current))return!1;if(typeof o=="string"&&Xg()&&jQ(o)&&(o=PI[o]),bQ(this.options)){const{onComplete:p,onUpdate:f,motionValue:x,element:g,...v}=this.options,y=wQ(r,v);r=y.keyframes,r.length===1&&(r[1]=r[0]),s=y.duration,i=y.times,o=y.ease,l="keyframes"}const h=xQ(c.owner.current,d,r,{...this.options,duration:s,times:i,ease:o});return h.startTime=m??this.calcStartTime(),this.pendingTimeline?(IC(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;c.set(my(r,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:l,ease:o,keyframes:r}}get duration(){const{resolved:r}=this;if(!r)return 0;const{duration:n}=r;return ol(n)}get time(){const{resolved:r}=this;if(!r)return 0;const{animation:n}=r;return ol(n.currentTime||0)}set time(r){const{resolved:n}=this;if(!n)return;const{animation:a}=n;a.currentTime=il(r)}get speed(){const{resolved:r}=this;if(!r)return 1;const{animation:n}=r;return n.playbackRate}set speed(r){const{resolved:n}=this;if(!n)return;const{animation:a}=n;a.playbackRate=r}get state(){const{resolved:r}=this;if(!r)return"idle";const{animation:n}=r;return n.playState}get startTime(){const{resolved:r}=this;if(!r)return null;const{animation:n}=r;return n.startTime}attachTimeline(r){if(!this._resolved)this.pendingTimeline=r;else{const{resolved:n}=this;if(!n)return us;const{animation:a}=n;IC(a,r)}return us}play(){if(this.isStopped)return;const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:r}=this;if(!r)return;const{animation:n,keyframes:a,duration:s,type:i,ease:o,times:l}=r;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:m,onComplete:h,element:p,...f}=this.options,x=new i2({...f,keyframes:a,duration:s,type:i,ease:o,times:l,isGenerator:!0}),g=il(this.time);d.setWithVelocity(x.sample(g-Zg).value,x.sample(g).value,Zg)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:r}=this;r&&r.animation.finish()}cancel(){const{resolved:r}=this;r&&r.animation.cancel()}static supports(r){const{motionValue:n,name:a,repeatDelay:s,repeatType:i,damping:o,type:l}=r;return yQ()&&a&&pQ.has(a)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const NQ=o2(()=>window.ScrollTimeline!==void 0);class kQ{constructor(r){this.stop=()=>this.runAll("stop"),this.animations=r.filter(Boolean)}then(r,n){return Promise.all(this.animations).then(r).catch(n)}getAll(r){return this.animations[0][r]}setAll(r,n){for(let a=0;a<this.animations.length;a++)this.animations[a][r]=n}attachTimeline(r,n){const a=this.animations.map(s=>NQ()&&s.attachTimeline?s.attachTimeline(r):n(s));return()=>{a.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(r){this.setAll("time",r)}get speed(){return this.getAll("speed")}set speed(r){this.setAll("speed",r)}get startTime(){return this.getAll("startTime")}get duration(){let r=0;for(let n=0;n<this.animations.length;n++)r=Math.max(r,this.animations[n].duration);return r}runAll(r){this.animations.forEach(n=>n[r]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function SQ({when:e,delay:r,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const l2=(e,r,n,a={},s,i)=>o=>{const l=qN(a,e)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-il(c);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:r.getVelocity(),...l,delay:-d,onUpdate:p=>{r.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:r,element:i?void 0:s};SQ(l)||(m={...m,...Qq(e,m)}),m.duration&&(m.duration=il(m.duration)),m.repeatDelay&&(m.repeatDelay=il(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let h=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(h=!0)),h&&!i&&r.get()!==void 0){const p=my(m.keyframes,l);if(p!==void 0)return cn.update(()=>{m.onUpdate(p),m.onComplete()}),new kQ([])}return!i&&_C.supports(m)?new _C(m):new i2(m)},CQ=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),EQ=e=>g1(e)?e[e.length-1]||0:e;function c2(e,r){e.indexOf(r)===-1&&e.push(r)}function d2(e,r){const n=e.indexOf(r);n>-1&&e.splice(n,1)}class u2{constructor(){this.subscriptions=[]}add(r){return c2(this.subscriptions,r),()=>d2(this.subscriptions,r)}notify(r,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](r,n,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(r,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DC=30,PQ=e=>!isNaN(parseFloat(e));class AQ{constructor(r,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{const i=Mo.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(r),this.owner=n.owner}setCurrent(r){this.current=r,this.updatedAt=Mo.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=PQ(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,n){this.events[r]||(this.events[r]=new u2);const a=this.events[r].add(n);return r==="change"?()=>{a(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,n){this.passiveEffect=r,this.stopPassiveEffect=n}set(r,n=!0){!n||!this.passiveEffect?this.updateAndNotify(r,n):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-a}jump(r,n=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Mo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>DC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DC);return vI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(r){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=r(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cp(e,r){return new AQ(e,r)}function MQ(e,r,n){e.hasValue(r)?e.getValue(r).set(n):e.addValue(r,Cp(n))}function TQ(e,r){const n=uy(e,r);let{transitionEnd:a={},transition:s={},...i}=n||{};i={...i,...a};for(const o in i){const l=EQ(i[o]);MQ(e,o,l)}}const m2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IQ="framerAppearId",AI="data-"+m2(IQ);function MI(e){return e.props[AI]}const cs=e=>!!(e&&e.getVelocity);function _Q(e){return!!(cs(e)&&e.add)}function C1(e,r){const n=e.getValue("willChange");if(_Q(n))return n.add(r)}function DQ({protectedKeys:e,needsAnimating:r},n){const a=e.hasOwnProperty(n)&&r[n]!==!0;return r[n]=!1,a}function TI(e,r,{delay:n=0,transitionOverride:a,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=r;a&&(o=a);const d=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const p=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),f=c[h];if(f===void 0||m&&DQ(m,h))continue;const x={delay:n,...qN(o||{},h)};let g=!1;if(window.MotionHandoffAnimation){const y=MI(e);if(y){const b=window.MotionHandoffAnimation(y,h,cn);b!==null&&(x.startTime=b,g=!0)}}C1(e,h),p.start(l2(h,p,f,e.shouldReduceMotion&&Gd.has(h)?{type:!1}:x,e,g));const v=p.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{cn.update(()=>{l&&TQ(e,l)})}),d}function E1(e,r,n={}){var a;const s=uy(e,r,n.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(TI(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:h,staggerDirection:p}=i;return RQ(e,r,m+d,h,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,m]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function RQ(e,r,n=0,a=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*a,c=s===1?(d=0)=>d*a:(d=0)=>l-d*a;return Array.from(e.variantChildren).sort(OQ).forEach((d,m)=>{d.notify("AnimationStart",r),o.push(E1(d,r,{...i,delay:n+c(m)}).then(()=>d.notify("AnimationComplete",r)))}),Promise.all(o)}function OQ(e,r){return e.sortNodePosition(r)}function LQ(e,r,n={}){e.notify("AnimationStart",r);let a;if(Array.isArray(r)){const s=r.map(i=>E1(e,i,n));a=Promise.all(s)}else if(typeof r=="string")a=E1(e,r,n);else{const s=typeof r=="function"?uy(e,r,n.custom):r;a=Promise.all(TI(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",r)})}const $Q=KN.length;function II(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?II(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const r={};for(let n=0;n<$Q;n++){const a=KN[n],s=e.props[a];(Np(s)||s===!1)&&(r[a]=s)}return r}const FQ=[...HN].reverse(),UQ=HN.length;function BQ(e){return r=>Promise.all(r.map(({animation:n,options:a})=>LQ(e,n,a)))}function GQ(e){let r=BQ(e),n=RC(),a=!0;const s=c=>(d,m)=>{var h;const p=uy(e,m,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:f,transitionEnd:x,...g}=p;d={...d,...g,...x}}return d};function i(c){r=c(e)}function o(c){const{props:d}=e,m=II(e.parent)||{},h=[],p=new Set;let f={},x=1/0;for(let v=0;v<UQ;v++){const y=FQ[v],b=n[y],w=d[y]!==void 0?d[y]:m[y],S=Np(w),N=y===c?b.isActive:null;N===!1&&(x=v);let P=w===m[y]&&w!==d[y]&&S;if(P&&a&&e.manuallyAnimateOnMount&&(P=!1),b.protectedKeys={...f},!b.isActive&&N===null||!w&&!b.prevProp||dy(w)||typeof w=="boolean")continue;const C=VQ(b.prevProp,w);let I=C||y===c&&b.isActive&&!P&&S||v>x&&S,T=!1;const _=Array.isArray(w)?w:[w];let k=_.reduce(s(y),{});N===!1&&(k={});const{prevResolvedValues:A={}}=b,F={...A,...k},V=R=>{I=!0,p.has(R)&&(T=!0,p.delete(R)),b.needsAnimating[R]=!0;const B=e.getValue(R);B&&(B.liveStyle=!1)};for(const R in F){const B=k[R],O=A[R];if(f.hasOwnProperty(R))continue;let X=!1;g1(B)&&g1(O)?X=!WT(B,O):X=B!==O,X?B!=null?V(R):p.add(R):B!==void 0&&p.has(R)?V(R):b.protectedKeys[R]=!0}b.prevProp=w,b.prevResolvedValues=k,b.isActive&&(f={...f,...k}),a&&e.blockInitialAnimation&&(I=!1),I&&(!(P&&C)||T)&&h.push(..._.map(R=>({animation:R,options:{type:y}})))}if(p.size){const v={};p.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),h.push({animation:v})}let g=!!h.length;return a&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),a=!1,g?r(h):Promise.resolve()}function l(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=e.variantChildren)===null||m===void 0||m.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=RC(),a=!0}}}function VQ(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!WT(r,e):!1}function $c(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RC(){return{animate:$c(!0),whileInView:$c(),whileHover:$c(),whileTap:$c(),whileDrag:$c(),whileFocus:$c(),exit:$c()}}class Ac{constructor(r){this.isMounted=!1,this.node=r}update(){}}class zQ extends Ac{constructor(r){super(r),r.animationState||(r.animationState=GQ(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();dy(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:n}=this.node.prevProps||{};r!==n&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)===null||r===void 0||r.call(this)}}let WQ=0;class HQ extends Ac{constructor(){super(...arguments),this.id=WQ++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===a)return;const s=this.node.animationState.setActive("exit",!r);n&&!r&&s.then(()=>n(this.id))}mount(){const{register:r}=this.node.presenceContext||{};r&&(this.unmount=r(this.id))}unmount(){}}const KQ={animation:{Feature:zQ},exit:{Feature:HQ}};function qQ(e,r,n){var a;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(a=void 0)!==null&&a!==void 0?a:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Gi={x:!1,y:!1};function _I(){return Gi.x||Gi.y}function OC(e){return r=>{r.pointerType==="touch"||_I()||e(r)}}function YQ(e,r,n={}){const a=new AbortController,s={passive:!0,...n,signal:a.signal},i=OC(o=>{const{target:l}=o,c=r(o);if(!c||!l)return;const d=OC(m=>{c(m),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return qQ(e).forEach(o=>{o.addEventListener("pointerenter",i,s)}),()=>a.abort()}function QQ(e){return e==="x"||e==="y"?Gi[e]?null:(Gi[e]=!0,()=>{Gi[e]=!1}):Gi.x||Gi.y?null:(Gi.x=Gi.y=!0,()=>{Gi.x=Gi.y=!1})}const DI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function jf(e){return{point:{x:e.pageX,y:e.pageY}}}const JQ=e=>r=>DI(r)&&e(r,jf(r));function rl(e,r,n,a={passive:!0}){return e.addEventListener(r,n,a),()=>e.removeEventListener(r,n)}function oc(e,r,n,a){return rl(e,r,JQ(n),a)}const LC=(e,r)=>Math.abs(e-r);function XQ(e,r){const n=LC(e.x,r.x),a=LC(e.y,r.y);return Math.sqrt(n**2+a**2)}class RI{constructor(r,n,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ab(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=XQ(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:x}=h,{timestamp:g}=qa;this.history.push({...x,timestamp:g});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nb(p,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ab(h.type==="pointercancel"?this.lastMoveEventInfo:nb(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),x&&x(h,v)},!DI(r))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=a,this.contextWindow=s||window;const o=jf(r),l=nb(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=qa;this.history=[{...c,timestamp:d}];const{onSessionStart:m}=n;m&&m(r,ab(l,this.history)),this.removeListeners=ic(oc(this.contextWindow,"pointermove",this.handlePointerMove),oc(this.contextWindow,"pointerup",this.handlePointerUp),oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),pc(this.updatePoint)}}function nb(e,r){return r?{point:r(e.point)}:e}function $C(e,r){return{x:e.x-r.x,y:e.y-r.y}}function ab({point:e},r){return{point:e,delta:$C(e,OI(r)),offset:$C(e,ZQ(r)),velocity:eJ(r,.1)}}function ZQ(e){return e[0]}function OI(e){return e[e.length-1]}function eJ(e,r){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=OI(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>il(r)));)n--;if(!a)return{x:0,y:0};const i=ol(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ju(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const LI=1e-4,tJ=1-LI,rJ=1+LI,$I=.01,nJ=0-$I,aJ=0+$I;function mi(e){return e.max-e.min}function sJ(e,r,n){return Math.abs(e-r)<=n}function FC(e,r,n,a=.5){e.origin=a,e.originPoint=Hn(r.min,r.max,e.origin),e.scale=mi(n)/mi(r),e.translate=Hn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tJ&&e.scale<=rJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=nJ&&e.translate<=aJ||isNaN(e.translate))&&(e.translate=0)}function Kh(e,r,n,a){FC(e.x,r.x,n.x,a?a.originX:void 0),FC(e.y,r.y,n.y,a?a.originY:void 0)}function UC(e,r,n){e.min=n.min+r.min,e.max=e.min+mi(r)}function iJ(e,r,n){UC(e.x,r.x,n.x),UC(e.y,r.y,n.y)}function BC(e,r,n){e.min=r.min-n.min,e.max=e.min+mi(r)}function qh(e,r,n){BC(e.x,r.x,n.x),BC(e.y,r.y,n.y)}function oJ(e,{min:r,max:n},a){return r!==void 0&&e<r?e=a?Hn(r,e,a.min):Math.max(e,r):n!==void 0&&e>n&&(e=a?Hn(n,e,a.max):Math.min(e,n)),e}function GC(e,r,n){return{min:r!==void 0?e.min+r:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lJ(e,{top:r,left:n,bottom:a,right:s}){return{x:GC(e.x,n,s),y:GC(e.y,r,a)}}function VC(e,r){let n=r.min-e.min,a=r.max-e.max;return r.max-r.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function cJ(e,r){return{x:VC(e.x,r.x),y:VC(e.y,r.y)}}function dJ(e,r){let n=.5;const a=mi(e),s=mi(r);return s>a?n=gm(r.min,r.max-a,e.min):a>s&&(n=gm(e.min,e.max-s,r.min)),pl(0,1,n)}function uJ(e,r){const n={};return r.min!==void 0&&(n.min=r.min-e.min),r.max!==void 0&&(n.max=r.max-e.min),n}const P1=.35;function mJ(e=P1){return e===!1?e=0:e===!0&&(e=P1),{x:zC(e,"left","right"),y:zC(e,"top","bottom")}}function zC(e,r,n){return{min:WC(e,r),max:WC(e,n)}}function WC(e,r){return typeof e=="number"?e:e[r]||0}const HC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nu=()=>({x:HC(),y:HC()}),KC=()=>({min:0,max:0}),sa=()=>({x:KC(),y:KC()});function Ni(e){return[e("x"),e("y")]}function FI({top:e,left:r,right:n,bottom:a}){return{x:{min:r,max:n},y:{min:e,max:a}}}function hJ({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function pJ(e,r){if(!r)return e;const n=r({x:e.left,y:e.top}),a=r({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function sb(e){return e===void 0||e===1}function A1({scale:e,scaleX:r,scaleY:n}){return!sb(e)||!sb(r)||!sb(n)}function Gc(e){return A1(e)||UI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function UI(e){return qC(e.x)||qC(e.y)}function qC(e){return e&&e!=="0%"}function ex(e,r,n){const a=e-n,s=r*a;return n+s}function YC(e,r,n,a,s){return s!==void 0&&(e=ex(e,s,a)),ex(e,n,a)+r}function M1(e,r=0,n=1,a,s){e.min=YC(e.min,r,n,a,s),e.max=YC(e.max,r,n,a,s)}function BI(e,{x:r,y:n}){M1(e.x,r.translate,r.scale,r.originPoint),M1(e.y,n.translate,n.scale,n.originPoint)}const QC=.999999999999,JC=1.0000000000001;function fJ(e,r,n,a=!1){const s=n.length;if(!s)return;r.x=r.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Su(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(r.x*=o.x.scale,r.y*=o.y.scale,BI(e,o)),a&&Gc(i.latestValues)&&Su(e,i.latestValues))}r.x<JC&&r.x>QC&&(r.x=1),r.y<JC&&r.y>QC&&(r.y=1)}function ku(e,r){e.min=e.min+r,e.max=e.max+r}function XC(e,r,n,a,s=.5){const i=Hn(e.min,e.max,s);M1(e,r,n,i,a)}function Su(e,r){XC(e.x,r.x,r.scaleX,r.scale,r.originX),XC(e.y,r.y,r.scaleY,r.scale,r.originY)}function GI(e,r){return FI(pJ(e.getBoundingClientRect(),r))}function gJ(e,r,n){const a=GI(e,n),{scroll:s}=r;return s&&(ku(a.x,s.offset.x),ku(a.y,s.offset.y)),a}const VI=({current:e})=>e?e.ownerDocument.defaultView:null,xJ=new WeakMap;class yJ{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sa(),this.visualElement=r}start(r,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jf(m).point)},i=(m,h)=>{const{drag:p,dragPropagation:f,onDragStart:x}=this.getProps();if(p&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QQ(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ni(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ao.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=mi(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),x&&cn.postRender(()=>x(m,h)),C1(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(m,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:x,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=vJ(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(m,h)},l=(m,h)=>this.stop(m,h),c=()=>Ni(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new RI(r,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:VI(this.visualElement)})}stop(r,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&cn.postRender(()=>i(r,n))}cancel(){this.isDragging=!1;const{projection:r,animationState:n}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(r,n,a){const{drag:s}=this.getProps();if(!a||!N0(r,s,this.currentDirection))return;const i=this.getAxisMotionValue(r);let o=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(o=oJ(o,this.constraints[r],this.elastic[r])),i.set(o)}resolveConstraints(){var r;const{dragConstraints:n,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)===null||r===void 0?void 0:r.layout,i=this.constraints;n&&ju(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=lJ(s.layoutBox,n):this.constraints=!1,this.elastic=mJ(a),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ni(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uJ(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:n}=this.getProps();if(!r||!ju(r))return!1;const a=r.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gJ(a,s.root,this.visualElement.getTransformPagePoint());let o=cJ(s.layout.layoutBox,i);if(n){const l=n(hJ(o));this.hasMutatedConstraints=!!l,l&&(o=FI(l))}return o}startAnimation(r){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ni(m=>{if(!N0(m,n,this.currentDirection))return;let h=c&&c[m]||{};o&&(h={min:0,max:0});const p=s?200:1e6,f=s?40:1e7,x={type:"inertia",velocity:a?r[m]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(l)}startAxisValueAnimation(r,n){const a=this.getAxisMotionValue(r);return C1(this.visualElement,r),a.start(l2(r,a,0,n,this.visualElement,!1))}stopAnimation(){Ni(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Ni(r=>{var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(r){var n;return(n=this.getAxisMotionValue(r).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(r){const n=`_drag${r.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){Ni(n=>{const{drag:a}=this.getProps();if(!N0(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(r[n]-Hn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!ju(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ni(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=dJ({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ni(o=>{if(!N0(o,r,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Hn(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;xJ.set(this.visualElement,this);const r=this.visualElement.current,n=oc(r,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();ju(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),cn.read(a);const o=rl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ni(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=c[m].translate,h.set(h.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const r=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=P1,dragMomentum:l=!0}=r;return{...r,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function N0(e,r,n){return(r===!0||r===e)&&(n===null||n===e)}function vJ(e,r=10){let n=null;return Math.abs(e.y)>r?n="y":Math.abs(e.x)>r&&(n="x"),n}class bJ extends Ac{constructor(r){super(r),this.removeGroupControls=us,this.removeListeners=us,this.controls=new yJ(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZC=e=>(r,n)=>{e&&cn.postRender(()=>e(r,n))};class wJ extends Ac{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(r){this.session=new RI(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VI(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:ZC(r),onStart:ZC(n),onMove:a,onEnd:(i,o)=>{delete this.session,s&&cn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=oc(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hy=u.createContext(null);function jJ(){const e=u.useContext(hy);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,s=u.useId();u.useEffect(()=>a(s),[]);const i=u.useCallback(()=>n&&n(s),[s,n]);return!r&&n?[!1,i]:[!0]}const h2=u.createContext({}),zI=u.createContext({}),ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const ch={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(nr.test(e))e=parseFloat(e);else return e;const n=eE(e,r.target.x),a=eE(e,r.target.y);return`${n}% ${a}%`}},NJ={correct:(e,{treeScale:r,projectionDelta:n})=>{const a=e,s=fc.parse(e);if(s.length>5)return a;const i=fc.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;s[0+o]/=l,s[1+o]/=c;const d=Hn(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}},tx={};function kJ(e){Object.assign(tx,e)}const{schedule:p2,cancel:iye}=HT(queueMicrotask,!1);class SJ extends u.Component{componentDidMount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=r;kJ(CJ),i&&(n.group&&n.group.add(i),a&&a.register&&s&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:n,visualElement:a,drag:s,isPresent:i}=this.props,o=a.projection;return o&&(o.isPresent=i,s||r.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?o.promote():o.relegate()||cn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),p2.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=r;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function WI(e){const[r,n]=jJ(),a=u.useContext(h2);return t.jsx(SJ,{...e,layoutGroup:a,switchLayoutGroup:u.useContext(zI),isPresent:r,safeToRemove:n})}const CJ={borderRadius:{...ch,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ch,borderTopRightRadius:ch,borderBottomLeftRadius:ch,borderBottomRightRadius:ch,boxShadow:NJ},HI=["TopLeft","TopRight","BottomLeft","BottomRight"],EJ=HI.length,tE=e=>typeof e=="string"?parseFloat(e):e,rE=e=>typeof e=="number"||nr.test(e);function PJ(e,r,n,a,s,i){s?(e.opacity=Hn(0,n.opacity!==void 0?n.opacity:1,AJ(a)),e.opacityExit=Hn(r.opacity!==void 0?r.opacity:1,0,MJ(a))):i&&(e.opacity=Hn(r.opacity!==void 0?r.opacity:1,n.opacity!==void 0?n.opacity:1,a));for(let o=0;o<EJ;o++){const l=`border${HI[o]}Radius`;let c=nE(r,l),d=nE(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||rE(c)===rE(d)?(e[l]=Math.max(Hn(tE(c),tE(d),a),0),(Ao.test(d)||Ao.test(c))&&(e[l]+="%")):e[l]=d}(r.rotate||n.rotate)&&(e.rotate=Hn(r.rotate||0,n.rotate||0,a))}function nE(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const AJ=KI(0,.5,ZT),MJ=KI(.5,.95,us);function KI(e,r,n){return a=>a<e?0:a>r?1:n(gm(e,r,a))}function aE(e,r){e.min=r.min,e.max=r.max}function yi(e,r){aE(e.x,r.x),aE(e.y,r.y)}function sE(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function iE(e,r,n,a,s){return e-=r,e=ex(e,1/n,a),s!==void 0&&(e=ex(e,1/s,a)),e}function TJ(e,r=0,n=1,a=.5,s,i=e,o=e){if(Ao.test(r)&&(r=parseFloat(r),r=Hn(o.min,o.max,r/100)-o.min),typeof r!="number")return;let l=Hn(i.min,i.max,a);e===i&&(l-=r),e.min=iE(e.min,r,n,l,s),e.max=iE(e.max,r,n,l,s)}function oE(e,r,[n,a,s],i,o){TJ(e,r[n],r[a],r[s],r.scale,i,o)}const IJ=["x","scaleX","originX"],_J=["y","scaleY","originY"];function lE(e,r,n,a){oE(e.x,r,IJ,n?n.x:void 0,a?a.x:void 0),oE(e.y,r,_J,n?n.y:void 0,a?a.y:void 0)}function cE(e){return e.translate===0&&e.scale===1}function qI(e){return cE(e.x)&&cE(e.y)}function dE(e,r){return e.min===r.min&&e.max===r.max}function DJ(e,r){return dE(e.x,r.x)&&dE(e.y,r.y)}function uE(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function YI(e,r){return uE(e.x,r.x)&&uE(e.y,r.y)}function mE(e){return mi(e.x)/mi(e.y)}function hE(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class RJ{constructor(){this.members=[]}add(r){c2(this.members,r),r.scheduleRender()}remove(r){if(d2(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(r){const n=this.members.findIndex(s=>r===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(r,n){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,n&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:s}=r.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:n,resumingFrom:a}=r;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OJ(e,r,n){let a="";const s=e.x.translate/r.x,i=e.y.translate/r.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:h,rotateY:p,skewX:f,skewY:x}=n;d&&(a=`perspective(${d}px) ${a}`),m&&(a+=`rotate(${m}deg) `),h&&(a+=`rotateX(${h}deg) `),p&&(a+=`rotateY(${p}deg) `),f&&(a+=`skewX(${f}deg) `),x&&(a+=`skewY(${x}deg) `)}const l=e.x.scale*r.x,c=e.y.scale*r.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const LJ=(e,r)=>e.depth-r.depth;class $J{constructor(){this.children=[],this.isDirty=!1}add(r){c2(this.children,r),this.isDirty=!0}remove(r){d2(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(LJ),this.isDirty=!1,this.children.forEach(r)}}function og(e){const r=cs(e)?e.get():e;return CQ(r)?r.toValue():r}function FJ(e,r){const n=Mo.now(),a=({timestamp:s})=>{const i=s-n;i>=r&&(pc(a),e(i-r))};return cn.read(a,!0),()=>pc(a)}function UJ(e){return e instanceof SVGElement&&e.tagName!=="svg"}function BJ(e,r,n){const a=cs(e)?e:Cp(e);return a.start(l2("",a,r,n)),a.animation}const Vc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ah=typeof window<"u"&&window.MotionDebug!==void 0,ib=["","X","Y","Z"],GJ={visibility:"hidden"},pE=1e3;let VJ=0;function ob(e,r,n,a){const{latestValues:s}=r;s[e]&&(n[e]=s[e],r.setStaticValue(e,0),a&&(a[e]=0))}function QI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const n=MI(r);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",cn,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&QI(a)}function JI({attachResizeListener:e,defaultParent:r,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=r==null?void 0:r()){this.id=VJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ah&&(Vc.totalNodes=Vc.resolvedTargetDeltas=Vc.recalculatedProjection=0),this.nodes.forEach(HJ),this.nodes.forEach(JJ),this.nodes.forEach(XJ),this.nodes.forEach(KJ),Ah&&window.MotionDebug.record(Vc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $J)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new u2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UJ(o),this.instance=o;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=FJ(p,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(gE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||m.getDefaultTransition()||nX,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=m.getProps(),b=!this.targetLayout||!YI(this.targetLayout,x)||f,w=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const S={...qN(g,"layout"),onPlay:v,onComplete:y};(m.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else p||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fE);return}this.isUpdating||this.nodes.forEach(YJ),this.isUpdating=!1,this.nodes.forEach(QJ),this.nodes.forEach(zJ),this.nodes.forEach(WJ),this.clearAllSnapshots();const l=Mo.now();qa.delta=pl(0,1e3/60,l-qa.timestamp),qa.timestamp=l,qa.isProcessing=!0,Xv.update.process(qa),Xv.preRender.process(qa),Xv.render.process(qa),qa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,p2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qJ),this.sharedNodes.forEach(eX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!qI(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&(l||Gc(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),aX(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return sa();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sX))){const{scroll:m}=this.root;m&&(ku(c.x,m.offset.x),ku(c.y,m.offset.y))}return c}removeElementScroll(o){var l;const c=sa();if(yi(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:h,options:p}=m;m!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&yi(c,o),ku(c.x,h.offset.x),ku(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=sa();yi(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Su(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gc(m.latestValues)&&Su(c,m.latestValues)}return Gc(this.latestValues)&&Su(c,this.latestValues),c}removeTransform(o){const l=sa();yi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Gc(d.latestValues))continue;A1(d.latestValues)&&d.updateSnapshot();const m=sa(),h=d.measurePageBox();yi(m,h),lE(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Gc(this.latestValues)&&lE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=qa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),qh(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=sa(),this.targetWithTransforms=sa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),BI(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sa(),this.relativeTargetOrigin=sa(),qh(this.relativeTargetOrigin,this.target,f.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ah&&Vc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||A1(this.parent.latestValues)||UI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===qa.timestamp&&(d=!1),d)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;yi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;fJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=sa());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sE(this.prevProjectionDelta.x,this.projectionDelta.x),sE(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!hE(this.projectionDelta.x,this.prevProjectionDelta.x)||!hE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ah&&Vc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nu(),this.projectionDelta=Nu(),this.projectionDeltaWithTransform=Nu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},h=Nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=sa(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=f!==x,v=this.getStack(),y=!v||v.members.length<=1,b=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(rX));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const N=S/1e3;xE(h.x,o.x,N),xE(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tX(this.relativeTarget,this.relativeTargetOrigin,p,N),w&&DJ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=sa()),yi(w,this.relativeTarget)),g&&(this.animationValues=m,PJ(m,d,this.latestValues,N,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{ig.hasAnimatedSinceResize=!0,this.currentAnimation=BJ(0,pE,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&XI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||sa();const h=mi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=mi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}yi(l,c),Su(l,m),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RJ),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&ob("z",o,d,this.animationValues);for(let m=0;m<ib.length;m++)ob(`rotate${ib[m]}`,o,d,this.animationValues),ob(`skew${ib[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return GJ;const d={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=og(o==null?void 0:o.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=og(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Gc(this.latestValues)&&(g.transform=m?m({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=OJ(this.projectionDeltaWithTransform,this.treeScale,p),m&&(d.transform=m(p,d.transform));const{x:f,y:x}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in tx){if(p[g]===void 0)continue;const{correct:v,applyTo:y}=tx[g],b=d.transform==="none"?p[g]:v(p[g],h);if(y){const w=y.length;for(let S=0;S<w;S++)d[y[S]]=b}else d[g]=b}return this.options.layoutId&&(d.pointerEvents=h===this?og(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fE),this.root.sharedNodes.clear()}}}function zJ(e){e.updateLayout()}function WJ(e){var r;const n=((r=e.resumeFrom)===null||r===void 0?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ni(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=mi(p);p.min=a[h].min,p.max=p.min+f}):XI(i,n.layoutBox,a)&&Ni(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],f=mi(a[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Nu();Kh(l,a,n.layoutBox);const c=Nu();o?Kh(c,e.applyTransform(s,!0),n.measuredBox):Kh(c,a,n.layoutBox);const d=!qI(l);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const x=sa();qh(x,n.layoutBox,p.layoutBox);const g=sa();qh(g,a,f.layoutBox),YI(x,g)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function HJ(e){Ah&&Vc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qJ(e){e.clearSnapshot()}function fE(e){e.clearMeasurements()}function YJ(e){e.isLayoutDirty=!1}function QJ(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function gE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JJ(e){e.resolveTargetDelta()}function XJ(e){e.calcProjection()}function ZJ(e){e.resetSkewAndRotation()}function eX(e){e.removeLeadSnapshot()}function xE(e,r,n){e.translate=Hn(r.translate,0,n),e.scale=Hn(r.scale,1,n),e.origin=r.origin,e.originPoint=r.originPoint}function yE(e,r,n,a){e.min=Hn(r.min,n.min,a),e.max=Hn(r.max,n.max,a)}function tX(e,r,n,a){yE(e.x,r.x,n.x,a),yE(e.y,r.y,n.y,a)}function rX(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nX={duration:.45,ease:[.4,0,.1,1]},vE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bE=vE("applewebkit/")&&!vE("chrome/")?Math.round:us;function wE(e){e.min=bE(e.min),e.max=bE(e.max)}function aX(e){wE(e.x),wE(e.y)}function XI(e,r,n){return e==="position"||e==="preserve-aspect"&&!sJ(mE(r),mE(n),.2)}function sX(e){var r;return e!==e.root&&((r=e.scroll)===null||r===void 0?void 0:r.wasRoot)}const iX=JI({attachResizeListener:(e,r)=>rl(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lb={current:void 0},ZI=JI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lb.current){const e=new iX({});e.mount(window),e.setOptions({layoutScroll:!0}),lb.current=e}return lb.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oX={pan:{Feature:wJ},drag:{Feature:bJ,ProjectionNode:ZI,MeasureLayout:WI}};function jE(e,r,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n);const s=a[n?"onHoverStart":"onHoverEnd"];s&&cn.postRender(()=>s(r,jf(r)))}class lX extends Ac{mount(){const{current:r,props:n}=this.node;r&&(this.unmount=YQ(r,a=>(jE(this.node,a,!0),s=>jE(this.node,s,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class cX extends Ac{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const e_=(e,r)=>r?e===r?!0:e_(e,r.parentElement):!1;function cb(e,r){if(!r)return;const n=new PointerEvent("pointer"+e);r(n,jf(n))}class dX extends Ac{constructor(){super(...arguments),this.removeStartListeners=us,this.removeEndListeners=us,this.removeAccessibleListeners=us,this.startPointerPress=(r,n)=>{if(this.isPressing)return;this.removeEndListeners();const a=this.node.getProps(),i=oc(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:m,globalTapTarget:h}=this.node.getProps(),p=!h&&!e_(this.node.current,l.target)?m:d;p&&cn.update(()=>p(l,c))},{passive:!(a.onTap||a.onPointerUp)}),o=oc(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(a.onTapCancel||a.onPointerCancel)});this.removeEndListeners=ic(i,o),this.startPress(r,n)},this.startAccessiblePress=()=>{const r=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||cb("up",(c,d)=>{const{onTap:m}=this.node.getProps();m&&cn.postRender(()=>m(c,d))})};this.removeEndListeners(),this.removeEndListeners=rl(this.node.current,"keyup",o),cb("down",(l,c)=>{this.startPress(l,c)})},n=rl(this.node.current,"keydown",r),a=()=>{this.isPressing&&cb("cancel",(i,o)=>this.cancelPress(i,o))},s=rl(this.node.current,"blur",a);this.removeAccessibleListeners=ic(n,s)}}startPress(r,n){this.isPressing=!0;const{onTapStart:a,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),a&&cn.postRender(()=>a(r,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_I()}cancelPress(r,n){if(!this.checkPressEnd())return;const{onTapCancel:a}=this.node.getProps();a&&cn.postRender(()=>a(r,n))}mount(){const r=this.node.getProps(),n=oc(r.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(r.onTapStart||r.onPointerStart)}),a=rl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ic(n,a)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const T1=new WeakMap,db=new WeakMap,uX=e=>{const r=T1.get(e.target);r&&r(e)},mX=e=>{e.forEach(uX)};function hX({root:e,...r}){const n=e||document;db.has(n)||db.set(n,{});const a=db.get(n),s=JSON.stringify(r);return a[s]||(a[s]=new IntersectionObserver(mX,{root:e,...r})),a[s]}function pX(e,r,n){const a=hX(r);return T1.set(e,n),a.observe(e),()=>{T1.delete(e),a.unobserve(e)}}const fX={some:0,all:1};class gX extends Ac{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:i}=r,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:fX[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),p=d?m:h;p&&p(c)};return pX(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:n}=this.node;["amount","margin","root"].some(xX(r,n))&&this.startObserver()}unmount(){}}function xX({viewport:e={}},{viewport:r={}}={}){return n=>e[n]!==r[n]}const yX={inView:{Feature:gX},tap:{Feature:dX},focus:{Feature:cX},hover:{Feature:lX}},vX={layout:{ProjectionNode:ZI,MeasureLayout:WI}},f2=u.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),py=u.createContext({}),g2=typeof window<"u",t_=g2?u.useLayoutEffect:u.useEffect,r_=u.createContext({strict:!1});function bX(e,r,n,a,s){var i,o;const{visualElement:l}=u.useContext(py),c=u.useContext(r_),d=u.useContext(hy),m=u.useContext(f2).reducedMotion,h=u.useRef();a=a||c.renderer,!h.current&&a&&(h.current=a(e,{visualState:r,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const p=h.current,f=u.useContext(zI);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&wX(h.current,n,s,f);const x=u.useRef(!1);u.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const g=n[AI],v=u.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return t_(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p2.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),u.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),v.current=!1))}),p}function wX(e,r,n,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=r;e.projection=new n(e.latestValues,r["data-framer-portal-id"]?void 0:n_(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ju(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,layoutScroll:c,layoutRoot:d})}function n_(e){if(e)return e.options.allowProjection!==!1?e.projection:n_(e.parent)}function jX(e,r,n){return u.useCallback(a=>{a&&e.mount&&e.mount(a),r&&(a?r.mount(a):r.unmount()),n&&(typeof n=="function"?n(a):ju(n)&&(n.current=a))},[r])}function fy(e){return dy(e.animate)||KN.some(r=>Np(e[r]))}function a_(e){return!!(fy(e)||e.variants)}function NX(e,r){if(fy(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Np(n)?n:void 0,animate:Np(a)?a:void 0}}return e.inherit!==!1?r:{}}function kX(e){const{initial:r,animate:n}=NX(e,u.useContext(py));return u.useMemo(()=>({initial:r,animate:n}),[NE(r),NE(n)])}function NE(e){return Array.isArray(e)?e.join(" "):e}const kE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xm={};for(const e in kE)xm[e]={isEnabled:r=>kE[e].some(n=>!!r[n])};function SX(e){for(const r in e)xm[r]={...xm[r],...e[r]}}const CX=Symbol.for("motionComponentSymbol");function EX({preloadedFeatures:e,createVisualElement:r,useRender:n,useVisualState:a,Component:s}){e&&SX(e);function i(l,c){let d;const m={...u.useContext(f2),...l,layoutId:PX(l)},{isStatic:h}=m,p=kX(l),f=a(l,h);if(!h&&g2){AX();const x=MX(m);d=x.MeasureLayout,p.visualElement=bX(s,f,m,r,x.ProjectionNode)}return t.jsxs(py.Provider,{value:p,children:[d&&p.visualElement?t.jsx(d,{visualElement:p.visualElement,...m}):null,n(s,l,jX(f,p.visualElement,c),f,h,p.visualElement)]})}const o=u.forwardRef(i);return o[CX]=s,o}function PX({layoutId:e}){const r=u.useContext(h2).id;return r&&e!==void 0?r+"-"+e:e}function AX(e,r){u.useContext(r_).strict}function MX(e){const{drag:r,layout:n}=xm;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const TX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x2(e){return typeof e!="string"||e.includes("-")?!1:!!(TX.indexOf(e)>-1||/[A-Z]/u.test(e))}function s_(e,{style:r,vars:n},a,s){Object.assign(e.style,r,s&&s.getProjectionStyles(a));for(const i in n)e.style.setProperty(i,n[i])}const i_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o_(e,r,n,a){s_(e,r,void 0,a);for(const s in r.attrs)e.setAttribute(i_.has(s)?s:m2(s),r.attrs[s])}function l_(e,{layout:r,layoutId:n}){return Gd.has(e)||e.startsWith("origin")||(r||n!==void 0)&&(!!tx[e]||e==="opacity")}function y2(e,r,n){var a;const{style:s}=e,i={};for(const o in s)(cs(s[o])||r.style&&cs(r.style[o])||l_(o,e)||((a=n==null?void 0:n.getValue(o))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function c_(e,r,n){const a=y2(e,r,n);for(const s in e)if(cs(e[s])||cs(r[s])){const i=vf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}function v2(e){const r=u.useRef(null);return r.current===null&&(r.current=e()),r.current}function IX({scrapeMotionValuesFromProps:e,createRenderState:r,onMount:n},a,s,i){const o={latestValues:_X(a,s,i,e),renderState:r()};return n&&(o.mount=l=>n(a,l,o)),o}const d_=e=>(r,n)=>{const a=u.useContext(py),s=u.useContext(hy),i=()=>IX(e,r,a,s);return n?i():v2(i)};function _X(e,r,n,a){const s={},i=a(e,{});for(const p in i)s[p]=og(i[p]);let{initial:o,animate:l}=e;const c=fy(e),d=a_(e);r&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=r.initial),l===void 0&&(l=r.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const h=m?l:o;if(h&&typeof h!="boolean"&&!dy(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const x=WN(e,p[f]);if(x){const{transitionEnd:g,transition:v,...y}=x;for(const b in y){let w=y[b];if(Array.isArray(w)){const S=m?w.length-1:0;w=w[S]}w!==null&&(s[b]=w)}for(const b in g)s[b]=g[b]}}}return s}const b2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),u_=()=>({...b2(),attrs:{}}),m_=(e,r)=>r&&typeof e=="number"?r.transform(e):e,DX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RX=vf.length;function OX(e,r,n){let a="",s=!0;for(let i=0;i<RX;i++){const o=vf[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=m_(l,t2[o]);if(!c){s=!1;const m=DX[o]||o;a+=`${m}(${d}) `}n&&(r[o]=d)}}return a=a.trim(),n?a=n(r,s?"":a):s&&(a="none"),a}function w2(e,r,n){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in r){const d=r[c];if(Gd.has(c)){o=!0;continue}else if(aI(c)){s[c]=d;continue}else{const m=m_(d,t2[c]);c.startsWith("origin")?(l=!0,i[c]=m):a[c]=m}}if(r.transform||(o||n?a.transform=OX(r,e.transform,n):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:m=0}=i;a.transformOrigin=`${c} ${d} ${m}`}}function SE(e,r,n){return typeof e=="string"?e:nr.transform(r+n*e)}function LX(e,r,n){const a=SE(r,e.x,e.width),s=SE(n,e.y,e.height);return`${a} ${s}`}const $X={offset:"stroke-dashoffset",array:"stroke-dasharray"},FX={offset:"strokeDashoffset",array:"strokeDasharray"};function UX(e,r,n=1,a=0,s=!0){e.pathLength=1;const i=s?$X:FX;e[i.offset]=nr.transform(-a);const o=nr.transform(r),l=nr.transform(n);e[i.array]=`${o} ${l}`}function j2(e,{attrX:r,attrY:n,attrScale:a,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},m,h){if(w2(e,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:x}=e;p.transform&&(x&&(f.transform=p.transform),delete p.transform),x&&(s!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=LX(x,s!==void 0?s:.5,i!==void 0?i:.5)),r!==void 0&&(p.x=r),n!==void 0&&(p.y=n),a!==void 0&&(p.scale=a),o!==void 0&&UX(p,o,l,c,!1)}const N2=e=>typeof e=="string"&&e.toLowerCase()==="svg",BX={useVisualState:d_({scrapeMotionValuesFromProps:c_,createRenderState:u_,onMount:(e,r,{renderState:n,latestValues:a})=>{cn.read(()=>{try{n.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),cn.render(()=>{j2(n,a,N2(r.tagName),e.transformTemplate),o_(r,n)})}})},GX={useVisualState:d_({scrapeMotionValuesFromProps:y2,createRenderState:b2})};function h_(e,r,n){for(const a in r)!cs(r[a])&&!l_(a,n)&&(e[a]=r[a])}function VX({transformTemplate:e},r){return u.useMemo(()=>{const n=b2();return w2(n,r,e),Object.assign({},n.vars,n.style)},[r])}function zX(e,r){const n=e.style||{},a={};return h_(a,n,e),Object.assign(a,VX(e,r)),a}function WX(e,r){const n={},a=zX(e,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const HX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HX.has(e)}let p_=e=>!rx(e);function KX(e){e&&(p_=r=>r.startsWith("on")?!rx(r):e(r))}try{KX(require("@emotion/is-prop-valid").default)}catch{}function qX(e,r,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(p_(s)||n===!0&&rx(s)||!r&&!rx(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function YX(e,r,n,a){const s=u.useMemo(()=>{const i=u_();return j2(i,r,N2(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[r]);if(e.style){const i={};h_(i,e.style,e),s.style={...i,...s.style}}return s}function QX(e=!1){return(n,a,s,{latestValues:i},o)=>{const c=(x2(n)?YX:WX)(a,i,o,n),d=qX(a,typeof n=="string",e),m=n!==u.Fragment?{...d,...c,ref:s}:{},{children:h}=a,p=u.useMemo(()=>cs(h)?h.get():h,[h]);return u.createElement(n,{...m,children:p})}}function JX(e,r){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...x2(a)?BX:GX,preloadedFeatures:e,useRender:QX(s),createVisualElement:r,Component:a};return EX(o)}}const I1={current:null},f_={current:!1};function XX(){if(f_.current=!0,!!g2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>I1.current=e.matches;e.addListener(r),r()}else I1.current=!1}function ZX(e,r,n){for(const a in r){const s=r[a],i=n[a];if(cs(s))e.addValue(a,s);else if(cs(i))e.addValue(a,Cp(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,Cp(o!==void 0?o:s,{owner:e}))}}for(const a in n)r[a]===void 0&&e.removeValue(a);return r}const CE=new WeakMap,eZ=[...oI,is,fc],tZ=e=>eZ.find(iI(e)),EE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rZ{scrapeMotionValuesFromProps(r,n,a){return{}}constructor({parent:r,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=XN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Mo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,cn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=r,this.props=n,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=fy(n),this.isVariantNode=a_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const f=h[p];c[p]!==void 0&&cs(f)&&f.set(c[p],!1)}}mount(r){this.current=r,CE.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),f_.current||XX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CE.delete(this.current),this.projection&&this.projection.unmount(),pc(this.notifyUpdate),pc(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(r,n){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const a=Gd.has(r),s=n.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&cn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,r,n)),this.valueSubscriptions.set(r,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in xm){const n=xm[r];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[r]&&s&&a(this.props)&&(this.features[r]=new s(this)),this.features[r]){const i=this.features[r];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sa()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,n){this.latestValues[r]=n}update(r,n){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<EE.length;a++){const s=EE[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=r[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ZX(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(r),()=>n.variantChildren.delete(r)}addValue(r,n){const a=this.values.get(r);n!==a&&(a&&this.removeValue(r),this.bindToMotionValue(r,n),this.values.set(r,n),this.latestValues[r]=n.get())}removeValue(r){this.values.delete(r);const n=this.valueSubscriptions.get(r);n&&(n(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,n){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&n!==void 0&&(a=Cp(n===null?void 0:n,{owner:this}),this.addValue(r,a)),a}readValue(r,n){var a;let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:(a=this.getBaseTargetFromProps(this.props,r))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(rI(s)||tI(s))?s=parseFloat(s):!tZ(s)&&fc.test(n)&&(s=fI(r,n)),this.setBaseTarget(r,cs(s)?s.get():s)),cs(s)?s.get():s}setBaseTarget(r,n){this.baseTarget[r]=n}getBaseTarget(r){var n;const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const o=WN(this.props,a,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[r])}if(a&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!cs(i)?i:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,n){return this.events[r]||(this.events[r]=new u2),this.events[r].add(n)}notify(r,...n){this.events[r]&&this.events[r].notify(...n)}}class g_ extends rZ{constructor(){super(...arguments),this.KeyframeResolver=gI}sortInstanceNodePosition(r,n){return r.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(r,n){return r.style?r.style[n]:void 0}removeValueFromRenderState(r,{vars:n,style:a}){delete n[r],delete a[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;cs(r)&&(this.childSubscription=r.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nZ(e){return window.getComputedStyle(e)}class aZ extends g_{constructor(){super(...arguments),this.type="html",this.renderInstance=s_}readValueFromInstance(r,n){if(Gd.has(n)){const a=r2(n);return a&&a.default||0}else{const a=nZ(r),s=(aI(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(r,{transformPagePoint:n}){return GI(r,n)}build(r,n,a){w2(r,n,a.transformTemplate)}scrapeMotionValuesFromProps(r,n,a){return y2(r,n,a)}}class sZ extends g_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sa}getBaseTargetFromProps(r,n){return r[n]}readValueFromInstance(r,n){if(Gd.has(n)){const a=r2(n);return a&&a.default||0}return n=i_.has(n)?n:m2(n),r.getAttribute(n)}scrapeMotionValuesFromProps(r,n,a){return c_(r,n,a)}build(r,n,a){j2(r,n,this.isSVGTag,a.transformTemplate)}renderInstance(r,n,a,s){o_(r,n,a,s)}mount(r){this.isSVGTag=N2(r.tagName),super.mount(r)}}const iZ=(e,r)=>x2(e)?new sZ(r):new aZ(r,{allowProjection:e!==u.Fragment}),oZ=JX({...KQ,...yX,...oX,...vX},iZ),E=Wq(oZ);class lZ extends u.Component{getSnapshotBeforeUpdate(r){const n=this.props.childRef.current;if(n&&r.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cZ({children:e,isPresent:r}){const n=u.useId(),a=u.useRef(null),s=u.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=u.useContext(f2);return u.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=s.current;if(r||!a.current||!o||!l)return;a.current.dataset.motionPopId=n;const m=document.createElement("style");return i&&(m.nonce=i),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[r]),t.jsx(lZ,{isPresent:r,childRef:a,sizeRef:s,children:u.cloneElement(e,{ref:a})})}const dZ=({children:e,initial:r,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=v2(uZ),c=u.useId(),d=u.useCallback(h=>{l.set(h,!0);for(const p of l.values())if(!p)return;a&&a()},[l,a]),m=u.useMemo(()=>({id:c,initial:r,isPresent:n,custom:s,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),d]:[n,d]);return u.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),u.useEffect(()=>{!n&&!l.size&&a&&a()},[n]),o==="popLayout"&&(e=t.jsx(cZ,{isPresent:n,children:e})),t.jsx(hy.Provider,{value:m,children:e})};function uZ(){return new Map}const k0=e=>e.key||"";function PE(e){const r=[];return u.Children.forEach(e,n=>{u.isValidElement(n)&&r.push(n)}),r}const Xt=({children:e,exitBeforeEnter:r,custom:n,initial:a=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=u.useMemo(()=>PE(e),[e]),c=l.map(k0),d=u.useRef(!0),m=u.useRef(l),h=v2(()=>new Map),[p,f]=u.useState(l),[x,g]=u.useState(l);t_(()=>{d.current=!1,m.current=l;for(let b=0;b<x.length;b++){const w=k0(x[b]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[x,c.length,c.join("-")]);const v=[];if(l!==p){let b=[...l];for(let w=0;w<x.length;w++){const S=x[w],N=k0(S);c.includes(N)||(b.splice(w,0,S),v.push(S))}o==="wait"&&v.length&&(b=v),g(PE(b)),f(l);return}const{forceRender:y}=u.useContext(h2);return t.jsx(t.Fragment,{children:x.map(b=>{const w=k0(b),S=l===x||c.includes(w),N=()=>{if(h.has(w))h.set(w,!0);else return;let P=!0;h.forEach(C=>{C||(P=!1)}),P&&(y==null||y(),g(m.current),s&&s())};return t.jsx(dZ,{isPresent:S,initial:!d.current||a?void 0:!1,custom:S?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:S?void 0:N,children:b},w)})})};function mZ({currentUser:e,targetUser:r,onComplete:n,duration:a=3e3}){const[s,i]=u.useState(0),[o,l]=u.useState([]);u.useEffect(()=>{const d=Array.from({length:15},(m,h)=>({id:h,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));l(d)},[]),u.useEffect(()=>{const m=[{delay:0,step:0},{delay:800,step:1},{delay:1600,step:2},{delay:2400,step:3}].map(({delay:p,step:f})=>setTimeout(()=>i(f),p)),h=setTimeout(n,a);return()=>{m.forEach(clearTimeout),clearTimeout(h)}},[a,n]);const c=["Establishing connection...",`Connecting you with ${r.fullName}...`,"Preparing your conversation...","Almost ready!"];return t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"grid grid-cols-12 grid-rows-12 h-full w-full",children:Array.from({length:144}).map((d,m)=>t.jsx(E.div,{className:"border border-white/20",animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,delay:m%12*.1}},m))})}),o.map(d=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-white/20 rounded-full",style:{left:`${d.x}%`,top:`${d.y}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1.2,.5]},transition:{duration:4,repeat:1/0,delay:d.delay,ease:"easeInOut"}},d.id))]}),t.jsxs("div",{className:"relative z-10 text-center text-white px-8 max-w-md",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-12",children:[t.jsxs(E.div,{initial:{x:-120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs(E.div,{className:"flex items-center mx-6",initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},transition:{delay:.8,duration:1},children:[t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-white/60 to-pink-300/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0}}),t.jsx(E.div,{className:"mx-3",animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(Yt,{className:"w-6 h-6 text-pink-300 fill-current drop-shadow-lg"})}),t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-pink-300/60 to-white/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.75}})]}),t.jsxs(E.div,{initial:{x:120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:r.photoUrl?t.jsx("img",{src:r.photoUrl,alt:r.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,delay:.5}})]})]}),t.jsx(E.div,{className:"mb-8",animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:t.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30 shadow-xl",children:[t.jsx(hn,{className:"w-12 h-12 text-white drop-shadow-lg"}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/50",animate:{scale:[1,1.4,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0}}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/30",animate:{scale:[1,1.6,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,delay:.3}})]})}),t.jsxs(E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center justify-center gap-3",children:[t.jsx(xn,{className:"w-7 h-7 text-yellow-300 drop-shadow-lg"}),"Great Choice!",t.jsx(xn,{className:"w-7 h-7 text-yellow-300 drop-shadow-lg"})]}),t.jsxs("p",{className:"text-white/95 text-xl leading-relaxed",children:["You're about to start an amazing conversation with"," ",t.jsx("span",{className:"font-semibold text-pink-200 drop-shadow",children:r.fullName})]})]}),t.jsx(Xt,{mode:"wait",children:t.jsxs(E.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.4},className:"flex items-center justify-center gap-3 text-white/90 mb-10",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsx(Ea,{className:"w-5 h-5 drop-shadow"})}),t.jsx("span",{className:"text-lg font-medium",children:c[s]})]},s)}),t.jsx(E.div,{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2},children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-pink-300 via-white to-pink-300 rounded-full shadow-lg",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:a/1e3,ease:"easeInOut"}})})]}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:12}).map((d,m)=>t.jsx(E.div,{className:"absolute",style:{left:`${10+m*8}%`,top:`${15+m%4*25}%`},animate:{y:[0,-40,0],rotate:[0,180,360],opacity:[.2,.6,.2]},transition:{duration:5+m*.5,repeat:1/0,delay:m*.2},children:t.jsx(xn,{className:"w-5 h-5 text-white/40 drop-shadow"})},m))})]})}function hZ({currentUser:e,targetUser:r,onComplete:n,duration:a=3e3}){const[s,i]=u.useState(0),[o,l]=u.useState([]);u.useEffect(()=>{const d=Array.from({length:12},(m,h)=>({id:h,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));l(d)},[]),u.useEffect(()=>{const m=[{delay:0,step:0},{delay:800,step:1},{delay:1600,step:2},{delay:2400,step:3}].map(({delay:p,step:f})=>setTimeout(()=>i(f),p)),h=setTimeout(n,a);return()=>{m.forEach(clearTimeout),clearTimeout(h)}},[a,n]);const c=["Initiating mentorship connection...",`Connecting you with ${r.fullName}...`,"Preparing your mentorship journey...","Ready to grow together!"];return t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #7c3aed 0%, #a855f7 50%, #c084fc 100%)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"grid grid-cols-12 grid-rows-12 h-full w-full",children:Array.from({length:144}).map((d,m)=>t.jsx(E.div,{className:"border border-white/20",animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,delay:m%12*.1}},m))})}),o.map(d=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-white/20 rounded-full",style:{left:`${d.x}%`,top:`${d.y}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1.2,.5]},transition:{duration:4,repeat:1/0,delay:d.delay,ease:"easeInOut"}},d.id))]}),t.jsxs("div",{className:"relative z-10 text-center text-white px-8 max-w-md",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-12",children:[t.jsxs(E.div,{initial:{x:-120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs(E.div,{className:"flex items-center mx-6",initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},transition:{delay:.8,duration:1},children:[t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-white/60 to-purple-300/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0}}),t.jsx(E.div,{className:"mx-3",animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(Qr,{className:"w-6 h-6 text-purple-200 drop-shadow-lg"})}),t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-purple-300/60 to-white/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.75}})]}),t.jsxs(E.div,{initial:{x:120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:r.photoUrl?t.jsx("img",{src:r.photoUrl,alt:r.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,delay:.5}})]})]}),t.jsx(E.div,{className:"mb-8",animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:t.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30 shadow-xl",children:[t.jsx(hn,{className:"w-12 h-12 text-white drop-shadow-lg"}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/50",animate:{scale:[1,1.4,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0}}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/30",animate:{scale:[1,1.6,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,delay:.3}})]})}),t.jsxs(E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center justify-center gap-3",children:[t.jsx(ao,{className:"w-7 h-7 text-purple-200 drop-shadow-lg"}),"Mentorship Match!",t.jsx(bo,{className:"w-7 h-7 text-purple-200 drop-shadow-lg"})]}),t.jsxs("p",{className:"text-white/95 text-xl leading-relaxed",children:["Begin your mentorship journey with"," ",t.jsx("span",{className:"font-semibold text-purple-200 drop-shadow",children:r.fullName})]})]}),t.jsx(Xt,{mode:"wait",children:t.jsxs(E.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.4},className:"flex items-center justify-center gap-3 text-white/90 mb-10",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsx(Nn,{className:"w-5 h-5 drop-shadow"})}),t.jsx("span",{className:"text-lg font-medium",children:c[s]})]},s)}),t.jsx(E.div,{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2},children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-purple-300 via-white to-purple-300 rounded-full shadow-lg",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:a/1e3,ease:"easeInOut"}})})]}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8}).map((d,m)=>t.jsx(E.div,{className:"absolute",style:{left:`${15+m*10}%`,top:`${20+m%3*30}%`},animate:{y:[0,-40,0],rotate:[0,180,360],opacity:[.2,.6,.2]},transition:{duration:5+m*.5,repeat:1/0,delay:m*.3},children:m%2===0?t.jsx(ao,{className:"w-5 h-5 text-white/40 drop-shadow"}):t.jsx(bo,{className:"w-5 h-5 text-white/40 drop-shadow"})},m))})]})}function pZ({currentUser:e,targetUser:r,onComplete:n,duration:a=3e3}){const[s,i]=u.useState(0),[o,l]=u.useState([]);u.useEffect(()=>{const d=Array.from({length:12},(m,h)=>({id:h,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));l(d)},[]),u.useEffect(()=>{const m=[{delay:0,step:0},{delay:800,step:1},{delay:1600,step:2},{delay:2400,step:3}].map(({delay:p,step:f})=>setTimeout(()=>i(f),p)),h=setTimeout(n,a);return()=>{m.forEach(clearTimeout),clearTimeout(h)}},[a,n]);const c=["Building your network connection...",`Connecting you with ${r.fullName}...`,"Expanding your professional circle...","Ready to collaborate!"];return t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #059669 0%, #10b981 50%, #34d399 100%)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"grid grid-cols-12 grid-rows-12 h-full w-full",children:Array.from({length:144}).map((d,m)=>t.jsx(E.div,{className:"border border-white/20",animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,delay:m%12*.1}},m))})}),o.map(d=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-white/20 rounded-full",style:{left:`${d.x}%`,top:`${d.y}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1.2,.5]},transition:{duration:4,repeat:1/0,delay:d.delay,ease:"easeInOut"}},d.id))]}),t.jsxs("div",{className:"relative z-10 text-center text-white px-8 max-w-md",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-12",children:[t.jsxs(E.div,{initial:{x:-120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs(E.div,{className:"flex items-center mx-6",initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},transition:{delay:.8,duration:1},children:[t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-white/60 to-green-300/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0}}),t.jsx(E.div,{className:"mx-3",animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(Eo,{className:"w-6 h-6 text-green-200 drop-shadow-lg"})}),t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-green-300/60 to-white/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.75}})]}),t.jsxs(E.div,{initial:{x:120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:r.photoUrl?t.jsx("img",{src:r.photoUrl,alt:r.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,delay:.5}})]})]}),t.jsx(E.div,{className:"mb-8",animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:t.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30 shadow-xl",children:[t.jsx(hn,{className:"w-12 h-12 text-white drop-shadow-lg"}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/50",animate:{scale:[1,1.4,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0}}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/30",animate:{scale:[1,1.6,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,delay:.3}})]})}),t.jsxs(E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center justify-center gap-3",children:[t.jsx(hm,{className:"w-7 h-7 text-green-200 drop-shadow-lg"}),"Network Connection!",t.jsx($n,{className:"w-7 h-7 text-green-200 drop-shadow-lg"})]}),t.jsxs("p",{className:"text-white/95 text-xl leading-relaxed",children:["Expand your network with"," ",t.jsx("span",{className:"font-semibold text-green-200 drop-shadow",children:r.fullName})]})]}),t.jsx(Xt,{mode:"wait",children:t.jsxs(E.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.4},className:"flex items-center justify-center gap-3 text-white/90 mb-10",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsx(Ea,{className:"w-5 h-5 drop-shadow"})}),t.jsx("span",{className:"text-lg font-medium",children:c[s]})]},s)}),t.jsx(E.div,{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2},children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-green-300 via-white to-green-300 rounded-full shadow-lg",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:a/1e3,ease:"easeInOut"}})})]}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8}).map((d,m)=>t.jsx(E.div,{className:"absolute",style:{left:`${15+m*10}%`,top:`${20+m%3*30}%`},animate:{y:[0,-40,0],rotate:[0,180,360],opacity:[.2,.6,.2]},transition:{duration:5+m*.5,repeat:1/0,delay:m*.3},children:m%2===0?t.jsx(Eo,{className:"w-5 h-5 text-white/40 drop-shadow"}):t.jsx(hm,{className:"w-5 h-5 text-white/40 drop-shadow"})},m))})]})}function fZ({currentUser:e,targetUser:r,onComplete:n,duration:a=3e3}){const[s,i]=u.useState(0),[o,l]=u.useState([]);u.useEffect(()=>{const d=Array.from({length:12},(m,h)=>({id:h,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));l(d)},[]),u.useEffect(()=>{const m=[{delay:0,step:0},{delay:800,step:1},{delay:1600,step:2},{delay:2400,step:3}].map(({delay:p,step:f})=>setTimeout(()=>i(f),p)),h=setTimeout(n,a);return()=>{m.forEach(clearTimeout),clearTimeout(h)}},[a,n]);const c=["Opening professional dialogue...",`Connecting you with ${r.fullName}...`,"Exploring career opportunities...","Ready for business!"];return t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #2563eb 0%, #3b82f6 50%, #60a5fa 100%)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"grid grid-cols-12 grid-rows-12 h-full w-full",children:Array.from({length:144}).map((d,m)=>t.jsx(E.div,{className:"border border-white/20",animate:{opacity:[.1,.3,.1]},transition:{duration:2,repeat:1/0,delay:m%12*.1}},m))})}),o.map(d=>t.jsx(E.div,{className:"absolute w-3 h-3 bg-white/20 rounded-full",style:{left:`${d.x}%`,top:`${d.y}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[.5,1.2,.5]},transition:{duration:4,repeat:1/0,delay:d.delay,ease:"easeInOut"}},d.id))]}),t.jsxs("div",{className:"relative z-10 text-center text-white px-8 max-w-md",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-12",children:[t.jsxs(E.div,{initial:{x:-120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0}})]}),t.jsxs(E.div,{className:"flex items-center mx-6",initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},transition:{delay:.8,duration:1},children:[t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-white/60 to-blue-300/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0}}),t.jsx(E.div,{className:"mx-3",animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(zr,{className:"w-6 h-6 text-blue-200 drop-shadow-lg"})}),t.jsx(E.div,{className:"h-1 bg-gradient-to-r from-blue-300/60 to-white/60 flex-1 rounded",style:{width:"80px"},animate:{opacity:[.6,1,.6],scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.75}})]}),t.jsxs(E.div,{initial:{x:120,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut",delay:.3},className:"relative",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm border-3 border-white/40 flex items-center justify-center overflow-hidden shadow-lg",children:r.photoUrl?t.jsx("img",{src:r.photoUrl,alt:r.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-10 h-10 text-white"})}),t.jsx(E.div,{className:"absolute -inset-2 rounded-full border-2 border-white/30",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,delay:.5}})]})]}),t.jsx(E.div,{className:"mb-8",animate:{scale:[1,1.15,1],rotate:[0,5,-5,0]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:t.jsxs("div",{className:"relative mx-auto w-24 h-24 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border-2 border-white/30 shadow-xl",children:[t.jsx(hn,{className:"w-12 h-12 text-white drop-shadow-lg"}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/50",animate:{scale:[1,1.4,1],opacity:[.8,0,.8]},transition:{duration:2,repeat:1/0}}),t.jsx(E.div,{className:"absolute inset-0 rounded-full border-2 border-white/30",animate:{scale:[1,1.6,1],opacity:[.6,0,.6]},transition:{duration:2,repeat:1/0,delay:.3}})]})}),t.jsxs(E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center justify-center gap-3",children:[t.jsx(Nn,{className:"w-7 h-7 text-blue-200 drop-shadow-lg"}),"Career Connection!",t.jsx(ni,{className:"w-7 h-7 text-blue-200 drop-shadow-lg"})]}),t.jsxs("p",{className:"text-white/95 text-xl leading-relaxed",children:["Explore opportunities with"," ",t.jsx("span",{className:"font-semibold text-blue-200 drop-shadow",children:r.fullName})]})]}),t.jsx(Xt,{mode:"wait",children:t.jsxs(E.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.4},className:"flex items-center justify-center gap-3 text-white/90 mb-10",children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsx(vp,{className:"w-5 h-5 drop-shadow"})}),t.jsx("span",{className:"text-lg font-medium",children:c[s]})]},s)}),t.jsx(E.div,{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.2},children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-blue-300 via-white to-blue-300 rounded-full shadow-lg",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:a/1e3,ease:"easeInOut"}})})]}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8}).map((d,m)=>t.jsx(E.div,{className:"absolute",style:{left:`${15+m*10}%`,top:`${20+m%3*30}%`},animate:{y:[0,-40,0],rotate:[0,180,360],opacity:[.2,.6,.2]},transition:{duration:5+m*.5,repeat:1/0,delay:m*.3},children:m%2===0?t.jsx(zr,{className:"w-5 h-5 text-white/40 drop-shadow"}):t.jsx(vp,{className:"w-5 h-5 text-white/40 drop-shadow"})},m))})]})}const x_=u.createContext(void 0);function gZ({children:e}){const[r,n]=u.useState(null),[a,s]=u.useState(!1),[,i]=lr(),o=m=>{n(m),s(!0)},l=()=>{s(!1),n(null)},c=()=>{r&&(r.matchId&&r.matchId>0?(console.log(`[SPLASH-NAV] Splash complete: Immediately navigating to chat page for ${r.type||"MEET"} match ${r.matchId}`),console.log("[SPLASH-NAV] Current location before navigation:",window.location.pathname),i(`/chat/${r.matchId}`),setTimeout(()=>{console.log("[SPLASH-NAV] Location after navigation attempt:",window.location.pathname),console.log(`[SPLASH-NAV] Expected: /chat/${r.matchId}, Actual: ${window.location.pathname}`)},100)):(console.log("[SPLASH-NAV] No valid matchId, navigating to messages page"),r.type==="networking"||r.type==="mentorship"||r.type==="job"?i("/suite/messages"):i("/messages"))),l()},d=()=>{if(!a||!r)return null;const m={currentUser:r.currentUser,targetUser:r.targetUser,onComplete:c,duration:3e3};switch(r.type){case"mentorship":return t.jsx(hZ,{...m});case"networking":return t.jsx(pZ,{...m});case"job":return t.jsx(fZ,{...m});case"meet":default:return t.jsx(mZ,{...m})}};return t.jsxs(x_.Provider,{value:{showSplash:o,hideSplash:l},children:[e,d()]})}function y_(){const e=u.useContext(x_);if(e===void 0)throw new Error("useSplashScreen must be used within a SplashScreenProvider");return e}function gy({user:e,onSwipeLeft:r,onSwipeRight:n,onMatchFound:a,onUndoAction:s,restoreAnimationClass:i="",nextCardAnimationClass:o="",mode:l="discover",onActivationNeeded:c,profileType:d,profileId:m,canUndo:h=!1,undoCount:p=0,isPremium:f=!1,onPremiumUpgradeClick:x,currentCardExiting:g,previousCardEntering:v,currentCardExitDirection:y}){const{user:b}=Sr(),{toast:w}=Wr(),{translate:S}=tn(),{showSplash:N}=y_(),[,P]=lr(),[C,I]=u.useState(null),[T,_]=u.useState(null),k=u.useRef(null),[A,F]=u.useState(!1),[V,J]=u.useState(!0),[M,R]=u.useState(e.id),[B,O]=u.useState(!1),[X,ae]=u.useState(!1),[$,re]=u.useState(!1),[le,ce]=u.useState(!1),[ue,ee]=u.useState(null),Z=g??$,Se=v??le,Ue=y??ue;u.useEffect(()=>{M!==e.id&&(J(!0),O(!1),ae(!1),R(e.id))},[e.id,M]);const[De]=u.useState(()=>p1(b,e)),se=e.visibleInterests||[],L=Te=>{const Xe=Yg(Te);return Te.startsWith("islam-")?Xe:Xe.includes(" - ")?Xe.split(" - ")[1]:Xe},[q,H]=u.useState(()=>{try{if(e.visibilityPreferences){const Xe=JSON.parse(e.visibilityPreferences);return Xe.photos===void 0&&(Xe.photos=!!((e==null?void 0:e.showProfilePhoto)??!0)),console.log(`SwipeCard: Loaded visibility preferences for user ${e.id}:`,Xe),Xe}}catch(Xe){console.error("Error parsing visibility preferences in SwipeCard:",Xe)}const Te={residence:!0,countryOfOrigin:!0,tribe:!0,profession:!0,religion:!0,bio:!0,relationshipStatus:!0,relationshipGoal:!0,highSchool:!0,collegeUniversity:!0,interests:!0,photos:!!((e==null?void 0:e.showProfilePhoto)??!0)};return console.log(`SwipeCard: Generated default visibility for user ${e.id}:`,Te),Te});u.useEffect(()=>{if(e.visibilityPreferences)try{const Te=JSON.parse(e.visibilityPreferences);Te.photos===void 0&&(Te.photos=!!((e==null?void 0:e.showProfilePhoto)??!0)),console.log(`SwipeCard: Updating visibility preferences for user ${e.id}:`,Te),H(Te)}catch(Te){console.error("Error parsing updated visibility preferences in SwipeCard:",Te)}else{const Te={residence:!0,countryOfOrigin:!0,tribe:!0,profession:!0,religion:!0,bio:!0,relationshipStatus:!0,relationshipGoal:!0,highSchool:!0,collegeUniversity:!0,interests:!0,photos:!!((e==null?void 0:e.showProfilePhoto)??!0)};console.log(`SwipeCard: Regenerated default visibility for user ${e.id}:`,Te),H(Te)}},[e.visibilityPreferences,e.location,e.countryOfOrigin,e.ethnicity,e.profession,e.religion,e.bio,e.relationshipStatus,e.relationshipGoal,e.highSchool,e.collegeUniversity]);const[ge,ke]=u.useState(e.isVerified||!1);u.useEffect(()=>{const Te=Xe=>{const{userId:nt,isVerified:U}=Xe.detail;nt===e.id&&(console.log(`[SwipeCard] Verification status changed for user ${nt}: ${U}`),ke(U))};return window.addEventListener("websocket:verificationStatusChanged",Te),()=>{window.removeEventListener("websocket:verificationStatusChanged",Te)}},[e.id]),u.useEffect(()=>{ke(e.isVerified||!1)},[e.isVerified]);const z=wt({mutationFn:async()=>{if(!b||!e)throw new Error("User information is missing");if(b.id===e.id)throw new Error("Cannot match with yourself");try{const Te=await fetch("/api/matches",{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},credentials:"include",body:JSON.stringify({userId1:b.id,userId2:e.id,matched:!1})});if(Te.status===409)return console.log("Match already exists - treating as success"),{success:!0,message:"Match already exists",alreadyExists:!0};if(!Te.ok){const nt=await Te.text();throw console.error("Match creation error response:",nt),Te.status===401?new Error("Please log in again to continue"):new Error(nt||"Failed to create match")}const Xe=await Te.text();try{return JSON.parse(Xe)}catch{throw console.error("Failed to parse match response:",Xe),new Error("Invalid server response")}}catch(Te){throw console.error("Match creation error:",Te),Te}},onSuccess:Te=>{me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/liked-by"]}),me.invalidateQueries({queryKey:["/api/messages/unread/count"]}),Te.matched&&(localStorage.setItem("last_match_created",Date.now().toString()),localStorage.setItem(`match_${Te.id}`,"true"),window.dispatchEvent(new StorageEvent("storage",{key:"last_match_created",newValue:Date.now().toString()})),a(e))},onError:Te=>{console.error("Match mutation error:",Te);const Xe=Te instanceof Error?Te.message:String(Te);if(Xe.includes("Match already exists")||Xe.includes("Cannot match with yourself"))return;let nt=S("swipeCard.errorTitle"),U=S("swipeCard.likeError");Xe.includes("Please log in again")?(nt=S("auth.sessionExpired"),U=S("auth.pleaseLoginAgain")):Xe.includes("User information is missing")?U=S("swipeCard.userInfoMissing"):Xe.includes("Invalid server response")&&(U=S("swipeCard.serverError")),w({title:nt,description:U,variant:"destructive"})}}),ie=async(Te,Xe,nt=!1)=>{try{const{sendSwipeAction:U}=await Ri(async()=>{const{sendSwipeAction:K}=await Promise.resolve().then(()=>Bx);return{sendSwipeAction:K}},void 0);return U(Te,Xe,nt)}catch(U){return console.error("Failed to import websocket-service:",U),!1}},pe=(Te,Xe)=>{if(!k.current)return;const nt=k.current,U=nt.offsetWidth,K=Te==="left"?-U*.7:U*.7,je=250,Ae=Date.now();nt.style.transition=`transform ${je}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`;const st=()=>{const Pt=Date.now()-Ae,Nt=Math.min(Pt/je,1),Ce=1-Math.pow(1-Nt,3),qe=K*Ce,Qe=Math.min(Math.max(qe/15,-15),15),Mt=1-Math.abs(qe)/U*.04,Ut=qe>0?-qe*.8:qe*.8;nt.style.transform=`translate3d(${qe}px, ${Ut}px, 0) rotateZ(${Qe}deg) scale(${Mt})`;const Ct=Math.min(Math.abs(qe)/(U*.5),1);if(Te==="right"){nt.classList.add("border-emerald-400"),nt.classList.remove("border-rose-400","border-white"),nt.style.boxShadow=`0 0 ${12+Ct*16}px ${Ct*8}px rgba(16, 185, 129, ${.2+Ct*.35})`;const ht=document.querySelector(".right-indicator");ht&&(ht.style.opacity=Ct.toString())}else{nt.classList.add("border-rose-400"),nt.classList.remove("border-emerald-400","border-white"),nt.style.boxShadow=`0 0 ${12+Ct*16}px ${Ct*8}px rgba(225, 29, 72, ${.2+Ct*.35})`;const ht=document.querySelector(".left-indicator");ht&&(ht.style.opacity=Ct.toString())}if(Nt<1)requestAnimationFrame(st);else{nt.style.transition="";const ht=document.querySelector(".left-indicator"),tr=document.querySelector(".right-indicator");ht&&(ht.style.opacity="0"),tr&&(tr.style.opacity="0"),Xe()}};requestAnimationFrame(st)},ye=()=>{if(!(C||T)){if(!(b!=null&&b.hasActivatedProfile)){c==null||c();return}I("left"),pe("left",()=>{_("left"),console.log(`[MEET-ANIMATION] Setting curved animation to 'left' for user ${e.id}`),setTimeout(()=>{r()},150),setTimeout(()=>{e&&e.id&&ie(e.id,"dislike"),I(null),_(null)},800)})}},$e=()=>{if(!(C||T)){if(!(b!=null&&b.hasActivatedProfile)){c==null||c();return}I("right"),pe("right",()=>{_("right"),z.mutate(),e&&e.id&&ie(e.id,"like"),setTimeout(()=>{n()},150),setTimeout(()=>{I(null),_(null)},800)})}},[Le,Oe]=u.useState("default");u.useEffect(()=>()=>{Ze.current&&clearTimeout(Ze.current)},[]);const Ze=u.useRef(null),te=()=>{if(!(b!=null&&b.hasActivatedProfile)){c==null||c();return}if(!f&&x){x();return}if(!(C||!h||p<=0||Le!=="default")){if(Ze.current&&clearTimeout(Ze.current),Oe("processing"),rt.current){rt.current.classList.add("button-click-effect","active");const Te=rt.current.querySelector("svg");Te&&Te.classList.add("message-icon-animation"),setTimeout(()=>{var Xe;(Xe=rt.current)==null||Xe.classList.remove("active")},200)}s&&(console.log("Executing database-backed undo action callback"),s()),setTimeout(()=>{Oe("default")},300)}},Ne=u.useRef(null),rt=u.useRef(null),[at,jt]=u.useState("default"),xt=()=>{if(!(!e||!e.id||at!=="default")){if(!(b!=null&&b.hasActivatedProfile)){c==null||c();return}if(!f&&x){x();return}if(jt("sending"),Ne.current){Ne.current.classList.add("button-click-effect","active","message-sent-animation");const Te=Ne.current.querySelector("svg");Te&&Te.classList.add("message-icon-animation"),setTimeout(()=>{var Xe;(Xe=Ne.current)==null||Xe.classList.remove("active")},300)}console.log("[CHAT-PERFORMANCE] Optimized direct message initiated for",e.fullName),ie(e.id,"message",!0),l==="SUITE"&&d&&m&&setTimeout(()=>{const Te=new CustomEvent("suite_remove_from_discover",{detail:{suiteType:d,removeProfileId:m,removeUserId:e.id,reason:`${d}_message_button_clicked`,timestamp:new Date().toISOString()}});window.dispatchEvent(Te),console.log(`[CARD-REMOVAL] Removed ${d} profile ${m} from discover deck during splash screen (message button clicked)`)},2500),(l==="MEET"||l==="match")&&setTimeout(()=>{const Te=new CustomEvent("meet_remove_from_discover",{detail:{removeUserId:e.id,reason:"meet_message_button_clicked",timestamp:new Date().toISOString()}});window.dispatchEvent(Te),console.log(`[CARD-REMOVAL] Removed MEET user ${e.id} from discover deck during splash screen (message button clicked)`)},2500),fetch("/api/messages/create-chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:e.id}),credentials:"include"}).then(Te=>Te.json()).then(Te=>{if(jt("success"),Ne.current&&Ne.current.classList.add("button-success"),Promise.all([me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/messages"]}),me.invalidateQueries({queryKey:["/api/messages/unread/count"]}),me.invalidateQueries({queryKey:["/api/matches/counts"]})]).catch(Xe=>{console.warn("[CHAT-PERFORMANCE] Cache invalidation error:",Xe)}),window.dispatchEvent(new CustomEvent("meet_remove_from_discover",{detail:{removeUserId:e.id,reason:"direct_message"}})),console.log(`[MEET-CARD-REMOVAL] Immediately removed user ${e.id} from discover deck (message button clicked)`),Te&&Te.matchId&&typeof Te.matchId=="number"){console.log(`MEET Direct Message: Got response with matchId ${Te.matchId}, showing splash and navigating to chat`),N({currentUser:{fullName:(b==null?void 0:b.fullName)||"",photoUrl:(b==null?void 0:b.photoUrl)||void 0},targetUser:{fullName:e.fullName,photoUrl:e.photoUrl||void 0},matchId:Te.matchId});return}if(Te&&Te.matchId&&Te.match){try{const U={...{...Te.match,matchType:"direct_message",user:Te.match.user||{id:e.id,fullName:e.fullName,photoUrl:e.photoUrl,location:e.location||"",bio:e.bio||null,profession:e.profession||null},currentUser:b?{id:b.id,fullName:b.fullName}:null,targetUserId:e.id,initiatorId:b==null?void 0:b.id},id:Te.matchId,matchId:Te.matchId};localStorage.setItem(`match_data_${Te.matchId}`,JSON.stringify(U)),sessionStorage.setItem(`match_data_${Te.matchId}`,JSON.stringify(U)),sessionStorage.setItem("newly_created_match",Te.matchId.toString()),localStorage.setItem("newly_created_match",Te.matchId.toString()),console.log(`MEET: Cached enriched match data for match ${Te.matchId} with proper structure`,U)}catch(nt){console.error("Failed to cache match data:",nt)}(async(nt,U=5,K=500)=>{for(let je=0;je<U;je++){try{const Ae=await fetch("/api/matches",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(Ae.ok){const st=await Ae.json();if(Array.isArray(st)&&st.some(Nt=>Nt.id===nt)){const Nt=st.find(Ce=>Ce.id===nt);if(Nt){const Ce={...Nt,user:Nt.user||{id:e.id,fullName:e.fullName,photoUrl:e.photoUrl,location:e.location||"",bio:e.bio||null,profession:e.profession||null}};localStorage.setItem(`match_data_${nt}`,JSON.stringify(Ce)),sessionStorage.setItem(`match_data_${nt}`,JSON.stringify(Ce)),me.setQueryData(["/api/matches"],qe=>{if(Array.isArray(qe)){const Qe=qe.findIndex(Mt=>Mt.id===nt);if(Qe>=0){const Mt=[...qe];return Mt[Qe]=Ce,Mt}return[...qe,Ce]}return qe})}return!0}}}catch(Ae){console.error("Error checking match:",Ae)}await new Promise(Ae=>setTimeout(Ae,K))}return!1})(Te.matchId).then(nt=>{console.log(`Redirecting to chat page for match ${Te.matchId}, match found: ${nt}`),N({currentUser:{fullName:(b==null?void 0:b.fullName)||"",photoUrl:(b==null?void 0:b.photoUrl)||void 0},targetUser:{fullName:e.fullName,photoUrl:e.photoUrl||void 0},matchId:Te.matchId})})}else Te.matchId&&typeof Te.matchId=="number"?(console.log(`Match ID exists (${Te.matchId}) but match object missing, showing splash with valid ID`),N({currentUser:{fullName:(b==null?void 0:b.fullName)||"",photoUrl:(b==null?void 0:b.photoUrl)||void 0},targetUser:{fullName:e.fullName,photoUrl:e.photoUrl||void 0},matchId:Te.matchId})):(console.log("No valid match ID found, showing error splash"),N({currentUser:{fullName:(b==null?void 0:b.fullName)||"",photoUrl:(b==null?void 0:b.photoUrl)||void 0},targetUser:{fullName:e.fullName,photoUrl:e.photoUrl||void 0},matchId:0,error:!0}))}).catch(Te=>{console.error("Failed to create chat:",Te),jt("default"),Ne.current&&Ne.current.classList.remove("button-click-effect","message-sent-animation","button-success"),console.log("Chat creation failed, showing error splash"),N({currentUser:{fullName:(b==null?void 0:b.fullName)||"",photoUrl:(b==null?void 0:b.photoUrl)||void 0},targetUser:{fullName:e.fullName,photoUrl:e.photoUrl||void 0},matchId:0,error:!0}),w({title:S("swipeCard.messagingFailedTitle"),description:S("swipeCard.messagingFailedDescription"),variant:"destructive"})})}};u.useEffect(()=>{if(e.photoUrl){const Te=new Image;Te.src=e.photoUrl}},[e.photoUrl]);const jr=u.useRef(null),zt=u.useRef(null),Wt=u.useRef(null),Et=u.useRef(null),ut=u.useRef(null),cr=u.useRef(null),Ir=u.useRef(0),Bt=(Te,Xe)=>{C||T||(jr.current=Te,zt.current=Xe,Wt.current=Date.now(),Et.current=Te,ut.current=Xe,cr.current=Date.now(),k.current&&(Ir.current=k.current.offsetWidth,k.current.style.transition="none"))},vt=(Te,Xe)=>{if(jr.current!==null&&zt.current!==null&&k.current&&!C&&!T){const nt=Te-jr.current;Xe-zt.current,Et.current=Te,ut.current=Xe,cr.current=Date.now();const U=Math.min(Math.max(nt/12,-20),20),K=1-Math.abs(nt)/Ir.current*.02,je=Math.min(Math.abs(nt)/(Ir.current*.4),1),Ae=(nt>0,-Math.abs(nt)*.15);if(k.current.style.transform=`
        translate3d(${nt}px, ${Ae}px, 0) 
        rotateZ(${U}deg) 
        scale(${K})
      `,Math.abs(nt)>30)if(nt>0){k.current.classList.remove("border-white","border-rose-400"),k.current.classList.add("border-emerald-400"),k.current.style.boxShadow=`
            0 0 25px rgba(16, 185, 129, ${je*.6}), 
            inset 0 1px 3px rgba(255, 255, 255, 0.7), 
            0 10px 40px rgba(16, 185, 129, ${je*.4})
          `.replace(/\s+/g," ").trim();const Pt=document.querySelector(".right-indicator");Pt&&(Pt.style.opacity=Math.min(je*1.2,1).toString());const Nt=document.querySelector(".left-indicator");Nt&&(Nt.style.opacity="0")}else{k.current.classList.remove("border-white","border-emerald-400"),k.current.classList.add("border-rose-400"),k.current.style.boxShadow=`
            0 0 25px rgba(225, 29, 72, ${je*.6}), 
            inset 0 1px 3px rgba(255, 255, 255, 0.7), 
            0 10px 40px rgba(225, 29, 72, ${je*.4})
          `.replace(/\s+/g," ").trim();const Pt=document.querySelector(".left-indicator");Pt&&(Pt.style.opacity=Math.min(je*1.2,1).toString());const Nt=document.querySelector(".right-indicator");Nt&&(Nt.style.opacity="0")}else{k.current.classList.remove("border-emerald-400","border-rose-400"),k.current.classList.add("border-white"),k.current.style.boxShadow="0 0 15px rgba(168, 85, 247, 0.15), inset 0 1px 3px rgba(255, 255, 255, 0.7)";const Pt=document.querySelector(".left-indicator"),Nt=document.querySelector(".right-indicator");Pt&&(Pt.style.opacity="0"),Nt&&(Nt.style.opacity="0")}const st=k.current.nextElementSibling;if(st){const Pt=.9+Math.abs(nt)/Ir.current*.1,Nt=.6+Math.abs(nt)/Ir.current*.4;st.style.transform=`scale(${Math.min(Pt,1)}) translateZ(0)`,st.style.opacity=Math.min(Nt,1).toString()}}},Ft=(Te,Xe)=>{if(jr.current!==null&&zt.current!==null&&k.current){const nt=Date.now(),U=Te-jr.current;Xe-zt.current;let K=0;if(Et.current!==null&&cr.current!==null){const Ce=nt-cr.current;Ce>0&&(K=Math.abs(Te-Et.current)/Ce)}k.current.classList.remove("border-emerald-400","border-rose-400"),k.current.classList.add("border-white"),k.current.style.boxShadow="0 0 15px rgba(168, 85, 247, 0.15), inset 0 1px 3px rgba(255, 255, 255, 0.7)";const je=document.querySelector(".left-indicator"),Ae=document.querySelector(".right-indicator");je&&(je.style.opacity="0"),Ae&&(Ae.style.opacity="0");const st=k.current.nextElementSibling;st&&(st.style.transform="",st.style.opacity="");const Pt=Ir.current*.25;K>.12||Math.abs(U)>Pt?U>0?(k.current.style.transform="",k.current.classList.add("swipe-right-optimized"),$e(),st&&st.classList.add("next-card-reveal")):(k.current.style.transform="",k.current.classList.add("swipe-left-optimized"),ye(),st&&st.classList.add("next-card-reveal")):(k.current.style.transform="",k.current.style.transition="transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)",setTimeout(()=>{k.current&&(k.current.style.transform="scale(1.01)",setTimeout(()=>{k.current&&(k.current.style.transform="",k.current.style.transition="")},100))},200)),jr.current=null,zt.current=null,Wt.current=null,Et.current=null,ut.current=null,cr.current=null}},$t=Te=>{if(Te.touches.length===1){const Xe=Te.touches[0];Bt(Xe.clientX,Xe.clientY)}},dr=Te=>{if(Te.touches.length===1){const Xe=Te.touches[0];vt(Xe.clientX,Xe.clientY)}},Vt=Te=>{const Xe=Te.changedTouches[0];Ft(Xe.clientX,Xe.clientY)},vn=Te=>{if(Te.button===0){const Xe=Te.target;if(Xe.tagName==="BUTTON"||Xe.closest("button")||Xe.classList.contains("no-drag")||Xe.closest(".no-drag"))return;Bt(Te.clientX,Te.clientY);const nt=K=>{vt(K.clientX,K.clientY)},U=K=>{document.removeEventListener("mousemove",nt),document.removeEventListener("mouseup",U),Ft(K.clientX,K.clientY)};document.addEventListener("mousemove",nt),document.addEventListener("mouseup",U)}},Sn=()=>{const Te=[];for(let Xe=0;Xe<150;Xe++){const nt=Xe<105;let U;nt?U=Math.random()*80:U=80+Math.random()*20;const K={left:`${Math.random()*100}%`,top:`${U}%`,animation:`raindrop ${.7+Math.random()*.7}s linear infinite`,animationDelay:`${Math.random()*.5}s`};nt?Te.push(t.jsx("div",{className:"raindrop",style:{...K,animation:`raindrop-fall ${.7+Math.random()*.8}s linear infinite`}},Xe)):Te.push(t.jsx("div",{className:"white-area-raindrop",style:{left:K.left,top:K.top,animationDelay:K.animationDelay}},Xe))}return Te},Rt=()=>{const Te=[];for(let Xe=0;Xe<50;Xe++){const nt=["linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)","linear-gradient(140deg, #a78bfa 0%, #8b5cf6 100%)","linear-gradient(140deg, #fda4af 0%, #f43f5e 100%)","linear-gradient(140deg, #fde68a 0%, #fbbf24 100%)","linear-gradient(140deg, #93c5fd 0%, #3b82f6 100%)"],U=nt[Math.floor(Math.random()*nt.length)],K=Xe<70;let je;K?je=50+Math.random()*50:je=Math.random()*50;const Ae={left:`${je}%`,top:`${Math.random()*100}%`,background:U,animation:`confetti-fall ${.8+Math.random()*1.2}s ease-out`,animationDelay:`${Math.random()*.5}s`,transform:`rotate(${Math.random()*360}deg)`};Te.push(t.jsx("div",{className:"confetti",style:Ae},`confetti-${Xe}`))}for(let Xe=0;Xe<10;Xe++){const U={left:`${50+Math.random()*50}%`,top:`${Math.random()*100}%`,animation:`heart-float ${1+Math.random()*2}s ease-out`,animationDelay:`${Math.random()*.8}s`};Te.push(t.jsx("div",{className:"heart-particle",style:U,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})},`heart-${Xe}`))}for(let Xe=0;Xe<8;Xe++){const U={left:`${40+Math.random()*60}%`,top:`${Math.random()*100}%`,animation:`star-twinkle ${.5+Math.random()*1}s ease-out`,animationDelay:`${Math.random()*.8}s`};Te.push(t.jsx("div",{className:"star-particle",style:U,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:t.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})},`star-${Xe}`))}for(let Xe=0;Xe<15;Xe++){const U={left:`${30+Math.random()*70}%`,top:`${Math.random()*100}%`,animation:`star-twinkle ${.3+Math.random()*.7}s ease-out`,animationDelay:`${Math.random()*.5}s`};Te.push(t.jsx("div",{className:"sparkle-particle",style:U},`sparkle-${Xe}`))}return Te};return t.jsxs("div",{className:`swipe-card h-full p-2 transition-transform duration-300 ease-out overflow-hidden fast-card ${C==="left"?"swipe-left-optimized":C==="right"?"swipe-right-optimized":""}`,style:{willChange:"transform, opacity",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:[t.jsx("div",{className:"rain-container",children:Sn()}),t.jsx("div",{className:"celebration-container",children:Rt()}),t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-start pl-8 left-indicator",children:t.jsx("div",{className:"bg-rose-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform -rotate-12 backdrop-blur-sm",children:"PASS"})}),t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-end pr-8 right-indicator",children:t.jsx("div",{className:"bg-emerald-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform rotate-12 backdrop-blur-sm",children:"LIKE"})}),t.jsxs(wr,{ref:k,className:`swipe-card overflow-hidden h-full flex flex-col card-highlight border border-white 
        rounded-xl relative overscroll-none
        drop-shadow-[0_0_20px_rgba(168,85,247,0.2)]
        shadow-[0_0_15px_rgba(168,85,247,0.15),inset_0_1px_3px_rgba(255,255,255,0.7)]
        transform ${T?"transition-none":"transition-all duration-300"} hover:scale-[1.01] hover:shadow-[0_0_25px_rgba(168,85,247,0.35),inset_0_1px_3px_rgba(255,255,255,0.9)]
        ${i}
        ${o}
        ${Z&&Ue==="left"?"animate-meet-current-exit-left":""}
        ${Z&&Ue==="right"?"animate-meet-current-exit-right":""}
        ${Se&&Ue==="left"?"animate-meet-previous-enter-left":""}
        ${Se&&Ue==="right"?"animate-meet-previous-enter-right":""}
        ${T==="left"?"animate-meet-swipe-left":""}
        ${T==="right"?"animate-meet-swipe-right":""}`,onAnimationStart:()=>{T&&console.log(`[MEET-ANIMATION] Starting ${T} curved animation`)},onAnimationEnd:()=>{T&&console.log(`[MEET-ANIMATION] Completed ${T} curved animation`)},style:{backgroundSize:"100% 100%",perspective:"1500px",transformStyle:"preserve-3d",willChange:"transform",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",transform:"translateZ(0)"},onMouseDown:vn,onTouchStart:$t,onTouchMove:dr,onTouchEnd:Vt,children:[t.jsxs("div",{className:"relative h-[90%] overflow-hidden overscroll-none touch-none",children:[e.photoUrl&&bu(e,e.hasActivatedProfile||!1)&&q.photos?t.jsx("img",{src:e.photoUrl,className:"w-full h-full object-cover card-image",alt:`${e.fullName}'s profile`,loading:"eager",decoding:"async",fetchPriority:"high"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-pattern-dots bg-gradient-to-b from-purple-50 to-amber-50",children:t.jsx("div",{className:"bg-white/80 backdrop-blur-sm px-6 py-3 rounded-full shadow-md",children:t.jsx("span",{className:"text-xl bg-gradient-to-r from-purple-600 to-amber-500 text-transparent bg-clip-text font-bold",children:S("swipeCard.noPhotoAvailable")})})}),t.jsx("button",{onClick:Te=>{if(Te.stopPropagation(),!f&&x){x();return}if(!B){ae(!0),setTimeout(()=>{ae(!1)},2e3);return}b&&e&&P(`/match-dashboard/users/${b.id}/${e.id}`)},className:"absolute top-3 right-4 w-[4.5rem] h-[4.5rem] rounded-full bg-gradient-to-br from-purple-100 to-white flex items-center justify-center shadow-[0_4px_16px_rgba(168,85,247,0.4),0_2px_4px_rgba(168,85,247,0.3),inset_0_2px_3px_rgba(255,255,255,0.7)] backdrop-blur-sm compatibility-score hover:shadow-[0_6px_20px_rgba(168,85,247,0.5),0_4px_8px_rgba(168,85,247,0.4)] transition-all duration-300 cursor-pointer percentage-badge-container",title:"View detailed match analysis",children:t.jsxs("div",{className:"w-16 h-16 rounded-full flex items-center justify-center no-animation relative overflow-hidden",style:{boxShadow:"inset 0 0 15px rgba(168, 85, 247, 0.2), 0 2px 8px rgba(168, 85, 247, 0.15)",background:De>=90?`conic-gradient(#10b981 0%, #10b981 ${De}%, #f59e0b ${De}%, #f59e0b 100%)`:De>=75?`conic-gradient(#6366f1 0%, #6366f1 ${De}%, #f59e0b ${De}%, #f59e0b 100%)`:`conic-gradient(#8b5cf6 0%, #8b5cf6 ${De}%, #f59e0b ${De}%, #f59e0b 100%)`},children:[t.jsx("div",{className:`w-[3.1rem] h-[3.1rem] rounded-full bg-white flex items-center justify-center 
                shadow-[inset_0_1px_3px_rgba(0,0,0,0.1),0_1px_2px_rgba(255,255,255,0.3)]
                transform transition-transform duration-300 hover:scale-105`,children:t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center scale-110 opacity-30 blur-[2px]",children:t.jsx("span",{className:"text-2xl font-black",style:{color:De>=90?"#10b981":De>=75?"#6366f1":"#8b5cf6"},children:De})}),t.jsxs("span",{className:`text-xl font-extrabold bg-gradient-to-b from-purple-600 to-fuchsia-600 text-transparent bg-clip-text drop-shadow-sm ${B?"percentage-revealed":"percentage-blurred"}`,children:[De,"%"]}),!B&&t.jsx("div",{className:"padlock-overlay padlock-meet",children:""})]})}),t.jsx("div",{className:"absolute top-1 right-2 w-1.5 h-1.5 rounded-full bg-white animate-pulse-slow opacity-80"}),t.jsx("div",{className:"absolute bottom-3 left-1.5 w-1 h-1 rounded-full bg-white animate-pulse-slow opacity-60",style:{animationDelay:"0.5s"}}),t.jsx("div",{className:"absolute top-2 left-3 w-2 h-2 rounded-full bg-purple-300 animate-pulse-slow",style:{animationDelay:"0.2s"}}),t.jsx("div",{className:"absolute bottom-2 right-3 w-1.5 h-1.5 rounded-full bg-pink-300 animate-pulse-slow",style:{animationDelay:"0.8s"}}),t.jsx("div",{className:"absolute top-[40%] left-1 w-1 h-1 rounded-full bg-purple-400 animate-pulse-slow",style:{animationDelay:"1.2s"}})]})}),ge&&t.jsx("div",{className:"absolute top-24 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-2 py-1 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[10px] font-bold shadow-[0_3px_12px_rgba(34,197,94,0.4),0_1px_6px_rgba(34,197,94,0.3),inset_0_1px_1px_rgba(255,255,255,0.4),inset_0_-1px_1px_rgba(0,0,0,0.2)] overflow-hidden border border-emerald-300/50 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2.5 w-2.5 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent px-4 pt-16 pb-3 flex flex-col",children:t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h2",{className:"text-3xl font-extrabold flex items-center",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient no-animation",children:[t.jsx("span",{className:"text-4xl",children:e.fullName.split(" ")[0].charAt(0)}),e.fullName.split(" ")[0].slice(1),!e.hideAge&&t.jsxs(t.Fragment,{children:[","," ",xZ(e.dateOfBirth)]})]})})}),e.countryOfOrigin&&q.countryOfOrigin&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($n,{className:"h-3 w-3 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[t.jsx("span",{className:"font-medium text-xs text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:sc(e.countryOfOrigin)}),e.secondaryCountryOfOrigin&&t.jsxs("span",{className:"font-medium text-xs text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] opacity-90",children:["/ ",sc(e.secondaryCountryOfOrigin)]})]})]})]}),e.ethnicity&&!e.secondaryTribe&&q.tribe&&t.jsx("div",{className:"flex justify-end mb-1",children:t.jsx(St,{className:"bg-gradient-to-r from-purple-600/90 to-fuchsia-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient no-animation",children:e.ethnicity})}),e.ethnicity&&e.secondaryTribe&&q.tribe&&t.jsx("div",{className:"flex justify-end mb-1",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(St,{className:"bg-gradient-to-r from-purple-600/90 to-fuchsia-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient no-animation",children:e.ethnicity}),t.jsx(St,{className:"bg-gradient-to-r from-fuchsia-600/90 to-purple-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient no-animation",children:e.secondaryTribe})]})}),e.location&&q.residence&&t.jsx("div",{className:"flex items-center mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{className:"font-medium text-sm text-orange-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] no-animation",children:e.location})]})}),e.profession&&q.profession&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),t.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]}),t.jsx("span",{className:"bg-gradient-to-r from-sky-400 to-teal-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:e.profession})]}),e.religion&&q.religion&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx("span",{className:"mr-1 text-violet-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",children:""}),t.jsx("span",{className:"font-medium text-sm bg-gradient-to-r from-violet-200 to-purple-400 bg-clip-text text-transparent drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:L(e.religion)})]}),e.relationshipStatus&&q.relationshipStatus&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm text-rose-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:["Status: ",e.relationshipStatus]})]}),e.relationshipGoal&&q.relationshipGoal&&!l.includes("preview")&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ng,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"bg-gradient-to-r from-rose-300 to-red-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:["Looking for: ",e.relationshipGoal]})]}),e.bio&&q.bio&&t.jsx("div",{className:"mb-2 rounded-md overflow-hidden",children:t.jsx("p",{className:"text-white/95 leading-tight text-xs font-medium bg-gradient-to-r from-black/15 to-purple-900/15 p-2 rounded-md drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:e.bio})}),e.highSchool&&q.highSchool&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(vu,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:["High School: ",e.highSchool]})]}),e.collegeUniversity&&q.collegeUniversity&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:["College: ",e.collegeUniversity]})]}),q.interests&&se.length>0&&t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-white bg-gradient-to-r from-amber-300 to-orange-500 bg-clip-text text-transparent text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:S("app.topInterests")}),t.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:se.slice(0,3).map((Te,Xe)=>{const nt=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90","from-teal-500/90 to-cyan-500/90"],U=nt[Xe%nt.length];return t.jsx(St,{className:`bg-gradient-to-r ${U} text-white shadow-lg text-xs py-0 px-2.5 border-0 static-gradient no-animation`,children:Te},`${e.id}-${Xe}`)})})]})]})})]}),t.jsxs("div",{className:"py-1.5 px-5 flex justify-around relative overflow-hidden backdrop-blur-md button-container",children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-purple-200/80 via-pink-100/90 to-rose-200/80 z-0
            before:absolute before:inset-0 before:bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZjlkZmYiIGZpbGwtb3BhY2l0eT0iMC4wOCI+PHBhdGggZD0iTTM2IDM0aDR2MWgtNHYtMXptMC0yaDF2NWgtMXYtNXptNCAwdjFoLTN2LTFoM3ptLTggMmgxdjFoLTF2LTF6bS0yIDBoMXYxaC0xdi0xem00IDB2MWgtMXYtMWgxem0wLTJ2MWgtM3YtMWgzeiIvPjwvZz48L2c+PC9zdmc+')]
            before:opacity-80
            after:absolute after:inset-0 after:bg-gradient-to-r after:from-cyan-200/20 after:via-fuchsia-300/30 after:to-amber-200/20 after:bg-blend-color-dodge
            `}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-80 mix-blend-soft-light"}),t.jsx("div",{className:"absolute -top-2 left-[15%] w-3 h-3 rounded-full bg-indigo-300/70 blur-[2px] animate-float"}),t.jsx("div",{className:"absolute -bottom-1 left-[75%] w-2.5 h-2.5 rounded-full bg-pink-300/70 blur-[2px] animate-float",style:{animationDelay:"1.5s"}}),t.jsx("div",{className:"absolute top-[30%] right-[10%] w-2 h-2 rounded-full bg-amber-300/70 blur-[2px] animate-float",style:{animationDelay:"0.7s"}}),t.jsx("div",{className:"absolute top-[40%] left-[40%] w-1.5 h-1.5 rounded-full bg-teal-300/70 blur-[2px] animate-float",style:{animationDelay:"1.2s"}}),t.jsx("div",{className:"absolute bottom-[15%] right-[25%] w-1.5 h-1.5 rounded-full bg-purple-300/70 blur-[2px] animate-float",style:{animationDelay:"0.9s"}}),t.jsx("div",{className:"absolute top-0 -left-[100%] w-[100%] h-full bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-[-20deg] animate-light-beam"}),t.jsx("div",{className:"absolute inset-0 bg-radial-gradient opacity-70 mix-blend-overlay"}),l!=="match"&&t.jsx("button",{ref:rt,className:`w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 relative overflow-hidden swipe-button ${Le==="processing"?"button-click-effect":""}`,onClick:te,disabled:Le!=="default"||!h&&!(b!=null&&b.profileHidden),style:{background:"linear-gradient(140deg, #a5b4fc 0%, #6366f1 100%)",boxShadow:"0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(99, 102, 241, 0.1)",transform:"perspective(500px) rotateX(10deg)",opacity:!h&&!(b!=null&&b.profileHidden)?"0.7":"1"},onMouseOver:Te=>{Le==="default"&&(h||b!=null&&b.profileHidden)&&(Te.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",Te.currentTarget.style.boxShadow="0 6px 10px rgba(99, 102, 241, 0.35), 0 10px 30px rgba(99, 102, 241, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(99, 102, 241, 0.1)")},onMouseOut:Te=>{Le==="default"&&(Te.currentTarget.style.transform="perspective(500px) rotateX(10deg)",Te.currentTarget.style.boxShadow="0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(99, 102, 241, 0.1)")},children:t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("path",{d:"M9 14 4 9l5-5"}),t.jsx("path",{d:"M4 9h9a6 6 0 0 1 0 12H9"})]}),Le==="success"?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-200 opacity-70 animate-ping",style:{animationDuration:"1s"}})}):Le==="processing"?t.jsx("div",{className:"absolute -top-1 -left-1 w-1.5 h-1.5 rounded-full bg-indigo-300 animate-spin-slow",style:{animationDuration:"1.5s"}}):h&&p===0?t.jsx("div",{className:"absolute -top-1 -left-1 w-1.5 h-1.5 rounded-full bg-gray-400 animate-pulse-slow opacity-50",style:{animationDelay:"0.5s"}}):t.jsx("div",{className:"absolute -top-1 -left-1 w-1.5 h-1.5 rounded-full bg-indigo-300 animate-pulse-slow",style:{animationDelay:"0.5s"}})]})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 relative overflow-hidden swipe-button",onClick:ye,style:{background:"linear-gradient(140deg, #fda4af 0%, #e11d48 100%)",boxShadow:"0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(225, 29, 72, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",Te.currentTarget.style.boxShadow="0 6px 10px rgba(225, 29, 72, 0.35), 0 10px 30px rgba(225, 29, 72, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(225, 29, 72, 0.1)"},onMouseOut:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(10deg)",Te.currentTarget.style.boxShadow="0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(225, 29, 72, 0.1)"},children:t.jsxs("div",{className:"relative",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),t.jsx("div",{className:"absolute -top-1 -left-1 w-1.5 h-1.5 rounded-full bg-rose-300 animate-pulse-slow",style:{animationDelay:"0.3s"}})]})}),t.jsx("button",{className:"w-16 h-16 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 relative overflow-hidden swipe-button",onClick:Te=>{if(!(b!=null&&b.hasActivatedProfile)){c==null||c();return}if(!f&&x){x();return}if(!A&&V){F(!0),J(!1);const Xe=Te.currentTarget,nt=document.createElement("div");nt.innerHTML="",nt.className="flying-star",nt.style.position="fixed",nt.style.zIndex="9999",nt.style.fontSize="2rem",nt.style.pointerEvents="none";const U=Xe.getBoundingClientRect();nt.style.left=`${U.left+U.width/2-16}px`,nt.style.top=`${U.top+U.height/2-16}px`,document.body.appendChild(nt);const K=Te.currentTarget.closest(".swipe-card");if(K){let je,Ae;const st=K.querySelector(".percentage-badge-container");if(st){const Qe=st.getBoundingClientRect();je=Qe.left+Qe.width/2,Ae=Qe.top+Qe.height/2}else{const Qe=K.getBoundingClientRect();je=Qe.right-50,Ae=Qe.top+30}const Pt=U.left+U.width/2,Nt=U.top+U.height/2,Ce=je-Pt,qe=Ae-Nt;nt.style.setProperty("--target-x",`${Ce}px`),nt.style.setProperty("--target-y",`${qe}px`),nt.style.animation="emoji-fly-to-target 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards",setTimeout(()=>{const Qe=document.getElementById("flying-black-star");Qe&&(Qe.style.setProperty("--target-x",`${Ce}px`),Qe.style.setProperty("--target-y",`${qe}px`),Qe.style.animation="emoji-fly-to-target 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards")},50),setTimeout(()=>{const Qe=K.querySelector(".percentage-badge-container");if(Qe){const Ut=Qe.querySelector(".padlock-overlay");Ut&&(Ut.classList.add("padlock-unlock"),setTimeout(()=>{O(!0)},400)),Qe.classList.add("percentage-badge-hit"),setTimeout(()=>{Qe.classList.remove("percentage-badge-hit")},600)}const Mt=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b"];for(let Ut=0;Ut<5;Ut++)setTimeout(()=>{const Ct=document.createElement("div");Ct.innerHTML="",Ct.className="confetti-particle",Ct.style.position="fixed",Ct.style.left=je+"px",Ct.style.top=Ae+"px",Ct.style.fontSize="1.2rem",Ct.style.pointerEvents="none",Ct.style.zIndex="9998",Ct.style.color=Mt[Ut],document.body.appendChild(Ct);const ht=Math.PI*2*Ut/5,tr=60+Math.random()*40,we=Math.cos(ht)*tr,pt=Math.sin(ht)*tr;Ct.style.transition="all 0.8s ease-out",Ct.style.transform=`translate(${we}px, ${pt}px) scale(0.5)`,Ct.style.opacity="0",setTimeout(()=>{Ct.parentNode&&Ct.parentNode.removeChild(Ct)},800)},Ut*50);setTimeout(()=>{nt.parentNode&&nt.parentNode.removeChild(nt)},200)},1500)}setTimeout(()=>{F(!1)},2e3)}},style:{background:"linear-gradient(140deg, #fde68a 0%, #fbbf24 100%)",boxShadow:"0 4px 6px rgba(251, 191, 36, 0.25), 0 8px 24px rgba(251, 191, 36, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(251, 191, 36, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",Te.currentTarget.style.boxShadow="0 6px 10px rgba(251, 191, 36, 0.35), 0 10px 30px rgba(251, 191, 36, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(251, 191, 36, 0.1)"},onMouseOut:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(10deg)",Te.currentTarget.style.boxShadow="0 4px 6px rgba(251, 191, 36, 0.25), 0 8px 24px rgba(251, 191, 36, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(251, 191, 36, 0.1)"},children:t.jsxs("div",{className:"perspective-[800px] relative",style:{animation:"star-spin-3d 3s linear infinite",transformStyle:"preserve-3d"},children:[V&&t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9",viewBox:"0 0 24 24",fill:"black",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",transformStyle:"preserve-3d"},children:t.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),V&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-1.5 rounded-full bg-amber-300 animate-pulse-slow",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"absolute -bottom-1 left-2 w-1 h-1 rounded-full bg-amber-400 animate-pulse-slow",style:{animationDelay:"0.7s"}})]})]})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 relative overflow-hidden swipe-button",onClick:$e,style:{background:"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(16, 185, 129, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",Te.currentTarget.style.boxShadow="0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(16, 185, 129, 0.1)"},onMouseOut:Te=>{Te.currentTarget.style.transform="perspective(500px) rotateX(10deg)",Te.currentTarget.style.boxShadow="0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(16, 185, 129, 0.1)"},children:t.jsxs("div",{className:"relative",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:t.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),t.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 rounded-full bg-emerald-300 animate-pulse-slow",style:{animationDelay:"0.5s"}})]})}),l!=="match"&&t.jsx("button",{ref:Ne,className:`w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 relative overflow-hidden swipe-button ${at==="sending"?"button-click-effect":""}`,onClick:xt,disabled:at!=="default",style:{background:"linear-gradient(140deg, #7dd3fc 0%, #0ea5e9 100%)",boxShadow:"0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(14, 165, 233, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:Te=>{at==="default"&&(Te.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",Te.currentTarget.style.boxShadow="0 6px 10px rgba(14, 165, 233, 0.35), 0 10px 30px rgba(14, 165, 233, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(14, 165, 233, 0.1)")},onMouseOut:Te=>{at==="default"&&(Te.currentTarget.style.transform="perspective(500px) rotateX(10deg)",Te.currentTarget.style.boxShadow="0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(14, 165, 233, 0.1)")},children:t.jsxs("div",{className:"relative",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),at==="success"?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-8 h-8 rounded-full bg-sky-200 opacity-70 animate-ping",style:{animationDuration:"1s"}})}):at==="sending"?t.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 rounded-full bg-sky-300 animate-spin-slow",style:{animationDuration:"1.5s"}}):t.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 rounded-full bg-sky-300 animate-ping",style:{animationDuration:"2s"}})]})})]})]}),A&&t.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:[t.jsx("div",{id:"flying-black-star",className:"absolute bottom-16 left-1/2 transform -translate-x-1/2",style:{animation:"star-flight 1.5s ease-in-out forwards",animationDelay:"0s"},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"black",stroke:"black",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",animation:"star-rotate 1.5s linear infinite"},children:t.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),t.jsx("div",{className:"absolute top-4 right-4",style:{animation:"confetti-explosion 0.8s ease-out forwards",animationDelay:"1.4s"},children:Array.from({length:12}).map((Te,Xe)=>t.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:["#fbbf24","#f59e0b","#d97706","#b45309","#92400e"][Xe%5],animation:`confetti-particle-${Xe%4} 1s ease-out forwards`,animationDelay:`${1.4+Xe*.05}s`}},Xe))})]}),X&&t.jsxs("div",{className:"unlock-guide-arrow arrow-meet",children:[t.jsx("div",{className:"unlock-guide-text",children:"Click  to unlock"}),t.jsxs("div",{className:"arrow-line-container",children:[t.jsx("div",{className:"arrow-line"}),t.jsx("div",{className:"arrow-head"})]})]})]})}function xZ(e){if(!e)return"Unknown";const r=new Date,n=new Date(e);let a=r.getFullYear()-n.getFullYear();const s=r.getMonth()-n.getMonth();return(s<0||s===0&&r.getDate()<n.getDate())&&a--,a<0?"0":a.toString()}const v_=u.createContext(void 0);function yZ({children:e}){const[r,n]=u.useState(0),[a,s]=u.useState(0);return t.jsx(v_.Provider,{value:{matchCount:r,likeCount:a,totalCount:r+a,setMatchCount:n,setLikeCount:s},children:e})}function k2(){const e=u.useContext(v_);if(e===void 0)throw new Error("useMatchCount must be used within a MatchCountProvider");return e}function S2(){const{user:e}=Sr(),{currentMode:r}=Ts(),n=Ma(),a=u.useRef(null);u.useEffect(()=>{Ri(async()=>{const{resetMessageTracking:m}=await import("./unread-count-fix-C-IFPLgC.js");return{resetMessageTracking:m}},[]).then(({resetMessageTracking:m})=>{console.log("[UNREAD-COUNT-FIX] Initializing global unread count tracking"),m()}).catch(m=>{console.error("[UNREAD-COUNT-FIX] Failed to initialize unread count fix:",m)})},[]);const s=`/api/messages/unread/count?mode=${r}`;console.log(`[UNREAD-MESSAGES] Hook initialized for mode: ${r}, user: ${e==null?void 0:e.id}`);const{data:i,isLoading:o,error:l,refetch:c}=dt({queryKey:["/api/messages/unread/count",r],queryFn:async()=>{if(!e)return{count:0};try{console.log(`[UNREAD-MESSAGES] Fetching unread count for ${r} mode from ${s}`);const m=await fetch(s);if(!m.ok)throw new Error(`Error fetching unread count: ${m.status}`);const h=await m.json();return console.log(`[UNREAD-MESSAGES] Received unread count for ${r}:`,h),h}catch(m){return console.error(`Error fetching unread count for ${r}:`,m),{count:0}}},enabled:!!e,refetchInterval:30*1e3,retry:!1}),d=u.useCallback(()=>{e&&c()},[e,c]);return u.useEffect(()=>{if(!e)return;a.current!==e.id&&(a.current=e.id,d());const m=x=>{x.key&&(x.key.startsWith(`match_${r}_`)||x.key===`last_match_created_${r}`||x.key===`messages_viewed_at_${r}`)&&d()};window.addEventListener("storage",m);const h=()=>{d()},p=x=>{var g;((g=x.detail)==null?void 0:g.mode)===r&&(n.setQueryData(["/api/messages/unread/count",r],v=>({count:((v==null?void 0:v.count)||0)+1})),setTimeout(()=>d(),1e3))},f=`messages-viewed-${r}`;return window.addEventListener(f,h),window.addEventListener("unread-count:increment",p),()=>{window.removeEventListener("storage",m),window.removeEventListener(f,h),window.removeEventListener("unread-count:increment",p)}},[e,d,r,n]),{unreadCount:(i==null?void 0:i.count)||0,isLoading:o,error:l,refetch:d}}function b_(){var o,l,c,d,m,h;const{user:e}=Sr(),{data:r,isLoading:n,refetch:a}=dt({queryKey:["/api/suite/connections/counts"],enabled:!!e,refetchInterval:3e4,staleTime:1e4}),s=r,i=s?(((o=s.networking)==null?void 0:o.total)||0)+(((l=s.mentorship)==null?void 0:l.total)||0)+(((c=s.jobs)==null?void 0:c.total)||0):0;return{counts:s,totalCount:i,networkingCount:((d=s==null?void 0:s.networking)==null?void 0:d.total)||0,mentorshipCount:((m=s==null?void 0:s.mentorship)==null?void 0:m.total)||0,jobsCount:((h=s==null?void 0:s.jobs)==null?void 0:h.total)||0,isLoading:n,refetch:a}}function Mh({count:e,maxCount:r=99,className:n,variant:a="default"}){if(e<=0)return null;const s=e>r?`${r}+`:e.toString(),i=a==="attention"?{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",stiffness:400,damping:10}},whileHover:{scale:1.1},...e>0?{animate:{scale:[1,1.15,1],opacity:1,transition:{repeat:1/0,repeatType:"reverse",duration:1.5,ease:"easeInOut"}}}:{}}:{};return t.jsx(E.span,{className:We("absolute -top-1 -right-1 text-white text-[8px] font-bold rounded-full min-w-[14px] h-[14px] flex items-center justify-center px-1",a==="attention"?"bg-gradient-to-r from-pink-500 to-red-500 shadow-md shadow-pink-500/20":"bg-pink-500",n),...i,children:s})}function Ns(){const[e,r]=lr(),{currentMode:n,startTransition:a}=Ts(),{translate:s}=tn(),{darkMode:i}=Za(),{likeCount:o}=k2(),{unreadCount:l,refetch:c}=S2(),{totalCount:d}=b_(),m=()=>{switch(n){case"MEET":return t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`flex flex-col items-center py-0.5 px-2 ${e==="/"?"text-purple-600":"text-gray-400"}`,onClick:()=>r("/"),children:[t.jsx(yT,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.discover")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/messages"?"text-purple-600":"text-gray-400"}`,onClick:()=>{r("/messages"),c()},children:[t.jsxs("div",{className:"relative",children:[t.jsx(hn,{className:"w-5 h-5"}),t.jsx(Mh,{count:l,variant:"attention"})]}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.messages")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e.startsWith("/matches")?"text-purple-600":"text-gray-400"}`,onClick:()=>r("/matches"),children:[t.jsxs("div",{className:"relative",children:[t.jsx(Yt,{className:"w-5 h-5"}),o>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-500 text-white text-[8px] font-bold rounded-full min-w-[14px] h-[14px] flex items-center justify-center px-1",children:o>99?"99+":o})]}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.matches")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/profile"?"text-purple-600":"text-gray-400"}`,onClick:()=>r("/profile"),children:[t.jsx(Po,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.profile")})]})]});case"HEAT":return t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/heat"?"text-orange-500":"text-gray-400"}`,onClick:()=>r("/heat"),children:[t.jsx(Hs,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.feed")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/heat/explore"?"text-orange-500":"text-gray-400"}`,onClick:()=>r("/heat/explore"),children:[t.jsx(so,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.explore")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/messages"?"text-orange-500":"text-gray-400"}`,onClick:()=>{r("/messages"),c()},children:[t.jsxs("div",{className:"relative",children:[t.jsx(hn,{className:"w-5 h-5"}),t.jsx(Mh,{count:l,variant:"attention"})]}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.messages")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/profile"?"text-orange-500":"text-gray-400"}`,onClick:()=>r("/profile"),children:[t.jsx(Po,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.profile")})]})]});case"SUITE":return t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/suite/network"?"text-blue-600":"text-gray-400"}`,onClick:()=>r("/suite/network"),children:[t.jsx(so,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.discover")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/suite/connections"?"text-blue-600":"text-gray-400"}`,onClick:()=>r("/suite/connections"),children:[t.jsxs("div",{className:"relative",children:[t.jsx(Jt,{className:"w-5 h-5"}),t.jsx(Mh,{count:d})]}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.connections")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/messages"?"text-blue-600":"text-gray-400"}`,onClick:()=>{r("/messages"),c()},children:[t.jsxs("div",{className:"relative",children:[t.jsx(hn,{className:"w-5 h-5"}),t.jsx(Mh,{count:l,variant:"attention"})]}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.messages")})]}),t.jsxs("button",{className:`flex flex-col items-center py-1 px-2 ${e==="/profile"?"text-blue-600":"text-gray-400"}`,onClick:()=>r("/profile"),children:[t.jsx(Po,{className:"w-5 h-5"}),t.jsx("span",{className:"text-[9px] mt-0.5",children:s("navigation.profile")})]})]});default:return null}};return t.jsx("nav",{className:`fixed bottom-0 left-0 right-0 py-0.5 px-2 shadow-lg z-50 ${i?"bg-gray-900":"border-t border-white bg-white"}`,children:t.jsx("div",{className:"flex justify-around",children:m()})})}var vZ=u.createContext(void 0);function Mc(e){const r=u.useContext(vZ);return e||r||"ltr"}var ub=0;function xy(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??AE()),document.body.insertAdjacentElement("beforeend",e[1]??AE()),ub++,()=>{ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),ub--}},[])}function AE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mb="focusScope.autoFocusOnMount",hb="focusScope.autoFocusOnUnmount",ME={bubbles:!1,cancelable:!0},bZ="FocusScope",Nf=u.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=zn(s),m=zn(i),h=u.useRef(null),p=sr(r,g=>c(g)),f=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(a){let g=function(w){if(f.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:Ml(h.current,{select:!0})},v=function(w){if(f.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ml(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ml(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[a,l,f.paused]),u.useEffect(()=>{if(l){IE.add(f);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(mb,ME);l.addEventListener(mb,d),l.dispatchEvent(y),y.defaultPrevented||(wZ(CZ(w_(l)),{select:!0}),document.activeElement===g&&Ml(l))}return()=>{l.removeEventListener(mb,d),setTimeout(()=>{const y=new CustomEvent(hb,ME);l.addEventListener(hb,m),l.dispatchEvent(y),y.defaultPrevented||Ml(g??document.body,{select:!0}),l.removeEventListener(hb,m),IE.remove(f)},0)}}},[l,d,m,f]);const x=u.useCallback(g=>{if(!n&&!a||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[w,S]=jZ(b);w&&S?!g.shiftKey&&y===S?(g.preventDefault(),n&&Ml(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&Ml(S,{select:!0})):y===b&&g.preventDefault()}},[n,a,f.paused]);return t.jsx(bt.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Nf.displayName=bZ;function wZ(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(Ml(a,{select:r}),document.activeElement!==n)return}function jZ(e){const r=w_(e),n=TE(r,e),a=TE(r.reverse(),e);return[n,a]}function w_(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function TE(e,r){for(const n of e)if(!NZ(n,{upTo:r}))return n}function NZ(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kZ(e){return e instanceof HTMLInputElement&&"select"in e}function Ml(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kZ(e)&&r&&e.select()}}var IE=SZ();function SZ(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=_E(e,r),e.unshift(r)},remove(r){var n;e=_E(e,r),(n=e[0])==null||n.resume()}}}function _E(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function CZ(e){return e.filter(r=>r.tagName!=="A")}var EZ=c3.useId||(()=>{}),PZ=0;function Aa(e){const[r,n]=u.useState(EZ());return Fa(()=>{n(a=>a??String(PZ++))},[e]),r?`radix-${r}`:""}const AZ=["top","right","bottom","left"],gc=Math.min,ei=Math.max,nx=Math.round,S0=Math.floor,To=e=>({x:e,y:e}),MZ={left:"right",right:"left",bottom:"top",top:"bottom"},TZ={start:"end",end:"start"};function _1(e,r,n){return ei(e,gc(r,n))}function fl(e,r){return typeof e=="function"?e(r):e}function gl(e){return e.split("-")[0]}function Vm(e){return e.split("-")[1]}function C2(e){return e==="x"?"y":"x"}function E2(e){return e==="y"?"height":"width"}function xc(e){return["top","bottom"].includes(gl(e))?"y":"x"}function P2(e){return C2(xc(e))}function IZ(e,r,n){n===void 0&&(n=!1);const a=Vm(e),s=P2(e),i=E2(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=ax(o)),[o,ax(o)]}function _Z(e){const r=ax(e);return[D1(e),r,D1(r)]}function D1(e){return e.replace(/start|end/g,r=>TZ[r])}function DZ(e,r,n){const a=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?r?s:a:r?a:s;case"left":case"right":return r?i:o;default:return[]}}function RZ(e,r,n,a){const s=Vm(e);let i=DZ(gl(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(D1)))),i}function ax(e){return e.replace(/left|right|bottom|top/g,r=>MZ[r])}function OZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function j_(e){return typeof e!="number"?OZ(e):{top:e,right:e,bottom:e,left:e}}function sx(e){const{x:r,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:r,right:r+a,bottom:n+s,x:r,y:n}}function DE(e,r,n){let{reference:a,floating:s}=e;const i=xc(r),o=P2(r),l=E2(o),c=gl(r),d=i==="y",m=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,p=a[l]/2-s[l]/2;let f;switch(c){case"top":f={x:m,y:a.y-s.height};break;case"bottom":f={x:m,y:a.y+a.height};break;case"right":f={x:a.x+a.width,y:h};break;case"left":f={x:a.x-s.width,y:h};break;default:f={x:a.x,y:a.y}}switch(Vm(r)){case"start":f[o]-=p*(n&&d?-1:1);break;case"end":f[o]+=p*(n&&d?-1:1);break}return f}const LZ=async(e,r,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:m,y:h}=DE(d,a,c),p=a,f={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:w,data:S,reset:N}=await y({x:m,y:h,initialPlacement:a,placement:p,strategy:s,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:r}});m=b??m,h=w??h,f={...f,[v]:{...f[v],...S}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):N.rects),{x:m,y:h}=DE(d,p,c)),g=-1)}return{x:m,y:h,placement:p,strategy:s,middlewareData:f}};async function Ep(e,r){var n;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=fl(r,e),x=j_(f),v=l[p?h==="floating"?"reference":"floating":h],y=sx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),b=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=sx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-N.top+x.top)/S.y,bottom:(N.bottom-y.bottom+x.bottom)/S.y,left:(y.left-N.left+x.left)/S.x,right:(N.right-y.right+x.right)/S.x}}const $Z=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:d,padding:m=0}=fl(e,r)||{};if(d==null)return{};const h=j_(m),p={x:n,y:a},f=P2(s),x=E2(f),g=await o.getDimensions(d),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[f]-p[f]-i.floating[x],N=p[f]-i.reference[f],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=P?P[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(P)))&&(C=l.floating[w]||i.floating[x]);const I=S/2-N/2,T=C/2-g[x]/2-1,_=gc(h[y],T),k=gc(h[b],T),A=_,F=C-g[x]-k,V=C/2-g[x]/2+I,J=_1(A,V,F),M=!c.arrow&&Vm(s)!=null&&V!==J&&i.reference[x]/2-(V<A?_:k)-g[x]/2<0,R=M?V<A?V-A:V-F:0;return{[f]:p[f]+R,data:{[f]:J,centerOffset:V-J-R,...M&&{alignmentOffset:R}},reset:M}}}),FZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=r,{mainAxis:m=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=fl(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=gl(s),b=xc(l),w=gl(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=p||(w||!g?[ax(l)]:_Z(l)),P=x!=="none";!p&&P&&N.push(...RZ(l,g,x,S));const C=[l,...N],I=await Ep(r,v),T=[];let _=((a=i.flip)==null?void 0:a.overflows)||[];if(m&&T.push(I[y]),h){const V=IZ(s,o,S);T.push(I[V[0]],I[V[1]])}if(_=[..._,{placement:s,overflows:T}],!T.every(V=>V<=0)){var k,A;const V=(((k=i.flip)==null?void 0:k.index)||0)+1,J=C[V];if(J)return{data:{index:V,overflows:_},reset:{placement:J}};let M=(A=_.filter(R=>R.overflows[0]<=0).sort((R,B)=>R.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!M)switch(f){case"bestFit":{var F;const R=(F=_.filter(B=>{if(P){const O=xc(B.placement);return O===b||O==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(O=>O>0).reduce((O,X)=>O+X,0)]).sort((B,O)=>B[1]-O[1])[0])==null?void 0:F[0];R&&(M=R);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function RE(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function OE(e){return AZ.some(r=>e[r]>=0)}const UZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:a="referenceHidden",...s}=fl(e,r);switch(a){case"referenceHidden":{const i=await Ep(r,{...s,elementContext:"reference"}),o=RE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:OE(o)}}}case"escaped":{const i=await Ep(r,{...s,altBoundary:!0}),o=RE(i,n.floating);return{data:{escapedOffsets:o,escaped:OE(o)}}}default:return{}}}}};async function BZ(e,r){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=gl(n),l=Vm(n),c=xc(n)==="y",d=["left","top"].includes(o)?-1:1,m=i&&c?-1:1,h=fl(r,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*m,y:p*d}:{x:p*d,y:f*m}}const GZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,a;const{x:s,y:i,placement:o,middlewareData:l}=r,c=await BZ(r,e);return o===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},VZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=fl(e,r),d={x:n,y:a},m=await Ep(r,c),h=xc(gl(s)),p=C2(h);let f=d[p],x=d[h];if(i){const v=p==="y"?"top":"left",y=p==="y"?"bottom":"right",b=f+m[v],w=f-m[y];f=_1(b,f,w)}if(o){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=x+m[v],w=x-m[y];x=_1(b,x,w)}const g=l.fn({...r,[p]:f,[h]:x});return{...g,data:{x:g.x-n,y:g.y-a,enabled:{[p]:i,[h]:o}}}}}},zZ=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=fl(e,r),m={x:n,y:a},h=xc(s),p=C2(h);let f=m[p],x=m[h];const g=fl(l,r),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",S=i.reference[p]-i.floating[w]+v.mainAxis,N=i.reference[p]+i.reference[w]-v.mainAxis;f<S?f=S:f>N&&(f=N)}if(d){var y,b;const w=p==="y"?"width":"height",S=["top","left"].includes(gl(s)),N=i.reference[h]-i.floating[w]+(S&&((y=o.offset)==null?void 0:y[h])||0)+(S?0:v.crossAxis),P=i.reference[h]+i.reference[w]+(S?0:((b=o.offset)==null?void 0:b[h])||0)-(S?v.crossAxis:0);x<N?x=N:x>P&&(x=P)}return{[p]:f,[h]:x}}}},WZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,a;const{placement:s,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...d}=fl(e,r),m=await Ep(r,d),h=gl(s),p=Vm(s),f=xc(s)==="y",{width:x,height:g}=i.floating;let v,y;h==="top"||h==="bottom"?(v=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,v=p==="end"?"top":"bottom");const b=g-m.top-m.bottom,w=x-m.left-m.right,S=gc(g-m[v],b),N=gc(x-m[y],w),P=!r.middlewareData.shift;let C=S,I=N;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(I=w),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(C=b),P&&!p){const _=ei(m.left,0),k=ei(m.right,0),A=ei(m.top,0),F=ei(m.bottom,0);f?I=x-2*(_!==0||k!==0?_+k:ei(m.left,m.right)):C=g-2*(A!==0||F!==0?A+F:ei(m.top,m.bottom))}await c({...r,availableWidth:I,availableHeight:C});const T=await o.getDimensions(l.floating);return x!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function yy(){return typeof window<"u"}function zm(e){return N_(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Lo(e){var r;return(r=(N_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function N_(e){return yy()?e instanceof Node||e instanceof oi(e).Node:!1}function io(e){return yy()?e instanceof Element||e instanceof oi(e).Element:!1}function Do(e){return yy()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function LE(e){return!yy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}function kf(e){const{overflow:r,overflowX:n,overflowY:a,display:s}=oo(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+n)&&!["inline","contents"].includes(s)}function HZ(e){return["table","td","th"].includes(zm(e))}function vy(e){return[":popover-open",":modal"].some(r=>{try{return e.matches(r)}catch{return!1}})}function A2(e){const r=M2(),n=io(e)?oo(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function KZ(e){let r=yc(e);for(;Do(r)&&!ym(r);){if(A2(r))return r;if(vy(r))return null;r=yc(r)}return null}function M2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ym(e){return["html","body","#document"].includes(zm(e))}function oo(e){return oi(e).getComputedStyle(e)}function by(e){return io(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yc(e){if(zm(e)==="html")return e;const r=e.assignedSlot||e.parentNode||LE(e)&&e.host||Lo(e);return LE(r)?r.host:r}function k_(e){const r=yc(e);return ym(r)?e.ownerDocument?e.ownerDocument.body:e.body:Do(r)&&kf(r)?r:k_(r)}function Pp(e,r,n){var a;r===void 0&&(r=[]),n===void 0&&(n=!0);const s=k_(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=oi(s);if(i){const l=R1(o);return r.concat(o,o.visualViewport||[],kf(s)?s:[],l&&n?Pp(l):[])}return r.concat(s,Pp(s,[],n))}function R1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S_(e){const r=oo(e);let n=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=Do(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,l=nx(n)!==i||nx(a)!==o;return l&&(n=i,a=o),{width:n,height:a,$:l}}function T2(e){return io(e)?e:e.contextElement}function Ru(e){const r=T2(e);if(!Do(r))return To(1);const n=r.getBoundingClientRect(),{width:a,height:s,$:i}=S_(r);let o=(i?nx(n.width):n.width)/a,l=(i?nx(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const qZ=To(0);function C_(e){const r=oi(e);return!M2()||!r.visualViewport?qZ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function YZ(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==oi(e)?!1:r}function Td(e,r,n,a){r===void 0&&(r=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=T2(e);let o=To(1);r&&(a?io(a)&&(o=Ru(a)):o=Ru(e));const l=YZ(i,n,a)?C_(i):To(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,m=s.width/o.x,h=s.height/o.y;if(i){const p=oi(i),f=a&&io(a)?oi(a):a;let x=p,g=R1(x);for(;g&&a&&f!==x;){const v=Ru(g),y=g.getBoundingClientRect(),b=oo(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,m*=v.x,h*=v.y,c+=w,d+=S,x=oi(g),g=R1(x)}}return sx({width:m,height:h,x:c,y:d})}function I2(e,r){const n=by(e).scrollLeft;return r?r.left+n:Td(Lo(e)).left+n}function E_(e,r,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+r.scrollLeft-(n?0:I2(e,a)),i=a.top+r.scrollTop;return{x:s,y:i}}function QZ(e){let{elements:r,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Lo(a),l=r?vy(r.floating):!1;if(a===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=To(1);const m=To(0),h=Do(a);if((h||!h&&!i)&&((zm(a)!=="body"||kf(o))&&(c=by(a)),Do(a))){const f=Td(a);d=Ru(a),m.x=f.x+a.clientLeft,m.y=f.y+a.clientTop}const p=o&&!h&&!i?E_(o,c,!0):To(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:n.y*d.y-c.scrollTop*d.y+m.y+p.y}}function JZ(e){return Array.from(e.getClientRects())}function XZ(e){const r=Lo(e),n=by(e),a=e.ownerDocument.body,s=ei(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=ei(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+I2(e);const l=-n.scrollTop;return oo(a).direction==="rtl"&&(o+=ei(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function ZZ(e,r){const n=oi(e),a=Lo(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=M2();(!d||d&&r==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function eee(e,r){const n=Td(e,!0,r==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=Do(e)?Ru(e):To(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function $E(e,r,n){let a;if(r==="viewport")a=ZZ(e,n);else if(r==="document")a=XZ(Lo(e));else if(io(r))a=eee(r,n);else{const s=C_(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return sx(a)}function P_(e,r){const n=yc(e);return n===r||!io(n)||ym(n)?!1:oo(n).position==="fixed"||P_(n,r)}function tee(e,r){const n=r.get(e);if(n)return n;let a=Pp(e,[],!1).filter(l=>io(l)&&zm(l)!=="body"),s=null;const i=oo(e).position==="fixed";let o=i?yc(e):e;for(;io(o)&&!ym(o);){const l=oo(o),c=A2(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||kf(o)&&!c&&P_(e,o))?a=a.filter(m=>m!==o):s=l,o=yc(o)}return r.set(e,a),a}function ree(e){let{element:r,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?vy(r)?[]:tee(r,this._c):[].concat(n),a],l=o[0],c=o.reduce((d,m)=>{const h=$E(r,m,s);return d.top=ei(h.top,d.top),d.right=gc(h.right,d.right),d.bottom=gc(h.bottom,d.bottom),d.left=ei(h.left,d.left),d},$E(r,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nee(e){const{width:r,height:n}=S_(e);return{width:r,height:n}}function aee(e,r,n){const a=Do(r),s=Lo(r),i=n==="fixed",o=Td(e,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=To(0);if(a||!a&&!i)if((zm(r)!=="body"||kf(s))&&(l=by(r)),a){const p=Td(r,!0,i,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else s&&(c.x=I2(s));const d=s&&!a&&!i?E_(s,l):To(0),m=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:m,y:h,width:o.width,height:o.height}}function pb(e){return oo(e).position==="static"}function FE(e,r){if(!Do(e)||oo(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Lo(e)===n&&(n=n.ownerDocument.body),n}function A_(e,r){const n=oi(e);if(vy(e))return n;if(!Do(e)){let s=yc(e);for(;s&&!ym(s);){if(io(s)&&!pb(s))return s;s=yc(s)}return n}let a=FE(e,r);for(;a&&HZ(a)&&pb(a);)a=FE(a,r);return a&&ym(a)&&pb(a)&&!A2(a)?n:a||KZ(e)||n}const see=async function(e){const r=this.getOffsetParent||A_,n=this.getDimensions,a=await n(e.floating);return{reference:aee(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function iee(e){return oo(e).direction==="rtl"}const oee={convertOffsetParentRelativeRectToViewportRelativeRect:QZ,getDocumentElement:Lo,getClippingRect:ree,getOffsetParent:A_,getElementRects:see,getClientRects:JZ,getDimensions:nee,getScale:Ru,isElement:io,isRTL:iee};function lee(e,r){let n=null,a;const s=Lo(e);function i(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:m,width:h,height:p}=e.getBoundingClientRect();if(l||r(),!h||!p)return;const f=S0(m),x=S0(s.clientWidth-(d+h)),g=S0(s.clientHeight-(m+p)),v=S0(d),b={rootMargin:-f+"px "+-x+"px "+-g+"px "+-v+"px",threshold:ei(0,gc(1,c))||1};let w=!0;function S(N){const P=N[0].intersectionRatio;if(P!==c){if(!w)return o();P?o(!1,P):a=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return o(!0),i}function cee(e,r,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=T2(e),m=s||i?[...d?Pp(d):[],...Pp(r)]:[];m.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=d&&l?lee(d,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&f&&(f.unobserve(r),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(r)})),n()}),d&&!c&&f.observe(d),f.observe(r));let x,g=c?Td(e):null;c&&v();function v(){const y=Td(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,x=requestAnimationFrame(v)}return n(),()=>{var y;m.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const dee=GZ,uee=VZ,mee=FZ,hee=WZ,pee=UZ,UE=$Z,fee=zZ,gee=(e,r,n)=>{const a=new Map,s={platform:oee,...n},i={...s.platform,_c:a};return LZ(e,r,{...s,platform:i})};var lg=typeof document<"u"?u.useLayoutEffect:u.useEffect;function ix(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(a=n;a--!==0;)if(!ix(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!ix(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function M_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BE(e,r){const n=M_(e);return Math.round(r*n)/n}function fb(e){const r=u.useRef(e);return lg(()=>{r.current=e}),r}function xee(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,h]=u.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[p,f]=u.useState(a);ix(p,a)||f(a);const[x,g]=u.useState(null),[v,y]=u.useState(null),b=u.useCallback(B=>{B!==P.current&&(P.current=B,g(B))},[]),w=u.useCallback(B=>{B!==C.current&&(C.current=B,y(B))},[]),S=i||x,N=o||v,P=u.useRef(null),C=u.useRef(null),I=u.useRef(m),T=c!=null,_=fb(c),k=fb(s),A=fb(d),F=u.useCallback(()=>{if(!P.current||!C.current)return;const B={placement:r,strategy:n,middleware:p};k.current&&(B.platform=k.current),gee(P.current,C.current,B).then(O=>{const X={...O,isPositioned:A.current!==!1};V.current&&!ix(I.current,X)&&(I.current=X,bl.flushSync(()=>{h(X)}))})},[p,r,n,k,A]);lg(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[d]);const V=u.useRef(!1);lg(()=>(V.current=!0,()=>{V.current=!1}),[]),lg(()=>{if(S&&(P.current=S),N&&(C.current=N),S&&N){if(_.current)return _.current(S,N,F);F()}},[S,N,F,_,T]);const J=u.useMemo(()=>({reference:P,floating:C,setReference:b,setFloating:w}),[b,w]),M=u.useMemo(()=>({reference:S,floating:N}),[S,N]),R=u.useMemo(()=>{const B={position:n,left:0,top:0};if(!M.floating)return B;const O=BE(M.floating,m.x),X=BE(M.floating,m.y);return l?{...B,transform:"translate("+O+"px, "+X+"px)",...M_(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:X}},[n,l,M.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:F,refs:J,elements:M,floatingStyles:R}),[m,F,J,M,R])}const yee=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&r(a)?a.current!=null?UE({element:a.current,padding:s}).fn(n):{}:a?UE({element:a,padding:s}).fn(n):{}}}},vee=(e,r)=>({...dee(e),options:[e,r]}),bee=(e,r)=>({...uee(e),options:[e,r]}),wee=(e,r)=>({...fee(e),options:[e,r]}),jee=(e,r)=>({...mee(e),options:[e,r]}),Nee=(e,r)=>({...hee(e),options:[e,r]}),kee=(e,r)=>({...pee(e),options:[e,r]}),See=(e,r)=>({...yee(e),options:[e,r]});var Cee="Arrow",T_=u.forwardRef((e,r)=>{const{children:n,width:a=10,height:s=5,...i}=e;return t.jsx(bt.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});T_.displayName=Cee;var Eee=T_;function Pee(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:p,children:f,...x}=h,g=(p==null?void 0:p[e][c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})}function m(h,p){const f=(p==null?void 0:p[e][c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Aee(s,...r)]}function Aee(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function Sf(e){const[r,n]=u.useState(void 0);return Fa(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),r}var _2="Popper",[I_,Wm]=Pee(_2),[Mee,__]=I_(_2),D_=e=>{const{__scopePopper:r,children:n}=e,[a,s]=u.useState(null);return t.jsx(Mee,{scope:r,anchor:a,onAnchorChange:s,children:n})};D_.displayName=_2;var R_="PopperAnchor",O_=u.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=__(R_,n),o=u.useRef(null),l=sr(r,o);return u.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:t.jsx(bt.div,{...s,ref:l})});O_.displayName=R_;var D2="PopperContent",[Tee,Iee]=I_(D2),L_=u.forwardRef((e,r)=>{var ee,Z,Se,Ue,De,se;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...g}=e,v=__(D2,n),[y,b]=u.useState(null),w=sr(r,L=>b(L)),[S,N]=u.useState(null),P=Sf(S),C=(P==null?void 0:P.width)??0,I=(P==null?void 0:P.height)??0,T=a+(i!=="center"?"-"+i:""),_=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},k=Array.isArray(d)?d:[d],A=k.length>0,F={padding:_,boundary:k.filter(Dee),altBoundary:A},{refs:V,floatingStyles:J,placement:M,isPositioned:R,middlewareData:B}=xee({strategy:"fixed",placement:T,whileElementsMounted:(...L)=>cee(...L,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[vee({mainAxis:s+I,alignmentAxis:o}),c&&bee({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wee():void 0,...F}),c&&jee({...F}),Nee({...F,apply:({elements:L,rects:q,availableWidth:H,availableHeight:ge})=>{const{width:ke,height:z}=q.reference,ie=L.floating.style;ie.setProperty("--radix-popper-available-width",`${H}px`),ie.setProperty("--radix-popper-available-height",`${ge}px`),ie.setProperty("--radix-popper-anchor-width",`${ke}px`),ie.setProperty("--radix-popper-anchor-height",`${z}px`)}}),S&&See({element:S,padding:l}),Ree({arrowWidth:C,arrowHeight:I}),p&&kee({strategy:"referenceHidden",...F})]}),[O,X]=U_(M),ae=zn(x);Fa(()=>{R&&(ae==null||ae())},[R,ae]);const $=(ee=B.arrow)==null?void 0:ee.x,re=(Z=B.arrow)==null?void 0:Z.y,le=((Se=B.arrow)==null?void 0:Se.centerOffset)!==0,[ce,ue]=u.useState();return Fa(()=>{y&&ue(window.getComputedStyle(y).zIndex)},[y]),t.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:R?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(Ue=B.transformOrigin)==null?void 0:Ue.x,(De=B.transformOrigin)==null?void 0:De.y].join(" "),...((se=B.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(Tee,{scope:n,placedSide:O,onArrowChange:N,arrowX:$,arrowY:re,shouldHideArrow:le,children:t.jsx(bt.div,{"data-side":O,"data-align":X,...g,ref:w,style:{...g.style,animation:R?void 0:"none"}})})})});L_.displayName=D2;var $_="PopperArrow",_ee={top:"bottom",right:"left",bottom:"top",left:"right"},F_=u.forwardRef(function(r,n){const{__scopePopper:a,...s}=r,i=Iee($_,a),o=_ee[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(Eee,{...s,ref:n,style:{...s.style,display:"block"}})})});F_.displayName=$_;function Dee(e){return e!==null}var Ree=e=>({name:"transformOrigin",options:e,fn(r){var v,y,b;const{placement:n,rects:a,middlewareData:s}=r,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,m]=U_(n),h={start:"0%",center:"50%",end:"100%"}[m],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?h:`${p}px`,g=`${-c}px`):d==="top"?(x=o?h:`${p}px`,g=`${a.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?h:`${f}px`):d==="left"&&(x=`${a.floating.width+c}px`,g=o?h:`${f}px`),{data:{x,y:g}}}});function U_(e){const[r,n="center"]=e.split("-");return[r,n]}var R2=D_,wy=O_,O2=L_,L2=F_;function Oee(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:p,children:f,...x}=h,g=(p==null?void 0:p[e][c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})}function m(h,p){const f=(p==null?void 0:p[e][c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Lee(s,...r)]}function Lee(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}var gb="rovingFocusGroup.onEntryFocus",$ee={bubbles:!1,cancelable:!0},jy="RovingFocusGroup",[O1,B_,Fee]=Lm(jy),[Uee,Hm]=Oee(jy,[Fee]),[Bee,Gee]=Uee(jy),G_=u.forwardRef((e,r)=>t.jsx(O1.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(O1.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Vee,{...e,ref:r})})}));G_.displayName=jy;var Vee=u.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...h}=e,p=u.useRef(null),f=sr(r,p),x=Mc(i),[g=null,v]=Es({prop:o,defaultProp:l,onChange:c}),[y,b]=u.useState(!1),w=zn(d),S=B_(n),N=u.useRef(!1),[P,C]=u.useState(0);return u.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(gb,w),()=>I.removeEventListener(gb,w)},[w]),t.jsx(Bee,{scope:n,orientation:a,dir:x,loop:s,currentTabStopId:g,onItemFocus:u.useCallback(I=>v(I),[v]),onItemShiftTab:u.useCallback(()=>b(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:u.useCallback(()=>C(I=>I-1),[]),children:t.jsx(bt.div,{tabIndex:y||P===0?-1:0,"data-orientation":a,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:it(e.onMouseDown,()=>{N.current=!0}),onFocus:it(e.onFocus,I=>{const T=!N.current;if(I.target===I.currentTarget&&T&&!y){const _=new CustomEvent(gb,$ee);if(I.currentTarget.dispatchEvent(_),!_.defaultPrevented){const k=S().filter(M=>M.focusable),A=k.find(M=>M.active),F=k.find(M=>M.id===g),J=[A,F,...k].filter(Boolean).map(M=>M.ref.current);W_(J,m)}}N.current=!1}),onBlur:it(e.onBlur,()=>b(!1))})})}),V_="RovingFocusGroupItem",z_=u.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,...o}=e,l=Aa(),c=i||l,d=Gee(V_,n),m=d.currentTabStopId===c,h=B_(n),{onFocusableItemAdd:p,onFocusableItemRemove:f}=d;return u.useEffect(()=>{if(a)return p(),()=>f()},[a,p,f]),t.jsx(O1.ItemSlot,{scope:n,id:c,focusable:a,active:s,children:t.jsx(bt.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...o,ref:r,onMouseDown:it(e.onMouseDown,x=>{a?d.onItemFocus(c):x.preventDefault()}),onFocus:it(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:it(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=Hee(x,d.orientation,d.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const b=y.indexOf(x.currentTarget);y=d.loop?Kee(y,b+1):y.slice(b+1)}setTimeout(()=>W_(y))}})})})});z_.displayName=V_;var zee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wee(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Hee(e,r,n){const a=Wee(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return zee[a]}function W_(e,r=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:r}),document.activeElement!==n))return}function Kee(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var $2=G_,F2=z_,qee=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Xd=new WeakMap,C0=new WeakMap,E0={},xb=0,H_=function(e){return e&&(e.host||H_(e.parentNode))},Yee=function(e,r){return r.map(function(n){if(e.contains(n))return n;var a=H_(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Qee=function(e,r,n,a){var s=Yee(r,Array.isArray(e)?e:[e]);E0[n]||(E0[n]=new WeakMap);var i=E0[n],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var m=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))m(p);else try{var f=p.getAttribute(a),x=f!==null&&f!=="false",g=(Xd.get(p)||0)+1,v=(i.get(p)||0)+1;Xd.set(p,g),i.set(p,v),o.push(p),g===1&&x&&C0.set(p,!0),v===1&&p.setAttribute(n,"true"),x||p.setAttribute(a,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return m(r),l.clear(),xb++,function(){o.forEach(function(h){var p=Xd.get(h)-1,f=i.get(h)-1;Xd.set(h,p),i.set(h,f),p||(C0.has(h)||h.removeAttribute(a),C0.delete(h)),f||h.removeAttribute(n)}),xb--,xb||(Xd=new WeakMap,Xd=new WeakMap,C0=new WeakMap,E0={})}},Ny=function(e,r,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=qee(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Qee(a,s,n,"aria-hidden")):function(){return null}},L1=function(e,r){return L1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},L1(e,r)};function Jee(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");L1(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var jn=function(){return jn=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},jn.apply(this,arguments)};function K_(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function Xee(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}var cg="right-scroll-bar-position",dg="width-before-scroll-bar",Zee="with-scroll-bars-hidden",ete="--removed-body-scroll-bar-size";function yb(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function tte(e,r){var n=u.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=r,n.facade}var rte=typeof window<"u"?u.useLayoutEffect:u.useEffect,GE=new WeakMap;function nte(e,r){var n=tte(null,function(a){return e.forEach(function(s){return yb(s,a)})});return rte(function(){var a=GE.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||yb(l,null)}),i.forEach(function(l){s.has(l)||yb(l,o)})}GE.set(n,e)},[e]),n}function ate(e){return e}function ste(e,r){r===void 0&&(r=ate);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,a);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var m=o;o=[],m.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),n}}}};return s}function ite(e){e===void 0&&(e={});var r=ste(null);return r.options=jn({async:!0,ssr:!1},e),r}var q_=function(e){var r=e.sideCar,n=K_(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return u.createElement(a,jn({},n))};q_.isSideCarExport=!0;function ote(e,r){return e.useMedium(r),q_}var Y_=ite(),vb=function(){},ky=u.forwardRef(function(e,r){var n=u.useRef(null),a=u.useState({onScrollCapture:vb,onWheelCapture:vb,onTouchMoveCapture:vb}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,x=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,b=e.gapMode,w=K_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,N=nte([n,r]),P=jn(jn({},w),s);return u.createElement(u.Fragment,null,m&&u.createElement(S,{sideCar:Y_,removeScrollBar:d,shards:h,noIsolation:f,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?u.cloneElement(u.Children.only(l),jn(jn({},P),{ref:N})):u.createElement(y,jn({},P,{className:c,ref:N}),l))});ky.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ky.classNames={fullWidth:dg,zeroRight:cg};var lte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=lte();return r&&e.setAttribute("nonce",r),e}function dte(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function ute(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var mte=function(){var e=0,r=null;return{add:function(n){e==0&&(r=cte())&&(dte(r,n),ute(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},hte=function(){var e=mte();return function(r,n){u.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},Q_=function(){var e=hte(),r=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return r},pte={left:0,top:0,right:0,gap:0},bb=function(e){return parseInt(e||"",10)||0},fte=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[bb(n),bb(a),bb(s)]},gte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pte;var r=fte(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-n+r[2]-r[0])}},xte=Q_(),Ou="data-scroll-locked",yte=function(e,r,n,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Zee,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(Ou,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cg,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(dg,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(cg," .").concat(cg,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ou,`] {
    `).concat(ete,": ").concat(l,`px;
  }
`)},VE=function(){var e=parseInt(document.body.getAttribute(Ou)||"0",10);return isFinite(e)?e:0},vte=function(){u.useEffect(function(){return document.body.setAttribute(Ou,(VE()+1).toString()),function(){var e=VE()-1;e<=0?document.body.removeAttribute(Ou):document.body.setAttribute(Ou,e.toString())}},[])},bte=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;vte();var i=u.useMemo(function(){return gte(s)},[s]);return u.createElement(xte,{styles:yte(i,!r,s,n?"":"!important")})},$1=!1;if(typeof window<"u")try{var P0=Object.defineProperty({},"passive",{get:function(){return $1=!0,!0}});window.addEventListener("test",P0,P0),window.removeEventListener("test",P0,P0)}catch{$1=!1}var Zd=$1?{passive:!1}:!1,wte=function(e){return e.tagName==="TEXTAREA"},J_=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!wte(e)&&n[r]==="visible")},jte=function(e){return J_(e,"overflowY")},Nte=function(e){return J_(e,"overflowX")},zE=function(e,r){var n=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=X_(e,a);if(s){var i=Z_(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},kte=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},Ste=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},X_=function(e,r){return e==="v"?jte(r):Nte(r)},Z_=function(e,r){return e==="v"?kte(r):Ste(r)},Cte=function(e,r){return e==="h"&&r==="rtl"?-1:1},Ete=function(e,r,n,a,s){var i=Cte(e,window.getComputedStyle(r).direction),o=i*a,l=n.target,c=r.contains(l),d=!1,m=o>0,h=0,p=0;do{var f=Z_(e,l),x=f[0],g=f[1],v=f[2],y=g-v-i*x;(x||y)&&X_(e,l)&&(h+=y,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(m&&(Math.abs(h)<1||!s)||!m&&(Math.abs(p)<1||!s))&&(d=!0),d},A0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},WE=function(e){return[e.deltaX,e.deltaY]},HE=function(e){return e&&"current"in e?e.current:e},Pte=function(e,r){return e[0]===r[0]&&e[1]===r[1]},Ate=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Mte=0,eu=[];function Tte(e){var r=u.useRef([]),n=u.useRef([0,0]),a=u.useRef(),s=u.useState(Mte++)[0],i=u.useState(Q_)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Xee([e.lockRef.current],(e.shards||[]).map(HE),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=A0(g),b=n.current,w="deltaX"in g?g.deltaX:b[0]-y[0],S="deltaY"in g?g.deltaY:b[1]-y[1],N,P=g.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&P.type==="range")return!1;var I=zE(C,P);if(!I)return!0;if(I?N=C:(N=C==="v"?"h":"v",I=zE(C,P)),!I)return!1;if(!a.current&&"changedTouches"in g&&(w||S)&&(a.current=N),!N)return!0;var T=a.current||N;return Ete(T,v,g,T==="h"?w:S,!0)},[]),c=u.useCallback(function(g){var v=g;if(!(!eu.length||eu[eu.length-1]!==i)){var y="deltaY"in v?WE(v):A0(v),b=r.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Pte(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(HE).filter(Boolean).filter(function(N){return N.contains(v.target)}),S=w.length>0?l(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),d=u.useCallback(function(g,v,y,b){var w={name:g,delta:v,target:y,should:b,shadowParent:Ite(y)};r.current.push(w),setTimeout(function(){r.current=r.current.filter(function(S){return S!==w})},1)},[]),m=u.useCallback(function(g){n.current=A0(g),a.current=void 0},[]),h=u.useCallback(function(g){d(g.type,WE(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,A0(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return eu.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Zd),document.addEventListener("touchmove",c,Zd),document.addEventListener("touchstart",m,Zd),function(){eu=eu.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Zd),document.removeEventListener("touchmove",c,Zd),document.removeEventListener("touchstart",m,Zd)}},[]);var f=e.removeScrollBar,x=e.inert;return u.createElement(u.Fragment,null,x?u.createElement(i,{styles:Ate(s)}):null,f?u.createElement(bte,{gapMode:e.gapMode}):null)}function Ite(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const _te=ote(Y_,Tte);var Cf=u.forwardRef(function(e,r){return u.createElement(ky,jn({},e,{ref:r,sideCar:_te}))});Cf.classNames=ky.classNames;var F1=["Enter"," "],Dte=["ArrowDown","PageUp","Home"],eD=["ArrowUp","PageDown","End"],Rte=[...Dte,...eD],Ote={ltr:[...F1,"ArrowRight"],rtl:[...F1,"ArrowLeft"]},Lte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ef="Menu",[Ap,$te,Fte]=Lm(Ef),[Vd,tD]=ps(Ef,[Fte,Wm,Hm]),Sy=Wm(),rD=Hm(),[Ute,zd]=Vd(Ef),[Bte,Pf]=Vd(Ef),nD=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=Sy(r),[c,d]=u.useState(null),m=u.useRef(!1),h=zn(i),p=Mc(s);return u.useEffect(()=>{const f=()=>{m.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>m.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),t.jsx(R2,{...l,children:t.jsx(Ute,{scope:r,open:n,onOpenChange:h,content:c,onContentChange:d,children:t.jsx(Bte,{scope:r,onClose:u.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:m,dir:p,modal:o,children:a})})})};nD.displayName=Ef;var Gte="MenuAnchor",U2=u.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=Sy(n);return t.jsx(wy,{...s,...a,ref:r})});U2.displayName=Gte;var B2="MenuPortal",[Vte,aD]=Vd(B2,{forceMount:void 0}),sD=e=>{const{__scopeMenu:r,forceMount:n,children:a,container:s}=e,i=zd(B2,r);return t.jsx(Vte,{scope:r,forceMount:n,children:t.jsx(Ta,{present:n||i.open,children:t.jsx(Fm,{asChild:!0,container:s,children:a})})})};sD.displayName=B2;var Oi="MenuContent",[zte,G2]=Vd(Oi),iD=u.forwardRef((e,r)=>{const n=aD(Oi,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=zd(Oi,e.__scopeMenu),o=Pf(Oi,e.__scopeMenu);return t.jsx(Ap.Provider,{scope:e.__scopeMenu,children:t.jsx(Ta,{present:a||i.open,children:t.jsx(Ap.Slot,{scope:e.__scopeMenu,children:o.modal?t.jsx(Wte,{...s,ref:r}):t.jsx(Hte,{...s,ref:r})})})})}),Wte=u.forwardRef((e,r)=>{const n=zd(Oi,e.__scopeMenu),a=u.useRef(null),s=sr(r,a);return u.useEffect(()=>{const i=a.current;if(i)return Ny(i)},[]),t.jsx(V2,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:it(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Hte=u.forwardRef((e,r)=>{const n=zd(Oi,e.__scopeMenu);return t.jsx(V2,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),V2=u.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:x,...g}=e,v=zd(Oi,n),y=Pf(Oi,n),b=Sy(n),w=rD(n),S=$te(n),[N,P]=u.useState(null),C=u.useRef(null),I=sr(r,C,v.onContentChange),T=u.useRef(0),_=u.useRef(""),k=u.useRef(0),A=u.useRef(null),F=u.useRef("right"),V=u.useRef(0),J=x?Cf:u.Fragment,M=x?{as:_o,allowPinchZoom:!0}:void 0,R=O=>{var ee,Z;const X=_.current+O,ae=S().filter(Se=>!Se.disabled),$=document.activeElement,re=(ee=ae.find(Se=>Se.ref.current===$))==null?void 0:ee.textValue,le=ae.map(Se=>Se.textValue),ce=are(le,X,re),ue=(Z=ae.find(Se=>Se.textValue===ce))==null?void 0:Z.ref.current;(function Se(Ue){_.current=Ue,window.clearTimeout(T.current),Ue!==""&&(T.current=window.setTimeout(()=>Se(""),1e3))})(X),ue&&setTimeout(()=>ue.focus())};u.useEffect(()=>()=>window.clearTimeout(T.current),[]),xy();const B=u.useCallback(O=>{var ae,$;return F.current===((ae=A.current)==null?void 0:ae.side)&&ire(O,($=A.current)==null?void 0:$.area)},[]);return t.jsx(zte,{scope:n,searchRef:_,onItemEnter:u.useCallback(O=>{B(O)&&O.preventDefault()},[B]),onItemLeave:u.useCallback(O=>{var X;B(O)||((X=C.current)==null||X.focus(),P(null))},[B]),onTriggerLeave:u.useCallback(O=>{B(O)&&O.preventDefault()},[B]),pointerGraceTimerRef:k,onPointerGraceIntentChange:u.useCallback(O=>{A.current=O},[]),children:t.jsx(J,{...M,children:t.jsx(Nf,{asChild:!0,trapped:s,onMountAutoFocus:it(i,O=>{var X;O.preventDefault(),(X=C.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:t.jsx($m,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:t.jsx($2,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:P,onEntryFocus:it(c,O=>{y.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(O2,{role:"menu","aria-orientation":"vertical","data-state":jD(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:I,style:{outline:"none",...g.style},onKeyDown:it(g.onKeyDown,O=>{const ae=O.target.closest("[data-radix-menu-content]")===O.currentTarget,$=O.ctrlKey||O.altKey||O.metaKey,re=O.key.length===1;ae&&(O.key==="Tab"&&O.preventDefault(),!$&&re&&R(O.key));const le=C.current;if(O.target!==le||!Rte.includes(O.key))return;O.preventDefault();const ue=S().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);eD.includes(O.key)&&ue.reverse(),rre(ue)}),onBlur:it(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(T.current),_.current="")}),onPointerMove:it(e.onPointerMove,Mp(O=>{const X=O.target,ae=V.current!==O.clientX;if(O.currentTarget.contains(X)&&ae){const $=O.clientX>V.current?"right":"left";F.current=$,V.current=O.clientX}}))})})})})})})});iD.displayName=Oi;var Kte="MenuGroup",z2=u.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return t.jsx(bt.div,{role:"group",...a,ref:r})});z2.displayName=Kte;var qte="MenuLabel",oD=u.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return t.jsx(bt.div,{...a,ref:r})});oD.displayName=qte;var ox="MenuItem",KE="menu.itemSelect",Cy=u.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=u.useRef(null),o=Pf(ox,e.__scopeMenu),l=G2(ox,e.__scopeMenu),c=sr(r,i),d=u.useRef(!1),m=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(KE,{bubbles:!0,cancelable:!0});h.addEventListener(KE,f=>a==null?void 0:a(f),{once:!0}),IN(h,p),p.defaultPrevented?d.current=!1:o.onClose()}};return t.jsx(lD,{...s,ref:c,disabled:n,onClick:it(e.onClick,m),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),d.current=!0},onPointerUp:it(e.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:it(e.onKeyDown,h=>{const p=l.searchRef.current!=="";n||p&&h.key===" "||F1.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Cy.displayName=ox;var lD=u.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,o=G2(ox,n),l=rD(n),c=u.useRef(null),d=sr(r,c),[m,h]=u.useState(!1),[p,f]=u.useState("");return u.useEffect(()=>{const x=c.current;x&&f((x.textContent??"").trim())},[i.children]),t.jsx(Ap.ItemSlot,{scope:n,disabled:a,textValue:s??p,children:t.jsx(F2,{asChild:!0,...l,focusable:!a,children:t.jsx(bt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:it(e.onPointerMove,Mp(x=>{a?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:it(e.onPointerLeave,Mp(x=>o.onItemLeave(x))),onFocus:it(e.onFocus,()=>h(!0)),onBlur:it(e.onBlur,()=>h(!1))})})})}),Yte="MenuCheckboxItem",cD=u.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return t.jsx(pD,{scope:e.__scopeMenu,checked:n,children:t.jsx(Cy,{role:"menuitemcheckbox","aria-checked":lx(n)?"mixed":n,...s,ref:r,"data-state":H2(n),onSelect:it(s.onSelect,()=>a==null?void 0:a(lx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});cD.displayName=Yte;var dD="MenuRadioGroup",[Qte,Jte]=Vd(dD,{value:void 0,onValueChange:()=>{}}),uD=u.forwardRef((e,r)=>{const{value:n,onValueChange:a,...s}=e,i=zn(a);return t.jsx(Qte,{scope:e.__scopeMenu,value:n,onValueChange:i,children:t.jsx(z2,{...s,ref:r})})});uD.displayName=dD;var mD="MenuRadioItem",hD=u.forwardRef((e,r)=>{const{value:n,...a}=e,s=Jte(mD,e.__scopeMenu),i=n===s.value;return t.jsx(pD,{scope:e.__scopeMenu,checked:i,children:t.jsx(Cy,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":H2(i),onSelect:it(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});hD.displayName=mD;var W2="MenuItemIndicator",[pD,Xte]=Vd(W2,{checked:!1}),fD=u.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=Xte(W2,n);return t.jsx(Ta,{present:a||lx(i.checked)||i.checked===!0,children:t.jsx(bt.span,{...s,ref:r,"data-state":H2(i.checked)})})});fD.displayName=W2;var Zte="MenuSeparator",gD=u.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return t.jsx(bt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});gD.displayName=Zte;var ere="MenuArrow",xD=u.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=Sy(n);return t.jsx(L2,{...s,...a,ref:r})});xD.displayName=ere;var tre="MenuSub",[lye,yD]=Vd(tre),Th="MenuSubTrigger",vD=u.forwardRef((e,r)=>{const n=zd(Th,e.__scopeMenu),a=Pf(Th,e.__scopeMenu),s=yD(Th,e.__scopeMenu),i=G2(Th,e.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},m=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>m,[m]),u.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),t.jsx(U2,{asChild:!0,...d,children:t.jsx(lD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jD(n.open),...e,ref:iy(r,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:it(e.onPointerMove,Mp(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:it(e.onPointerLeave,Mp(h=>{var f,x;m();const p=(f=n.content)==null?void 0:f.getBoundingClientRect();if(p){const g=(x=n.content)==null?void 0:x.dataset.side,v=g==="right",y=v?-5:5,b=p[v?"left":"right"],w=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:b,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:it(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||Ote[a.dir].includes(h.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),h.preventDefault())})})})});vD.displayName=Th;var bD="MenuSubContent",wD=u.forwardRef((e,r)=>{const n=aD(Oi,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=zd(Oi,e.__scopeMenu),o=Pf(Oi,e.__scopeMenu),l=yD(bD,e.__scopeMenu),c=u.useRef(null),d=sr(r,c);return t.jsx(Ap.Provider,{scope:e.__scopeMenu,children:t.jsx(Ta,{present:a||i.open,children:t.jsx(Ap.Slot,{scope:e.__scopeMenu,children:t.jsx(V2,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:it(e.onFocusOutside,m=>{m.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:it(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:it(e.onKeyDown,m=>{var f;const h=m.currentTarget.contains(m.target),p=Lte[o.dir].includes(m.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),m.preventDefault())})})})})})});wD.displayName=bD;function jD(e){return e?"open":"closed"}function lx(e){return e==="indeterminate"}function H2(e){return lx(e)?"indeterminate":e?"checked":"unchecked"}function rre(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function nre(e,r){return e.map((n,a)=>e[(r+a)%e.length])}function are(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=nre(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function sre(e,r){const{x:n,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i].x,c=r[i].y,d=r[o].x,m=r[o].y;c>a!=m>a&&n<(d-l)*(a-c)/(m-c)+l&&(s=!s)}return s}function ire(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return sre(n,r)}function Mp(e){return r=>r.pointerType==="mouse"?e(r):void 0}var ore=nD,lre=U2,cre=sD,dre=iD,ure=z2,mre=oD,hre=Cy,pre=cD,fre=uD,gre=hD,xre=fD,yre=gD,vre=xD,bre=vD,wre=wD,K2="DropdownMenu",[jre,cye]=ps(K2,[tD]),Is=tD(),[Nre,ND]=jre(K2),kD=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Is(r),d=u.useRef(null),[m=!1,h]=Es({prop:s,defaultProp:i,onChange:o});return t.jsx(Nre,{scope:r,triggerId:Aa(),triggerRef:d,contentId:Aa(),open:m,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(p=>!p),[h]),modal:l,children:t.jsx(ore,{...c,open:m,onOpenChange:h,dir:a,modal:l,children:n})})};kD.displayName=K2;var SD="DropdownMenuTrigger",CD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=ND(SD,n),o=Is(n);return t.jsx(lre,{asChild:!0,...o,children:t.jsx(bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:iy(r,i.triggerRef),onPointerDown:it(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:it(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});CD.displayName=SD;var kre="DropdownMenuPortal",ED=e=>{const{__scopeDropdownMenu:r,...n}=e,a=Is(r);return t.jsx(cre,{...a,...n})};ED.displayName=kre;var PD="DropdownMenuContent",AD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=ND(PD,n),i=Is(n),o=u.useRef(!1);return t.jsx(dre,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:it(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:it(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,m=c.button===2||d;(!s.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AD.displayName=PD;var Sre="DropdownMenuGroup",Cre=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(ure,{...s,...a,ref:r})});Cre.displayName=Sre;var Ere="DropdownMenuLabel",MD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(mre,{...s,...a,ref:r})});MD.displayName=Ere;var Pre="DropdownMenuItem",TD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(hre,{...s,...a,ref:r})});TD.displayName=Pre;var Are="DropdownMenuCheckboxItem",ID=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(pre,{...s,...a,ref:r})});ID.displayName=Are;var Mre="DropdownMenuRadioGroup",Tre=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(fre,{...s,...a,ref:r})});Tre.displayName=Mre;var Ire="DropdownMenuRadioItem",_D=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(gre,{...s,...a,ref:r})});_D.displayName=Ire;var _re="DropdownMenuItemIndicator",DD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(xre,{...s,...a,ref:r})});DD.displayName=_re;var Dre="DropdownMenuSeparator",RD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(yre,{...s,...a,ref:r})});RD.displayName=Dre;var Rre="DropdownMenuArrow",Ore=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(vre,{...s,...a,ref:r})});Ore.displayName=Rre;var Lre="DropdownMenuSubTrigger",OD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(bre,{...s,...a,ref:r})});OD.displayName=Lre;var $re="DropdownMenuSubContent",LD=u.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=Is(n);return t.jsx(wre,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LD.displayName=$re;var Fre=kD,Ure=CD,Bre=ED,$D=AD,FD=MD,UD=TD,BD=ID,GD=_D,VD=DD,zD=RD,WD=OD,HD=LD;const Tp=Fre,Ip=Ure,Gre=u.forwardRef(({className:e,inset:r,children:n,...a},s)=>t.jsxs(WD,{ref:s,className:We("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",e),...a,children:[n,t.jsx(ia,{className:"ml-auto h-4 w-4"})]}));Gre.displayName=WD.displayName;const Vre=u.forwardRef(({className:e,...r},n)=>t.jsx(HD,{ref:n,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Vre.displayName=HD.displayName;const vm=u.forwardRef(({className:e,sideOffset:r=4,...n},a)=>t.jsx(Bre,{children:t.jsx($D,{ref:a,sideOffset:r,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));vm.displayName=$D.displayName;const Oa=u.forwardRef(({className:e,inset:r,...n},a)=>t.jsx(UD,{ref:a,className:We("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...n}));Oa.displayName=UD.displayName;const zre=u.forwardRef(({className:e,children:r,checked:n,...a},s)=>t.jsxs(BD,{ref:s,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(VD,{children:t.jsx(At,{className:"h-4 w-4"})})}),r]}));zre.displayName=BD.displayName;const Wre=u.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(GD,{ref:a,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(VD,{children:t.jsx(fT,{className:"h-2 w-2 fill-current"})})}),r]}));Wre.displayName=GD.displayName;const Hre=u.forwardRef(({className:e,inset:r,...n},a)=>t.jsx(FD,{ref:a,className:We("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...n}));Hre.displayName=FD.displayName;const Zc=u.forwardRef(({className:e,...r},n)=>t.jsx(zD,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...r}));Zc.displayName=zD.displayName;const No=[{code:"WW",name:"ANYWHERE",dialCode:"",flag:""},{code:"GH",name:"Ghana",dialCode:"+233",flag:""},{code:"US",name:"United States",dialCode:"+1",flag:""},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:""},{code:"CA",name:"Canada",dialCode:"+1",flag:""},{code:"NG",name:"Nigeria",dialCode:"+234",flag:""},{code:"ZA",name:"South Africa",dialCode:"+27",flag:""},{code:"AF",name:"Afghanistan",dialCode:"+93",flag:""},{code:"AL",name:"Albania",dialCode:"+355",flag:""},{code:"DZ",name:"Algeria",dialCode:"+213",flag:""},{code:"AS",name:"American Samoa",dialCode:"+1684",flag:""},{code:"AD",name:"Andorra",dialCode:"+376",flag:""},{code:"AO",name:"Angola",dialCode:"+244",flag:""},{code:"AI",name:"Anguilla",dialCode:"+1264",flag:""},{code:"AQ",name:"Antarctica",dialCode:"+672",flag:""},{code:"AG",name:"Antigua and Barbuda",dialCode:"+1268",flag:""},{code:"AR",name:"Argentina",dialCode:"+54",flag:""},{code:"AM",name:"Armenia",dialCode:"+374",flag:""},{code:"AW",name:"Aruba",dialCode:"+297",flag:""},{code:"AU",name:"Australia",dialCode:"+61",flag:""},{code:"AT",name:"Austria",dialCode:"+43",flag:""},{code:"AZ",name:"Azerbaijan",dialCode:"+994",flag:""},{code:"BS",name:"Bahamas",dialCode:"+1242",flag:""},{code:"BH",name:"Bahrain",dialCode:"+973",flag:""},{code:"BD",name:"Bangladesh",dialCode:"+880",flag:""},{code:"BB",name:"Barbados",dialCode:"+1246",flag:""},{code:"BY",name:"Belarus",dialCode:"+375",flag:""},{code:"BE",name:"Belgium",dialCode:"+32",flag:""},{code:"BZ",name:"Belize",dialCode:"+501",flag:""},{code:"BJ",name:"Benin",dialCode:"+229",flag:""},{code:"BM",name:"Bermuda",dialCode:"+1441",flag:""},{code:"BT",name:"Bhutan",dialCode:"+975",flag:""},{code:"BO",name:"Bolivia",dialCode:"+591",flag:""},{code:"BA",name:"Bosnia and Herzegovina",dialCode:"+387",flag:""},{code:"BW",name:"Botswana",dialCode:"+267",flag:""},{code:"BR",name:"Brazil",dialCode:"+55",flag:""},{code:"IO",name:"British Indian Ocean Territory",dialCode:"+246",flag:""},{code:"BN",name:"Brunei Darussalam",dialCode:"+673",flag:""},{code:"BG",name:"Bulgaria",dialCode:"+359",flag:""},{code:"BF",name:"Burkina Faso",dialCode:"+226",flag:""},{code:"BI",name:"Burundi",dialCode:"+257",flag:""},{code:"KH",name:"Cambodia",dialCode:"+855",flag:""},{code:"CM",name:"Cameroon",dialCode:"+237",flag:""},{code:"CV",name:"Cape Verde",dialCode:"+238",flag:""},{code:"KY",name:"Cayman Islands",dialCode:"+1345",flag:""},{code:"CF",name:"Central African Republic",dialCode:"+236",flag:""},{code:"TD",name:"Chad",dialCode:"+235",flag:""},{code:"CL",name:"Chile",dialCode:"+56",flag:""},{code:"CN",name:"China",dialCode:"+86",flag:""},{code:"CX",name:"Christmas Island",dialCode:"+61",flag:""},{code:"CC",name:"Cocos (Keeling) Islands",dialCode:"+61",flag:""},{code:"CO",name:"Colombia",dialCode:"+57",flag:""},{code:"KM",name:"Comoros",dialCode:"+269",flag:""},{code:"CG",name:"Congo",dialCode:"+242",flag:""},{code:"CD",name:"Congo, DR",dialCode:"+243",flag:""},{code:"CK",name:"Cook Islands",dialCode:"+682",flag:""},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:""},{code:"CI",name:"Cote d'Ivoire",dialCode:"+225",flag:""},{code:"HR",name:"Croatia",dialCode:"+385",flag:""},{code:"CU",name:"Cuba",dialCode:"+53",flag:""},{code:"CY",name:"Cyprus",dialCode:"+357",flag:""},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:""},{code:"DK",name:"Denmark",dialCode:"+45",flag:""},{code:"DJ",name:"Djibouti",dialCode:"+253",flag:""},{code:"DM",name:"Dominica",dialCode:"+1767",flag:""},{code:"DO",name:"Dominican Republic",dialCode:"+1",flag:""},{code:"EC",name:"Ecuador",dialCode:"+593",flag:""},{code:"EG",name:"Egypt",dialCode:"+20",flag:""},{code:"SV",name:"El Salvador",dialCode:"+503",flag:""},{code:"GQ",name:"Equatorial Guinea",dialCode:"+240",flag:""},{code:"ER",name:"Eritrea",dialCode:"+291",flag:""},{code:"EE",name:"Estonia",dialCode:"+372",flag:""},{code:"ET",name:"Ethiopia",dialCode:"+251",flag:""},{code:"FK",name:"Falkland Islands",dialCode:"+500",flag:""},{code:"FO",name:"Faroe Islands",dialCode:"+298",flag:""},{code:"FJ",name:"Fiji",dialCode:"+679",flag:""},{code:"FI",name:"Finland",dialCode:"+358",flag:""},{code:"FR",name:"France",dialCode:"+33",flag:""},{code:"GF",name:"French Guiana",dialCode:"+594",flag:""},{code:"PF",name:"French Polynesia",dialCode:"+689",flag:""},{code:"GA",name:"Gabon",dialCode:"+241",flag:""},{code:"GM",name:"Gambia",dialCode:"+220",flag:""},{code:"GE",name:"Georgia",dialCode:"+995",flag:""},{code:"DE",name:"Germany",dialCode:"+49",flag:""},{code:"GI",name:"Gibraltar",dialCode:"+350",flag:""},{code:"GR",name:"Greece",dialCode:"+30",flag:""},{code:"GL",name:"Greenland",dialCode:"+299",flag:""},{code:"GD",name:"Grenada",dialCode:"+1473",flag:""},{code:"GP",name:"Guadeloupe",dialCode:"+590",flag:""},{code:"GU",name:"Guam",dialCode:"+1671",flag:""},{code:"GT",name:"Guatemala",dialCode:"+502",flag:""},{code:"GN",name:"Guinea",dialCode:"+224",flag:""},{code:"GW",name:"Guinea-Bissau",dialCode:"+245",flag:""},{code:"GY",name:"Guyana",dialCode:"+592",flag:""},{code:"HT",name:"Haiti",dialCode:"+509",flag:""},{code:"VA",name:"Holy See (Vatican City)",dialCode:"+379",flag:""},{code:"HN",name:"Honduras",dialCode:"+504",flag:""},{code:"HK",name:"Hong Kong",dialCode:"+852",flag:""},{code:"HU",name:"Hungary",dialCode:"+36",flag:""},{code:"IS",name:"Iceland",dialCode:"+354",flag:""},{code:"IN",name:"India",dialCode:"+91",flag:""},{code:"ID",name:"Indonesia",dialCode:"+62",flag:""},{code:"IR",name:"Iran",dialCode:"+98",flag:""},{code:"IQ",name:"Iraq",dialCode:"+964",flag:""},{code:"IE",name:"Ireland",dialCode:"+353",flag:""},{code:"IL",name:"Israel",dialCode:"+972",flag:""},{code:"IT",name:"Italy",dialCode:"+39",flag:""},{code:"JM",name:"Jamaica",dialCode:"+1876",flag:""},{code:"JP",name:"Japan",dialCode:"+81",flag:""},{code:"JO",name:"Jordan",dialCode:"+962",flag:""},{code:"KZ",name:"Kazakhstan",dialCode:"+7",flag:""},{code:"KE",name:"Kenya",dialCode:"+254",flag:""},{code:"KI",name:"Kiribati",dialCode:"+686",flag:""},{code:"KP",name:"North Korea",dialCode:"+850",flag:""},{code:"KR",name:"South Korea",dialCode:"+82",flag:""},{code:"KW",name:"Kuwait",dialCode:"+965",flag:""},{code:"KG",name:"Kyrgyzstan",dialCode:"+996",flag:""},{code:"LA",name:"Laos",dialCode:"+856",flag:""},{code:"LV",name:"Latvia",dialCode:"+371",flag:""},{code:"LB",name:"Lebanon",dialCode:"+961",flag:""},{code:"LS",name:"Lesotho",dialCode:"+266",flag:""},{code:"LR",name:"Liberia",dialCode:"+231",flag:""},{code:"LY",name:"Libya",dialCode:"+218",flag:""},{code:"LI",name:"Liechtenstein",dialCode:"+423",flag:""},{code:"LT",name:"Lithuania",dialCode:"+370",flag:""},{code:"LU",name:"Luxembourg",dialCode:"+352",flag:""},{code:"MO",name:"Macao",dialCode:"+853",flag:""},{code:"MK",name:"North Macedonia",dialCode:"+389",flag:""},{code:"MG",name:"Madagascar",dialCode:"+261",flag:""},{code:"MW",name:"Malawi",dialCode:"+265",flag:""},{code:"MY",name:"Malaysia",dialCode:"+60",flag:""},{code:"MV",name:"Maldives",dialCode:"+960",flag:""},{code:"ML",name:"Mali",dialCode:"+223",flag:""},{code:"MT",name:"Malta",dialCode:"+356",flag:""},{code:"MH",name:"Marshall Islands",dialCode:"+692",flag:""},{code:"MQ",name:"Martinique",dialCode:"+596",flag:""},{code:"MR",name:"Mauritania",dialCode:"+222",flag:""},{code:"MU",name:"Mauritius",dialCode:"+230",flag:""},{code:"YT",name:"Mayotte",dialCode:"+262",flag:""},{code:"MX",name:"Mexico",dialCode:"+52",flag:""},{code:"FM",name:"Micronesia",dialCode:"+691",flag:""},{code:"MD",name:"Moldova",dialCode:"+373",flag:""},{code:"MC",name:"Monaco",dialCode:"+377",flag:""},{code:"MN",name:"Mongolia",dialCode:"+976",flag:""},{code:"ME",name:"Montenegro",dialCode:"+382",flag:""},{code:"MS",name:"Montserrat",dialCode:"+1664",flag:""},{code:"MA",name:"Morocco",dialCode:"+212",flag:""},{code:"MZ",name:"Mozambique",dialCode:"+258",flag:""},{code:"MM",name:"Myanmar",dialCode:"+95",flag:""},{code:"NA",name:"Namibia",dialCode:"+264",flag:""},{code:"NR",name:"Nauru",dialCode:"+674",flag:""},{code:"NP",name:"Nepal",dialCode:"+977",flag:""},{code:"NL",name:"Netherlands",dialCode:"+31",flag:""},{code:"NC",name:"New Caledonia",dialCode:"+687",flag:""},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:""},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:""},{code:"NE",name:"Niger",dialCode:"+227",flag:""},{code:"NU",name:"Niue",dialCode:"+683",flag:""},{code:"NF",name:"Norfolk Island",dialCode:"+672",flag:""},{code:"MP",name:"Northern Mariana Islands",dialCode:"+1670",flag:""},{code:"NO",name:"Norway",dialCode:"+47",flag:""},{code:"OM",name:"Oman",dialCode:"+968",flag:""},{code:"PK",name:"Pakistan",dialCode:"+92",flag:""},{code:"PW",name:"Palau",dialCode:"+680",flag:""},{code:"PS",name:"Palestine",dialCode:"+970",flag:""},{code:"PA",name:"Panama",dialCode:"+507",flag:""},{code:"PG",name:"Papua New Guinea",dialCode:"+675",flag:""},{code:"PY",name:"Paraguay",dialCode:"+595",flag:""},{code:"PE",name:"Peru",dialCode:"+51",flag:""},{code:"PH",name:"Philippines",dialCode:"+63",flag:""},{code:"PN",name:"Pitcairn",dialCode:"+64",flag:""},{code:"PL",name:"Poland",dialCode:"+48",flag:""},{code:"PT",name:"Portugal",dialCode:"+351",flag:""},{code:"PR",name:"Puerto Rico",dialCode:"+1939",flag:""},{code:"QA",name:"Qatar",dialCode:"+974",flag:""},{code:"RE",name:"Reunion",dialCode:"+262",flag:""},{code:"RO",name:"Romania",dialCode:"+40",flag:""},{code:"RU",name:"Russia",dialCode:"+7",flag:""},{code:"RW",name:"Rwanda",dialCode:"+250",flag:""},{code:"BL",name:"Saint Barthlemy",dialCode:"+590",flag:""},{code:"SH",name:"Saint Helena",dialCode:"+290",flag:""},{code:"KN",name:"Saint Kitts and Nevis",dialCode:"+1869",flag:""},{code:"LC",name:"Saint Lucia",dialCode:"+1758",flag:""},{code:"MF",name:"Saint Martin",dialCode:"+590",flag:""},{code:"PM",name:"Saint Pierre and Miquelon",dialCode:"+508",flag:""},{code:"VC",name:"Saint Vincent and the Grenadines",dialCode:"+1784",flag:""},{code:"WS",name:"Samoa",dialCode:"+685",flag:""},{code:"SM",name:"San Marino",dialCode:"+378",flag:""},{code:"ST",name:"Sao Tome and Principe",dialCode:"+239",flag:""},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:""},{code:"SN",name:"Senegal",dialCode:"+221",flag:""},{code:"RS",name:"Serbia",dialCode:"+381",flag:""},{code:"SC",name:"Seychelles",dialCode:"+248",flag:""},{code:"SL",name:"Sierra Leone",dialCode:"+232",flag:""},{code:"SG",name:"Singapore",dialCode:"+65",flag:""},{code:"SX",name:"Sint Maarten",dialCode:"+1721",flag:""},{code:"SK",name:"Slovakia",dialCode:"+421",flag:""},{code:"SI",name:"Slovenia",dialCode:"+386",flag:""},{code:"SB",name:"Solomon Islands",dialCode:"+677",flag:""},{code:"SO",name:"Somalia",dialCode:"+252",flag:""},{code:"ES",name:"Spain",dialCode:"+34",flag:""},{code:"LK",name:"Sri Lanka",dialCode:"+94",flag:""},{code:"SD",name:"Sudan",dialCode:"+249",flag:""},{code:"SR",name:"Suriname",dialCode:"+597",flag:""},{code:"SJ",name:"Svalbard and Jan Mayen",dialCode:"+47",flag:""},{code:"SZ",name:"Swaziland",dialCode:"+268",flag:""},{code:"SE",name:"Sweden",dialCode:"+46",flag:""},{code:"CH",name:"Switzerland",dialCode:"+41",flag:""},{code:"SY",name:"Syria",dialCode:"+963",flag:""},{code:"TW",name:"Taiwan",dialCode:"+886",flag:""},{code:"TJ",name:"Tajikistan",dialCode:"+992",flag:""},{code:"TZ",name:"Tanzania",dialCode:"+255",flag:""},{code:"TH",name:"Thailand",dialCode:"+66",flag:""},{code:"TL",name:"Timor-Leste",dialCode:"+670",flag:""},{code:"TG",name:"Togo",dialCode:"+228",flag:""},{code:"TK",name:"Tokelau",dialCode:"+690",flag:""},{code:"TO",name:"Tonga",dialCode:"+676",flag:""},{code:"TT",name:"Trinidad and Tobago",dialCode:"+1868",flag:""},{code:"TN",name:"Tunisia",dialCode:"+216",flag:""},{code:"TR",name:"Turkey",dialCode:"+90",flag:""},{code:"TM",name:"Turkmenistan",dialCode:"+993",flag:""},{code:"TC",name:"Turks and Caicos Islands",dialCode:"+1649",flag:""},{code:"TV",name:"Tuvalu",dialCode:"+688",flag:""},{code:"UG",name:"Uganda",dialCode:"+256",flag:""},{code:"UA",name:"Ukraine",dialCode:"+380",flag:""},{code:"AE",name:"United Arab Emirates",dialCode:"+971",flag:""},{code:"UY",name:"Uruguay",dialCode:"+598",flag:""},{code:"UZ",name:"Uzbekistan",dialCode:"+998",flag:""},{code:"VU",name:"Vanuatu",dialCode:"+678",flag:""},{code:"VE",name:"Venezuela",dialCode:"+58",flag:""},{code:"VN",name:"Vietnam",dialCode:"+84",flag:""},{code:"VG",name:"Virgin Islands, British",dialCode:"+1284",flag:""},{code:"VI",name:"Virgin Islands, U.S.",dialCode:"+1340",flag:""},{code:"WF",name:"Wallis and Futuna",dialCode:"+681",flag:""},{code:"EH",name:"Western Sahara",dialCode:"+212",flag:""},{code:"YE",name:"Yemen",dialCode:"+967",flag:""},{code:"ZM",name:"Zambia",dialCode:"+260",flag:""},{code:"ZW",name:"Zimbabwe",dialCode:"+263",flag:""}];function Kre({onClick:e,size:r="md",showLabel:n=!1}){const{country:a}=yf(),[s,i]=u.useState(()=>a==="ANYWHERE"?"":""),[o,l]=u.useState(()=>a==="ANYWHERE"?{name:"ANYWHERE",flag:"",nationality:"Global"}:null);return u.useEffect(()=>{if(console.log("[NATIONALITY-FLAG-BUTTON] Country changed to:",a),a==="ANYWHERE"){console.log("[NATIONALITY-FLAG-BUTTON] Setting ANYWHERE flag to globe emoji"),i(""),l({name:"ANYWHERE",flag:"",nationality:"Global"});return}const c=No.find(d=>d.name===a);if(console.log("[NATIONALITY-FLAG-BUTTON] Found country:",c),c){i(c.flag);const d=sc(c.name);l({name:c.name,flag:c.flag,nationality:d})}else console.log("[NATIONALITY-FLAG-BUTTON] Country not found, using default"),i(""),l({name:"Ghana",flag:"",nationality:"Ghanaian"})},[a]),t.jsxs("div",{className:"cursor-pointer",onClick:e,title:`Select nationality (currently ${(o==null?void 0:o.name)||"ANYWHERE"})`,children:[a==="ANYWHERE"?t.jsx(E.span,{className:"text-3xl",whileHover:{scale:1.15},whileTap:{scale:.9},animate:{rotateY:[0,3,-2,4,-1,0],rotateX:[0,1,-1,2,0],y:[0,-.5,.5,-.3,0],x:[0,.3,-.2,.4,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},style:{display:"inline-block",transformOrigin:"left center",transformStyle:"preserve-3d"},children:""}):t.jsx(E.span,{className:"text-3xl",whileHover:{scale:1.15},whileTap:{scale:.9},animate:{rotateY:[0,5,-3,6,-2,0],rotateX:[0,2,-2,3,-1,0],y:[0,-.8,.6,-.4,0],x:[0,.4,-.3,.5,0]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut"},style:{display:"inline-block",transformOrigin:"left center",transformStyle:"preserve-3d"},children:s}),n&&t.jsx(Xt,{children:t.jsx(E.span,{className:"ml-2 text-xs font-medium",initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0,x:5},children:(o==null?void 0:o.nationality)||"Global"})})]})}function qre(){const[e,r]=u.useState(null),[n,a]=u.useState(!0);return u.useEffect(()=>{const s=localStorage.getItem("lastOnlineCount");if(s){const l=parseInt(s,10);isNaN(l)||(r(l),a(!1))}const i=()=>{if(window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN){console.log("[ONLINE-USERS] Using existing WebSocket connection"),window.chatSocket.send(JSON.stringify({type:"get_online_count"}));const l=c=>{try{const d=JSON.parse(c.data);if(d.type==="online_count_update"){const m=d.count||0;r(m),a(!1),localStorage.setItem("lastOnlineCount",m.toString())}}catch{}};return window.chatSocket.addEventListener("message",l),()=>{window.chatSocket&&window.chatSocket.removeEventListener("message",l)}}else{const l=setTimeout(i,1e3);return()=>clearTimeout(l)}};return i()},[]),{onlineCount:e,isLoading:n,hasCount:e!==null}}function KD(e){if(!e)return 0;const r=typeof e=="string"?new Date(e):e;if(isNaN(r.getTime()))return 0;const n=new Date;let a=n.getFullYear()-r.getFullYear();const s=n.getMonth()-r.getMonth();return(s<0||s===0&&n.getDate()<r.getDate())&&a--,a}function xr(e){return KD(e)<18}function Yre(e){return KD(e)<14}function ks(){const[e,r]=lr(),{user:n,logoutMutation:a}=Sr(),{currentMode:s,setAppMode:i,startTransition:o}=Ts(),{translate:l}=tn(),{darkMode:c}=Za(),{onlineCount:d,isLoading:m,hasCount:h}=qre(),p=v=>{if(["/home","/heat","/suite/network","/suite/jobs"].includes(e)){const w={originPage:e,timestamp:Date.now(),capturedFrom:"app-header"};localStorage.setItem("settings_navigation_stack",JSON.stringify(w)),console.log("[NAV-HELPER] Captured current page for Settings navigation:",w)}r("/settings")},f=async v=>{if(n&&n.id)try{await Ri(()=>Promise.resolve().then(()=>UM),void 0).then(async({apiRequest:y})=>{await y(`/api/profile/${n.id}`,{method:"PATCH",data:{lastUsedApp:v}})})}catch(y){console.error("Failed to update last_used_app in DB",y)}},x=()=>{a.mutate()},g=()=>{switch(s){case"MEET":return t.jsx("div",{className:"flex items-center justify-center w-7 h-7 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full overflow-hidden shadow-md animate-pulse",children:t.jsx(Yt,{className:"h-4 w-4 text-white animate-icon-pulse",fill:"white"})});case"HEAT":return t.jsx("div",{className:"flex items-center justify-center w-7 h-7 bg-gradient-to-br from-orange-500 to-yellow-300 rounded-full overflow-hidden shadow-md",children:t.jsx(Hs,{className:"h-4 w-4 text-white animate-icon-wave",fill:"rgba(255,255,255,0.3)"})});case"SUITE":return t.jsx("div",{className:"flex items-center justify-center w-7 h-7 bg-gradient-to-br from-blue-600 to-indigo-500 rounded-full overflow-hidden shadow-md",children:t.jsx(zr,{className:"h-4 w-4 text-white animate-icon-spin"})});default:return null}};return t.jsx("div",{className:`sticky top-0 z-50 ${c?"":"border-b border-white"}`,children:t.jsxs("div",{className:`py-1 px-3 flex items-center justify-between ${c?"bg-gray-900":"bg-white"}`,children:[n&&t.jsx("div",{className:"flex items-center",children:t.jsxs(Tp,{children:[t.jsx(Ip,{asChild:!0,children:t.jsx("button",{className:"flex items-center p-0.5 cursor-pointer",children:g()})}),t.jsxs(vm,{align:"start",className:`w-44 p-1 ${c?"bg-gradient-to-b from-gray-900/90 to-gray-900/95 border-gray-700/40 text-white":"bg-gradient-to-b from-white/90 to-white/80 border-gray-300/40 text-gray-900"} backdrop-blur-lg border rounded-xl shadow-2xl animate-in slide-in-from-top-5 fade-in zoom-in-95 duration-200`,sideOffset:8,children:[t.jsxs(Oa,{onClick:async()=>{await f("MEET"),s!=="MEET"?(i("MEET"),o("MEET"),setTimeout(()=>{r("/")},300)):r("/")},className:`
                    flex items-center p-2 my-0.5 rounded-lg 
                    ${s==="MEET"?`bg-gradient-to-r ${c?"from-purple-900/40 to-pink-800/30":"from-purple-100 to-pink-100"} border ${c?"border-purple-500/20":"border-purple-200"} ${c?"shadow-[0_0_10px_rgba(168,85,247,0.15)]":"shadow-[0_0_10px_rgba(168,85,247,0.07)]"}`:`hover:bg-gradient-to-r ${c?"hover:from-purple-900/20 hover:to-pink-800/10":"hover:from-purple-50 hover:to-pink-50"} border border-transparent ${c?"hover:border-purple-500/10":"hover:border-purple-200/60"}`}
                    transition-all duration-300 group
                  `,children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full overflow-hidden shadow-md mr-2.5 group-hover:scale-110 group-hover:shadow-purple-500/20 transition-all duration-200",children:t.jsx(Yt,{className:"h-4 w-4 text-white animate-pulse",fill:"white"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:`font-medium text-xs ${c?"text-white group-hover:text-purple-300":"text-purple-900 group-hover:text-purple-700"} tracking-wide transition-colors duration-200`,children:l("appMode.meet")}),t.jsx("span",{className:`text-[10px] ${c?"text-purple-300/70":"text-purple-600/90"}`,children:l("appMode.datingApp")})]})]}),t.jsxs(Oa,{onClick:async()=>{await f("HEAT"),s!=="HEAT"?(i("HEAT"),o("HEAT"),setTimeout(()=>{r("/heat")},300)):r("/heat")},className:`
                    flex items-center p-2 my-0.5 rounded-lg
                    ${s==="HEAT"?`bg-gradient-to-r ${c?"from-orange-900/40 to-amber-800/30":"from-orange-100 to-amber-100"} border ${c?"border-orange-500/20":"border-orange-200"} ${c?"shadow-[0_0_10px_rgba(249,115,22,0.15)]":"shadow-[0_0_10px_rgba(249,115,22,0.07)]"}`:`hover:bg-gradient-to-r ${c?"hover:from-orange-900/20 hover:to-amber-800/10":"hover:from-orange-50 hover:to-amber-50"} border border-transparent ${c?"hover:border-orange-500/10":"hover:border-orange-200/60"}`}
                    transition-all duration-300 group
                  `,children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-orange-500 to-yellow-300 rounded-full overflow-hidden shadow-md mr-2.5 group-hover:scale-110 group-hover:shadow-orange-500/20 transition-all duration-200",children:t.jsx(Hs,{className:"h-4 w-4 text-white animate-[pulse_1.5s_ease-in-out_infinite]",fill:"rgba(255,255,255,0.3)"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:`font-medium text-xs ${c?"text-white group-hover:text-orange-300":"text-orange-900 group-hover:text-orange-700"} tracking-wide transition-colors duration-200`,children:l("appMode.heat")}),t.jsx("span",{className:`text-[10px] ${c?"text-orange-300/70":"text-orange-600/90"}`,children:l("appMode.socialApp")})]})]}),t.jsxs(Oa,{onClick:async()=>{await f("SUITE"),s!=="SUITE"?(i("SUITE"),o("SUITE"),setTimeout(()=>{r("/suite/network")},300)):r("/suite/network")},className:`
                    flex items-center p-2 my-0.5 rounded-lg
                    ${s==="SUITE"?`bg-gradient-to-r ${c?"from-blue-900/40 to-indigo-800/30":"from-blue-100 to-indigo-100"} border ${c?"border-blue-500/20":"border-blue-200"} ${c?"shadow-[0_0_10px_rgba(59,130,246,0.15)]":"shadow-[0_0_10px_rgba(59,130,246,0.07)]"}`:`hover:bg-gradient-to-r ${c?"hover:from-blue-900/20 hover:to-indigo-800/10":"hover:from-blue-50 hover:to-indigo-50"} border border-transparent ${c?"hover:border-blue-500/10":"hover:border-blue-200/60"}`}
                    transition-all duration-300 group
                  `,children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-500 rounded-full overflow-hidden shadow-md mr-2.5 group-hover:scale-110 group-hover:shadow-blue-500/20 transition-all duration-200",children:t.jsx(zr,{className:"h-4 w-4 text-white animate-[pulse_2s_ease-in-out_infinite]"})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:`font-medium text-xs ${c?"text-white group-hover:text-blue-300":"text-blue-900 group-hover:text-blue-700"} tracking-wide transition-colors duration-200`,children:l("appMode.suite")}),t.jsx("span",{className:`text-[10px] ${c?"text-blue-300/70":"text-blue-600/90"}`,children:l("appMode.professionalNetwork")})]})]})]})]})}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h1",{className:"text-3xl font-bold tracking-wide bg-gradient-to-r from-purple-900 via-orange-500 to-yellow-400 bg-clip-text text-transparent animate-gradient leading-tight mb-0",children:"CHARLEY"}),t.jsx("div",{className:"ml-2 -mt-1",children:t.jsx(Kre,{onClick:()=>{_t("previousPage",window.location.pathname),_t("showingNationalityBeforeAppSelection","true"),_t("skipSplashScreen","true"),r("/nationality")}})})]}),t.jsx("span",{className:"text-xs font-medium italic bg-gradient-to-r from-yellow-400 to-purple-900 bg-clip-text text-transparent static-gradient -mt-1",style:{fontFamily:"'Dancing Script', cursive",fontSize:"0.75rem",letterSpacing:"0.5px"},children:l("app.slogan")})]}),t.jsx("div",{className:"flex items-center",children:t.jsxs(Tp,{children:[t.jsx(Ip,{asChild:!0,children:t.jsxs(E.button,{className:"p-1 rounded-full hover:bg-gray-100/80 relative",whileHover:{scale:1.08},whileTap:{scale:.95},children:[t.jsx(E.div,{animate:{rotate:[0,30,0]},transition:{duration:5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:t.jsx(Mn,{className:"h-6 w-6"})}),h&&t.jsxs("div",{className:"absolute top-9 right-0 flex items-center space-x-0.5 text-[8px]",children:[t.jsx("div",{className:`w-1 h-1 rounded-full ${m?"bg-gray-400 animate-pulse":"bg-green-500 animate-pulse"}`}),t.jsx("span",{className:`${c?"text-gray-300":"text-gray-600"} font-semibold`,children:d}),t.jsx("span",{className:`${c?"text-gray-400":"text-gray-500"}`,children:"online"})]})]})}),t.jsxs(vm,{align:"end",className:`w-44 p-1 ${c?"bg-gradient-to-b from-gray-900/90 to-gray-900/95 border-gray-700/40 text-white":"bg-gradient-to-b from-white/90 to-white/80 border-gray-300/40 text-gray-900"} backdrop-blur-lg border rounded-xl shadow-2xl animate-in slide-in-from-top-3 fade-in zoom-in-95 duration-200`,sideOffset:8,children:[t.jsxs(Oa,{onClick:()=>p(),className:`p-2 my-0.5 rounded-lg ${c?"hover:bg-gray-800/50 text-gray-200":"hover:bg-gray-100/70 text-gray-700"} text-xs font-medium transition-colors duration-150 flex items-center`,children:[t.jsx(Po,{className:`h-3.5 w-3.5 ${c?"text-gray-400":"text-gray-500"} mr-2`}),l("settingsMenu.accountSettings")]}),s==="MEET"&&t.jsx(t.Fragment,{children:t.jsxs(Oa,{onClick:()=>r("/dating-preferences"),className:`p-2 my-0.5 rounded-lg ${c?"hover:bg-purple-900/20 text-purple-200/90":"hover:bg-purple-100/60 text-purple-800/90"} text-xs font-medium transition-colors duration-150 flex items-center`,children:[xr(n==null?void 0:n.dateOfBirth)?t.jsx(Jt,{className:`h-3.5 w-3.5 ${c?"text-purple-400/80":"text-purple-500"} mr-2`}):t.jsx(Yt,{className:`h-3.5 w-3.5 ${c?"text-purple-400/80":"text-purple-500"} mr-2`}),xr(n==null?void 0:n.dateOfBirth)?"Friendship Preferences":l("settingsMenu.datingPreferences")]})}),s==="HEAT"&&t.jsx(t.Fragment,{children:t.jsxs(Oa,{className:`p-2 my-0.5 rounded-lg ${c?"hover:bg-orange-900/20 text-orange-200/90":"hover:bg-orange-100/60 text-orange-800/90"} text-xs font-medium transition-colors duration-150 flex items-center`,children:[t.jsx(DG,{className:`h-3.5 w-3.5 ${c?"text-orange-400/80":"text-orange-500"} mr-2`}),l("settingsMenu.contentPreferences")]})}),s==="SUITE"&&t.jsx(t.Fragment,{children:t.jsxs(Oa,{onClick:()=>r("/suite/connections-preferences"),className:`p-2 my-0.5 rounded-lg ${c?"hover:bg-blue-900/20 text-blue-200/90":"hover:bg-blue-100/60 text-blue-800/90"} text-xs font-medium transition-colors duration-150 flex items-center`,children:[t.jsx(Eo,{className:`h-3.5 w-3.5 ${c?"text-blue-400/80":"text-blue-500"} mr-2`}),l("settingsMenu.networkingPreferences")]})}),t.jsx(Zc,{className:`my-1 h-px ${c?"bg-gray-700/40":"bg-gray-300/60"}`}),t.jsxs(Oa,{onClick:x,className:`p-2 my-0.5 rounded-lg ${c?"hover:bg-red-900/20 text-red-400":"hover:bg-red-100/60 text-red-600"} text-xs font-medium transition-colors duration-150 flex items-center`,children:[t.jsx(bT,{className:`h-3.5 w-3.5 ${c?"text-red-400/80":"text-red-500"} mr-2`}),l("common.logout")]})]})]})})]})})}const qE=[{id:"heart",component:Yt},{id:"message",component:hn},{id:"users",component:Jt},{id:"smile",component:Hg},{id:"star",component:Rn},{id:"crown",component:Ss},{id:"coffee",component:mm},{id:"gift",component:wG},{id:"music",component:TG},{id:"book",component:mT}];function Ey({count:e=8,color:r="rgba(99, 102, 241, 1)",opacityRange:n=[.1,.3],sizeRange:a=[20,36],speedRange:s=[20,40],className:i=""}){const[o,l]=u.useState([]);return u.useEffect(()=>{const c=Array.from({length:e}).map((d,m)=>{const h=Math.random()*100,p=Math.random()*100,f=Math.floor(Math.random()*qE.length),x=qE[f].component,g=n[0]+Math.random()*(n[1]-n[0]),v=a[0]+Math.random()*(a[1]-a[0]),y=s[0]+Math.random()*(s[1]-s[0]),b=Math.random()*360,w=Math.random()>.5?1:-1;return{id:m,x:h,y:p,Icon:x,opacity:g,size:v,duration:y,rotate:b,rotateDirection:w}});l(c)},[e,n,a,s]),t.jsx("div",{className:`absolute inset-0 overflow-hidden pointer-events-none ${i}`,children:o.map(c=>t.jsx(E.div,{className:"absolute",style:{left:`${c.x}%`,top:`${c.y}%`,opacity:c.opacity},animate:{x:["0%",`${Math.random()*20-10}%`,`${Math.random()*15-7.5}%`,"0%"],y:["0%",`${Math.random()*20-10}%`,`${Math.random()*15-7.5}%`,"0%"],rotate:[0,c.rotate*c.rotateDirection,0],opacity:[c.opacity,c.opacity*1.5,c.opacity]},transition:{duration:c.duration,repeat:1/0,ease:"easeInOut",repeatType:"reverse"},children:t.jsx(c.Icon,{size:c.size,color:r,strokeWidth:1.5})},c.id))})}const q2=gf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=u.forwardRef(({className:e,variant:r,size:n,asChild:a=!1,...s},i)=>{const o=a?_o:"button";return t.jsx(o,{className:We(q2({variant:r,size:n,className:e})),ref:i,...s})});de.displayName="Button";var Y2="Dialog",[qD,YD]=ps(Y2),[Qre,co]=qD(Y2),QD=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,m]=Es({prop:a,defaultProp:s,onChange:i});return t.jsx(Qre,{scope:r,triggerRef:l,contentRef:c,contentId:Aa(),titleId:Aa(),descriptionId:Aa(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(h=>!h),[m]),modal:o,children:n})};QD.displayName=Y2;var JD="DialogTrigger",XD=u.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=co(JD,n),i=sr(r,s.triggerRef);return t.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":X2(s.open),...a,ref:i,onClick:it(e.onClick,s.onOpenToggle)})});XD.displayName=JD;var Q2="DialogPortal",[Jre,ZD]=qD(Q2,{forceMount:void 0}),eR=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=co(Q2,r);return t.jsx(Jre,{scope:r,forceMount:n,children:u.Children.map(a,o=>t.jsx(Ta,{present:n||i.open,children:t.jsx(Fm,{asChild:!0,container:s,children:o})}))})};eR.displayName=Q2;var cx="DialogOverlay",tR=u.forwardRef((e,r)=>{const n=ZD(cx,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=co(cx,e.__scopeDialog);return i.modal?t.jsx(Ta,{present:a||i.open,children:t.jsx(Xre,{...s,ref:r})}):null});tR.displayName=cx;var Xre=u.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=co(cx,n);return t.jsx(Cf,{as:_o,allowPinchZoom:!0,shards:[s.contentRef],children:t.jsx(bt.div,{"data-state":X2(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Id="DialogContent",rR=u.forwardRef((e,r)=>{const n=ZD(Id,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=co(Id,e.__scopeDialog);return t.jsx(Ta,{present:a||i.open,children:i.modal?t.jsx(Zre,{...s,ref:r}):t.jsx(ene,{...s,ref:r})})});rR.displayName=Id;var Zre=u.forwardRef((e,r)=>{const n=co(Id,e.__scopeDialog),a=u.useRef(null),s=sr(r,n.contentRef,a);return u.useEffect(()=>{const i=a.current;if(i)return Ny(i)},[]),t.jsx(nR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:it(e.onFocusOutside,i=>i.preventDefault())})}),ene=u.forwardRef((e,r)=>{const n=co(Id,e.__scopeDialog),a=u.useRef(!1),s=u.useRef(!1);return t.jsx(nR,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nR=u.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=co(Id,n),c=u.useRef(null),d=sr(r,c);return xy(),t.jsxs(t.Fragment,{children:[t.jsx(Nf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx($m,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":X2(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(rne,{titleId:l.titleId}),t.jsx(ane,{contentRef:c,descriptionId:l.descriptionId})]})]})}),J2="DialogTitle",aR=u.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=co(J2,n);return t.jsx(bt.h2,{id:s.titleId,...a,ref:r})});aR.displayName=J2;var sR="DialogDescription",iR=u.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=co(sR,n);return t.jsx(bt.p,{id:s.descriptionId,...a,ref:r})});iR.displayName=sR;var oR="DialogClose",lR=u.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=co(oR,n);return t.jsx(bt.button,{type:"button",...a,ref:r,onClick:it(e.onClick,()=>s.onOpenChange(!1))})});lR.displayName=oR;function X2(e){return e?"open":"closed"}var cR="DialogTitleWarning",[tne,dR]=S7(cR,{contentName:Id,titleName:J2,docsSlug:"dialog"}),rne=({titleId:e})=>{const r=dR(cR),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},nne="DialogDescriptionWarning",ane=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dR(nne).contentName}}.`;return u.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},Z2=QD,uR=XD,ek=eR,Py=tR,Ay=rR,tk=aR,rk=iR,My=lR;const Or=Z2,Lu=uR,sne=ek,ud=My,mR=u.forwardRef(({className:e,...r},n)=>t.jsx(Py,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));mR.displayName=Py.displayName;const Dr=u.forwardRef(({className:e,children:r,hideCloseButton:n=!1,...a},s)=>t.jsxs(sne,{children:[t.jsx(mR,{}),t.jsxs(Ay,{ref:s,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[r,!n&&t.jsxs(My,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(mt,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dr.displayName=Ay.displayName;const pn=({className:e,...r})=>t.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});pn.displayName="DialogHeader";const Tc=({className:e,...r})=>t.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Tc.displayName="DialogFooter";const Jr=u.forwardRef(({className:e,...r},n)=>t.jsx(tk,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...r}));Jr.displayName=tk.displayName;const Gs=u.forwardRef(({className:e,...r},n)=>t.jsx(rk,{ref:n,className:We("text-sm text-muted-foreground",e),...r}));Gs.displayName=rk.displayName;function ine({isOpen:e,onClose:r,onActivate:n}){const a=Ma(),{toast:s}=Wr(),i=wt({mutationFn:async()=>ze("/api/user/activate-profile",{method:"POST"}),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user"]}),n()},onError:l=>{s({title:"Activation Failed",description:l.message||"Failed to activate profile. Please try again.",variant:"destructive"})}}),o=()=>{i.mutate(),r()};return t.jsx(Or,{open:e,onOpenChange:()=>{},children:t.jsx(Dr,{className:"w-[85vw] max-w-[350px] max-h-[75vh] mx-auto p-0 bg-gradient-to-br from-pink-500 via-red-500 to-yellow-500 border-0 overflow-hidden rounded-2xl",hideCloseButton:!0,children:t.jsxs("div",{className:"relative p-6 text-center",children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(8)].map((l,c)=>t.jsx(E.div,{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[0,1,0],scale:[0,1.2,0],rotate:[0,360],y:[0,-50]},transition:{duration:3,delay:Math.random()*2,repeat:1/0,repeatDelay:Math.random()*2},children:c%4===0?t.jsx(Yt,{className:"w-4 h-4 text-white/60",fill:"currentColor"}):c%4===1?t.jsx(xn,{className:"w-4 h-4 text-yellow-200/60",fill:"currentColor"}):c%4===2?t.jsx(vo,{className:"w-4 h-4 text-blue-200/60",fill:"currentColor"}):t.jsx(gn,{className:"w-4 h-4 text-green-200/60",fill:"currentColor"})},c))}),t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},className:"relative z-10",children:[t.jsx(E.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-xl font-black text-white mb-3",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"Activate Your MEET Profile for Free"}),t.jsx(E.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-white/90 mb-4 leading-relaxed text-sm",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:"Your profile is currently hidden for privacy. To start discovering amazing people and let others find you, activate your profile now - completely free with no subscription required!"}),t.jsxs(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"space-y-2 mb-5",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 text-white/90",children:[t.jsx(Yt,{className:"w-5 h-5 text-pink-200",fill:"currentColor"}),t.jsx("span",{className:"text-sm font-medium",children:"Discover potential matches"})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3 text-white/90",children:[t.jsx(vo,{className:"w-5 h-5 text-blue-200",fill:"currentColor"}),t.jsx("span",{className:"text-sm font-medium",children:"Become visible to others"})]}),t.jsxs("div",{className:"flex items-center justify-center gap-3 text-white/90",children:[t.jsx(xn,{className:"w-5 h-5 text-yellow-200",fill:"currentColor"}),t.jsx("span",{className:"text-sm font-medium",children:"Start meaningful connections"})]})]}),t.jsxs(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"space-y-3",children:[t.jsxs(de,{onClick:o,className:"w-full py-3 bg-white text-gray-800 hover:bg-gray-100 font-black text-base rounded-xl shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[t.jsx(vo,{className:"w-6 h-6 mr-2"}),"Activate Profile"]}),t.jsx(de,{onClick:r,variant:"outline",className:"w-full py-3 bg-white/20 text-white border-2 border-white/50 hover:bg-white/30 font-bold rounded-2xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105",children:"Maybe Later"})]}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-xs text-white/70 mt-4",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:"You can change this setting anytime in Privacy & Data Controls"})]})]})})})}function Af({open:e,onOpenChange:r}){const[n,a]=lr(),{translate:s}=tn(),i=()=>{r(!1),a("/payment")};return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[85vw] max-w-[350px] sm:max-w-[425px] max-h-[85vh] border-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-purple-500/20 rounded-full blur-xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-blue-500/20 rounded-full blur-xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-indigo-500/20 rounded-full blur-xl animate-pulse delay-500"})]}),t.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[t.jsxs(pn,{className:"text-center space-y-2 pb-2 flex-shrink-0",children:[t.jsx("div",{className:"mx-auto w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(Ss,{className:"w-5 h-5 text-white"})}),t.jsx(Jr,{className:"text-lg font-bold bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500 bg-clip-text text-transparent",children:s("settings.upgradeToPremium")}),t.jsx(Gs,{className:"text-gray-300 text-xs",children:s("settings.unlockAdvancedPrivacy")})]}),t.jsx("div",{className:"space-y-2 py-2 flex-1 min-h-0 overflow-y-auto",children:t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white/5 backdrop-blur-sm rounded-lg",children:[t.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full flex items-center justify-center",children:t.jsx(gn,{className:"w-3.5 h-3.5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white text-sm",children:s("settings.advancedPrivacyControls")}),t.jsx("p",{className:"text-gray-400 text-xs",children:s("settings.hideProfilesGhostMode")})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white/5 backdrop-blur-sm rounded-lg",children:[t.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center",children:t.jsx(xn,{className:"w-3.5 h-3.5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white text-sm",children:s("settings.unlimitedMatches")}),t.jsx("p",{className:"text-gray-400 text-xs",children:s("settings.noDailyLimits")})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white/5 backdrop-blur-sm rounded-lg",children:[t.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center",children:t.jsx(Rn,{className:"w-3.5 h-3.5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white text-sm",children:s("settings.prioritySupport")}),t.jsx("p",{className:"text-gray-400 text-xs",children:s("settings.fastResponseTimes")})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-white/5 backdrop-blur-sm rounded-lg",children:[t.jsx("div",{className:"w-7 h-7 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center",children:t.jsx(Ea,{className:"w-3.5 h-3.5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white text-sm",children:s("settings.advancedFilters")}),t.jsx("p",{className:"text-gray-400 text-xs",children:s("settings.findExactlyWhatLookingFor")})]})]})]})}),t.jsxs(Tc,{className:"flex flex-col sm:flex-row gap-2 pt-2 flex-shrink-0 border-t border-white/10 mt-2",children:[t.jsx(de,{variant:"outline",onClick:()=>r(!1),className:"w-full sm:w-auto bg-transparent border-gray-600 text-gray-300 hover:bg-white/10 hover:text-white",children:s("common.cancel")}),t.jsxs(de,{onClick:i,className:"w-full sm:w-auto bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium shadow-lg",children:[t.jsx(Ss,{className:"w-4 h-4 mr-2"}),s("settings.getStarted")]})]})]})]})})}function one(){const{user:e}=Sr();Bm();const{currentMode:r,setAppMode:n}=Ts(),[,a]=lr(),{translate:s}=tn(),{darkMode:i}=Za(),[o,l]=u.useState(0);u.useState(!1),u.useEffect(()=>{const Z=localStorage.getItem("last_app_page"),Se=localStorage.getItem("origin_app_page");localStorage.setItem("last_app_page","/"),localStorage.setItem("origin_app_page","/"),console.log("[HOME-PAGE]  Page Visit Debug"),console.log("[HOME-PAGE] Previous last page:",Z),console.log("[HOME-PAGE] Previous origin page:",Se),console.log("[HOME-PAGE]  Set origin page to / (MEET app root)"),console.log("[HOME-PAGE]  Set last page to / (MEET app root)"),r&&r!=="MEET"&&(console.log(`[HOME-PAGE] User is in ${r} mode, redirecting from MEET homepage`),r==="SUITE"?a("/suite"):r==="HEAT"&&a("/heat"))},[r,a]);const[c,d]=u.useState([]),{data:m,isLoading:h,isError:p,error:f,refetch:x}=Fq(),g=m==null?void 0:m.discoverUsers,v=m==null?void 0:m.swipeHistory,y=m==null?void 0:m.premiumStatus,b=x,w=x;u.useEffect(()=>{if(v&&Array.isArray(v)){console.log(`[MEET-HISTORY] Syncing ${v.length} records from unified API`);const Z=v.map(Se=>({id:Se.id,targetUserId:Se.targetUserId,action:Se.action,timestamp:new Date(Se.timestamp).getTime()}));d(Z),console.log(`[MEET-HISTORY] Swipe history updated with ${Z.length} records`)}else v&&v.length===0&&(d([]),console.log("[MEET-HISTORY] Cleared local history - database is empty"))},[v]),u.useEffect(()=>{if(e!=null&&e.id){try{sessionStorage.setItem("userId",e.id.toString()),sessionStorage.setItem("appModeSelected","true"),sessionStorage.setItem(`last_used_app_${e.id}`,"meet")}catch(Z){console.warn("Storage error in home page:",Z)}b()}},[e,b]);const[S,N]=u.useState([]),P=(y==null?void 0:y.premiumAccess)||!1,[C,I]=u.useState(!1);Wr();const T=()=>{I(!0)},[_,k]=u.useState(""),[A,F]=u.useState(""),[V,J]=u.useState(0),[M,R]=u.useState(!1);u.useEffect(()=>{e&&!e.hasActivatedProfile&&R(!0)},[e]),u.useEffect(()=>{const Z=Se=>{if(Se instanceof CustomEvent&&Se.detail){const{removeUserId:Ue,reason:De,timestamp:se}=Se.detail;console.log(` [DISCOVER-REMOVAL] Received card removal for user ${Ue}, reason: ${De}`),requestAnimationFrame(()=>{J(L=>L+1),me.setQueryData(["/api/home-page-data"],L=>{var H;if(!L)return L;const q=((H=L.discoverUsers)==null?void 0:H.filter(ge=>ge.id!==Ue))||[];return console.log(` [DISCOVER-REMOVAL] Filtered out user ${Ue}, ${q.length} users remaining`),{...L,discoverUsers:q}}),l(L=>{var ge;const q=me.getQueryData(["/api/home-page-data"]),H=((ge=q==null?void 0:q.discoverUsers)==null?void 0:ge.length)||0;if(L>=H&&H>0){const ke=H-1;return console.log(` [DISCOVER-REMOVAL] Adjusted current index from ${L} to ${ke}`),ke}return L}),me.invalidateQueries({queryKey:["/api/home-page-data"]})})}};return window.addEventListener("discover:card_removal",Z),()=>{window.removeEventListener("discover:card_removal",Z)}},[me]),u.useEffect(()=>{const Z=async Se=>{if(Se instanceof CustomEvent&&Se.detail){const{userId:Ue,reason:De,timestamp:se}=Se.detail;console.log(` [MEET-RESTORATION] Received card restoration for user ${Ue}, reason: ${De}`),console.log(` [MEET-RESTORATION] Forcing immediate cache refresh for user ${Ue}`),await me.invalidateQueries({queryKey:["/api/home-page-data"],refetchType:"active"}),J(L=>L+1),console.log(` [MEET-RESTORATION] Cache invalidated and component re-render triggered for user ${Ue}`)}};return window.addEventListener("meet:restore_to_discover",Z),window.addEventListener("discover:refresh",Z),console.log(" [MEET-RESTORATION] Event listeners registered for meet:restore_to_discover and discover:refresh"),()=>{window.removeEventListener("meet:restore_to_discover",Z),window.removeEventListener("discover:refresh",Z)}},[me]);const B=()=>{R(!1),me.invalidateQueries({queryKey:["/api/user"]})},O=wt({mutationFn:async Z=>{const Se=await ze("/api/swipe",{method:"POST",data:{targetUserId:Z.userId,action:Z.action}});if(!Se.ok)throw new Error("Failed to record swipe action");return Se.json()},onMutate:async Z=>{await me.cancelQueries({queryKey:["/api/home-page-data"]});const Se=me.getQueryData(["/api/home-page-data"]),Ue=Se==null?void 0:Se.discoverUsers,De=Ue==null?void 0:Ue.find(se=>se.id===Z.userId);if(De){const se={...De,lastSwipeDirection:Z.action==="like"?"right":"left"};console.log(`[MEET-SWIPE] Storing user ${De.id} with direction: ${se.lastSwipeDirection}`),me.setQueryData(["/api/meet/removed-users"],L=>{const H=[se,...(L||[]).slice(0,9)];return console.log(`[MEET-SWIPE] Updated removed-users cache with ${H.length} users`),H})}return me.setQueryData(["/api/home-page-data"],se=>{var L;return se&&{...se,discoverUsers:((L=se.discoverUsers)==null?void 0:L.filter(q=>q.id!==Z.userId))||[]}}),console.log(`[MEET-OPTIMISTIC] Instantly removed user ${Z.userId} from unified cache`),{previousUnifiedData:Se}},onError:(Z,Se,Ue)=>{Ue!=null&&Ue.previousUnifiedData&&(me.setQueryData(["/api/home-page-data"],Ue.previousUnifiedData),d(De=>De.slice(0,-1)),console.log(`[MEET-OPTIMISTIC] Rolled back user ${Se.userId} due to error`))},onSettled:()=>{}}),X=wt({mutationFn:async Z=>{const Se=await ze("/api/swipe/history",{method:"POST",data:{targetUserId:Z.targetUserId,action:Z.action,appMode:"MEET"}});if(!Se.ok)throw new Error("Failed to save swipe history");return Se.json()},onSuccess:()=>{w()}}),ae=wt({mutationFn:async Z=>{const Se=await ze("/api/swipe/undo",{method:"POST",data:{userId:Z.userId,action:Z.action}});if(!Se.ok)throw new Error("Failed to undo swipe action");return Se.json()},onMutate:async Z=>{await me.cancelQueries({queryKey:["/api/home-page-data"]});const Se=me.getQueryData(["/api/home-page-data"]),De=(me.getQueryData(["/api/meet/removed-users"])||[])[0];if(De){const se=De.lastSwipeDirection||"right",L=se==="left"?"card-restore-left":"card-restore-right";k(L),console.log(`[MEET-UNDO] Starting restore animation: direction=${se}, class=${L}`),me.setQueryData(["/api/home-page-data"],q=>!q||!q.discoverUsers?q:{...q,discoverUsers:[De,...q.discoverUsers]}),me.setQueryData(["/api/meet/removed-users"],q=>q?q.slice(1):[]),setTimeout(()=>{k(""),console.log("[MEET-UNDO] Restore animation completed")},300),console.log(`[MEET-UNDO] Restore animation started for user ${De.id} - ${se} direction`)}return{previousData:Se,userToRestore:De}},onSuccess:(Z,Se,Ue)=>{d(De=>De.slice(1)),me.setQueryData(["/api/swipe/history"],De=>De?De.slice(1):[]),console.log(`[MEET-UNDO] Forcing cache invalidation to fetch fresh data for user ${Se.userId}`),me.invalidateQueries({queryKey:["/api/home-page-data"],refetchType:"active"}),console.log(`[MEET-UNDO] Server undo completed for user ${Se.userId}`)},onError:(Z,Se,Ue)=>{Ue!=null&&Ue.previousData&&me.setQueryData(["/api/home-page-data"],Ue.previousData),Ue!=null&&Ue.userToRestore&&me.setQueryData(["/api/meet/removed-users"],De=>{const se=De||[];return[Ue.userToRestore,...se]}),console.log(`[MEET-UNDO] Rolled back undo due to error for user ${Se.userId}:`,Z)},onSettled:()=>{}}),$=()=>{const Z=g==null?void 0:g[o];Z&&(N(Se=>[...Se,{user:Z,action:"dislike"}]),d(Se=>[{id:-1,user:Z,action:"dislike",timestamp:Date.now()},...Se]),console.log("Recording dislike for user:",Z.id),O.mutate({userId:Z.id,action:"dislike"}),X.mutate({targetUserId:Z.id,action:"dislike"}),F("next-card-slide-up"),setTimeout(()=>{F("")},300))},re=()=>{const Z=g==null?void 0:g[o];Z&&(N(Se=>[...Se,{user:Z,action:"like"}]),d(Se=>[{id:-1,user:Z,action:"like",timestamp:Date.now()},...Se]),console.log("Recording like for user:",Z.id),O.mutate({userId:Z.id,action:"like"}),X.mutate({targetUserId:Z.id,action:"like"}),F("next-card-slide-up"),setTimeout(()=>{F("")},300))},le=Z=>{console.log("Match potentially created with user:",Z.fullName),me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/matches/counts"]})},ce=()=>{var Ue;if(console.log(`[MEET-UNDO] handleUndoAction called with ${c.length} items in history`),c.length===0){console.log("[MEET-UNDO] No action to undo");return}const Z=c[0],Se=((Ue=Z.user)==null?void 0:Ue.id)||Z.targetUserId;if(!Se){console.error("[MEET-UNDO] Invalid swipe history entry - no user ID found",Z);return}console.log(`[MEET-UNDO] Undoing ${Z.action} for user ${Se}`),ae.mutate({userId:Se,action:Z.action})},ue=g&&g.length>0,ee=g&&o<g.length?g[o]:null;return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx("div",{className:`relative pb-14 overflow-hidden ${i?"":"border-t border-white"}`,children:t.jsx("div",{className:"h-[calc(100vh-110px)] relative overflow-hidden",children:h||!ue&&!p?t.jsx("div",{className:"h-full flex items-center justify-center p-6 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(sn,{className:"h-12 w-12 text-purple-500 animate-spin mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:s("common.loading")}),t.jsx("p",{className:"text-gray-600",children:s("app.findingMorePeople")})]})}):p?t.jsx("div",{className:"h-full flex items-center justify-center p-6 text-center",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-2",children:s("common.error")}),t.jsx("p",{className:"text-gray-600",children:f instanceof Error?f.message:s("swipeCard.errorTitle")})]})}):ue&&ee?t.jsx("div",{className:"h-full overflow-hidden",children:t.jsx(gy,{user:ee,onSwipeLeft:$,onSwipeRight:re,onMatchFound:le,onUndoAction:ce,restoreAnimationClass:_,nextCardAnimationClass:A,canUndo:c.length>0,undoCount:c.length,onActivationNeeded:()=>R(!0),isPremium:P,onPremiumUpgradeClick:T},`${ee.id}-${V}`)}):t.jsxs("div",{className:"h-full flex items-center justify-center p-6 text-center relative overflow-hidden",children:[t.jsx(Ey,{count:60,color:"rgba(168, 85, 247, 0.6)",opacityRange:[.1,.3],sizeRange:[16,28],speedRange:[20,40]}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h3",{className:"text-xl font-semibold mb-2",children:s("app.noMoreMatches")}),t.jsx("p",{className:"text-gray-600",children:s("app.findingMorePeople")})]})]})})}),t.jsx(Ns,{}),t.jsx(ine,{isOpen:M,onClose:()=>R(!1),onActivate:B}),t.jsx(Af,{open:C,onOpenChange:I})]})}var Mf=e=>e.type==="checkbox",ed=e=>e instanceof Date,js=e=>e==null;const hR=e=>typeof e=="object";var ua=e=>!js(e)&&!Array.isArray(e)&&hR(e)&&!ed(e),pR=e=>ua(e)&&e.target?Mf(e.target)?e.target.checked:e.target.value:e,lne=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fR=(e,r)=>e.has(lne(r)),cne=e=>{const r=e.constructor&&e.constructor.prototype;return ua(r)&&r.hasOwnProperty("isPrototypeOf")},nk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rs(e){let r;const n=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(nk&&(e instanceof Blob||e instanceof FileList))&&(n||ua(e)))if(r=n?[]:{},!n&&!cne(e))r=e;else for(const a in e)e.hasOwnProperty(a)&&(r[a]=Rs(e[a]));else return e;return r}var Ty=e=>Array.isArray(e)?e.filter(Boolean):[],ea=e=>e===void 0,yt=(e,r,n)=>{if(!r||!ua(e))return n;const a=Ty(r.split(/[,[\].]+?/)).reduce((s,i)=>js(s)?s:s[i],e);return ea(a)||a===e?ea(e[r])?n:e[r]:a},Ci=e=>typeof e=="boolean",ak=e=>/^\w*$/.test(e),gR=e=>Ty(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Zr=(e,r,n)=>{let a=-1;const s=ak(r)?[r]:gR(r),i=s.length,o=i-1;for(;++a<i;){const l=s[a];let c=n;if(a!==o){const d=e[l];c=ua(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const dx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Go={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xR=tt.createContext(null),Iy=()=>tt.useContext(xR),dne=e=>{const{children:r,...n}=e;return tt.createElement(xR.Provider,{value:n},r)};var yR=(e,r,n,a=!0)=>{const s={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return r._proxyFormState[o]!==Yi.all&&(r._proxyFormState[o]=!a||Yi.all),n&&(n[o]=!0),e[o]}});return s},Fs=e=>ua(e)&&!Object.keys(e).length,vR=(e,r,n,a)=>{n(e);const{name:s,...i}=e;return Fs(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!a||Yi.all))},Yh=e=>Array.isArray(e)?e:[e],bR=(e,r,n)=>!e||!r||e===r||Yh(e).some(a=>a&&(n?a===r:a.startsWith(r)||r.startsWith(a)));function sk(e){const r=tt.useRef(e);r.current=e,tt.useEffect(()=>{const n=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function une(e){const r=Iy(),{control:n=r.control,disabled:a,name:s,exact:i}=e||{},[o,l]=tt.useState(n._formState),c=tt.useRef(!0),d=tt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=tt.useRef(s);return m.current=s,sk({disabled:a,next:h=>c.current&&bR(m.current,h.name,i)&&vR(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),tt.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),yR(o,n,d.current,!1)}var ko=e=>typeof e=="string",wR=(e,r,n,a,s)=>ko(e)?(a&&r.watch.add(e),yt(n,e,s)):Array.isArray(e)?e.map(i=>(a&&r.watch.add(i),yt(n,i))):(a&&(r.watchAll=!0),n);function mne(e){const r=Iy(),{control:n=r.control,name:a,defaultValue:s,disabled:i,exact:o}=e||{},l=tt.useRef(a);l.current=a,sk({disabled:i,subject:n._subjects.values,next:m=>{bR(l.current,m.name,o)&&d(Rs(wR(l.current,n._names,m.values||n._formValues,!1,s)))}});const[c,d]=tt.useState(n._getWatch(a,s));return tt.useEffect(()=>n._removeUnmounted()),c}function hne(e){const r=Iy(),{name:n,disabled:a,control:s=r.control,shouldUnregister:i}=e,o=fR(s._names.array,n),l=mne({control:s,name:n,defaultValue:yt(s._formValues,n,yt(s._defaultValues,n,e.defaultValue)),exact:!0}),c=une({control:s,name:n,exact:!0}),d=tt.useRef(s.register(n,{...e.rules,value:l,...Ci(e.disabled)?{disabled:e.disabled}:{}}));return tt.useEffect(()=>{const m=s._options.shouldUnregister||i,h=(p,f)=>{const x=yt(s._fields,p);x&&x._f&&(x._f.mount=f)};if(h(n,!0),m){const p=Rs(yt(s._options.defaultValues,n));Zr(s._defaultValues,n,p),ea(yt(s._formValues,n))&&Zr(s._formValues,n,p)}return()=>{(o?m&&!s._state.action:m)?s.unregister(n):h(n,!1)}},[n,s,o,i]),tt.useEffect(()=>{yt(s._fields,n)&&s._updateDisabledField({disabled:a,fields:s._fields,name:n,value:yt(s._fields,n)._f.value})},[a,n,s]),{field:{name:n,value:l,...Ci(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:tt.useCallback(m=>d.current.onChange({target:{value:pR(m),name:n},type:dx.CHANGE}),[n]),onBlur:tt.useCallback(()=>d.current.onBlur({target:{value:yt(s._formValues,n),name:n},type:dx.BLUR}),[n,s]),ref:tt.useCallback(m=>{const h=yt(s._fields,n);h&&m&&(h._f.ref={focus:()=>m.focus(),select:()=>m.select(),setCustomValidity:p=>m.setCustomValidity(p),reportValidity:()=>m.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!yt(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!yt(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!yt(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!yt(c.validatingFields,n)},error:{enumerable:!0,get:()=>yt(c.errors,n)}})}}const pne=e=>e.render(hne(e));var jR=(e,r,n,a,s)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:s||!0}}:{},YE=e=>({isOnSubmit:!e||e===Yi.onSubmit,isOnBlur:e===Yi.onBlur,isOnChange:e===Yi.onChange,isOnAll:e===Yi.all,isOnTouch:e===Yi.onTouched}),QE=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Qh=(e,r,n,a)=>{for(const s of n||Object.keys(e)){const i=yt(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!a)return!0;if(o.ref&&r(o.ref,o.name)&&!a)return!0;if(Qh(l,r))break}else if(ua(l)&&Qh(l,r))break}}};var fne=(e,r,n)=>{const a=Yh(yt(e,n));return Zr(a,"root",r[n]),Zr(e,n,a),e},ik=e=>e.type==="file",nl=e=>typeof e=="function",ux=e=>{if(!nk)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ug=e=>ko(e),ok=e=>e.type==="radio",mx=e=>e instanceof RegExp;const JE={value:!1,isValid:!1},XE={value:!0,isValid:!0};var NR=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ea(e[0].attributes.value)?ea(e[0].value)||e[0].value===""?XE:{value:e[0].value,isValid:!0}:XE:JE}return JE};const ZE={isValid:!1,value:null};var kR=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,ZE):ZE;function eP(e,r,n="validate"){if(ug(e)||Array.isArray(e)&&e.every(ug)||Ci(e)&&!e)return{type:n,message:ug(e)?e:"",ref:r}}var tu=e=>ua(e)&&!mx(e)?e:{value:e,message:""},tP=async(e,r,n,a,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:m,max:h,pattern:p,validate:f,name:x,valueAsNumber:g,mount:v,disabled:y}=e._f,b=yt(r,x);if(!v||y)return{};const w=o?o[0]:i,S=A=>{a&&w.reportValidity&&(w.setCustomValidity(Ci(A)?"":A||""),w.reportValidity())},N={},P=ok(i),C=Mf(i),I=P||C,T=(g||ik(i))&&ea(i.value)&&ea(b)||ux(i)&&i.value===""||b===""||Array.isArray(b)&&!b.length,_=jR.bind(null,x,n,N),k=(A,F,V,J=Go.maxLength,M=Go.minLength)=>{const R=A?F:V;N[x]={type:A?J:M,message:R,ref:i,..._(A?J:M,R)}};if(s?!Array.isArray(b)||!b.length:l&&(!I&&(T||js(b))||Ci(b)&&!b||C&&!NR(o).isValid||P&&!kR(o).isValid)){const{value:A,message:F}=ug(l)?{value:!!l,message:l}:tu(l);if(A&&(N[x]={type:Go.required,message:F,ref:w,..._(Go.required,F)},!n))return S(F),N}if(!T&&(!js(m)||!js(h))){let A,F;const V=tu(h),J=tu(m);if(!js(b)&&!isNaN(b)){const M=i.valueAsNumber||b&&+b;js(V.value)||(A=M>V.value),js(J.value)||(F=M<J.value)}else{const M=i.valueAsDate||new Date(b),R=X=>new Date(new Date().toDateString()+" "+X),B=i.type=="time",O=i.type=="week";ko(V.value)&&b&&(A=B?R(b)>R(V.value):O?b>V.value:M>new Date(V.value)),ko(J.value)&&b&&(F=B?R(b)<R(J.value):O?b<J.value:M<new Date(J.value))}if((A||F)&&(k(!!A,V.message,J.message,Go.max,Go.min),!n))return S(N[x].message),N}if((c||d)&&!T&&(ko(b)||s&&Array.isArray(b))){const A=tu(c),F=tu(d),V=!js(A.value)&&b.length>+A.value,J=!js(F.value)&&b.length<+F.value;if((V||J)&&(k(V,A.message,F.message),!n))return S(N[x].message),N}if(p&&!T&&ko(b)){const{value:A,message:F}=tu(p);if(mx(A)&&!b.match(A)&&(N[x]={type:Go.pattern,message:F,ref:i,..._(Go.pattern,F)},!n))return S(F),N}if(f){if(nl(f)){const A=await f(b,r),F=eP(A,w);if(F&&(N[x]={...F,..._(Go.validate,F.message)},!n))return S(F.message),N}else if(ua(f)){let A={};for(const F in f){if(!Fs(A)&&!n)break;const V=eP(await f[F](b,r),w,F);V&&(A={...V,..._(F,V.message)},S(V.message),n&&(N[x]=A))}if(!Fs(A)&&(N[x]={ref:w,...A},!n))return N}}return S(!0),N};function gne(e,r){const n=r.slice(0,-1).length;let a=0;for(;a<n;)e=ea(e)?a++:e[r[a++]];return e}function xne(e){for(const r in e)if(e.hasOwnProperty(r)&&!ea(e[r]))return!1;return!0}function ba(e,r){const n=Array.isArray(r)?r:ak(r)?[r]:gR(r),a=n.length===1?e:gne(e,n),s=n.length-1,i=n[s];return a&&delete a[i],s!==0&&(ua(a)&&Fs(a)||Array.isArray(a)&&xne(a))&&ba(e,n.slice(0,-1)),e}var wb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},U1=e=>js(e)||!hR(e);function Ll(e,r){if(U1(e)||U1(r))return e===r;if(ed(e)&&ed(r))return e.getTime()===r.getTime();const n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(const s of n){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=r[s];if(ed(i)&&ed(o)||ua(i)&&ua(o)||Array.isArray(i)&&Array.isArray(o)?!Ll(i,o):i!==o)return!1}}return!0}var SR=e=>e.type==="select-multiple",yne=e=>ok(e)||Mf(e),jb=e=>ux(e)&&e.isConnected,CR=e=>{for(const r in e)if(nl(e[r]))return!0;return!1};function hx(e,r={}){const n=Array.isArray(e);if(ua(e)||n)for(const a in e)Array.isArray(e[a])||ua(e[a])&&!CR(e[a])?(r[a]=Array.isArray(e[a])?[]:{},hx(e[a],r[a])):js(e[a])||(r[a]=!0);return r}function ER(e,r,n){const a=Array.isArray(e);if(ua(e)||a)for(const s in e)Array.isArray(e[s])||ua(e[s])&&!CR(e[s])?ea(r)||U1(n[s])?n[s]=Array.isArray(e[s])?hx(e[s],[]):{...hx(e[s])}:ER(e[s],js(r)?{}:r[s],n[s]):n[s]=!Ll(e[s],r[s]);return n}var dh=(e,r)=>ER(e,r,hx(r)),PR=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:a})=>ea(e)?e:r?e===""?NaN:e&&+e:n&&ko(e)?new Date(e):a?a(e):e;function Nb(e){const r=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):r.disabled))return ik(r)?r.files:ok(r)?kR(e.refs).value:SR(r)?[...r.selectedOptions].map(({value:n})=>n):Mf(r)?NR(e.refs).value:PR(ea(r.value)?e.ref.value:r.value,e)}var vne=(e,r,n,a)=>{const s={};for(const i of e){const o=yt(r,i);o&&Zr(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:a}},uh=e=>ea(e)?e:mx(e)?e.source:ua(e)?mx(e.value)?e.value.source:e.value:e;const rP="AsyncFunction";var bne=e=>(!e||!e.validate)&&!!(nl(e.validate)&&e.validate.constructor.name===rP||ua(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===rP)),wne=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function nP(e,r,n){const a=yt(e,n);if(a||ak(n))return{error:a,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=yt(r,i),l=yt(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var jne=(e,r,n,a,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(r||e):(n?a.isOnBlur:s.isOnBlur)?!e:(n?a.isOnChange:s.isOnChange)?e:!0,Nne=(e,r)=>!Ty(yt(e,r)).length&&ba(e,r);const kne={mode:Yi.onSubmit,reValidateMode:Yi.onChange,shouldFocusError:!0};function Sne(e={}){let r={...kne,...e},n={submitCount:0,isDirty:!1,isLoading:nl(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},s=ua(r.defaultValues)||ua(r.values)?Rs(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:Rs(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:wb(),array:wb(),state:wb()},p=YE(r.mode),f=YE(r.reValidateMode),x=r.criteriaMode===Yi.all,g=z=>ie=>{clearTimeout(d),d=setTimeout(z,ie)},v=async z=>{if(!e.disabled&&(m.isValid||z)){const ie=r.resolver?Fs((await I()).errors):await _(a,!0);ie!==n.isValid&&h.state.next({isValid:ie})}},y=(z,ie)=>{!e.disabled&&(m.isValidating||m.validatingFields)&&((z||Array.from(l.mount)).forEach(pe=>{pe&&(ie?Zr(n.validatingFields,pe,ie):ba(n.validatingFields,pe))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Fs(n.validatingFields)}))},b=(z,ie=[],pe,ye,$e=!0,Le=!0)=>{if(ye&&pe&&!e.disabled){if(o.action=!0,Le&&Array.isArray(yt(a,z))){const Oe=pe(yt(a,z),ye.argA,ye.argB);$e&&Zr(a,z,Oe)}if(Le&&Array.isArray(yt(n.errors,z))){const Oe=pe(yt(n.errors,z),ye.argA,ye.argB);$e&&Zr(n.errors,z,Oe),Nne(n.errors,z)}if(m.touchedFields&&Le&&Array.isArray(yt(n.touchedFields,z))){const Oe=pe(yt(n.touchedFields,z),ye.argA,ye.argB);$e&&Zr(n.touchedFields,z,Oe)}m.dirtyFields&&(n.dirtyFields=dh(s,i)),h.state.next({name:z,isDirty:A(z,ie),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Zr(i,z,ie)},w=(z,ie)=>{Zr(n.errors,z,ie),h.state.next({errors:n.errors})},S=z=>{n.errors=z,h.state.next({errors:n.errors,isValid:!1})},N=(z,ie,pe,ye)=>{const $e=yt(a,z);if($e){const Le=yt(i,z,ea(pe)?yt(s,z):pe);ea(Le)||ye&&ye.defaultChecked||ie?Zr(i,z,ie?Le:Nb($e._f)):J(z,Le),o.mount&&v()}},P=(z,ie,pe,ye,$e)=>{let Le=!1,Oe=!1;const Ze={name:z};if(!e.disabled){const te=!!(yt(a,z)&&yt(a,z)._f&&yt(a,z)._f.disabled);if(!pe||ye){m.isDirty&&(Oe=n.isDirty,n.isDirty=Ze.isDirty=A(),Le=Oe!==Ze.isDirty);const Ne=te||Ll(yt(s,z),ie);Oe=!!(!te&&yt(n.dirtyFields,z)),Ne||te?ba(n.dirtyFields,z):Zr(n.dirtyFields,z,!0),Ze.dirtyFields=n.dirtyFields,Le=Le||m.dirtyFields&&Oe!==!Ne}if(pe){const Ne=yt(n.touchedFields,z);Ne||(Zr(n.touchedFields,z,pe),Ze.touchedFields=n.touchedFields,Le=Le||m.touchedFields&&Ne!==pe)}Le&&$e&&h.state.next(Ze)}return Le?Ze:{}},C=(z,ie,pe,ye)=>{const $e=yt(n.errors,z),Le=m.isValid&&Ci(ie)&&n.isValid!==ie;if(e.delayError&&pe?(c=g(()=>w(z,pe)),c(e.delayError)):(clearTimeout(d),c=null,pe?Zr(n.errors,z,pe):ba(n.errors,z)),(pe?!Ll($e,pe):$e)||!Fs(ye)||Le){const Oe={...ye,...Le&&Ci(ie)?{isValid:ie}:{},errors:n.errors,name:z};n={...n,...Oe},h.state.next(Oe)}},I=async z=>{y(z,!0);const ie=await r.resolver(i,r.context,vne(z||l.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return y(z),ie},T=async z=>{const{errors:ie}=await I(z);if(z)for(const pe of z){const ye=yt(ie,pe);ye?Zr(n.errors,pe,ye):ba(n.errors,pe)}else n.errors=ie;return ie},_=async(z,ie,pe={valid:!0})=>{for(const ye in z){const $e=z[ye];if($e){const{_f:Le,...Oe}=$e;if(Le){const Ze=l.array.has(Le.name),te=$e._f&&bne($e._f);te&&m.validatingFields&&y([ye],!0);const Ne=await tP($e,i,x,r.shouldUseNativeValidation&&!ie,Ze);if(te&&m.validatingFields&&y([ye]),Ne[Le.name]&&(pe.valid=!1,ie))break;!ie&&(yt(Ne,Le.name)?Ze?fne(n.errors,Ne,Le.name):Zr(n.errors,Le.name,Ne[Le.name]):ba(n.errors,Le.name))}!Fs(Oe)&&await _(Oe,ie,pe)}}return pe.valid},k=()=>{for(const z of l.unMount){const ie=yt(a,z);ie&&(ie._f.refs?ie._f.refs.every(pe=>!jb(pe)):!jb(ie._f.ref))&&ue(z)}l.unMount=new Set},A=(z,ie)=>!e.disabled&&(z&&ie&&Zr(i,z,ie),!Ll(ae(),s)),F=(z,ie,pe)=>wR(z,l,{...o.mount?i:ea(ie)?s:ko(z)?{[z]:ie}:ie},pe,ie),V=z=>Ty(yt(o.mount?i:s,z,e.shouldUnregister?yt(s,z,[]):[])),J=(z,ie,pe={})=>{const ye=yt(a,z);let $e=ie;if(ye){const Le=ye._f;Le&&(!Le.disabled&&Zr(i,z,PR(ie,Le)),$e=ux(Le.ref)&&js(ie)?"":ie,SR(Le.ref)?[...Le.ref.options].forEach(Oe=>Oe.selected=$e.includes(Oe.value)):Le.refs?Mf(Le.ref)?Le.refs.length>1?Le.refs.forEach(Oe=>(!Oe.defaultChecked||!Oe.disabled)&&(Oe.checked=Array.isArray($e)?!!$e.find(Ze=>Ze===Oe.value):$e===Oe.value)):Le.refs[0]&&(Le.refs[0].checked=!!$e):Le.refs.forEach(Oe=>Oe.checked=Oe.value===$e):ik(Le.ref)?Le.ref.value="":(Le.ref.value=$e,Le.ref.type||h.values.next({name:z,values:{...i}})))}(pe.shouldDirty||pe.shouldTouch)&&P(z,$e,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&X(z)},M=(z,ie,pe)=>{for(const ye in ie){const $e=ie[ye],Le=`${z}.${ye}`,Oe=yt(a,Le);(l.array.has(z)||ua($e)||Oe&&!Oe._f)&&!ed($e)?M(Le,$e,pe):J(Le,$e,pe)}},R=(z,ie,pe={})=>{const ye=yt(a,z),$e=l.array.has(z),Le=Rs(ie);Zr(i,z,Le),$e?(h.array.next({name:z,values:{...i}}),(m.isDirty||m.dirtyFields)&&pe.shouldDirty&&h.state.next({name:z,dirtyFields:dh(s,i),isDirty:A(z,Le)})):ye&&!ye._f&&!js(Le)?M(z,Le,pe):J(z,Le,pe),QE(z,l)&&h.state.next({...n}),h.values.next({name:o.mount?z:void 0,values:{...i}})},B=async z=>{o.mount=!0;const ie=z.target;let pe=ie.name,ye=!0;const $e=yt(a,pe),Le=()=>ie.type?Nb($e._f):pR(z),Oe=Ze=>{ye=Number.isNaN(Ze)||ed(Ze)&&isNaN(Ze.getTime())||Ll(Ze,yt(i,pe,Ze))};if($e){let Ze,te;const Ne=Le(),rt=z.type===dx.BLUR||z.type===dx.FOCUS_OUT,at=!wne($e._f)&&!r.resolver&&!yt(n.errors,pe)&&!$e._f.deps||jne(rt,yt(n.touchedFields,pe),n.isSubmitted,f,p),jt=QE(pe,l,rt);Zr(i,pe,Ne),rt?($e._f.onBlur&&$e._f.onBlur(z),c&&c(0)):$e._f.onChange&&$e._f.onChange(z);const xt=P(pe,Ne,rt,!1),jr=!Fs(xt)||jt;if(!rt&&h.values.next({name:pe,type:z.type,values:{...i}}),at)return m.isValid&&(e.mode==="onBlur"?rt&&v():v()),jr&&h.state.next({name:pe,...jt?{}:xt});if(!rt&&jt&&h.state.next({...n}),r.resolver){const{errors:zt}=await I([pe]);if(Oe(Ne),ye){const Wt=nP(n.errors,a,pe),Et=nP(zt,a,Wt.name||pe);Ze=Et.error,pe=Et.name,te=Fs(zt)}}else y([pe],!0),Ze=(await tP($e,i,x,r.shouldUseNativeValidation))[pe],y([pe]),Oe(Ne),ye&&(Ze?te=!1:m.isValid&&(te=await _(a,!0)));ye&&($e._f.deps&&X($e._f.deps),C(pe,te,Ze,xt))}},O=(z,ie)=>{if(yt(n.errors,ie)&&z.focus)return z.focus(),1},X=async(z,ie={})=>{let pe,ye;const $e=Yh(z);if(r.resolver){const Le=await T(ea(z)?z:$e);pe=Fs(Le),ye=z?!$e.some(Oe=>yt(Le,Oe)):pe}else z?(ye=(await Promise.all($e.map(async Le=>{const Oe=yt(a,Le);return await _(Oe&&Oe._f?{[Le]:Oe}:Oe)}))).every(Boolean),!(!ye&&!n.isValid)&&v()):ye=pe=await _(a);return h.state.next({...!ko(z)||m.isValid&&pe!==n.isValid?{}:{name:z},...r.resolver||!z?{isValid:pe}:{},errors:n.errors}),ie.shouldFocus&&!ye&&Qh(a,O,z?$e:l.mount),ye},ae=z=>{const ie={...o.mount?i:s};return ea(z)?ie:ko(z)?yt(ie,z):z.map(pe=>yt(ie,pe))},$=(z,ie)=>({invalid:!!yt((ie||n).errors,z),isDirty:!!yt((ie||n).dirtyFields,z),error:yt((ie||n).errors,z),isValidating:!!yt(n.validatingFields,z),isTouched:!!yt((ie||n).touchedFields,z)}),re=z=>{z&&Yh(z).forEach(ie=>ba(n.errors,ie)),h.state.next({errors:z?n.errors:{}})},le=(z,ie,pe)=>{const ye=(yt(a,z,{_f:{}})._f||{}).ref,$e=yt(n.errors,z)||{},{ref:Le,message:Oe,type:Ze,...te}=$e;Zr(n.errors,z,{...te,...ie,ref:ye}),h.state.next({name:z,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&ye&&ye.focus&&ye.focus()},ce=(z,ie)=>nl(z)?h.values.subscribe({next:pe=>z(F(void 0,ie),pe)}):F(z,ie,!0),ue=(z,ie={})=>{for(const pe of z?Yh(z):l.mount)l.mount.delete(pe),l.array.delete(pe),ie.keepValue||(ba(a,pe),ba(i,pe)),!ie.keepError&&ba(n.errors,pe),!ie.keepDirty&&ba(n.dirtyFields,pe),!ie.keepTouched&&ba(n.touchedFields,pe),!ie.keepIsValidating&&ba(n.validatingFields,pe),!r.shouldUnregister&&!ie.keepDefaultValue&&ba(s,pe);h.values.next({values:{...i}}),h.state.next({...n,...ie.keepDirty?{isDirty:A()}:{}}),!ie.keepIsValid&&v()},ee=({disabled:z,name:ie,field:pe,fields:ye,value:$e})=>{if(Ci(z)&&o.mount||z){const Le=z?void 0:ea($e)?Nb(pe?pe._f:yt(ye,ie)._f):$e;Zr(i,ie,Le),P(ie,Le,!1,!1,!0)}},Z=(z,ie={})=>{let pe=yt(a,z);const ye=Ci(ie.disabled)||Ci(e.disabled);return Zr(a,z,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:z}},name:z,mount:!0,...ie}}),l.mount.add(z),pe?ee({field:pe,disabled:Ci(ie.disabled)?ie.disabled:e.disabled,name:z,value:ie.value}):N(z,!0,ie.value),{...ye?{disabled:ie.disabled||e.disabled}:{},...r.progressive?{required:!!ie.required,min:uh(ie.min),max:uh(ie.max),minLength:uh(ie.minLength),maxLength:uh(ie.maxLength),pattern:uh(ie.pattern)}:{},name:z,onChange:B,onBlur:B,ref:$e=>{if($e){Z(z,ie),pe=yt(a,z);const Le=ea($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,Oe=yne(Le),Ze=pe._f.refs||[];if(Oe?Ze.find(te=>te===Le):Le===pe._f.ref)return;Zr(a,z,{_f:{...pe._f,...Oe?{refs:[...Ze.filter(jb),Le,...Array.isArray(yt(s,z))?[{}]:[]],ref:{type:Le.type,name:z}}:{ref:Le}}}),N(z,!1,void 0,Le)}else pe=yt(a,z,{}),pe._f&&(pe._f.mount=!1),(r.shouldUnregister||ie.shouldUnregister)&&!(fR(l.array,z)&&o.action)&&l.unMount.add(z)}}},Se=()=>r.shouldFocusError&&Qh(a,O,l.mount),Ue=z=>{Ci(z)&&(h.state.next({disabled:z}),Qh(a,(ie,pe)=>{const ye=yt(a,pe);ye&&(ie.disabled=ye._f.disabled||z,Array.isArray(ye._f.refs)&&ye._f.refs.forEach($e=>{$e.disabled=ye._f.disabled||z}))},0,!1))},De=(z,ie)=>async pe=>{let ye;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let $e=Rs(i);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:Le,values:Oe}=await I();n.errors=Le,$e=Oe}else await _(a);if(ba(n.errors,"root"),Fs(n.errors)){h.state.next({errors:{}});try{await z($e,pe)}catch(Le){ye=Le}}else ie&&await ie({...n.errors},pe),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fs(n.errors)&&!ye,submitCount:n.submitCount+1,errors:n.errors}),ye)throw ye},se=(z,ie={})=>{yt(a,z)&&(ea(ie.defaultValue)?R(z,Rs(yt(s,z))):(R(z,ie.defaultValue),Zr(s,z,Rs(ie.defaultValue))),ie.keepTouched||ba(n.touchedFields,z),ie.keepDirty||(ba(n.dirtyFields,z),n.isDirty=ie.defaultValue?A(z,Rs(yt(s,z))):A()),ie.keepError||(ba(n.errors,z),m.isValid&&v()),h.state.next({...n}))},L=(z,ie={})=>{const pe=z?Rs(z):s,ye=Rs(pe),$e=Fs(z),Le=$e?s:ye;if(ie.keepDefaultValues||(s=pe),!ie.keepValues){if(ie.keepDirtyValues){const Oe=new Set([...l.mount,...Object.keys(dh(s,i))]);for(const Ze of Array.from(Oe))yt(n.dirtyFields,Ze)?Zr(Le,Ze,yt(i,Ze)):R(Ze,yt(Le,Ze))}else{if(nk&&ea(z))for(const Oe of l.mount){const Ze=yt(a,Oe);if(Ze&&Ze._f){const te=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(ux(te)){const Ne=te.closest("form");if(Ne){Ne.reset();break}}}}a={}}i=e.shouldUnregister?ie.keepDefaultValues?Rs(s):{}:Rs(Le),h.array.next({values:{...Le}}),h.values.next({values:{...Le}})}l={mount:ie.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ie.keepSubmitCount?n.submitCount:0,isDirty:$e?!1:ie.keepDirty?n.isDirty:!!(ie.keepDefaultValues&&!Ll(z,s)),isSubmitted:ie.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$e?{}:ie.keepDirtyValues?ie.keepDefaultValues&&i?dh(s,i):n.dirtyFields:ie.keepDefaultValues&&z?dh(s,z):ie.keepDirty?n.dirtyFields:{},touchedFields:ie.keepTouched?n.touchedFields:{},errors:ie.keepErrors?n.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},q=(z,ie)=>L(nl(z)?z(i):z,ie);return{control:{register:Z,unregister:ue,getFieldState:$,handleSubmit:De,setError:le,_executeSchema:I,_getWatch:F,_getDirty:A,_updateValid:v,_removeUnmounted:k,_updateFieldArray:b,_updateDisabledField:ee,_getFieldArray:V,_reset:L,_resetDefaultValues:()=>nl(r.defaultValues)&&r.defaultValues().then(z=>{q(z,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:Ue,_subjects:h,_proxyFormState:m,_setErrors:S,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(z){o=z},get _defaultValues(){return s},get _names(){return l},set _names(z){l=z},get _formState(){return n},set _formState(z){n=z},get _options(){return r},set _options(z){r={...r,...z}}},trigger:X,register:Z,handleSubmit:De,watch:ce,setValue:R,getValues:ae,reset:q,resetField:se,clearErrors:re,unregister:ue,setError:le,setFocus:(z,ie={})=>{const pe=yt(a,z),ye=pe&&pe._f;if(ye){const $e=ye.refs?ye.refs[0]:ye.ref;$e.focus&&($e.focus(),ie.shouldSelect&&$e.select())}},getFieldState:$}}function bi(e={}){const r=tt.useRef(),n=tt.useRef(),[a,s]=tt.useState({isDirty:!1,isValidating:!1,isLoading:nl(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:nl(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Sne(e),formState:a});const i=r.current.control;return i._options=e,sk({subject:i._subjects.state,next:o=>{vR(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),tt.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),tt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),tt.useEffect(()=>{e.values&&!Ll(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),tt.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),tt.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),tt.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),tt.useEffect(()=>{r.current&&(r.current.watch=r.current.watch.bind({}))},[a]),r.current.formState=yR(a,i),r.current}const aP=(e,r,n)=>{if(e&&"reportValidity"in e){const a=yt(n,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},AR=(e,r)=>{for(const n in r.fields){const a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?aP(a.ref,n,e):a.refs&&a.refs.forEach(s=>aP(s,n,e))}},Cne=(e,r)=>{r.shouldUseNativeValidation&&AR(e,r);const n={};for(const a in e){const s=yt(r.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(Ene(r.names||Object.keys(e),a)){const o=Object.assign({},yt(n,a));Zr(o,"root",i),Zr(n,a,o)}else Zr(n,a,i)}return n},Ene=(e,r)=>e.some(n=>n.startsWith(r+"."));var Pne=function(e,r){for(var n={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!n[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(m){return m.errors.forEach(function(h){return e.push(h)})}),r){var c=n[o].types,d=c&&c[a.code];n[o]=jR(o,r,n,s,d?[].concat(d,a.message):a.message)}e.shift()}return n},wi=function(e,r,n){return n===void 0&&(n={}),function(a,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(d){return i.shouldUseNativeValidation&&AR({},i),{errors:{},values:n.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Cne(Pne(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};function _p(e,[r,n]){return Math.min(n,Math.max(r,e))}function Ane(e,r){return u.useReducer((n,a)=>r[n][a]??n,e)}var lk="ScrollArea",[MR,dye]=ps(lk),[Mne,Ui]=MR(lk),TR=u.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=u.useState(null),[d,m]=u.useState(null),[h,p]=u.useState(null),[f,x]=u.useState(null),[g,v]=u.useState(null),[y,b]=u.useState(0),[w,S]=u.useState(0),[N,P]=u.useState(!1),[C,I]=u.useState(!1),T=sr(r,k=>c(k)),_=Mc(s);return t.jsx(Mne,{scope:n,type:a,dir:_,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:m,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:I,onCornerWidthChange:b,onCornerHeightChange:S,children:t.jsx(bt.div,{dir:_,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});TR.displayName=lk;var IR="ScrollAreaViewport",_R=u.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:a,asChild:s,nonce:i,...o}=e,l=Ui(IR,n),c=u.useRef(null),d=sr(r,c,l.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),t.jsx(bt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Une({asChild:s,children:a},m=>t.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:m}))})]})});_R.displayName=IR;var $o="ScrollAreaScrollbar",ck=u.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Ui($o,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return u.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?t.jsx(Tne,{...a,ref:r,forceMount:n}):s.type==="scroll"?t.jsx(Ine,{...a,ref:r,forceMount:n}):s.type==="auto"?t.jsx(DR,{...a,ref:r,forceMount:n}):s.type==="always"?t.jsx(dk,{...a,ref:r}):null});ck.displayName=$o;var Tne=u.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Ui($o,e.__scopeScrollArea),[i,o]=u.useState(!1);return u.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},m=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",m),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",m)}}},[s.scrollArea,s.scrollHideDelay]),t.jsx(Ta,{present:n||i,children:t.jsx(DR,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Ine=u.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=Ui($o,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Dy(()=>c("SCROLL_END"),100),[l,c]=Ane("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),u.useEffect(()=>{const d=s.viewport,m=i?"scrollLeft":"scrollTop";if(d){let h=d[m];const p=()=>{const f=d[m];h!==f&&(c("SCROLL"),o()),h=f};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),t.jsx(Ta,{present:n||l!=="hidden",children:t.jsx(dk,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:it(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:it(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DR=u.forwardRef((e,r)=>{const n=Ui($o,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=u.useState(!1),l=e.orientation==="horizontal",c=Dy(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:m)}},10);return bm(n.viewport,c),bm(n.content,c),t.jsx(Ta,{present:a||i,children:t.jsx(dk,{"data-state":i?"visible":"hidden",...s,ref:r})})}),dk=u.forwardRef((e,r)=>{const{orientation:n="vertical",...a}=e,s=Ui($o,e.__scopeScrollArea),i=u.useRef(null),o=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=FR(l.viewport,l.content),m={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,f){return $ne(p,o.current,l,f)}return n==="horizontal"?t.jsx(_ne,{...m,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=sP(p,l,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?t.jsx(Dne,{...m,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=sP(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),_ne=u.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=Ui($o,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=sr(r,c,i.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(OR,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_y(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(p),BR(p,h)&&m.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:fx(o.paddingLeft),paddingEnd:fx(o.paddingRight)}})}})}),Dne=u.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=Ui($o,e.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=sr(r,c,i.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(OR,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_y(n)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,h)=>{if(i.viewport){const p=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(p),BR(p,h)&&m.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:fx(o.paddingTop),paddingEnd:fx(o.paddingBottom)}})}})}),[Rne,RR]=MR($o),OR=u.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:m,onResize:h,...p}=e,f=Ui($o,n),[x,g]=u.useState(null),v=sr(r,T=>g(T)),y=u.useRef(null),b=u.useRef(""),w=f.viewport,S=a.content-a.viewport,N=zn(m),P=zn(c),C=Dy(h,10);function I(T){if(y.current){const _=T.clientX-y.current.left,k=T.clientY-y.current.top;d({x:_,y:k})}}return u.useEffect(()=>{const T=_=>{const k=_.target;(x==null?void 0:x.contains(k))&&N(_,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,x,S,N]),u.useEffect(P,[a,P]),bm(x,C),bm(f.content,C),t.jsx(Rne,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:zn(i),onThumbPointerUp:zn(o),onThumbPositionChange:P,onThumbPointerDown:zn(l),children:t.jsx(bt.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:it(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),I(T))}),onPointerMove:it(e.onPointerMove,I),onPointerUp:it(e.onPointerUp,T=>{const _=T.target;_.hasPointerCapture(T.pointerId)&&_.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),px="ScrollAreaThumb",LR=u.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=RR(px,e.__scopeScrollArea);return t.jsx(Ta,{present:n||s.hasThumb,children:t.jsx(One,{ref:r,...a})})}),One=u.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=Ui(px,n),o=RR(px,n),{onThumbPositionChange:l}=o,c=sr(r,h=>o.onThumbChange(h)),d=u.useRef(),m=Dy(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(m(),!d.current){const f=Fne(h,l);d.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,m,l]),t.jsx(bt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:it(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),x=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:it(e.onPointerUp,o.onThumbPointerUp)})});LR.displayName=px;var uk="ScrollAreaCorner",$R=u.forwardRef((e,r)=>{const n=Ui(uk,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?t.jsx(Lne,{...e,ref:r}):null});$R.displayName=uk;var Lne=u.forwardRef((e,r)=>{const{__scopeScrollArea:n,...a}=e,s=Ui(uk,n),[i,o]=u.useState(0),[l,c]=u.useState(0),d=!!(i&&l);return bm(s.scrollbarX,()=>{var h;const m=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(m),c(m)}),bm(s.scrollbarY,()=>{var h;const m=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(m),o(m)}),d?t.jsx(bt.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function fx(e){return e?parseInt(e,10):0}function FR(e,r){const n=e/r;return isNaN(n)?0:n}function _y(e){const r=FR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*r;return Math.max(a,18)}function $ne(e,r,n,a="ltr"){const s=_y(n),i=s/2,o=r||i,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,m=n.content-n.viewport,h=a==="ltr"?[0,m]:[m*-1,0];return UR([c,d],h)(e)}function sP(e,r,n="ltr"){const a=_y(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-s,o=r.content-r.viewport,l=i-a,c=n==="ltr"?[0,o]:[o*-1,0],d=_p(e,c);return UR([0,o],[0,l])(d)}function UR(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(n-e[0])}}function BR(e,r){return e>0&&e<r}var Fne=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&r(),n=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function Dy(e,r){const n=zn(e),a=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),u.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,r)},[n,r])}function bm(e,r){const n=zn(r);Fa(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,n])}function Une(e,r){const{asChild:n,children:a}=e;if(!n)return typeof r=="function"?r(a):r;const s=u.Children.only(a);return u.cloneElement(s,{children:typeof r=="function"?r(s.props.children):r})}var GR=TR,Bne=_R,Gne=$R;const to=u.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(GR,{ref:a,className:We("relative overflow-hidden",e),...n,children:[t.jsx(Bne,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(VR,{}),t.jsx(Gne,{})]}));to.displayName=GR.displayName;const VR=u.forwardRef(({className:e,orientation:r="vertical",...n},a)=>t.jsx(ck,{ref:a,orientation:r,className:We("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(LR,{className:"relative flex-1 rounded-full bg-border"})}));VR.displayName=ck.displayName;const oa=u.forwardRef(({className:e,...r},n)=>t.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));oa.displayName="Textarea";var mk="Collapsible",[Vne,zR]=ps(mk),[zne,hk]=Vne(mk),WR=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,open:a,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Es({prop:a,defaultProp:s,onChange:o});return t.jsx(zne,{scope:n,disabled:i,contentId:Aa(),open:c,onOpenToggle:u.useCallback(()=>d(m=>!m),[d]),children:t.jsx(bt.div,{"data-state":fk(c),"data-disabled":i?"":void 0,...l,ref:r})})});WR.displayName=mk;var HR="CollapsibleTrigger",KR=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,...a}=e,s=hk(HR,n);return t.jsx(bt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":fk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:r,onClick:it(e.onClick,s.onOpenToggle)})});KR.displayName=HR;var pk="CollapsibleContent",qR=u.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=hk(pk,e.__scopeCollapsible);return t.jsx(Ta,{present:n||s.open,children:({present:i})=>t.jsx(Wne,{...a,ref:r,present:i})})});qR.displayName=pk;var Wne=u.forwardRef((e,r)=>{const{__scopeCollapsible:n,present:a,children:s,...i}=e,o=hk(pk,n),[l,c]=u.useState(a),d=u.useRef(null),m=sr(r,d),h=u.useRef(0),p=h.current,f=u.useRef(0),x=f.current,g=o.open||l,v=u.useRef(g),y=u.useRef();return u.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),Fa(()=>{const b=d.current;if(b){y.current=y.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();h.current=w.height,f.current=w.width,v.current||(b.style.transitionDuration=y.current.transitionDuration,b.style.animationName=y.current.animationName),c(a)}},[o.open,a]),t.jsx(bt.div,{"data-state":fk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:m,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function fk(e){return e?"open":"closed"}var Hne=WR,Kne=KR,qne=qR,wl="Accordion",Yne=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gk,Qne,Jne]=Lm(wl),[Ry,uye]=ps(wl,[Jne,zR]),xk=zR(),YR=tt.forwardRef((e,r)=>{const{type:n,...a}=e,s=a,i=a;return t.jsx(gk.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?t.jsx(tae,{...i,ref:r}):t.jsx(eae,{...s,ref:r})})});YR.displayName=wl;var[QR,Xne]=Ry(wl),[JR,Zne]=Ry(wl,{collapsible:!1}),eae=tt.forwardRef((e,r)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=Es({prop:n,defaultProp:a,onChange:s});return t.jsx(QR,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:tt.useCallback(()=>i&&c(""),[i,c]),children:t.jsx(JR,{scope:e.__scopeAccordion,collapsible:i,children:t.jsx(XR,{...o,ref:r})})})}),tae=tt.forwardRef((e,r)=>{const{value:n,defaultValue:a,onValueChange:s=()=>{},...i}=e,[o=[],l]=Es({prop:n,defaultProp:a,onChange:s}),c=tt.useCallback(m=>l((h=[])=>[...h,m]),[l]),d=tt.useCallback(m=>l((h=[])=>h.filter(p=>p!==m)),[l]);return t.jsx(QR,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:t.jsx(JR,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx(XR,{...i,ref:r})})})}),[rae,Oy]=Ry(wl),XR=tt.forwardRef((e,r)=>{const{__scopeAccordion:n,disabled:a,dir:s,orientation:i="vertical",...o}=e,l=tt.useRef(null),c=sr(l,r),d=Qne(n),h=Mc(s)==="ltr",p=it(e.onKeyDown,f=>{var I;if(!Yne.includes(f.key))return;const x=f.target,g=d().filter(T=>{var _;return!((_=T.ref.current)!=null&&_.disabled)}),v=g.findIndex(T=>T.ref.current===x),y=g.length;if(v===-1)return;f.preventDefault();let b=v;const w=0,S=y-1,N=()=>{b=v+1,b>S&&(b=w)},P=()=>{b=v-1,b<w&&(b=S)};switch(f.key){case"Home":b=w;break;case"End":b=S;break;case"ArrowRight":i==="horizontal"&&(h?N():P());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(h?P():N());break;case"ArrowUp":i==="vertical"&&P();break}const C=b%y;(I=g[C].ref.current)==null||I.focus()});return t.jsx(rae,{scope:n,disabled:a,direction:s,orientation:i,children:t.jsx(gk.Slot,{scope:n,children:t.jsx(bt.div,{...o,"data-orientation":i,ref:c,onKeyDown:a?void 0:p})})})}),gx="AccordionItem",[nae,yk]=Ry(gx),ZR=tt.forwardRef((e,r)=>{const{__scopeAccordion:n,value:a,...s}=e,i=Oy(gx,n),o=Xne(gx,n),l=xk(n),c=Aa(),d=a&&o.value.includes(a)||!1,m=i.disabled||e.disabled;return t.jsx(nae,{scope:n,open:d,disabled:m,triggerId:c,children:t.jsx(Hne,{"data-orientation":i.orientation,"data-state":sO(d),...l,...s,ref:r,disabled:m,open:d,onOpenChange:h=>{h?o.onItemOpen(a):o.onItemClose(a)}})})});ZR.displayName=gx;var eO="AccordionHeader",tO=tt.forwardRef((e,r)=>{const{__scopeAccordion:n,...a}=e,s=Oy(wl,n),i=yk(eO,n);return t.jsx(bt.h3,{"data-orientation":s.orientation,"data-state":sO(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:r})});tO.displayName=eO;var B1="AccordionTrigger",rO=tt.forwardRef((e,r)=>{const{__scopeAccordion:n,...a}=e,s=Oy(wl,n),i=yk(B1,n),o=Zne(B1,n),l=xk(n);return t.jsx(gk.ItemSlot,{scope:n,children:t.jsx(Kne,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...a,ref:r})})});rO.displayName=B1;var nO="AccordionContent",aO=tt.forwardRef((e,r)=>{const{__scopeAccordion:n,...a}=e,s=Oy(wl,n),i=yk(nO,n),o=xk(n);return t.jsx(qne,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...a,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});aO.displayName=nO;function sO(e){return e?"open":"closed"}var aae=YR,sae=ZR,iae=tO,iO=rO,oO=aO;const Mi=aae,yr=u.forwardRef(({className:e,...r},n)=>t.jsx(sae,{ref:n,className:We("border-b",e),...r}));yr.displayName="AccordionItem";const vr=u.forwardRef(({className:e,children:r,...n},a)=>t.jsx(iae,{className:"flex",children:t.jsxs(iO,{ref:a,className:We("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[r,t.jsx(ls,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));vr.displayName=iO.displayName;const br=u.forwardRef(({className:e,children:r,...n},a)=>t.jsx(oO,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:t.jsx("div",{className:We("pb-4 pt-0",e),children:r})}));br.displayName=oO.displayName;var vk="Tabs",[oae,mye]=ps(vk,[Hm]),lO=Hm(),[lae,bk]=oae(vk),cO=u.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=Mc(l),[h,p]=Es({prop:a,onChange:s,defaultProp:i});return t.jsx(lae,{scope:n,baseId:Aa(),value:h,onValueChange:p,orientation:o,dir:m,activationMode:c,children:t.jsx(bt.div,{dir:m,"data-orientation":o,...d,ref:r})})});cO.displayName=vk;var dO="TabsList",uO=u.forwardRef((e,r)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=bk(dO,n),o=lO(n);return t.jsx($2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:t.jsx(bt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});uO.displayName=dO;var mO="TabsTrigger",hO=u.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=bk(mO,n),l=lO(n),c=gO(o.baseId,a),d=xO(o.baseId,a),m=a===o.value;return t.jsx(F2,{asChild:!0,...l,focusable:!s,active:m,children:t.jsx(bt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:r,onMouseDown:it(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:it(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:it(e.onFocus,()=>{const h=o.activationMode!=="manual";!m&&!s&&h&&o.onValueChange(a)})})})});hO.displayName=mO;var pO="TabsContent",fO=u.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,l=bk(pO,n),c=gO(l.baseId,a),d=xO(l.baseId,a),m=a===l.value,h=u.useRef(m);return u.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Ta,{present:s||m,children:({present:p})=>t.jsx(bt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});fO.displayName=pO;function gO(e,r){return`${e}-trigger-${r}`}function xO(e,r){return`${e}-content-${r}`}var cae=cO,yO=uO,vO=hO,bO=fO;const Wd=cae,Hd=u.forwardRef(({className:e,...r},n)=>t.jsx(yO,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Hd.displayName=yO.displayName;const da=u.forwardRef(({className:e,...r},n)=>t.jsx(vO,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));da.displayName=vO.displayName;const Kn=u.forwardRef(({className:e,...r},n)=>t.jsx(bO,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));Kn.displayName=bO.displayName;function wO({open:e,onOpenChange:r,blockedUserInfo:n,defaultTab:a="faq"}){const[s,i]=u.useState(""),[o,l]=u.useState(!1),[c,d]=u.useState(null),{data:m}=dt({queryKey:["/api/user"],enabled:e}),h=wt({mutationFn:async f=>ze("/api/contact/send",{method:"POST",data:{name:(n==null?void 0:n.fullName)||(m==null?void 0:m.fullName)||"Unknown User",email:(n==null?void 0:n.email)||(m==null?void 0:m.email)||"unknown@example.com",phoneNumber:(n==null?void 0:n.phoneNumber)||(m==null?void 0:m.phoneNumber)||"Not provided",message:f.message}}),onSuccess:()=>{mn({title:"Message Sent Successfully!",description:"Thank you for reaching out. We'll get back to you within 24 hours."}),i(""),l(!0)},onError:f=>{mn({title:"Failed to Send Message",description:(f==null?void 0:f.message)||"Please try again later or contact us directly.",variant:"destructive"})}}),p=f=>{if(f.preventDefault(),!s.trim()){mn({title:"Please fill in your message",description:"A message is required to send your request.",variant:"destructive"});return}if(!m&&!n){mn({title:"User not found",description:"Please try refreshing the page and logging in again.",variant:"destructive"});return}h.mutate({message:s.trim()})};return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[650px] max-h-[85vh] overflow-hidden border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-t-xl"}),t.jsxs(pn,{className:"pb-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(pT,{className:"h-5 w-5 text-blue-400"}),t.jsx(Jr,{className:"text-xl font-bold tracking-tight",children:"Help & Support"})]}),t.jsx(Gs,{className:"text-white/70 pt-2",children:"Get help with CHARLEY and find answers to common questions"})]}),t.jsxs(Wd,{defaultValue:a,className:"w-full",children:[t.jsxs(Hd,{className:"grid w-full grid-cols-3 bg-white/5 p-1 rounded-md mb-4",children:[t.jsx(da,{value:"faq",className:"text-sm data-[state=active]:bg-primary/20 data-[state=active]:text-white",children:"FAQs"}),t.jsx(da,{value:"guides",className:"text-sm data-[state=active]:bg-primary/20 data-[state=active]:text-white",children:"Guides"}),t.jsx(da,{value:"contact",className:"text-sm data-[state=active]:bg-primary/20 data-[state=active]:text-white",children:"Contact Us"})]}),t.jsx(Kn,{value:"faq",className:"focus:outline-none",children:t.jsx(to,{className:"pr-4 h-[50vh] overflow-y-auto",children:t.jsxs(Mi,{type:"single",collapsible:!0,className:"w-full",children:[t.jsxs(yr,{value:"item-1",className:"border-white/10",children:[t.jsx(vr,{className:"text-white hover:text-white/90 hover:no-underline py-4",children:"How do I reset my password?"}),t.jsxs(br,{className:"text-white/70",children:[t.jsx("p",{children:"You can reset your password by following these steps:"}),t.jsxs("ol",{className:"list-decimal pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:'Go to the login screen and tap "Forgot Password"'}),t.jsx("li",{children:"Enter the email address associated with your account"}),t.jsx("li",{children:"Check your email for a password reset link"}),t.jsx("li",{children:"Click the link and follow the instructions to create a new password"})]}),t.jsx("p",{className:"mt-2",children:"If you don't receive the email, please check your spam folder."})]})]}),t.jsxs(yr,{value:"item-2",className:"border-white/10",children:[t.jsx(vr,{className:"text-white hover:text-white/90 hover:no-underline py-4",children:"How does the matching algorithm work?"}),t.jsxs(br,{className:"text-white/70",children:["Our intelligent matching system uses several factors to connect you with compatible people:",t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Your dating preferences (age, distance, etc.)"}),t.jsx("li",{children:"Shared interests and values"}),t.jsx("li",{children:"Compatibility metrics based on your profile"}),t.jsx("li",{children:"Mutual attraction signals"})]}),t.jsx("p",{className:"mt-2",children:"The more complete your profile is, the better matches we can suggest for you."})]})]}),t.jsxs(yr,{value:"item-3",className:"border-white/10",children:[t.jsx(vr,{className:"text-white hover:text-white/90 hover:no-underline py-4",children:"How do I update my location?"}),t.jsxs(br,{className:"text-white/70",children:[t.jsx("p",{children:"Your location is updated automatically when you use the app. If you want to change your location manually:"}),t.jsxs("ol",{className:"list-decimal pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Go to Settings"}),t.jsx("li",{children:'Select "Account" tab'}),t.jsx("li",{children:'Tap on "Location"'}),t.jsx("li",{children:"Enter your new location or enable location permissions"})]}),t.jsx("p",{className:"mt-2",children:"Note: Some location features may require a premium subscription."})]})]}),t.jsxs(yr,{value:"item-4",className:"border-white/10",children:[t.jsx(vr,{className:"text-white hover:text-white/90 hover:no-underline py-4",children:"How do I report inappropriate behavior?"}),t.jsxs(br,{className:"text-white/70",children:[t.jsx("p",{children:"We take user safety seriously. To report someone:"}),t.jsxs("ol",{className:"list-decimal pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"Go to the user's profile"}),t.jsx("li",{children:"Tap the three dots () in the top right corner"}),t.jsx("li",{children:'Select "Report"'}),t.jsx("li",{children:"Choose the reason for reporting and provide details"})]}),t.jsx("p",{className:"mt-2",children:"Our moderation team reviews all reports thoroughly and takes appropriate action."})]})]}),t.jsxs(yr,{value:"item-5",className:"border-white/10",children:[t.jsx(vr,{className:"text-white hover:text-white/90 hover:no-underline py-4",children:"What are the benefits of premium subscription?"}),t.jsxs(br,{className:"text-white/70",children:[t.jsx("p",{children:"Premium subscribers enjoy these exclusive features:"}),t.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[t.jsx("li",{children:"See who likes your profile"}),t.jsx("li",{children:"Advanced filters for preferences"}),t.jsx("li",{children:"Unlimited daily matches"}),t.jsx("li",{children:"Read receipts for messages"}),t.jsx("li",{children:"Priority customer support"}),t.jsx("li",{children:"Ad-free experience"})]}),t.jsx("p",{className:"mt-2",children:"Visit the Subscription tab in Settings to upgrade."})]})]})]})})}),t.jsx(Kn,{value:"guides",className:"focus:outline-none",children:t.jsx(to,{className:"pr-4 h-[50vh] overflow-y-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full hover:bg-white/10 transition-colors p-4 text-left flex items-center justify-between group",onClick:()=>d(c==="getting-started"?null:"getting-started"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg",children:t.jsx(Rn,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Getting Started Guide"}),t.jsx("p",{className:"text-xs text-white/70",children:"Master CHARLEY's core features and navigation"})]})]}),c==="getting-started"?t.jsx(ls,{className:"h-5 w-5 text-white/80 transition-transform"}):t.jsx(ia,{className:"h-5 w-5 text-white/50 group-hover:text-white/80 transition-colors"})]}),c==="getting-started"&&t.jsxs("div",{className:"px-4 pb-4 text-white/80 text-sm space-y-4",children:[t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Jt,{className:"h-4 w-4 text-blue-400"}),"Three Powerful Apps in One"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"text-pink-400 font-medium",children:"MEET:"})," Connect with singles who share your Ghanaian heritage through cultural matching"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"text-purple-400 font-medium",children:"HEAT:"})," Join community conversations and events with real-time social features"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"text-green-400 font-medium",children:"SUITE:"})," Build professional networks within the Ghanaian business community"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Ea,{className:"h-4 w-4 text-yellow-400"}),"Quick Setup (5 minutes)"]}),t.jsxs("ol",{className:"space-y-2 text-xs list-decimal list-inside",children:[t.jsx("li",{children:"Complete your profile with authentic photos and verification"}),t.jsx("li",{children:"Set your dating preferences and interests with advanced filters"}),t.jsx("li",{children:"Choose your primary focus: Dating, Community, or Professional networking"}),t.jsx("li",{children:"Enable location services for local connections and discovery"}),t.jsx("li",{children:"Start swiping, chatting, or networking based on your chosen mode"})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Mn,{className:"h-4 w-4 text-gray-400"}),"Essential Features to Try First"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Smart Matching:"})," AI-powered compatibility based on culture, values, and interests"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Ghost Mode:"})," Browse profiles privately without being seen"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Story Sharing:"})," Share moments from your day with the community"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Cultural Filters:"})," Find people from specific Ghanaian tribes or regions"]})]})]})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full hover:bg-white/10 transition-colors p-4 text-left flex items-center justify-between group",onClick:()=>d(c==="messaging"?null:"messaging"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-purple-500/20 p-2 rounded-lg",children:t.jsx(wp,{className:"h-5 w-5 text-purple-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Messaging Tips & Features"}),t.jsx("p",{className:"text-xs text-white/70",children:"Master conversations and build meaningful connections"})]})]}),c==="messaging"?t.jsx(ls,{className:"h-5 w-5 text-white/80 transition-transform"}):t.jsx(ia,{className:"h-5 w-5 text-white/50 group-hover:text-white/80 transition-colors"})]}),c==="messaging"&&t.jsxs("div",{className:"px-4 pb-4 text-white/80 text-sm space-y-4",children:[t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Yt,{className:"h-4 w-4 text-pink-400"}),"Great First Messages"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Reference something specific from their profile (shows genuine interest)"}),t.jsx("li",{children:' Ask about their interests or experiences rather than just saying "hey"'}),t.jsx("li",{children:" Share something about yourself to start a two-way conversation"}),t.jsx("li",{children:" Use humor appropriately, but avoid offensive or overly personal jokes"}),t.jsx("li",{children:" Keep it concise but thoughtful and engaging"})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Ea,{className:"h-4 w-4 text-yellow-400"}),"Advanced Features"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Read Receipts:"})," See when messages are read for better communication"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Voice Messages:"})," Send audio clips for more personal connection"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Photo Sharing:"})," Share moments directly in chat conversations"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Auto-Delete Messages:"})," Set messages to disappear for privacy"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Typing Indicators:"})," Real-time conversation flow and engagement"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(pm,{className:"h-4 w-4 text-orange-400"}),"Conversation Do's and Don'ts"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-green-400 mb-1",children:" DO:"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:" Ask open-ended questions"}),t.jsx("li",{children:" Be respectful and patient"}),t.jsx("li",{children:" Share your culture and interests"}),t.jsx("li",{children:" Move to video calls when comfortable"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-red-400 mb-1",children:" DON'T:"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:" Send inappropriate content"}),t.jsx("li",{children:" Be pushy about personal info"}),t.jsx("li",{children:" Use offensive language"}),t.jsx("li",{children:" Send repetitive messages"})]})]})]})]})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full hover:bg-white/10 transition-colors p-4 text-left flex items-center justify-between group",onClick:()=>d(c==="profile"?null:"profile"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-pink-500/20 p-2 rounded-lg",children:t.jsx(Ln,{className:"h-5 w-5 text-pink-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Profile Optimization"}),t.jsx("p",{className:"text-xs text-white/70",children:"Create an irresistible and authentic profile"})]})]}),c==="profile"?t.jsx(ls,{className:"h-5 w-5 text-white/80 transition-transform"}):t.jsx(ia,{className:"h-5 w-5 text-white/50 group-hover:text-white/80 transition-colors"})]}),c==="profile"&&t.jsxs("div",{className:"px-4 pb-4 text-white/80 text-sm space-y-4",children:[t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Ln,{className:"h-4 w-4 text-pink-400"}),"Perfect Photo Strategy"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Main Photo:"})," Clear face shot with natural lighting and genuine smile"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Body Shot:"})," Full-body photo showing your style and personality"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Activity Photo:"})," You doing something you love (hobby, sport, travel)"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Social Photo:"})," With friends/family (shows you're socially connected)"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Cultural Photo:"})," Celebrating Ghanaian traditions or events"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Professional Photo:"})," For SUITE networking and business connections"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(mT,{className:"h-4 w-4 text-blue-400"}),"Compelling Bio Writing"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Start with what makes you unique (personality trait or passion)"}),t.jsx("li",{children:" Mention your Ghanaian heritage and what it means to you"}),t.jsx("li",{children:" Include 2-3 specific interests or hobbies"}),t.jsx("li",{children:" Add a conversation starter or question"}),t.jsx("li",{children:" Keep it positive and authentic (avoid negative statements)"}),t.jsx("li",{children:" Use emojis sparingly for visual appeal and personality"})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Mn,{className:"h-4 w-4 text-gray-400"}),"Profile Completion Tips"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Fill out all sections (100% completion increases matches by 40%)"}),t.jsx("li",{children:" Link your social media for more photos and personality showcase"}),t.jsx("li",{children:" Add your music playlist to show music taste"}),t.jsx("li",{children:" Set accurate location and dating radius"}),t.jsx("li",{children:" Update regularly with new photos and experiences"}),t.jsx("li",{children:" Use profile verification for trustworthiness"})]})]})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full hover:bg-white/10 transition-colors p-4 text-left flex items-center justify-between group",onClick:()=>d(c==="safety"?null:"safety"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-indigo-500/20 p-2 rounded-lg",children:t.jsx(gn,{className:"h-5 w-5 text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Safety & Privacy Guide"}),t.jsx("p",{className:"text-xs text-white/70",children:"Stay secure while building genuine connections"})]})]}),c==="safety"?t.jsx(ls,{className:"h-5 w-5 text-white/80 transition-transform"}):t.jsx(ia,{className:"h-5 w-5 text-white/50 group-hover:text-white/80 transition-colors"})]}),c==="safety"&&t.jsxs("div",{className:"px-4 pb-4 text-white/80 text-sm space-y-4",children:[t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(wo,{className:"h-4 w-4 text-green-400"}),"Privacy Controls"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Ghost Mode:"})," Browse profiles without being seen by others"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Profile Visibility:"})," Control who can see your profile and information"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Location Privacy:"})," Share general area, not exact location"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Photo Protection:"})," Prevent screenshots with notification alerts"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Incognito Messaging:"})," Chat without revealing online status"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(vo,{className:"h-4 w-4 text-blue-400"}),"Red Flags to Watch For"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Refuses to video chat or meet in person after extended messaging"}),t.jsx("li",{children:" Asks for money, gifts, or financial information early on"}),t.jsx("li",{children:" Has very few photos or photos that look too professional"}),t.jsx("li",{children:" Avoids answering specific questions about their background"}),t.jsx("li",{children:" Pressures you to move conversations off the app immediately"}),t.jsx("li",{children:" Stories don't add up or change over time"})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(ta,{className:"h-4 w-4 text-red-400"}),"Safe Meeting Guidelines"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Always meet in public places for first few dates"}),t.jsx("li",{children:" Tell a trusted friend your plans and location"}),t.jsx("li",{children:" Use the built-in location sharing feature for safety"}),t.jsx("li",{children:" Have your own transportation to and from the date"}),t.jsx("li",{children:" Video chat before meeting to verify their identity"}),t.jsx("li",{children:" Trust your instincts - if something feels off, leave"})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(pm,{className:"h-4 w-4 text-orange-400"}),"Reporting & Blocking"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Report inappropriate behavior immediately"}),t.jsx("li",{children:" Block users who make you uncomfortable"}),t.jsx("li",{children:" Take screenshots as evidence before blocking"}),t.jsx("li",{children:" Use the emergency contact feature if needed"}),t.jsx("li",{children:" Advanced AI monitors conversations for safety violations"})]})]})]})]}),t.jsxs("div",{className:"bg-white/5 rounded-xl overflow-hidden",children:[t.jsxs("button",{className:"w-full hover:bg-white/10 transition-colors p-4 text-left flex items-center justify-between group",onClick:()=>d(c==="troubleshooting"?null:"troubleshooting"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:t.jsx(SG,{className:"h-5 w-5 text-green-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Troubleshooting Common Issues"}),t.jsx("p",{className:"text-xs text-white/70",children:"Quick fixes for technical problems and app issues"})]})]}),c==="troubleshooting"?t.jsx(ls,{className:"h-5 w-5 text-white/80 transition-transform"}):t.jsx(ia,{className:"h-5 w-5 text-white/50 group-hover:text-white/80 transition-colors"})]}),c==="troubleshooting"&&t.jsxs("div",{className:"px-4 pb-4 text-white/80 text-sm space-y-4",children:[t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Ea,{className:"h-4 w-4 text-yellow-400"}),"App Performance Issues"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Slow Loading:"})," Clear app cache, restart app, check internet connection"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Crashes:"})," Update to latest version, restart device, free up storage space"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Photos Not Loading:"})," Check image size (max 10MB), try different format (JPEG/PNG)"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Push Notifications:"})," Enable in phone settings, check app notification permissions"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Jt,{className:"h-4 w-4 text-blue-400"}),"Matching & Discovery Problems"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"No Matches:"})," Expand age/distance range, complete profile, add more photos"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Wrong Location:"})," Enable GPS, update location manually in settings"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Same Profiles:"})," Reset discovery preferences, expand filter criteria"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Algorithm Issues:"})," Update interests, be more active, improve profile quality"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(wp,{className:"h-4 w-4 text-purple-400"}),"Messaging & Chat Issues"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Messages Not Sending:"})," Check connection, try smaller file sizes, refresh app"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Missing Conversations:"})," Check if user unmatched, look in archived messages"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Typing Indicators:"})," Restart app, check if other person is online"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Read Receipts:"})," Verify both users have feature enabled in settings"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Mn,{className:"h-4 w-4 text-gray-400"}),"Account & Subscription Issues"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Login Problems:"})," Reset password, check email verification, clear browser cookies"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Premium Features:"})," Verify subscription status, restore purchases, contact billing"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Profile Verification:"})," Use clear photos, ensure good lighting, follow verification prompts"]}),t.jsxs("li",{children:[" ",t.jsx("span",{className:"font-medium",children:"Data Sync:"})," Log out and back in, check account connections, update app"]})]})]}),t.jsxs("div",{className:"bg-white/5 p-3 rounded-lg",children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(Pd,{className:"h-4 w-4 text-green-400"}),"When to Contact Support"]}),t.jsxs("ul",{className:"space-y-2 text-xs",children:[t.jsx("li",{children:" Problems persist after trying basic troubleshooting"}),t.jsx("li",{children:" Account security concerns or suspicious activity"}),t.jsx("li",{children:" Billing or subscription issues that can't be resolved"}),t.jsx("li",{children:" Technical bugs that affect core app functionality"}),t.jsx("li",{children:" Safety concerns or need to report serious violations"})]})]})]})]})]})})}),t.jsx(Kn,{value:"contact",className:"focus:outline-none",children:t.jsxs(to,{className:"pr-4 h-[50vh] overflow-y-auto",children:[o?t.jsxs("div",{className:"py-6 flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:t.jsx(Md,{className:"h-8 w-8 text-green-400"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Message Sent!"}),t.jsx("p",{className:"text-white/70 mb-6 max-w-md",children:"Thank you for reaching out. Our support team will review your message and respond within 24 hours."}),t.jsx(de,{variant:"outline",className:"border-white/30 hover:bg-white/10 text-gray-900 bg-white/90 hover:text-gray-800 font-medium",onClick:()=>l(!1),children:"Send Another Message"})]}):t.jsx("form",{onSubmit:p,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col space-y-1.5",children:[t.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-white/80",children:"How can we help?"}),t.jsx(oa,{id:"message",placeholder:"Describe your issue or question in detail",rows:4,value:s,onChange:f=>i(f.target.value),required:!0,className:"bg-white/10 border-white/10 text-white placeholder:text-white/50 focus:border-primary resize-none"})]}),t.jsxs(de,{type:"submit",disabled:h.isPending,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-none disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Md,{className:"h-4 w-4 mr-2"}),h.isPending?"Sending...":"Send Message"]})]})}),t.jsxs("div",{className:"mt-8 space-y-4",children:[t.jsx("h3",{className:"font-medium text-white/90",children:"Other ways to contact us:"}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[t.jsx("div",{className:"bg-blue-500/20 p-2 rounded-full",children:t.jsx(Ks,{className:"h-5 w-5 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Email Support"}),t.jsx("p",{className:"text-xs text-white/70",children:"admin@btechnos.com"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[t.jsx("div",{className:"bg-purple-500/20 p-2 rounded-full",children:t.jsx(Pd,{className:"h-5 w-5 text-purple-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Phone Support"}),t.jsx("p",{className:"text-xs text-white/70",children:"Available Mon-Fri, 9am - 5pm ET"}),t.jsx("p",{className:"text-xs text-white/70",children:"+1 (555) 123-4567"})]})]})]})]})})]}),t.jsx(Tc,{className:"pt-4 border-t border-white/10 mt-6 flex justify-center",children:t.jsxs("a",{href:"mailto:admin@btechnos.com",className:"text-blue-400 hover:text-blue-300 transition-colors text-sm flex items-center gap-1",children:[t.jsx(Ks,{className:"h-4 w-4"}),t.jsx("span",{children:"Contact via Email"})]})})]})})}function dae({phoneNumber:e,fullName:r,email:n}){const[a,s]=u.useState(!1),i=()=>{s(!0)};return t.jsxs("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-red-50 to-orange-50",children:[t.jsx(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-red-100 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-6 text-center",children:[t.jsx(E.div,{animate:{scale:[1,1.1,1],rotate:[0,-10,10,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border-4 border-white/30",children:t.jsx(Ed,{className:"w-8 h-8 text-white"})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Restricted"}),t.jsx("p",{className:"text-white/90 text-sm",children:"Age verification required"})]}),t.jsxs("div",{className:"p-6 text-center space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-gray-800 font-medium",children:"Sorry, CHARLEY is only available for users 14 years and older."}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Your account has been permanently blocked based on the age information provided during registration. This is to ensure compliance with our terms of service and applicable laws."}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-sm",children:[t.jsx("p",{className:"text-red-800 font-medium mb-2",children:"Account Status: Permanently Blocked"}),t.jsxs("p",{className:"text-red-700",children:["Phone number: ",e?`${e.slice(0,6)}****`:"****"," has been permanently blocked from creating new accounts."]})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[t.jsxs("h3",{className:"font-medium text-gray-800 flex items-center justify-center",children:[t.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Need Help?"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"If you believe this is an error or need to verify your age, please contact our support team:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-center text-sm",children:[t.jsx(Ks,{className:"w-4 h-4 mr-2 text-blue-500"}),t.jsx("span",{className:"font-medium text-blue-600",children:"admin@btechnos.com"})]}),t.jsx(de,{onClick:i,variant:"outline",size:"sm",className:"w-full border-blue-200 text-blue-600 hover:bg-blue-50",children:"Contact Support Team"})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsx("p",{className:"text-xs text-gray-500",children:"Thank you for your understanding. We're committed to providing a safe environment for all users."})})]})]})}),t.jsx(wO,{open:a,onOpenChange:s,blockedUserInfo:r&&n&&e?{fullName:r,email:n,phoneNumber:e}:void 0,defaultTab:"contact"})]})}var uae="Label",jO=u.forwardRef((e,r)=>t.jsx(bt.label,{...e,ref:r,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jO.displayName=uae;var NO=jO;const mae=gf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mr=u.forwardRef(({className:e,...r},n)=>t.jsx(NO,{ref:n,className:We(mae(),e),...r}));mr.displayName=NO.displayName;const ji=dne,kO=u.createContext({}),wa=({...e})=>t.jsx(kO.Provider,{value:{name:e.name},children:t.jsx(pne,{...e})}),Ly=()=>{const e=u.useContext(kO),r=u.useContext(SO),{getFieldState:n,formState:a}=Iy(),s=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},SO=u.createContext({}),ha=u.forwardRef(({className:e,...r},n)=>{const a=u.useId();return t.jsx(SO.Provider,{value:{id:a},children:t.jsx("div",{ref:n,className:We("space-y-2",e),...r})})});ha.displayName="FormItem";const Da=u.forwardRef(({className:e,...r},n)=>{const{error:a,formItemId:s}=Ly();return t.jsx(mr,{ref:n,className:We(a&&"text-destructive",e),htmlFor:s,...r})});Da.displayName="FormLabel";const ja=u.forwardRef(({...e},r)=>{const{error:n,formItemId:a,formDescriptionId:s,formMessageId:i}=Ly();return t.jsx(_o,{ref:r,id:a,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});ja.displayName="FormControl";const hae=u.forwardRef(({className:e,...r},n)=>{const{formDescriptionId:a}=Ly();return t.jsx("p",{ref:n,id:a,className:We("text-sm text-muted-foreground",e),...r})});hae.displayName="FormDescription";const Os=u.forwardRef(({className:e,children:r,...n},a)=>{const{error:s,formMessageId:i}=Ly(),o=s?String(s==null?void 0:s.message):r;return o?t.jsx("p",{ref:a,id:i,className:We("text-sm font-medium text-destructive auth-error-text",e),...n,children:o}):null});Os.displayName="FormMessage";const Je=u.forwardRef(({className:e,type:r,...n},a)=>t.jsx("input",{type:r,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...n}));Je.displayName="Input";const Dp="data:image/svg+xml,%3csvg%20width='120'%20height='120'%20viewBox='0%200%20120%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Adinkra%20symbol%20(stylized%20Sankofa)%20--%3e%3cpath%20d='M60%2020C37.91%2020%2020%2037.91%2020%2060C20%2082.09%2037.91%20100%2060%20100C82.09%20100%20100%2082.09%20100%2060C100%2037.91%2082.09%2020%2060%2020ZM60%2095C40.67%2095%2025%2079.33%2025%2060C25%2040.67%2040.67%2025%2060%2025C79.33%2025%2095%2040.67%2095%2060C95%2079.33%2079.33%2095%2060%2095Z'%20fill='url(%23paint0_linear)'/%3e%3c!--%20Curved%20bird%20neck%20part%20--%3e%3cpath%20d='M50%2040C44%2042%2040%2046%2038%2050C36%2054%2036%2060%2040%2064C44%2068%2054%2066%2058%2062C62%2058%2065%2048%2060%2042C55%2036%2045%2038%2042%2044C39%2050%2042%2058%2048%2060'%20stroke='url(%23paint1_linear)'%20stroke-width='5'%20stroke-linecap='round'/%3e%3c!--%20Heart%20pattern%20--%3e%3cpath%20d='M74%2042C72%2040%2068%2040%2066%2042C64%2044%2064%2047%2066%2049L74%2057L82%2049C84%2047%2084%2044%2082%2042C80%2040%2076%2040%2074%2042Z'%20fill='url(%23paint2_linear)'/%3e%3c!--%20Linear%20Gradients%20--%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear'%20x1='20'%20y1='20'%20x2='100'%20y2='100'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%237e22ce'/%3e%3cstop%20offset='50%25'%20stop-color='%239333EA'/%3e%3cstop%20offset='100%25'%20stop-color='%23fb923c'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear'%20x1='35'%20y1='40'%20x2='60'%20y2='65'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23f59e0b'/%3e%3cstop%20offset='100%25'%20stop-color='%23fb923c'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear'%20x1='64'%20y1='40'%20x2='85'%20y2='57'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0%25'%20stop-color='%23ec4899'/%3e%3cstop%20offset='100%25'%20stop-color='%23f43f5e'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function CO({className:e="",value:r="",onChange:n,defaultCountry:a="US",placeholder:s="Enter phone number",darkMode:i=!1}){const[o,l]=u.useState(!1),[c,d]=u.useState(""),[m,h]=u.useState(null),[p,f]=u.useState(""),x=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{const w=No.filter(N=>N.dialCode&&N.dialCode.trim()!=="");console.log("Setting default country. defaultCountry prop:",a),console.log("Valid countries:",w.length);const S=w.find(N=>N.code.toLowerCase()===a.toLowerCase()||N.dialCode===a)||w.find(N=>N.code==="US")||w[0];console.log("Selected country:",S),h(S)},[a]),u.useEffect(()=>{if(r&&r.trim()!==""){console.log("PhoneInput received value:",r);const w=No.filter(N=>N.dialCode&&N.dialCode.trim()!=="");let S=null;if(r.startsWith("+")&&(S=w.find(N=>r.startsWith(N.dialCode))),S){console.log("Found matching country:",S),h(S);const N=r.substring(S.dialCode.length).replace(/[^\d]/g,"");f(N),console.log("Parsed phone number:",{countryCode:S.dialCode,phoneNumber:N,flag:S.flag})}else if(m){const N=r.replace(/[^\d]/g,"");f(N)}else{const N=r.replace(/[^\d]/g,"");f(N)}}},[r,m]),u.useEffect(()=>{function w(S){x.current&&!x.current.contains(S.target)&&l(!1)}return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[x]),u.useEffect(()=>{o&&g.current&&g.current.focus()},[o]);const v=w=>{h(w),l(!1),d("");const S=`${w.dialCode}${p}`;n(S)},y=w=>{const N=w.target.value.replace(/[^\d]/g,"");if(f(N),m){const P=`${m.dialCode}${N}`;n(P)}},b=c?No.filter(w=>w.dialCode&&w.dialCode.trim()!==""&&(w.name.toLowerCase().includes(c.toLowerCase())||w.dialCode.includes(c)||w.code.toLowerCase().includes(c.toLowerCase()))):No.filter(w=>w.dialCode&&w.dialCode.trim()!=="");return t.jsxs("div",{className:`relative ${e}`,children:[t.jsxs("div",{className:`flex items-center border rounded-lg overflow-hidden
          ${i?"bg-white/10 text-white border-0 focus-within:ring-2 focus-within:ring-purple-500/40":"bg-white text-gray-900 border-gray-200 focus-within:ring-2 focus-within:ring-purple-500/40"}
        `,children:[t.jsxs("button",{type:"button",className:`flex items-center h-full px-3 py-2 border-r
            ${i?"border-white/10 text-white":"border-gray-200 text-gray-700"}
          `,onClick:()=>l(!o),children:[t.jsx("span",{className:"text-lg mr-1",children:m==null?void 0:m.flag}),t.jsx("span",{className:"text-xs font-medium mx-1",children:m==null?void 0:m.dialCode}),t.jsx(ls,{className:`h-4 w-4 transition-transform duration-200 ${o?"rotate-180":""}`})]}),t.jsx(Je,{value:p,onChange:y,className:`border-0 ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 flex-1 h-11
            ${i?"bg-transparent text-white placeholder:text-gray-400":"text-gray-900"}
          `,placeholder:s,type:"tel"})]}),o&&t.jsxs("div",{ref:x,className:`absolute z-50 w-full mt-1 max-h-64 overflow-y-auto rounded-lg shadow-lg border
            ${i?"bg-gray-900 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}
          `,children:[t.jsx("div",{className:`sticky top-0 p-2 border-b ${i?"border-gray-700 bg-gray-900":"border-gray-100 bg-white"}`,children:t.jsxs("div",{className:"relative",children:[t.jsx(so,{className:`absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 ${i?"text-gray-400":"text-gray-500"}`}),t.jsx("input",{ref:g,className:`w-full pl-8 py-2 text-sm rounded-md 
                  ${i?"bg-gray-800 text-white border-0 placeholder:text-gray-500":"bg-gray-50 text-gray-900 border border-gray-100 placeholder:text-gray-400"}
                `,placeholder:"Search countries",value:c,onChange:w=>d(w.target.value)})]})}),t.jsxs("div",{className:"p-1",children:[b.map(w=>t.jsxs("button",{className:`flex items-center justify-between w-full px-3 py-2 text-sm rounded-md transition-colors
                  ${(m==null?void 0:m.code)===w.code?i?"bg-purple-800/50 text-white":"bg-purple-50 text-purple-700":i?"hover:bg-gray-800 text-gray-200":"hover:bg-gray-50 text-gray-800"}
                `,onClick:()=>v(w),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-lg mr-2",children:w.flag}),t.jsx("span",{children:w.name}),t.jsx("span",{className:"ml-2 text-xs font-medium text-gray-500",children:w.dialCode})]}),(m==null?void 0:m.code)===w.code&&t.jsx(At,{className:`h-4 w-4 ${i?"text-purple-400":"text-purple-600"}`})]},w.code)),b.length===0&&t.jsxs("div",{className:`px-3 py-4 text-center ${i?"text-gray-400":"text-gray-500"}`,children:['No countries found matching "',c,'"']})]})]})]})}function pae(){const{translate:e}=tn(),{demonym:r,country:n}=yf();return{translate:(s,i={})=>{let o=e(s,i);if(!r||r==="Ghanaians")return o;o.includes("Ghanaians")&&(o=o.replace(/Ghanaians/g,r));const l=r.endsWith("s")?r.slice(0,-1):r;return o.includes("Ghanaian")&&(o=o.replace(/Ghanaian/g,l)),o},country:n,demonym:r}}var Vr;(function(e){e.assertEqual=s=>s;function r(s){}e.assertIs=r;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Vr||(Vr={}));var G1;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(G1||(G1={}));const It=Vr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$l=e=>{switch(typeof e){case"undefined":return It.undefined;case"string":return It.string;case"number":return isNaN(e)?It.nan:It.number;case"boolean":return It.boolean;case"function":return It.function;case"bigint":return It.bigint;case"symbol":return It.symbol;case"object":return Array.isArray(e)?It.array:e===null?It.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?It.promise:typeof Map<"u"&&e instanceof Map?It.map:typeof Set<"u"&&e instanceof Set?It.set:typeof Date<"u"&&e instanceof Date?It.date:It.object;default:return It.unknown}},ct=Vr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fae=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class li extends Error{constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const n=r||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),a}static assert(r){if(!(r instanceof li))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},a=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(r(s))):a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}li.create=e=>new li(e);const wm=(e,r)=>{let n;switch(e.code){case ct.invalid_type:e.received===It.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ct.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Vr.jsonStringifyReplacer)}`;break;case ct.unrecognized_keys:n=`Unrecognized key(s) in object: ${Vr.joinValues(e.keys,", ")}`;break;case ct.invalid_union:n="Invalid input";break;case ct.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Vr.joinValues(e.options)}`;break;case ct.invalid_enum_value:n=`Invalid enum value. Expected ${Vr.joinValues(e.options)}, received '${e.received}'`;break;case ct.invalid_arguments:n="Invalid function arguments";break;case ct.invalid_return_type:n="Invalid function return type";break;case ct.invalid_date:n="Invalid date";break;case ct.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Vr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ct.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ct.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ct.custom:n="Invalid input";break;case ct.invalid_intersection_types:n="Intersection results could not be merged";break;case ct.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ct.not_finite:n="Number must be finite";break;default:n=r.defaultError,Vr.assertNever(e)}return{message:n}};let EO=wm;function gae(e){EO=e}function xx(){return EO}const yx=e=>{const{data:r,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:r,defaultError:l}).message;return{...s,path:i,message:l}},xae=[];function kt(e,r){const n=xx(),a=yx({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===wm?void 0:wm].filter(s=>!!s)});e.common.issues.push(a)}class hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const a=[];for(const s of n){if(s.status==="aborted")return or;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return hs.mergeObjectSync(r,a)}static mergeObjectSync(r,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return or;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const or=Object.freeze({status:"aborted"}),Cu=e=>({status:"dirty",value:e}),Ps=e=>({status:"valid",value:e}),V1=e=>e.status==="aborted",z1=e=>e.status==="dirty",Rp=e=>e.status==="valid",Op=e=>typeof Promise<"u"&&e instanceof Promise;function vx(e,r,n,a){if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r.get(e)}function PO(e,r,n,a,s){if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(e,n),n}var Ht;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(Ht||(Ht={}));var Ih,_h;class Ro{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const iP=(e,r)=>{if(Rp(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new li(e.common.issues);return this._error=n,this._error}}};function kr(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:a,description:s}=e;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,l)=>{var c,d;const{message:m}=e;return o.code==="invalid_enum_value"?{message:m??l.defaultError}:typeof l.data>"u"?{message:(c=m??a)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=m??n)!==null&&d!==void 0?d:l.defaultError}},description:s}}class Tr{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return $l(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:$l(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new hs,ctx:{common:r.parent.common,data:r.data,parsedType:$l(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(Op(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){var a;const s={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:$l(r)},i=this._parseSync({data:r,path:s.path,parent:s});return iP(s,i)}async parseAsync(r,n){const a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:$l(r)},s=this._parse({data:r,path:a.path,parent:a}),i=await(Op(s)?s:Promise.resolve(s));return iP(a,i)}refine(r,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=r(s),l=()=>i.addIssue({code:ct.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new lo({schema:this,typeName:ir.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return Io.create(this,this._def)}nullable(){return jc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ro.create(this,this._def)}promise(){return Nm.create(this,this._def)}or(r){return Up.create([this,r],this._def)}and(r){return Bp.create(this,r,this._def)}transform(r){return new lo({...kr(this._def),schema:this,typeName:ir.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new Hp({...kr(this._def),innerType:this,defaultValue:n,typeName:ir.ZodDefault})}brand(){return new wk({typeName:ir.ZodBranded,type:this,...kr(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new Kp({...kr(this._def),innerType:this,catchValue:n,typeName:ir.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return Tf.create(this,r)}readonly(){return qp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yae=/^c[^\s-]{8,}$/i,vae=/^[0-9a-z]+$/,bae=/^[0-9A-HJKMNP-TV-Z]{26}$/,wae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jae=/^[a-z0-9_-]{21}$/i,Nae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kb;const Cae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eae=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Pae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aae=new RegExp(`^${AO}$`);function MO(e){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`),r}function Mae(e){return new RegExp(`^${MO(e)}$`)}function TO(e){let r=`${AO}T${MO(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function Tae(e,r){return!!((r==="v4"||!r)&&Cae.test(e)||(r==="v6"||!r)&&Eae.test(e))}class Ji extends Tr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==It.string){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:It.string,received:i.parsedType}),or}const a=new hs;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,l=r.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(r,s),o?kt(s,{code:ct.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&kt(s,{code:ct.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")kae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"email",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")kb||(kb=new RegExp(Sae,"u")),kb.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"emoji",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")wae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"uuid",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")jae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"nanoid",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")yae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"cuid",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")vae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"cuid2",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")bae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"ulid",code:ct.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),kt(s,{validation:"url",code:ct.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"regex",code:ct.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?TO(i).test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Aae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Mae(i).test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?Nae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"duration",code:ct.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Tae(r.data,i.version)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"ip",code:ct.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Pae.test(r.data)||(s=this._getOrReturnCtx(r,s),kt(s,{validation:"base64",code:ct.invalid_string,message:i.message}),a.dirty()):Vr.assertNever(i);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),{validation:n,code:ct.invalid_string,...Ht.errToObj(a)})}_addCheck(r){return new Ji({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Ht.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Ht.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Ht.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Ht.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Ht.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Ht.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Ht.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Ht.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Ht.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Ht.errToObj(r)})}datetime(r){var n,a;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(n=r==null?void 0:r.offset)!==null&&n!==void 0?n:!1,local:(a=r==null?void 0:r.local)!==null&&a!==void 0?a:!1,...Ht.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...Ht.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...Ht.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...Ht.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...Ht.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...Ht.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...Ht.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...Ht.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...Ht.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...Ht.errToObj(n)})}nonempty(r){return this.min(1,Ht.errToObj(r))}trim(){return new Ji({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ji({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ji({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}Ji.create=e=>{var r;return new Ji({checks:[],typeName:ir.ZodString,coerce:(r=e==null?void 0:e.coerce)!==null&&r!==void 0?r:!1,...kr(e)})};function Iae(e,r){const n=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(r.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class vc extends Tr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==It.number){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:It.number,received:i.parsedType}),or}let a;const s=new hs;for(const i of this._def.checks)i.kind==="int"?Vr.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Iae(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.not_finite,message:i.message}),s.dirty()):Vr.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,Ht.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Ht.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Ht.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Ht.toString(n))}setLimit(r,n,a,s){return new vc({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:Ht.toString(s)}]})}_addCheck(r){return new vc({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Ht.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Ht.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:Ht.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Vr.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}}vc.create=e=>new vc({checks:[],typeName:ir.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...kr(e)});class bc extends Tr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==It.bigint){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:It.bigint,received:i.parsedType}),or}let a;const s=new hs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),kt(a,{code:ct.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Vr.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,Ht.toString(n))}gt(r,n){return this.setLimit("min",r,!1,Ht.toString(n))}lte(r,n){return this.setLimit("max",r,!0,Ht.toString(n))}lt(r,n){return this.setLimit("max",r,!1,Ht.toString(n))}setLimit(r,n,a,s){return new bc({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:Ht.toString(s)}]})}_addCheck(r){return new bc({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:Ht.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}bc.create=e=>{var r;return new bc({checks:[],typeName:ir.ZodBigInt,coerce:(r=e==null?void 0:e.coerce)!==null&&r!==void 0?r:!1,...kr(e)})};class Lp extends Tr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==It.boolean){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.boolean,received:a.parsedType}),or}return Ps(r.data)}}Lp.create=e=>new Lp({typeName:ir.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...kr(e)});class _d extends Tr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==It.date){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_type,expected:It.date,received:i.parsedType}),or}if(isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return kt(i,{code:ct.invalid_date}),or}const a=new hs;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),kt(s,{code:ct.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):Vr.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new _d({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:Ht.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:Ht.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}_d.create=e=>new _d({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ir.ZodDate,...kr(e)});class bx extends Tr{_parse(r){if(this._getType(r)!==It.symbol){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.symbol,received:a.parsedType}),or}return Ps(r.data)}}bx.create=e=>new bx({typeName:ir.ZodSymbol,...kr(e)});class $p extends Tr{_parse(r){if(this._getType(r)!==It.undefined){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.undefined,received:a.parsedType}),or}return Ps(r.data)}}$p.create=e=>new $p({typeName:ir.ZodUndefined,...kr(e)});class Fp extends Tr{_parse(r){if(this._getType(r)!==It.null){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.null,received:a.parsedType}),or}return Ps(r.data)}}Fp.create=e=>new Fp({typeName:ir.ZodNull,...kr(e)});class jm extends Tr{constructor(){super(...arguments),this._any=!0}_parse(r){return Ps(r.data)}}jm.create=e=>new jm({typeName:ir.ZodAny,...kr(e)});class md extends Tr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Ps(r.data)}}md.create=e=>new md({typeName:ir.ZodUnknown,...kr(e)});class xl extends Tr{_parse(r){const n=this._getOrReturnCtx(r);return kt(n,{code:ct.invalid_type,expected:It.never,received:n.parsedType}),or}}xl.create=e=>new xl({typeName:ir.ZodNever,...kr(e)});class wx extends Tr{_parse(r){if(this._getType(r)!==It.undefined){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.void,received:a.parsedType}),or}return Ps(r.data)}}wx.create=e=>new wx({typeName:ir.ZodVoid,...kr(e)});class ro extends Tr{_parse(r){const{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==It.array)return kt(n,{code:ct.invalid_type,expected:It.array,received:n.parsedType}),or;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(kt(n,{code:o?ct.too_big:ct.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(kt(n,{code:ct.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(kt(n,{code:ct.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Ro(n,o,n.path,l)))).then(o=>hs.mergeArray(a,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new Ro(n,o,n.path,l)));return hs.mergeArray(a,i)}get element(){return this._def.type}min(r,n){return new ro({...this._def,minLength:{value:r,message:Ht.toString(n)}})}max(r,n){return new ro({...this._def,maxLength:{value:r,message:Ht.toString(n)}})}length(r,n){return new ro({...this._def,exactLength:{value:r,message:Ht.toString(n)}})}nonempty(r){return this.min(1,r)}}ro.create=(e,r)=>new ro({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ir.ZodArray,...kr(r)});function su(e){if(e instanceof Bn){const r={};for(const n in e.shape){const a=e.shape[n];r[n]=Io.create(su(a))}return new Bn({...e._def,shape:()=>r})}else return e instanceof ro?new ro({...e._def,type:su(e.element)}):e instanceof Io?Io.create(su(e.unwrap())):e instanceof jc?jc.create(su(e.unwrap())):e instanceof Oo?Oo.create(e.items.map(r=>su(r))):e}class Bn extends Tr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=Vr.objectKeys(r);return this._cached={shape:r,keys:n}}_parse(r){if(this._getType(r)!==It.object){const d=this._getOrReturnCtx(r);return kt(d,{code:ct.invalid_type,expected:It.object,received:d.parsedType}),or}const{status:a,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof xl&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const m=i[d],h=s.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new Ro(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof xl){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of l)c.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(d==="strict")l.length>0&&(kt(s,{code:ct.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of l){const h=s.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new Ro(s,h,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const h=await m.key,p=await m.value;d.push({key:h,value:p,alwaysSet:m.alwaysSet})}return d}).then(d=>hs.mergeObjectSync(a,d)):hs.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(r){return Ht.errToObj,new Bn({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,a)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,a).message)!==null&&o!==void 0?o:a.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ht.errToObj(r).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Bn({...this._def,unknownKeys:"strip"})}passthrough(){return new Bn({...this._def,unknownKeys:"passthrough"})}extend(r){return new Bn({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Bn({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:ir.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new Bn({...this._def,catchall:r})}pick(r){const n={};return Vr.objectKeys(r).forEach(a=>{r[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new Bn({...this._def,shape:()=>n})}omit(r){const n={};return Vr.objectKeys(this.shape).forEach(a=>{r[a]||(n[a]=this.shape[a])}),new Bn({...this._def,shape:()=>n})}deepPartial(){return su(this)}partial(r){const n={};return Vr.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}),new Bn({...this._def,shape:()=>n})}required(r){const n={};return Vr.objectKeys(this.shape).forEach(a=>{if(r&&!r[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Io;)i=i._def.innerType;n[a]=i}}),new Bn({...this._def,shape:()=>n})}keyof(){return IO(Vr.objectKeys(this.shape))}}Bn.create=(e,r)=>new Bn({shape:()=>e,unknownKeys:"strip",catchall:xl.create(),typeName:ir.ZodObject,...kr(r)});Bn.strictCreate=(e,r)=>new Bn({shape:()=>e,unknownKeys:"strict",catchall:xl.create(),typeName:ir.ZodObject,...kr(r)});Bn.lazycreate=(e,r)=>new Bn({shape:e,unknownKeys:"strip",catchall:xl.create(),typeName:ir.ZodObject,...kr(r)});class Up extends Tr{_parse(r){const{ctx:n}=this._processInputParams(r),a=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new li(l.ctx.common.issues));return kt(n,{code:ct.invalid_union,unionErrors:o}),or}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of a){const d={...n,common:{...n.common,issues:[]},parent:null},m=c._parseSync({data:n.data,path:n.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new li(c));return kt(n,{code:ct.invalid_union,unionErrors:l}),or}}get options(){return this._def.options}}Up.create=(e,r)=>new Up({options:e,typeName:ir.ZodUnion,...kr(r)});const zo=e=>e instanceof Vp?zo(e.schema):e instanceof lo?zo(e.innerType()):e instanceof zp?[e.value]:e instanceof wc?e.options:e instanceof Wp?Vr.objectValues(e.enum):e instanceof Hp?zo(e._def.innerType):e instanceof $p?[void 0]:e instanceof Fp?[null]:e instanceof Io?[void 0,...zo(e.unwrap())]:e instanceof jc?[null,...zo(e.unwrap())]:e instanceof wk||e instanceof qp?zo(e.unwrap()):e instanceof Kp?zo(e._def.innerType):[];class $y extends Tr{_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==It.object)return kt(n,{code:ct.invalid_type,expected:It.object,received:n.parsedType}),or;const a=this.discriminator,s=n.data[a],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(kt(n,{code:ct.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),or)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,n,a){const s=new Map;for(const i of n){const o=zo(i.shape[r]);if(!o.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(l)}`);s.set(l,i)}}return new $y({typeName:ir.ZodDiscriminatedUnion,discriminator:r,options:n,optionsMap:s,...kr(a)})}}function W1(e,r){const n=$l(e),a=$l(r);if(e===r)return{valid:!0,data:e};if(n===It.object&&a===It.object){const s=Vr.objectKeys(r),i=Vr.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...r};for(const l of i){const c=W1(e[l],r[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===It.array&&a===It.array){if(e.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=r[i],c=W1(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===It.date&&a===It.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class Bp extends Tr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=(i,o)=>{if(V1(i)||V1(o))return or;const l=W1(i.value,o.value);return l.valid?((z1(i)||z1(o))&&n.dirty(),{status:n.value,value:l.data}):(kt(a,{code:ct.invalid_intersection_types}),or)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Bp.create=(e,r,n)=>new Bp({left:e,right:r,typeName:ir.ZodIntersection,...kr(n)});class Oo extends Tr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==It.array)return kt(a,{code:ct.invalid_type,expected:It.array,received:a.parsedType}),or;if(a.data.length<this._def.items.length)return kt(a,{code:ct.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),or;!this._def.rest&&a.data.length>this._def.items.length&&(kt(a,{code:ct.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ro(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>hs.mergeArray(n,o)):hs.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Oo({...this._def,rest:r})}}Oo.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oo({items:e,typeName:ir.ZodTuple,rest:null,...kr(r)})};class Gp extends Tr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==It.object)return kt(a,{code:ct.invalid_type,expected:It.object,received:a.parsedType}),or;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in a.data)s.push({key:i._parse(new Ro(a,l,a.path,l)),value:o._parse(new Ro(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?hs.mergeObjectAsync(n,s):hs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(r,n,a){return n instanceof Tr?new Gp({keyType:r,valueType:n,typeName:ir.ZodRecord,...kr(a)}):new Gp({keyType:Ji.create(),valueType:r,typeName:ir.ZodRecord,...kr(n)})}}class jx extends Tr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==It.map)return kt(a,{code:ct.invalid_type,expected:It.map,received:a.parsedType}),or;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:s._parse(new Ro(a,l,a.path,[d,"key"])),value:i._parse(new Ro(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return or;(d.status==="dirty"||m.status==="dirty")&&n.dirty(),l.set(d.value,m.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return or;(d.status==="dirty"||m.status==="dirty")&&n.dirty(),l.set(d.value,m.value)}return{status:n.value,value:l}}}}jx.create=(e,r,n)=>new jx({valueType:r,keyType:e,typeName:ir.ZodMap,...kr(n)});class Dd extends Tr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==It.set)return kt(a,{code:ct.invalid_type,expected:It.set,received:a.parsedType}),or;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(kt(a,{code:ct.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(kt(a,{code:ct.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const m of c){if(m.status==="aborted")return or;m.status==="dirty"&&n.dirty(),d.add(m.value)}return{status:n.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new Ro(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(r,n){return new Dd({...this._def,minSize:{value:r,message:Ht.toString(n)}})}max(r,n){return new Dd({...this._def,maxSize:{value:r,message:Ht.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}Dd.create=(e,r)=>new Dd({valueType:e,minSize:null,maxSize:null,typeName:ir.ZodSet,...kr(r)});class $u extends Tr{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==It.function)return kt(n,{code:ct.invalid_type,expected:It.function,received:n.parsedType}),or;function a(l,c){return yx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xx(),wm].filter(d=>!!d),issueData:{code:ct.invalid_arguments,argumentsError:c}})}function s(l,c){return yx({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xx(),wm].filter(d=>!!d),issueData:{code:ct.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Nm){const l=this;return Ps(async function(...c){const d=new li([]),m=await l._def.args.parseAsync(c,i).catch(f=>{throw d.addIssue(a(c,f)),d}),h=await Reflect.apply(o,this,m);return await l._def.returns._def.type.parseAsync(h,i).catch(f=>{throw d.addIssue(s(h,f)),d})})}else{const l=this;return Ps(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new li([a(c,d.error)]);const m=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(m,i);if(!h.success)throw new li([s(m,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new $u({...this._def,args:Oo.create(r).rest(md.create())})}returns(r){return new $u({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,n,a){return new $u({args:r||Oo.create([]).rest(md.create()),returns:n||md.create(),typeName:ir.ZodFunction,...kr(a)})}}class Vp extends Tr{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vp.create=(e,r)=>new Vp({getter:e,typeName:ir.ZodLazy,...kr(r)});class zp extends Tr{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return kt(n,{received:n.data,code:ct.invalid_literal,expected:this._def.value}),or}return{status:"valid",value:r.data}}get value(){return this._def.value}}zp.create=(e,r)=>new zp({value:e,typeName:ir.ZodLiteral,...kr(r)});function IO(e,r){return new wc({values:e,typeName:ir.ZodEnum,...kr(r)})}class wc extends Tr{constructor(){super(...arguments),Ih.set(this,void 0)}_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),a=this._def.values;return kt(n,{expected:Vr.joinValues(a),received:n.parsedType,code:ct.invalid_type}),or}if(vx(this,Ih)||PO(this,Ih,new Set(this._def.values)),!vx(this,Ih).has(r.data)){const n=this._getOrReturnCtx(r),a=this._def.values;return kt(n,{received:n.data,code:ct.invalid_enum_value,options:a}),or}return Ps(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return wc.create(r,{...this._def,...n})}exclude(r,n=this._def){return wc.create(this.options.filter(a=>!r.includes(a)),{...this._def,...n})}}Ih=new WeakMap;wc.create=IO;class Wp extends Tr{constructor(){super(...arguments),_h.set(this,void 0)}_parse(r){const n=Vr.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==It.string&&a.parsedType!==It.number){const s=Vr.objectValues(n);return kt(a,{expected:Vr.joinValues(s),received:a.parsedType,code:ct.invalid_type}),or}if(vx(this,_h)||PO(this,_h,new Set(Vr.getValidEnumValues(this._def.values))),!vx(this,_h).has(r.data)){const s=Vr.objectValues(n);return kt(a,{received:a.data,code:ct.invalid_enum_value,options:s}),or}return Ps(r.data)}get enum(){return this._def.values}}_h=new WeakMap;Wp.create=(e,r)=>new Wp({values:e,typeName:ir.ZodNativeEnum,...kr(r)});class Nm extends Tr{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==It.promise&&n.common.async===!1)return kt(n,{code:ct.invalid_type,expected:It.promise,received:n.parsedType}),or;const a=n.parsedType===It.promise?n.data:Promise.resolve(n.data);return Ps(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Nm.create=(e,r)=>new Nm({type:e,typeName:ir.ZodPromise,...kr(r)});class lo extends Tr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ir.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{kt(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return or;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?or:c.status==="dirty"||n.value==="dirty"?Cu(c.value):c});{if(n.value==="aborted")return or;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?or:l.status==="dirty"||n.value==="dirty"?Cu(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?or:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?or:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Rp(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Rp(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);Vr.assertNever(s)}}lo.create=(e,r,n)=>new lo({schema:e,typeName:ir.ZodEffects,effect:r,...kr(n)});lo.createWithPreprocess=(e,r,n)=>new lo({schema:r,effect:{type:"preprocess",transform:e},typeName:ir.ZodEffects,...kr(n)});class Io extends Tr{_parse(r){return this._getType(r)===It.undefined?Ps(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Io.create=(e,r)=>new Io({innerType:e,typeName:ir.ZodOptional,...kr(r)});class jc extends Tr{_parse(r){return this._getType(r)===It.null?Ps(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}jc.create=(e,r)=>new jc({innerType:e,typeName:ir.ZodNullable,...kr(r)});class Hp extends Tr{_parse(r){const{ctx:n}=this._processInputParams(r);let a=n.data;return n.parsedType===It.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hp.create=(e,r)=>new Hp({innerType:e,typeName:ir.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...kr(r)});class Kp extends Tr{_parse(r){const{ctx:n}=this._processInputParams(r),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Op(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new li(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new li(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Kp.create=(e,r)=>new Kp({innerType:e,typeName:ir.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...kr(r)});class Nx extends Tr{_parse(r){if(this._getType(r)!==It.nan){const a=this._getOrReturnCtx(r);return kt(a,{code:ct.invalid_type,expected:It.nan,received:a.parsedType}),or}return{status:"valid",value:r.data}}}Nx.create=e=>new Nx({typeName:ir.ZodNaN,...kr(e)});const _ae=Symbol("zod_brand");class wk extends Tr{_parse(r){const{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tf extends Tr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?or:i.status==="dirty"?(n.dirty(),Cu(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?or:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new Tf({in:r,out:n,typeName:ir.ZodPipeline})}}class qp extends Tr{_parse(r){const n=this._def.innerType._parse(r),a=s=>(Rp(s)&&(s.value=Object.freeze(s.value)),s);return Op(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}qp.create=(e,r)=>new qp({innerType:e,typeName:ir.ZodReadonly,...kr(r)});function _O(e,r={},n){return e?jm.create().superRefine((a,s)=>{var i,o;if(!e(a)){const l=typeof r=="function"?r(a):typeof r=="string"?{message:r}:r,c=(o=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...d,fatal:c})}}):jm.create()}const Dae={object:Bn.lazycreate};var ir;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ir||(ir={}));const Rae=(e,r={message:`Input not instance of ${e.name}`})=>_O(n=>n instanceof e,r),DO=Ji.create,RO=vc.create,Oae=Nx.create,Lae=bc.create,OO=Lp.create,$ae=_d.create,Fae=bx.create,Uae=$p.create,Bae=Fp.create,Gae=jm.create,Vae=md.create,zae=xl.create,Wae=wx.create,Hae=ro.create,Kae=Bn.create,qae=Bn.strictCreate,Yae=Up.create,Qae=$y.create,Jae=Bp.create,Xae=Oo.create,Zae=Gp.create,ese=jx.create,tse=Dd.create,rse=$u.create,nse=Vp.create,ase=zp.create,sse=wc.create,ise=Wp.create,ose=Nm.create,oP=lo.create,lse=Io.create,cse=jc.create,dse=lo.createWithPreprocess,use=Tf.create,mse=()=>DO().optional(),hse=()=>RO().optional(),pse=()=>OO().optional(),fse={string:e=>Ji.create({...e,coerce:!0}),number:e=>vc.create({...e,coerce:!0}),boolean:e=>Lp.create({...e,coerce:!0}),bigint:e=>bc.create({...e,coerce:!0}),date:e=>_d.create({...e,coerce:!0})},gse=or;var Xr=Object.freeze({__proto__:null,defaultErrorMap:wm,setErrorMap:gae,getErrorMap:xx,makeIssue:yx,EMPTY_PATH:xae,addIssueToContext:kt,ParseStatus:hs,INVALID:or,DIRTY:Cu,OK:Ps,isAborted:V1,isDirty:z1,isValid:Rp,isAsync:Op,get util(){return Vr},get objectUtil(){return G1},ZodParsedType:It,getParsedType:$l,ZodType:Tr,datetimeRegex:TO,ZodString:Ji,ZodNumber:vc,ZodBigInt:bc,ZodBoolean:Lp,ZodDate:_d,ZodSymbol:bx,ZodUndefined:$p,ZodNull:Fp,ZodAny:jm,ZodUnknown:md,ZodNever:xl,ZodVoid:wx,ZodArray:ro,ZodObject:Bn,ZodUnion:Up,ZodDiscriminatedUnion:$y,ZodIntersection:Bp,ZodTuple:Oo,ZodRecord:Gp,ZodMap:jx,ZodSet:Dd,ZodFunction:$u,ZodLazy:Vp,ZodLiteral:zp,ZodEnum:wc,ZodNativeEnum:Wp,ZodPromise:Nm,ZodEffects:lo,ZodTransformer:lo,ZodOptional:Io,ZodNullable:jc,ZodDefault:Hp,ZodCatch:Kp,ZodNaN:Nx,BRAND:_ae,ZodBranded:wk,ZodPipeline:Tf,ZodReadonly:qp,custom:_O,Schema:Tr,ZodSchema:Tr,late:Dae,get ZodFirstPartyTypeKind(){return ir},coerce:fse,any:Gae,array:Hae,bigint:Lae,boolean:OO,date:$ae,discriminatedUnion:Qae,effect:oP,enum:sse,function:rse,instanceof:Rae,intersection:Jae,lazy:nse,literal:ase,map:ese,nan:Oae,nativeEnum:ise,never:zae,null:Bae,nullable:cse,number:RO,object:Kae,oboolean:pse,onumber:hse,optional:lse,ostring:mse,pipeline:use,preprocess:dse,promise:ose,record:Zae,set:tse,strictObject:qae,string:DO,symbol:Fae,transformer:oP,tuple:Xae,undefined:Uae,union:Yae,unknown:Vae,void:Wae,NEVER:gse,ZodIssueCode:ct,quotelessJson:fae,ZodError:li});const LO=Xr.object({password:Xr.string().min(8,"Password must be at least 8 characters"),confirmPassword:Xr.string().optional()}).refine(e=>e.confirmPassword?e.password===e.confirmPassword:!0,{message:"Passwords don't match",path:["confirmPassword"]}),$O=Xr.object({phoneNumber:Xr.string().min(10,"Please enter a valid phone number").refine(e=>/^\+\d{10,15}$/.test(e),{message:"Phone number must include country code (e.g., +1...)"})}),FO=Xr.object({code:Xr.string().length(7,"Verification code must be 7 digits")}),UO=async e=>{try{const n=await(await ze("/api/email/verify",{method:"POST",data:{email:e}})).json();return{isValid:n.isValid,reason:n.reason,confidence:n.confidence}}catch(r){return console.error("Email verification service error:",r),{isValid:!0,reason:"Verification service unavailable",confidence:"low"}}},BO=Xr.object({email:Xr.string().email("Please enter a valid email format")}),GO=Xr.object({email:Xr.string().email("Please enter a valid email address").refine(async e=>(await UO(e)).isValid,{message:"This email address does not exist or cannot receive emails"})}),VO=Xr.object({resetCode:Xr.string().length(7,"Reset code must be 7 digits")}),zO=Xr.object({password:Xr.string().min(8,"Password must be at least 8 characters"),confirmPassword:Xr.string().min(8,"Password must be at least 8 characters")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),WO=Xr.object({fullName:Xr.string().min(2,"Full name is required"),dateOfBirth:Xr.string().min(1,"Date of birth is required").refine(e=>{try{const r=new Date(e);return!isNaN(r.getTime())}catch{return!1}},{message:"Please enter a valid date"}),gender:Xr.string().min(1,"Gender is required")}),HO=Xr.object({residence:Xr.string().min(1,"City and country are required"),tribe:Xr.string().optional(),secondaryTribe:Xr.string().optional()}),KO=Xr.object({photoUrl:Xr.string().min(10,"Please upload at least one photo"),photoUrl2:Xr.string().optional()}),qO=async e=>{try{return(await(await ze("/api/check-email",{method:"POST",data:{email:e}})).json()).exists}catch(r){return console.error("Error checking email:",r),!1}},jk=Xr.object({idVerificationPhoto:Xr.string().optional(),liveVerificationPhoto:Xr.string().optional(),skipVerification:Xr.boolean().default(!1)}),xse=Object.freeze(Object.defineProperty({__proto__:null,checkEmailExists:qO,emailSchema:BO,forgotPasswordSchema:GO,idVerificationSchema:jk,passwordSchema:LO,phoneSchema:$O,profileStep1Schema:WO,profileStep2Schema:HO,profileStep3Schema:KO,resetCodeSchema:VO,resetPasswordSchema:zO,verificationSchema:FO,verifyEmailExistence:UO},Symbol.toStringTag,{value:"Module"}));function If(e){const r=u.useRef({value:e,previous:e});return u.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Nk="Checkbox",[yse,hye]=ps(Nk),[vse,bse]=yse(Nk),YO=u.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...h}=e,[p,f]=u.useState(null),x=sr(r,S=>f(S)),g=u.useRef(!1),v=p?m||!!p.closest("form"):!0,[y=!1,b]=Es({prop:s,defaultProp:i,onChange:d}),w=u.useRef(y);return u.useEffect(()=>{const S=p==null?void 0:p.form;if(S){const N=()=>b(w.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[p,b]),t.jsxs(vse,{scope:n,state:y,disabled:l,children:[t.jsx(bt.button,{type:"button",role:"checkbox","aria-checked":lc(y)?"mixed":y,"aria-required":o,"data-state":XO(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:it(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:it(e.onClick,S=>{b(N=>lc(N)?!0:!N),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&t.jsx(wse,{control:p,bubbles:!g.current,name:a,value:c,checked:y,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:lc(i)?!1:i})]})});YO.displayName=Nk;var QO="CheckboxIndicator",JO=u.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=bse(QO,n);return t.jsx(Ta,{present:a||lc(i.state)||i.state===!0,children:t.jsx(bt.span,{"data-state":XO(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});JO.displayName=QO;var wse=e=>{const{control:r,checked:n,bubbles:a=!0,defaultChecked:s,...i}=e,o=u.useRef(null),l=If(n),c=Sf(r);u.useEffect(()=>{const m=o.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&f){const x=new Event("click",{bubbles:a});m.indeterminate=lc(n),f.call(m,lc(n)?!1:n),m.dispatchEvent(x)}},[l,n,a]);const d=u.useRef(lc(n)?!1:n);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lc(e){return e==="indeterminate"}function XO(e){return lc(e)?"indeterminate":e?"checked":"unchecked"}var ZO=YO,jse=JO;const e6=u.forwardRef(({className:e,...r},n)=>t.jsx(ZO,{ref:n,className:We("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:t.jsx(jse,{className:We("flex items-center justify-center text-current"),children:t.jsx(At,{className:"h-4 w-4"})})}));e6.displayName=ZO.displayName;function Nse({onBack:e,onComplete:r,isLoading:n=!1}){const[a,s]=u.useState(!1);return t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Complete Registration"}),t.jsx("p",{className:"text-gray-600",children:"Please review and accept our Terms and Conditions"})]}),t.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 rounded-lg p-4 mb-4",children:t.jsxs("div",{className:"prose prose-sm max-w-none",children:[t.jsx("h3",{children:"Terms and Conditions"}),t.jsx("p",{children:"Welcome to CHARLEY! These Terms and Conditions govern your use of our platform and services. By registering for an account, you agree to comply with and be bound by these terms."}),t.jsx("h4",{children:"1. Acceptance of Terms"}),t.jsx("p",{children:"By creating an account, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions, as well as our Privacy Policy."}),t.jsx("h4",{children:"2. Eligibility"}),t.jsx("p",{children:"You must be at least 14 years old to create an account on CHARLEY. By creating an account, you represent and warrant that you are at least 14 years of age."}),t.jsx("h4",{children:"3. Account Creation and Security"}),t.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to immediately notify us of any unauthorized use of your account or any other breach of security."}),t.jsx("h4",{children:"4. User Conduct"}),t.jsx("p",{children:"You agree not to use the service to:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Post false, misleading, or deceptive content"}),t.jsx("li",{children:"Harass, abuse, or harm another person"}),t.jsx("li",{children:"Impersonate any person or entity"}),t.jsx("li",{children:"Engage in any illegal activities"}),t.jsx("li",{children:"Collect or store personal data about other users without their consent"}),t.jsx("li",{children:"Upload viruses or malicious code"})]}),t.jsx("h4",{children:"5. Content"}),t.jsx("p",{children:"You are solely responsible for the content you post, including photos, messages, and profile information. You grant CHARLEY a non-exclusive, transferable, sub-licensable, royalty-free, worldwide license to host, use, distribute, modify, run, copy, publicly perform or display, translate, and create derivative works of your content."}),t.jsx("h4",{children:"6. Privacy"}),t.jsx("p",{children:"Your privacy is important to us. Our Privacy Policy explains how we collect, use, and protect your personal information. By using our service, you consent to our data practices as described in our Privacy Policy."}),t.jsx("h4",{children:"7. Termination"}),t.jsx("p",{children:"CHARLEY reserves the right to suspend or terminate your account at any time for violations of these terms or for any other reason."}),t.jsx("h4",{children:"8. Changes to Terms"}),t.jsx("p",{children:"We may modify these Terms and Conditions from time to time. It is your responsibility to review these terms periodically. Your continued use of the service constitutes acceptance of any changes."}),t.jsx("h4",{children:"9. Limitation of Liability"}),t.jsx("p",{children:'CHARLEY is provided on an "as is" and "as available" basis. We make no warranties, expressed or implied, regarding the reliability, availability, or accuracy of our service.'}),t.jsx("h4",{children:"10. Contact"}),t.jsx("p",{children:"If you have any questions about these Terms and Conditions, please contact us at admin@btechnos.com."})]})}),t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(e6,{id:"terms",checked:a,onCheckedChange:i=>s(i===!0)}),t.jsx("label",{htmlFor:"terms",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I have read the Terms and Conditions and I agree"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(de,{onClick:e,variant:"outline",className:"flex items-center",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsx(de,{onClick:r,className:"bg-primary text-white flex items-center",disabled:!a||n,children:n?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Completing..."]}):t.jsxs(t.Fragment,{children:["Complete Profile",t.jsx(Ol,{className:"ml-2 h-4 w-4"})]})})]})]})}function t6({open:e,onOpenChange:r}){const{translate:n}=tn();return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[650px] max-h-[85vh] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-purple-500 via-pink-500 to-indigo-500 rounded-t-xl"}),t.jsxs(pn,{className:"pb-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gn,{className:"h-5 w-5 text-purple-400"}),t.jsx(Jr,{className:"text-xl font-bold tracking-tight",children:n("auth.privacyPolicyTitle")})]}),t.jsxs(Gs,{className:"text-white/70 pt-2",children:[n("auth.lastUpdated"),": July 14, 2025 | ",n("auth.effectiveDate"),": July 14, 2025"]})]}),t.jsx(to,{className:"mt-2 pr-4 max-h-[60vh]",children:t.jsxs("div",{className:"space-y-4 text-white/80 text-sm",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-blue-200 font-medium text-xs",children:[t.jsxs("strong",{children:[n("auth.yourPrivacyMatters"),":"]})," ",n("auth.privacyPolicyDescription")]})}),t.jsx("p",{children:'Welcome to CHARLEY! This Privacy Policy describes how Baobab Technologies, LLC ("CHARLEY," "we," "us," or "our") collects, uses, discloses, and protects your personal information when you use our dating, networking, and social connection services, including mobile applications, websites, and related services (collectively, the "Services").'}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"1. INFORMATION WE COLLECT"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"1.1 Information You Provide Directly:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Account Information:"})," Name, email address, phone number, password, date of birth, gender, sexual orientation"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Profile Information:"})," Photos, videos, bio, interests, preferences, education, occupation, location"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Dating & Networking Preferences:"})," Age range, distance, relationship goals, deal breakers, professional interests"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Communications:"})," Messages, comments, reactions, and other interactions with users"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payment Information:"})," Credit card details, debit card information, bank account details, mobile money credentials, billing address, subscription information (processed by third-party providers)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Verification Data:"})," Identity verification documents, phone verification codes"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"User-Generated Content:"})," Reviews, testimonials, surveys, contest entries, feedback"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Customer Support Communications:"})," Support inquiries, bug reports, feature requests"]})]}),t.jsx("p",{className:"mt-4",children:t.jsx("strong",{className:"text-purple-300",children:"1.2 Information We Collect Automatically:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Device Information:"})," Device type, operating system, browser type, device identifiers, mobile carrier"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Usage Data:"})," Features accessed, time spent, interaction patterns, swipe data, match behavior"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Location Information:"})," GPS coordinates, IP address location, location preferences (with consent)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Technical Data:"})," Log files, crash reports, performance metrics, debugging information"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Network Information:"})," IP address, connection type, internet service provider"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Behavioral Analytics:"})," User engagement patterns, feature usage statistics, session duration"]})]}),t.jsx("p",{className:"mt-4",children:t.jsx("strong",{className:"text-purple-300",children:"1.3 Information from Third Parties:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Social Media:"})," Profile information from connected social platforms (Facebook, Instagram, LinkedIn)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Identity Verification Services:"})," Age and identity verification data from third-party providers"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payment Processors:"})," Transaction data and payment status from Stripe, Apple Pay, Google Pay"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics Partners:"})," Demographic and behavioral insights from authorized data partners"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Marketing Partners:"})," Attribution data and advertising effectiveness metrics"]})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"2. HOW WE USE YOUR INFORMATION"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"2.1 Core Service Functions:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Create and maintain your account and profile"}),t.jsx("li",{children:"Facilitate matching algorithms and recommend compatible users"}),t.jsx("li",{children:"Enable messaging, video calls, and real-time interactions"}),t.jsx("li",{children:"Process transactions and manage subscriptions"}),t.jsx("li",{children:"Provide customer support and respond to inquiries"}),t.jsx("li",{children:"Verify user identity and prevent fraudulent accounts"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"2.2 Platform Safety and Security:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Detect and prevent spam, fraud, and harmful behavior"}),t.jsx("li",{children:"Monitor for violations of our Terms of Service"}),t.jsx("li",{children:"Investigate reports of abuse, harassment, or inappropriate content"}),t.jsx("li",{children:"Implement safety features and user protection measures"}),t.jsx("li",{children:"Comply with legal obligations and law enforcement requests"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"2.3 Service Improvement and Personalization:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Analyze usage patterns to improve features and user experience"}),t.jsx("li",{children:"Develop and test new products, features, and services"}),t.jsx("li",{children:"Personalize content recommendations and advertising"}),t.jsx("li",{children:"Conduct research and analytics for business insights"}),t.jsx("li",{children:"Optimize matching algorithms and recommendation systems"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"2.4 Communications and Marketing:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Send service-related notifications and updates"}),t.jsx("li",{children:"Deliver marketing communications and promotional offers (with consent)"}),t.jsx("li",{children:"Notify you of new matches, messages, and platform activity"}),t.jsx("li",{children:"Provide important account and security information"}),t.jsx("li",{children:"Send surveys and research invitations"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"3. HOW WE SHARE YOUR INFORMATION"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"3.1 With Other Users:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Profile information, photos, and preferences in discovery features"}),t.jsx("li",{children:"Messages, reactions, and interaction history with matched users"}),t.jsx("li",{children:"Online status, last seen information, and activity indicators"}),t.jsx("li",{children:"Shared interests, mutual connections, and compatibility scores"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"3.2 With Service Providers:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Cloud Infrastructure:"})," Amazon Web Services, Google Cloud for data storage and processing"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Payment Processing:"})," Stripe, Apple, Google for subscription and transaction processing"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Analytics:"})," Google Analytics, Mixpanel for usage analysis and optimization"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Customer Support:"})," Zendesk, Intercom for support ticket management"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Communications:"})," Twilio, SendGrid for SMS and email delivery"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Content Moderation:"})," AI-powered services for automated content review"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Identity Verification:"})," Jumio, Onfido for age and identity verification"]})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"3.3 For Legal and Safety Reasons:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Law enforcement agencies when required by valid legal process"}),t.jsx("li",{children:"Emergency services to prevent imminent harm to individuals"}),t.jsx("li",{children:"Legal advisors and courts in connection with legal proceedings"}),t.jsx("li",{children:"Regulatory authorities for compliance with applicable laws"}),t.jsx("li",{children:"Safety organizations to investigate reported harmful behavior"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"3.4 Business Transfers:"})}),t.jsx("p",{className:"text-xs mt-2",children:"In the event of a merger, acquisition, bankruptcy, or sale of assets, your information may be transferred to the acquiring entity, subject to the same privacy protections outlined in this policy."}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"4. YOUR PRIVACY RIGHTS AND CHOICES"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"4.1 Account Control:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Profile Management:"})," Edit, update, or delete profile information and photos"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Privacy Settings:"})," Control profile visibility, discovery preferences, and interaction settings"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Communication Preferences:"})," Manage notification settings and marketing communications"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Blocking and Reporting:"})," Block users, report inappropriate behavior, and hide from specific users"]})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"4.2 Data Rights (GDPR, CCPA, and Similar Laws):"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Access:"})," Request a copy of personal information we hold about you"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Portability:"})," Obtain your data in a structured, machine-readable format"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Correction:"})," Update or correct inaccurate personal information"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Deletion:"})," Request deletion of your account and associated data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Restriction:"})," Limit how we process your personal information"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Objection:"})," Object to processing based on legitimate interests"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Withdraw Consent:"})," Revoke previously given consent for data processing"]})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"4.3 Device and Browser Controls:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Location Services:"})," Enable or disable location sharing through device settings"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Push Notifications:"})," Control app notifications through device or app settings"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Camera and Microphone:"})," Manage app permissions for media access"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Cookies:"})," Adjust browser settings to control cookie usage"]})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"5. DATA SECURITY AND PROTECTION"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"5.1 Technical Safeguards:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"End-to-end encryption for private messages and sensitive data"}),t.jsx("li",{children:"TLS/SSL encryption for data transmission"}),t.jsx("li",{children:"Advanced firewalls and intrusion detection systems"}),t.jsx("li",{children:"Regular security audits and penetration testing"}),t.jsx("li",{children:"Multi-factor authentication for account access"}),t.jsx("li",{children:"Secure data centers with physical access controls"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"5.2 Operational Security:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Employee background checks and security training"}),t.jsx("li",{children:"Limited access to personal data on a need-to-know basis"}),t.jsx("li",{children:"Regular software updates and security patches"}),t.jsx("li",{children:"Incident response procedures for data breaches"}),t.jsx("li",{children:"Data retention policies and secure deletion practices"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"5.3 Data Breach Response:"})}),t.jsx("p",{className:"text-xs mt-2",children:"In the event of a data breach affecting personal information, we will notify affected users and relevant authorities within 72 hours as required by applicable laws, and take immediate steps to secure the platform and prevent further unauthorized access."}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"6. DATA RETENTION AND DELETION"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"6.1 Active Accounts:"})," ","We retain your information while your account is active and as needed to provide services."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-purple-300",children:"6.2 Account Deletion:"})," ","When you delete your account, we will:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Remove your profile from discovery and matching algorithms within 24 hours"}),t.jsx("li",{children:"Delete personal information within 30 days, except as noted below"}),t.jsx("li",{children:"Retain anonymized usage data for service improvement"}),t.jsx("li",{children:"Preserve certain data as required by law or for legitimate business purposes"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"6.3 Legal Retention Requirements:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Transaction records (7 years for tax and financial compliance)"}),t.jsx("li",{children:"Safety and security incident reports (5 years)"}),t.jsx("li",{children:"Legal dispute documentation (until resolution plus statute of limitations)"}),t.jsx("li",{children:"Age verification records (as required by jurisdiction)"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"7. INTERNATIONAL DATA TRANSFERS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"7.1 Global Operations:"})," ","CHARLEY operates globally, and your information may be transferred to and processed in the United States and other countries where we or our service providers operate."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-purple-300",children:"7.2 Transfer Safeguards:"})," ","We implement appropriate safeguards for international transfers, including:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Standard Contractual Clauses approved by the European Commission"}),t.jsx("li",{children:"Adequacy decisions for countries with sufficient privacy protections"}),t.jsx("li",{children:"Binding Corporate Rules for intra-group transfers"}),t.jsx("li",{children:"Certification schemes like Privacy Shield successors"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"8. ARTIFICIAL INTELLIGENCE AND AUTOMATED DECISION-MAKING"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"8.1 AI-Powered Features:"})," ","We use AI and machine learning for:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Matching algorithms and compatibility scoring"}),t.jsx("li",{children:"Content moderation and safety monitoring"}),t.jsx("li",{children:"Personalized recommendations and content curation"}),t.jsx("li",{children:"Fraud detection and account verification"}),t.jsx("li",{children:"Translation services and accessibility features"})]}),t.jsxs("p",{className:"mt-3",children:[t.jsx("strong",{className:"text-purple-300",children:"8.2 Your Rights:"})," You have the right to:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Receive information about automated decision-making that significantly affects you"}),t.jsx("li",{children:"Request human review of automated decisions"}),t.jsx("li",{children:"Challenge the logic and accuracy of automated systems"}),t.jsx("li",{children:"Opt out of certain automated processing where technically feasible"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"9. CHILDREN'S PRIVACY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"9.1 Age Requirements:"})," ","Different features require different minimum ages:"," ",t.jsx("strong",{children:"Dating Features (MEET/HEAT):"})," 18 years or older."," ",t.jsx("strong",{children:"Professional Networking (SUITE):"})," 14 years or older. We do not knowingly collect personal information from children under the applicable minimum age for each feature."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-purple-300",children:"9.2 Underage Account Detection:"})," ","If we discover an account belongs to someone under the applicable minimum age for the features they are accessing, we will immediately:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Delete the account and all associated data"}),t.jsx("li",{children:"Remove the user from all discovery and matching systems"}),t.jsx("li",{children:"Notify relevant authorities if required by law"}),t.jsx("li",{children:"Implement additional verification measures to prevent re-registration"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"10. STATE AND REGIONAL PRIVACY RIGHTS"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"10.1 California Privacy Rights (CCPA/CPRA):"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Right to know what personal information is collected and how it's used"}),t.jsx("li",{children:"Right to delete personal information subject to certain exceptions"}),t.jsx("li",{children:"Right to opt out of sale or sharing of personal information"}),t.jsx("li",{children:"Right to non-discrimination for exercising privacy rights"}),t.jsx("li",{children:"Right to correct inaccurate personal information"}),t.jsx("li",{children:"Right to limit use of sensitive personal information"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"10.2 European Privacy Rights (GDPR):"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Legal basis for processing (consent, legitimate interest, contract performance)"}),t.jsx("li",{children:"Right to withdraw consent and object to processing"}),t.jsx("li",{children:"Right to data portability and erasure"}),t.jsx("li",{children:"Right to file complaints with supervisory authorities"}),t.jsx("li",{children:"Data Protection Officer contact for privacy inquiries"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"11. COOKIES AND TRACKING TECHNOLOGIES"}),t.jsx("p",{children:t.jsx("strong",{className:"text-purple-300",children:"11.1 Types of Cookies We Use:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Essential Cookies:"})," Required for basic platform functionality and security"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Performance Cookies:"})," Analytics and optimization data"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Functional Cookies:"})," User preferences and personalization settings"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Advertising Cookies:"})," Targeted advertising and marketing measurement"]})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"11.2 Third-Party Tracking:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Google Analytics for website and app usage analysis"}),t.jsx("li",{children:"Facebook Pixel for advertising attribution and optimization"}),t.jsx("li",{children:"Branch.io for deep linking and app attribution"}),t.jsx("li",{children:"Mixpanel for user behavior analytics and funnel analysis"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"12. UPDATES TO THIS PRIVACY POLICY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"12.1 Policy Changes:"})," ","We may update this Privacy Policy to reflect changes in our practices, technology, legal requirements, or other factors."]}),t.jsx("p",{className:"mt-2",children:t.jsx("strong",{className:"text-purple-300",children:"12.2 Notification Process:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Material changes will be communicated 30 days in advance"}),t.jsx("li",{children:"Notifications sent via email and in-app messages"}),t.jsx("li",{children:"Updated effective date prominently displayed"}),t.jsx("li",{children:"Continued use constitutes acceptance of changes"}),t.jsx("li",{children:"Right to delete account if you disagree with changes"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"13. CONTACT INFORMATION AND EXERCISING YOUR RIGHTS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-purple-300",children:"13.1 Contact Details:"}),t.jsx("br",{}),"Baobab Technologies, LLC",t.jsx("br",{}),"Data Protection Team",t.jsx("br",{}),"Email: privacy@btechnos.com",t.jsx("br",{}),"Legal Department: legal@btechnos.com",t.jsx("br",{}),"Data Protection Officer: dpo@btechnos.com"]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"13.2 Exercising Privacy Rights:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Submit requests through our privacy portal in the app"}),t.jsx("li",{children:"Email privacy@btechnos.com with your request and account details"}),t.jsx("li",{children:"We will respond to verified requests within 30 days"}),t.jsx("li",{children:"Identity verification may be required for security purposes"}),t.jsx("li",{children:"Authorized agents may submit requests on your behalf with proper documentation"})]}),t.jsx("p",{className:"mt-3",children:t.jsx("strong",{className:"text-purple-300",children:"13.3 Complaints and Disputes:"})}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"EU residents: Contact your local Data Protection Authority"}),t.jsx("li",{children:"UK residents: Information Commissioner's Office (ICO)"}),t.jsx("li",{children:"California residents: California Attorney General's Office"}),t.jsx("li",{children:"Other jurisdictions: Relevant privacy regulatory authority"})]}),t.jsx("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 border border-green-500/30 rounded-lg p-3 mt-6",children:t.jsxs("p",{className:"text-green-200 font-medium text-xs",children:[t.jsx("strong",{children:"TRANSPARENCY COMMITMENT:"})," We believe in transparent data practices. This policy explains exactly how your information is handled to help you make informed decisions about using CHARLEY."]})})]})}),t.jsx(Tc,{className:"pt-2 border-t border-white/10 mt-2 flex justify-center items-center",children:t.jsxs("a",{href:"#",className:"text-purple-400 hover:text-purple-300 transition-colors text-sm flex items-center gap-1 bg-white/10 px-4 py-2 rounded-lg hover:bg-white/20",onClick:a=>{a.preventDefault(),window.open("/assets/privacy-policy-enhanced.html","_blank","noopener,noreferrer")},children:[t.jsx($N,{className:"h-4 w-4"}),t.jsx("span",{children:n("auth.viewFullPolicy")})]})})]})})}function r6({open:e,onOpenChange:r}){const{translate:n}=tn();return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[650px] max-h-[85vh] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-t-xl"}),t.jsxs(pn,{className:"pb-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Yo,{className:"h-5 w-5 text-indigo-400"}),t.jsx(Jr,{className:"text-xl font-bold tracking-tight",children:n("auth.termsOfService")})]}),t.jsxs(Gs,{className:"text-white/70 pt-2",children:[n("auth.lastUpdated"),": July 14, 2025 | ",n("auth.effectiveDate"),": July 14, 2025"]})]}),t.jsx(to,{className:"mt-2 pr-4 max-h-[60vh]",children:t.jsxs("div",{className:"space-y-4 text-white/80 text-sm",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-500/20 to-orange-500/20 border border-red-500/30 rounded-lg p-3 mb-4",children:t.jsxs("p",{className:"text-red-200 font-medium text-xs",children:[t.jsxs("strong",{children:[n("auth.importantNotice"),":"]})," ",n("auth.termsContainArbitration")]})}),t.jsx("p",{children:`Welcome to CHARLEY! These Terms of Service ("Terms") constitute a legally binding agreement between you and Baobab Technologies, LLC ("CHARLEY," "we," "us," or "our") governing your access to and use of CHARLEY's dating, networking, and social connection platform, including our mobile applications, websites, and related services (collectively, the "Services").`}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"1. ACCEPTANCE AND ELIGIBILITY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"1.1 Agreement to Terms:"})," ","By creating an account, accessing, or using our Services, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy. If you disagree with any part of these Terms, you must not use our Services."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"1.2 Age Requirements:"})," ","Different features require different minimum ages:"," ",t.jsx("strong",{children:"Dating Features (MEET):"})," 18 years or older."," ",t.jsx("strong",{children:"Professional Networking (SUITE):"})," 14 years or older. Age verification may be required."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"1.3 Geographic Restrictions:"})," ","Our Services are intended for users in jurisdictions where such services are legal. You are responsible for compliance with local laws."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"2. ACCOUNT CREATION AND SECURITY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"2.1 Account Registration:"})," ","You must provide accurate, current, and complete information during registration. You agree to promptly update your account information to maintain its accuracy."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"2.2 Account Security:"})," ","You are solely responsible for maintaining the confidentiality of your login credentials and for all activities under your account. You must immediately notify us of any unauthorized access or security breaches. Keep your account secure by using strong, unique passwords and enabling two-factor authentication."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"2.3 One Account Per Person:"})," ","You may maintain only one account. Creating multiple accounts or allowing others to use your account is prohibited and may result in termination."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"2.4 Identity Verification:"})," ","We may require identity verification at our discretion. Providing false information or impersonating others is prohibited."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"3. USER CONTENT AND CONDUCT"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"3.1 Content License:"})," ",'You retain ownership of content you submit ("User Content"). By posting User Content, you grant CHARLEY a worldwide, non-exclusive, royalty-free, transferable, sublicensable license to use, copy, modify, distribute, publish, and process your User Content in connection with operating and improving our Services.']}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"3.2 Content Standards:"})," ","User Content must not contain or promote:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Illegal, harmful, threatening, abusive, or discriminatory content"}),t.jsx("li",{children:"Hate speech, harassment, or content targeting individuals based on protected characteristics"}),t.jsx("li",{children:"Sexually explicit material, nudity, or content promoting sexual services"}),t.jsx("li",{children:"Violence, self-harm, or dangerous activities"}),t.jsx("li",{children:"Spam, malware, phishing attempts, or deceptive practices"}),t.jsx("li",{children:"Intellectual property infringement or unauthorized use of others' content"}),t.jsx("li",{children:"Personal information of others without consent"}),t.jsx("li",{children:"Content impersonating others or providing false information"}),t.jsx("li",{children:"Promotional content, commercial solicitation, or unauthorized advertising"})]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"3.3 Prohibited Conduct:"})," ","You agree not to:"]}),t.jsxs("ul",{className:"list-disc pl-6 space-y-1 mt-2 text-xs",children:[t.jsx("li",{children:"Use our Services for commercial purposes without authorization"}),t.jsx("li",{children:"Create fake profiles or misrepresent your identity, age, or characteristics"}),t.jsx("li",{children:"Harass, stalk, threaten, or harm other users"}),t.jsx("li",{children:"Attempt to access other users' accounts or private information"}),t.jsx("li",{children:"Use automated tools, bots, or scripts to access our Services"}),t.jsx("li",{children:"Reverse engineer, decompile, or attempt to extract source code"}),t.jsx("li",{children:"Interfere with our Services' security features or functionality"}),t.jsx("li",{children:"Violate any applicable laws or regulations"}),t.jsx("li",{children:"Collect user information for unsolicited communications"}),t.jsx("li",{children:"Engage in financial fraud or solicit money from other users"})]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"4. ARTIFICIAL INTELLIGENCE AND MATCHING"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"4.1 AI Technology:"})," ","CHARLEY uses artificial intelligence, machine learning algorithms, and automated systems to enhance user experience, including profile recommendations, content moderation, and matching services."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"4.2 Matching Disclaimer:"})," ","Our matching algorithms are tools to facilitate connections. We do not guarantee compatibility, successful relationships, or specific outcomes. User safety and judgment remain paramount."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"4.3 Content Moderation:"})," ","We use automated systems and human review to moderate content. We reserve the right to remove content or suspend accounts that violate our standards."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"5. PREMIUM SERVICES AND PAYMENTS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"5.1 Subscription Services:"})," ","CHARLEY may offer premium features through subscription plans. Subscription terms, including pricing and billing cycles, are specified at purchase."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"5.2 Auto-Renewal:"})," ","Subscriptions automatically renew unless cancelled before the renewal date. You may cancel through your account settings or platform-specific procedures."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"5.3 Refunds:"})," Refunds are generally not provided for unused subscription periods, except as required by law or our refund policy."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"5.4 Virtual Items:"})," ","Any virtual gifts, boosts, or digital items have no monetary value and are non-transferable and non-refundable."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"6. PRIVACY AND DATA PROTECTION"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"6.1 Privacy Policy:"})," ","Our Privacy Policy explains how we collect, use, and protect your information. By using our Services, you consent to our data practices as described in our Privacy Policy."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"6.2 Location Data:"})," We may collect and use location information to provide location-based features. You can control location sharing through your device settings."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"6.3 Communications:"})," ","By using our Services, you consent to receive communications from us, including promotional messages, which you may opt out of at any time."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"7. INTELLECTUAL PROPERTY RIGHTS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"7.1 CHARLEY's IP:"})," The Services, including all content, features, functionality, trademarks, service marks, logos, and trade names, are owned by Baobab Technologies or its licensors and are protected by copyright, trademark, patent, and other intellectual property laws."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"7.2 Limited License:"})," ","We grant you a limited, non-exclusive, non-transferable license to access and use our Services for individual, non-commercial purposes, subject to these Terms. Recruiters and institutional representatives are solely responsible for obtaining appropriate organizational approvals and ensuring compliance with their employer's policies before using our Services in any professional capacity."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"7.3 Copyright Policy:"})," ","We respond to copyright infringement notices consistent with the Digital Millennium Copyright Act (DMCA). To report copyright infringement, contact us at admin@btechnos.com."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"8. THIRD-PARTY SERVICES AND INTEGRATIONS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"8.1 Third-Party Links:"})," ","Our Services may contain links to third-party websites, applications, or services. We are not responsible for the content, privacy practices, or terms of third-party services."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"8.2 Social Media Integration:"})," ","If you connect social media accounts, you authorize us to access certain information from those platforms as described in our Privacy Policy."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"8.3 App Store Terms:"})," ","If you download our app through an app store, additional terms from that platform may apply."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"9. SAFETY AND SECURITY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"9.1 User Safety:"})," ","While we implement safety measures, you are responsible for your personal safety when interacting with other users. Exercise caution when meeting in person and consider meeting in public places."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"9.2 Reporting:"})," Report suspicious behavior, harassment, or safety concerns through our reporting features. We investigate reports and may take appropriate action."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"9.3 Background Checks:"})," ","We do not conduct background checks on users. You are responsible for evaluating other users' suitability."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"10. ACCOUNT SUSPENSION AND TERMINATION"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"10.1 Termination by You:"})," ","You may terminate your account at any time through account settings. Upon termination, your profile will be deactivated, though some information may be retained as described in our Privacy Policy."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"10.2 Termination by Us:"})," ","We may suspend, restrict, or terminate your account immediately without notice if you violate these Terms, engage in illegal activity, or for any other reason in our sole discretion."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"10.3 Effect of Termination:"})," ","Upon termination, all licenses granted to you terminate, and you must stop using our Services. Provisions that by their nature should survive termination will continue to apply."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"11. DISCLAIMERS AND WARRANTIES"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:'11.1 "AS IS" Basis:'})," ",'OUR SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.']}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"11.2 No Guarantees:"})," ","We do not guarantee that our Services will be uninterrupted, secure, or error-free, or that any particular results will be achieved."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"11.3 User Interactions:"})," ","We are not responsible for user conduct, interactions, or content. Users interact at their own risk."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"12. LIMITATION OF LIABILITY"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"12.1 Damages Limitation:"})," ","TO THE MAXIMUM EXTENT PERMITTED BY LAW, BAOBAB TECHNOLOGIES, ITS AFFILIATES, OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, OR EXEMPLARY DAMAGES ARISING FROM OR RELATING TO THESE TERMS OR YOUR USE OF OUR SERVICES."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"12.2 Total Liability Cap:"})," ","Our total liability to you for all claims shall not exceed the greater of $100 or the amount you paid to us in the 12 months preceding the claim."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"12.3 User Responsibility:"})," ","You acknowledge that your use of online dating and social networking services involves inherent risks, and you assume all responsibility for interactions with other users."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"13. INDEMNIFICATION"}),t.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Baobab Technologies, its affiliates, officers, directors, employees, and agents from and against all claims, damages, losses, costs, and expenses (including reasonable attorneys' fees) arising from: (a) your use of our Services; (b) your User Content; (c) your violation of these Terms; or (d) your violation of any rights of another person or entity."}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"14. DISPUTE RESOLUTION AND ARBITRATION"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"14.1 Mandatory Arbitration:"})," ","Any dispute, claim, or controversy arising out of or relating to these Terms or our Services shall be settled by binding arbitration administered by the American Arbitration Association under its Consumer Arbitration Rules."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"14.2 Class Action Waiver:"})," ","YOU AND BAOBAB TECHNOLOGIES AGREE THAT EACH PARTY MAY BRING CLAIMS AGAINST THE OTHER ONLY IN AN INDIVIDUAL CAPACITY AND NOT AS PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE ACTION."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"14.3 Arbitration Location:"})," ","Arbitration will be conducted in San Francisco, California, or another location mutually agreed upon."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"14.4 Exceptions:"})," ","Either party may seek injunctive relief in court for intellectual property violations or other equitable relief."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"15. GOVERNING LAW"}),t.jsx("p",{children:"These Terms are governed by and construed in accordance with the laws of the State of California, without regard to conflict of law principles. Any legal action not subject to arbitration shall be brought exclusively in the federal or state courts located in San Francisco, California."}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"16. MODIFICATIONS TO TERMS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"16.1 Updates:"})," We may modify these Terms at any time. Material changes will be communicated through our Services, email, or other reasonable means at least 30 days before taking effect."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"16.2 Continued Use:"})," ","Your continued use of our Services after changes take effect constitutes acceptance of the modified Terms."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"16.3 Disagreement:"})," If you disagree with modified Terms, you must stop using our Services and may terminate your account."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"17. MISCELLANEOUS PROVISIONS"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"17.1 Entire Agreement:"})," ","These Terms, together with our Privacy Policy, constitute the entire agreement between you and CHARLEY regarding our Services."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"17.2 Severability:"})," If any provision of these Terms is found unenforceable, the remaining provisions will remain in full force and effect."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"17.3 No Waiver:"})," Our failure to enforce any right or provision does not constitute a waiver of such right or provision."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"17.4 Assignment:"})," You may not assign or transfer these Terms without our written consent. We may assign these Terms without restriction."]}),t.jsxs("p",{className:"mt-2",children:[t.jsx("strong",{className:"text-indigo-300",children:"17.5 Force Majeure:"})," ","We are not liable for delays or failures due to circumstances beyond our reasonable control."]}),t.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"18. CONTACT INFORMATION"}),t.jsxs("p",{children:[t.jsx("strong",{className:"text-indigo-300",children:"Company Information:"}),t.jsx("br",{}),"Baobab Technologies, Inc.",t.jsx("br",{}),"CHARLEY Dating Platform",t.jsx("br",{}),"Email: admin@btechnos.com",t.jsx("br",{}),"Legal Department: legal@btechnos.com"]}),t.jsx("p",{className:"mt-2",children:"For customer support, safety concerns, or to report violations, please contact us through the app's support features or email support@btechnos.com."}),t.jsx("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-lg p-3 mt-6",children:t.jsx("p",{className:"text-blue-200 font-medium text-xs",children:t.jsx("strong",{children:"BY USING CHARLEY, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THESE TERMS OF SERVICE."})})})]})}),t.jsx(Tc,{className:"pt-2 border-t border-white/10 mt-2 flex justify-center items-center",children:t.jsxs("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 transition-colors text-sm flex items-center gap-1 bg-white/10 px-4 py-2 rounded-lg hover:bg-white/20",onClick:a=>{a.preventDefault(),window.open("/assets/terms-of-service-enhanced.html","_blank","noopener,noreferrer")},children:[t.jsx($N,{className:"h-4 w-4"}),t.jsx("span",{children:n("auth.viewFullTerms")})]})})]})})}var kse=Object.defineProperty,Sse=Object.defineProperties,Cse=Object.getOwnPropertyDescriptors,kx=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,a6=Object.prototype.propertyIsEnumerable,lP=(e,r,n)=>r in e?kse(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Ese=(e,r)=>{for(var n in r||(r={}))n6.call(r,n)&&lP(e,n,r[n]);if(kx)for(var n of kx(r))a6.call(r,n)&&lP(e,n,r[n]);return e},Pse=(e,r)=>Sse(e,Cse(r)),Ase=(e,r)=>{var n={};for(var a in e)n6.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&kx)for(var a of kx(e))r.indexOf(a)<0&&a6.call(e,a)&&(n[a]=e[a]);return n};function Mse(e){let r=setTimeout(e,0),n=setTimeout(e,10),a=setTimeout(e,50);return[r,n,a]}function Tse(e){let r=u.useRef();return u.useEffect(()=>{r.current=e}),r.current}var Ise=18,s6=40,_se=`${s6}px`,Dse=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Rse({containerRef:e,inputRef:r,pushPasswordManagerStrategy:n,isFocused:a}){let[s,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(!1),m=u.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),h=u.useCallback(()=>{let p=e.current,f=r.current;if(!p||!f||c||n==="none")return;let x=p,g=x.getBoundingClientRect().left+x.offsetWidth,v=x.getBoundingClientRect().top+x.offsetHeight/2,y=g-Ise,b=v;document.querySelectorAll(Dse).length===0&&document.elementFromPoint(y,b)===p||(i(!0),d(!0))},[e,r,c,n]);return u.useEffect(()=>{let p=e.current;if(!p||n==="none")return;function f(){let g=window.innerWidth-p.getBoundingClientRect().right;l(g>=s6)}f();let x=setInterval(f,1e3);return()=>{clearInterval(x)}},[e,n]),u.useEffect(()=>{let p=a||document.activeElement===r.current;if(n==="none"||!p)return;let f=setTimeout(h,0),x=setTimeout(h,2e3),g=setTimeout(h,5e3),v=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(f),clearTimeout(x),clearTimeout(g),clearTimeout(v)}},[r,a,n,h]),{hasPWMBadge:s,willPushPWMBadge:m,PWM_BADGE_SPACE_WIDTH:_se}}var i6=u.createContext({}),o6=u.forwardRef((e,r)=>{var n=e,{value:a,onChange:s,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:m,pushPasswordManagerStrategy:h="increase-width",pasteTransformer:p,containerClassName:f,noScriptCSSFallback:x=Ose,render:g,children:v}=n,y=Ase(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),b,w,S,N,P;let[C,I]=u.useState(typeof y.defaultValue=="string"?y.defaultValue:""),T=a??C,_=Tse(T),k=u.useCallback(q=>{s==null||s(q),I(q)},[s]),A=u.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),F=u.useRef(null),V=u.useRef(null),J=u.useRef({value:T,onChange:k,isIOS:typeof window<"u"&&((w=(b=window==null?void 0:window.CSS)==null?void 0:b.supports)==null?void 0:w.call(b,"-webkit-touch-callout","none"))}),M=u.useRef({prev:[(S=F.current)==null?void 0:S.selectionStart,(N=F.current)==null?void 0:N.selectionEnd,(P=F.current)==null?void 0:P.selectionDirection]});u.useImperativeHandle(r,()=>F.current,[]),u.useEffect(()=>{let q=F.current,H=V.current;if(!q||!H)return;J.current.value!==q.value&&J.current.onChange(q.value),M.current.prev=[q.selectionStart,q.selectionEnd,q.selectionDirection];function ge(){if(document.activeElement!==q){$(null),le(null);return}let ie=q.selectionStart,pe=q.selectionEnd,ye=q.selectionDirection,$e=q.maxLength,Le=q.value,Oe=M.current.prev,Ze=-1,te=-1,Ne;if(Le.length!==0&&ie!==null&&pe!==null){let xt=ie===pe,jr=ie===Le.length&&Le.length<$e;if(xt&&!jr){let zt=ie;if(zt===0)Ze=0,te=1,Ne="forward";else if(zt===$e)Ze=zt-1,te=zt,Ne="backward";else if($e>1&&Le.length>1){let Wt=0;if(Oe[0]!==null&&Oe[1]!==null){Ne=zt<Oe[1]?"backward":"forward";let Et=Oe[0]===Oe[1]&&Oe[0]<$e;Ne==="backward"&&!Et&&(Wt=-1)}Ze=Wt+zt,te=Wt+zt+1}}Ze!==-1&&te!==-1&&Ze!==te&&F.current.setSelectionRange(Ze,te,Ne)}let rt=Ze!==-1?Ze:ie,at=te!==-1?te:pe,jt=Ne??ye;$(rt),le(at),M.current.prev=[rt,at,jt]}if(document.addEventListener("selectionchange",ge,{capture:!0}),ge(),document.activeElement===q&&X(!0),!document.getElementById("input-otp-style")){let ie=document.createElement("style");if(ie.id="input-otp-style",document.head.appendChild(ie),ie.sheet){let pe="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";mh(ie.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),mh(ie.sheet,`[data-input-otp]:autofill { ${pe} }`),mh(ie.sheet,`[data-input-otp]:-webkit-autofill { ${pe} }`),mh(ie.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),mh(ie.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ke=()=>{H&&H.style.setProperty("--root-height",`${q.clientHeight}px`)};ke();let z=new ResizeObserver(ke);return z.observe(q),()=>{document.removeEventListener("selectionchange",ge,{capture:!0}),z.disconnect()}},[]);let[R,B]=u.useState(!1),[O,X]=u.useState(!1),[ae,$]=u.useState(null),[re,le]=u.useState(null);u.useEffect(()=>{Mse(()=>{var q,H,ge,ke;(q=F.current)==null||q.dispatchEvent(new Event("input"));let z=(H=F.current)==null?void 0:H.selectionStart,ie=(ge=F.current)==null?void 0:ge.selectionEnd,pe=(ke=F.current)==null?void 0:ke.selectionDirection;z!==null&&ie!==null&&($(z),le(ie),M.current.prev=[z,ie,pe])})},[T,O]),u.useEffect(()=>{_!==void 0&&T!==_&&_.length<i&&T.length===i&&(m==null||m(T))},[i,m,_,T]);let ce=Rse({containerRef:V,inputRef:F,pushPasswordManagerStrategy:h,isFocused:O}),ue=u.useCallback(q=>{let H=q.currentTarget.value.slice(0,i);if(H.length>0&&A&&!A.test(H)){q.preventDefault();return}typeof _=="string"&&H.length<_.length&&document.dispatchEvent(new Event("selectionchange")),k(H)},[i,k,_,A]),ee=u.useCallback(()=>{var q;if(F.current){let H=Math.min(F.current.value.length,i-1),ge=F.current.value.length;(q=F.current)==null||q.setSelectionRange(H,ge),$(H),le(ge)}X(!0)},[i]),Z=u.useCallback(q=>{var H,ge;let ke=F.current;if(!p&&(!J.current.isIOS||!q.clipboardData||!ke))return;let z=q.clipboardData.getData("text/plain"),ie=p?p(z):z;console.log({_content:z,content:ie}),q.preventDefault();let pe=(H=F.current)==null?void 0:H.selectionStart,ye=(ge=F.current)==null?void 0:ge.selectionEnd,$e=(pe!==ye?T.slice(0,pe)+ie+T.slice(ye):T.slice(0,pe)+ie+T.slice(pe)).slice(0,i);if($e.length>0&&A&&!A.test($e))return;ke.value=$e,k($e);let Le=Math.min($e.length,i-1),Oe=$e.length;ke.setSelectionRange(Le,Oe),$(Le),le(Oe)},[i,k,A,T]),Se=u.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),Ue=u.useMemo(()=>({position:"absolute",inset:0,width:ce.willPushPWMBadge?`calc(100% + ${ce.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ce.willPushPWMBadge?`inset(0 ${ce.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ce.PWM_BADGE_SPACE_WIDTH,ce.willPushPWMBadge,o]),De=u.useMemo(()=>u.createElement("input",Pse(Ese({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-placeholder-shown":T.length===0||void 0,"data-input-otp-mss":ae,"data-input-otp-mse":re,inputMode:d,pattern:A==null?void 0:A.source,"aria-placeholder":c,style:Ue,maxLength:i,value:T,ref:F,onPaste:q=>{var H;Z(q),(H=y.onPaste)==null||H.call(y,q)},onChange:ue,onMouseOver:q=>{var H;B(!0),(H=y.onMouseOver)==null||H.call(y,q)},onMouseLeave:q=>{var H;B(!1),(H=y.onMouseLeave)==null||H.call(y,q)},onFocus:q=>{var H;ee(),(H=y.onFocus)==null||H.call(y,q)},onBlur:q=>{var H;X(!1),(H=y.onBlur)==null||H.call(y,q)}})),[ue,ee,Z,d,Ue,i,re,ae,y,A==null?void 0:A.source,T]),se=u.useMemo(()=>({slots:Array.from({length:i}).map((q,H)=>{var ge;let ke=O&&ae!==null&&re!==null&&(ae===re&&H===ae||H>=ae&&H<re),z=T[H]!==void 0?T[H]:null,ie=T[0]!==void 0?null:(ge=c==null?void 0:c[H])!=null?ge:null;return{char:z,placeholderChar:ie,isActive:ke,hasFakeCaret:ke&&z===null}}),isFocused:O,isHovering:!y.disabled&&R}),[O,R,i,re,ae,y.disabled,T]),L=u.useMemo(()=>g?g(se):u.createElement(i6.Provider,{value:se},v),[v,se,g]);return u.createElement(u.Fragment,null,x!==null&&u.createElement("noscript",null,u.createElement("style",null,x)),u.createElement("div",{ref:V,"data-input-otp-container":!0,style:Se,className:f},L,u.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},De)))});o6.displayName="Input";function mh(e,r){try{e.insertRule(r)}catch{console.error("input-otp could not insert CSS rule:",r)}}var Ose=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const H1=u.forwardRef(({className:e,containerClassName:r,...n},a)=>t.jsx(o6,{ref:a,containerClassName:We("flex items-center gap-2 has-[:disabled]:opacity-50",r),className:We("disabled:cursor-not-allowed",e),...n}));H1.displayName="InputOTP";const K1=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("flex items-center",e),...r}));K1.displayName="InputOTPGroup";const xs=u.forwardRef(({index:e,className:r,...n},a)=>{const s=u.useContext(i6),{char:i,hasFakeCaret:o,isActive:l}=s.slots[e];return t.jsxs("div",{ref:a,className:We("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",r),...n,children:[i,o&&t.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});xs.displayName="InputOTPSlot";const Lse=u.forwardRef(({...e},r)=>t.jsx("div",{ref:r,role:"separator",...e,children:t.jsx(xG,{})}));Lse.displayName="InputOTPSeparator";const $se=[{city:"Accra",country:"Ghana"},{city:"Tema",country:"Ghana"},{city:"Ashaiman",country:"Ghana"},{city:"Madina",country:"Ghana"},{city:"Adenta",country:"Ghana"},{city:"Teshie",country:"Ghana"},{city:"Nungua",country:"Ghana"},{city:"La",country:"Ghana"},{city:"Osu",country:"Ghana"},{city:"Dome",country:"Ghana"},{city:"Kasoa",country:"Ghana"},{city:"Ga",country:"Ghana"},{city:"Akweteyman",country:"Ghana"},{city:"Legon",country:"Ghana"},{city:"Dodowa",country:"Ghana"},{city:"Abokobi",country:"Ghana"},{city:"Ada",country:"Ghana"},{city:"Dawhenya",country:"Ghana"},{city:"Prampram",country:"Ghana"},{city:"Sege",country:"Ghana"},{city:"Battor",country:"Ghana"},{city:"Oyibi",country:"Ghana"},{city:"Aburi",country:"Ghana"},{city:"Pantang",country:"Ghana"},{city:"Pokuase",country:"Ghana"},{city:"Amasaman",country:"Ghana"},{city:"Gbawe",country:"Ghana"},{city:"McCarthy Hill",country:"Ghana"},{city:"Ablekuma",country:"Ghana"},{city:"Bortianor",country:"Ghana"},{city:"Weija",country:"Ghana"},{city:"Ngleshie Amanfro",country:"Ghana"},{city:"Kokrobite",country:"Ghana"},{city:"Dansoman",country:"Ghana"},{city:"Jamestown",country:"Ghana"},{city:"Chorkor",country:"Ghana"},{city:"Korle Bu",country:"Ghana"},{city:"Mamprobi",country:"Ghana"},{city:"Odorkor",country:"Ghana"},{city:"Kaneshie",country:"Ghana"},{city:"Abeka",country:"Ghana"},{city:"Darkuman",country:"Ghana"},{city:"Tesano",country:"Ghana"},{city:"Alajo",country:"Ghana"},{city:"Kokomlemle",country:"Ghana"},{city:"Achimota",country:"Ghana"},{city:"New Town",country:"Ghana"},{city:"Kotobabi",country:"Ghana"},{city:"Nima",country:"Ghana"},{city:"Maamobi",country:"Ghana"},{city:"Kanda",country:"Ghana"},{city:"Accra Central",country:"Ghana"},{city:"Adabraka",country:"Ghana"},{city:"Ridge",country:"Ghana"},{city:"North Ridge",country:"Ghana"},{city:"West Ridge",country:"Ghana"},{city:"East Ridge",country:"Ghana"},{city:"Airport Residential Area",country:"Ghana"},{city:"Cantonments",country:"Ghana"},{city:"Labone",country:"Ghana"},{city:"Labadi",country:"Ghana"},{city:"North Labone",country:"Ghana"},{city:"Ringway Estates",country:"Ghana"},{city:"Roman Ridge",country:"Ghana"},{city:"Abelemkpe",country:"Ghana"},{city:"Dzorwulu",country:"Ghana"},{city:"East Legon",country:"Ghana"},{city:"East Legon Hills",country:"Ghana"},{city:"East Legon Extension",country:"Ghana"},{city:"Okponglo",country:"Ghana"},{city:"Shiashie",country:"Ghana"},{city:"Tetteh Quarshie",country:"Ghana"},{city:"Baatsona",country:"Ghana"},{city:"Spintex",country:"Ghana"},{city:"Sakumono",country:"Ghana"},{city:"Community 25",country:"Ghana"},{city:"Lapaz",country:"Ghana"},{city:"Kumasi",country:"Ghana"},{city:"Obuasi",country:"Ghana"},{city:"Ejisu",country:"Ghana"},{city:"Konongo",country:"Ghana"},{city:"Mampong",country:"Ghana"},{city:"Offinso",country:"Ghana"},{city:"Bekwai",country:"Ghana"},{city:"Agona",country:"Ghana"},{city:"Jacobu",country:"Ghana"},{city:"Nyinahin",country:"Ghana"},{city:"Tepa",country:"Ghana"},{city:"Kenyase",country:"Ghana"},{city:"Manso",country:"Ghana"},{city:"Dunkwa",country:"Ghana"},{city:"Fumesua",country:"Ghana"},{city:"Atwima",country:"Ghana"},{city:"Boankra",country:"Ghana"},{city:"Ahinsan",country:"Ghana"},{city:"Ahodwo",country:"Ghana"},{city:"Asokwa",country:"Ghana"},{city:"Bantama",country:"Ghana"},{city:"Kwadaso",country:"Ghana"},{city:"Suame",country:"Ghana"},{city:"Tafo",country:"Ghana"},{city:"Nhyiaeso",country:"Ghana"},{city:"Dichemso",country:"Ghana"},{city:"Ayigya",country:"Ghana"},{city:"Kotei",country:"Ghana"},{city:"Emena",country:"Ghana"},{city:"Adum",country:"Ghana"},{city:"Asafo",country:"Ghana"},{city:"Manhyia",country:"Ghana"},{city:"Feyiase",country:"Ghana"},{city:"Abrepo",country:"Ghana"},{city:"Ashtown",country:"Ghana"},{city:"Tamale",country:"Ghana"},{city:"Yendi",country:"Ghana"},{city:"Salaga",country:"Ghana"},{city:"Bimbilla",country:"Ghana"},{city:"Savelugu",country:"Ghana"},{city:"Karaga",country:"Ghana"},{city:"Gushegu",country:"Ghana"},{city:"Tolon",country:"Ghana"},{city:"Daboya",country:"Ghana"},{city:"Kpandai",country:"Ghana"},{city:"Walewale",country:"Ghana"},{city:"Nalerigu",country:"Ghana"},{city:"Gambaga",country:"Ghana"},{city:"Cape Coast",country:"Ghana"},{city:"Elmina",country:"Ghana"},{city:"Winneba",country:"Ghana"},{city:"Swedru",country:"Ghana"},{city:"Kasoa",country:"Ghana"},{city:"Dunkwa-on-Offin",country:"Ghana"},{city:"Twifo Praso",country:"Ghana"},{city:"Agona Swedru",country:"Ghana"},{city:"Nyakrom",country:"Ghana"},{city:"Saltpond",country:"Ghana"},{city:"Anomabo",country:"Ghana"},{city:"Mankessim",country:"Ghana"},{city:"Abura Dunkwa",country:"Ghana"},{city:"Diaso",country:"Ghana"},{city:"Tarkwa",country:"Ghana"},{city:"Prestea",country:"Ghana"},{city:"Bogoso",country:"Ghana"},{city:"Nsuta",country:"Ghana"},{city:"Huni Valley",country:"Ghana"},{city:"Sekondi-Takoradi",country:"Ghana"},{city:"Axim",country:"Ghana"},{city:"Half Assini",country:"Ghana"},{city:"Elubo",country:"Ghana"},{city:"Nkroful",country:"Ghana"},{city:"Agona",country:"Ghana"},{city:"Tarkwa",country:"Ghana"},{city:"Prestea",country:"Ghana"},{city:"Bogoso",country:"Ghana"},{city:"Nsuta",country:"Ghana"},{city:"Dunkwa",country:"Ghana"},{city:"Obuasi",country:"Ghana"},{city:"Bibiani",country:"Ghana"},{city:"Sefwi Wiawso",country:"Ghana"},{city:"Daboase",country:"Ghana"},{city:"Inchaban",country:"Ghana"},{city:"Shama",country:"Ghana"},{city:"Koforidua",country:"Ghana"},{city:"Akropong",country:"Ghana"},{city:"Aburi",country:"Ghana"},{city:"Kibi",country:"Ghana"},{city:"Akim Oda",country:"Ghana"},{city:"Begoro",country:"Ghana"},{city:"Mpraeso",country:"Ghana"},{city:"Nkawkaw",country:"Ghana"},{city:"Akwatia",country:"Ghana"},{city:"Asamankese",country:"Ghana"},{city:"Nsawam",country:"Ghana"},{city:"Suhum",country:"Ghana"},{city:"Kyebi",country:"Ghana"},{city:"Somanya",country:"Ghana"},{city:"Odumase Krobo",country:"Ghana"},{city:"Akuse",country:"Ghana"},{city:"Atimpoku",country:"Ghana"},{city:"New Tafo",country:"Ghana"},{city:"Ho",country:"Ghana"},{city:"Hohoe",country:"Ghana"},{city:"Keta",country:"Ghana"},{city:"Anloga",country:"Ghana"},{city:"Dzodze",country:"Ghana"},{city:"Aflao",country:"Ghana"},{city:"Denu",country:"Ghana"},{city:"Kpando",country:"Ghana"},{city:"Jasikan",country:"Ghana"},{city:"Kadjebi",country:"Ghana"},{city:"Nkwanta",country:"Ghana"},{city:"Dambai",country:"Ghana"},{city:"Krachi",country:"Ghana"},{city:"Kete Krachi",country:"Ghana"},{city:"Worawora",country:"Ghana"},{city:"Have",country:"Ghana"},{city:"Akatsi",country:"Ghana"},{city:"Sogakope",country:"Ghana"},{city:"Dabala",country:"Ghana"},{city:"Sunyani",country:"Ghana"},{city:"Techiman",country:"Ghana"},{city:"Berekum",country:"Ghana"},{city:"Dormaa Ahenkro",country:"Ghana"},{city:"Wenchi",country:"Ghana"},{city:"Kintampo",country:"Ghana"},{city:"Atebubu",country:"Ghana"},{city:"Nkoranza",country:"Ghana"},{city:"Bechem",country:"Ghana"},{city:"Drobo",country:"Ghana"},{city:"Goaso",country:"Ghana"},{city:"Hwidiem",country:"Ghana"},{city:"Sampa",country:"Ghana"},{city:"Duayaw Nkwanta",country:"Ghana"},{city:"Yeji",country:"Ghana"},{city:"Prang",country:"Ghana"},{city:"Bolgatanga",country:"Ghana"},{city:"Bawku",country:"Ghana"},{city:"Navrongo",country:"Ghana"},{city:"Zebilla",country:"Ghana"},{city:"Paga",country:"Ghana"},{city:"Sandema",country:"Ghana"},{city:"Fada N'gourma",country:"Ghana"},{city:"Tongo",country:"Ghana"},{city:"Garu",country:"Ghana"},{city:"Wa",country:"Ghana"},{city:"Tumu",country:"Ghana"},{city:"Lawra",country:"Ghana"},{city:"Jirapa",country:"Ghana"},{city:"Nandom",country:"Ghana"},{city:"Funsi",country:"Ghana"},{city:"Hamile",country:"Ghana"},{city:"Gwollu",country:"Ghana"},{city:"Lambussie",country:"Ghana"},{city:"Kpong",country:"Ghana"},{city:"Senchi",country:"Ghana"},{city:"Frankadua",country:"Ghana"},{city:"Bunso",country:"Ghana"},{city:"Oyoko",country:"Ghana"},{city:"Adukrom",country:"Ghana"},{city:"Mamfe",country:"Ghana"},{city:"Obomeng",country:"Ghana"},{city:"Kokompe",country:"Ghana"},{city:"Asesewa",country:"Ghana"},{city:"Akyem Tafo",country:"Ghana"},{city:"Akim Swedru",country:"Ghana"},{city:"Kade",country:"Ghana"},{city:"Asiakwa",country:"Ghana"},{city:"Kukurantumi",country:"Ghana"},{city:"Osiem",country:"Ghana"},{city:"Apedwa",country:"Ghana"},{city:"Anyinam",country:"Ghana"},{city:"Asafo",country:"Ghana"},{city:"Ofoase",country:"Ghana"},{city:"Mangoase",country:"Ghana"},{city:"Akyem Oda",country:"Ghana"},{city:"Abomosu",country:"Ghana"},{city:"Sekyedumase",country:"Ghana"},{city:"Ahafo Ano",country:"Ghana"},{city:"Goaso",country:"Ghana"},{city:"Sankore",country:"Ghana"},{city:"Acherensua",country:"Ghana"},{city:"Hwediem",country:"Ghana"},{city:"Kukuom",country:"Ghana"},{city:"Mim",country:"Ghana"},{city:"Mehame",country:"Ghana"},{city:"Nsawkaw",country:"Ghana"},{city:"Akomadan",country:"Ghana"},{city:"Akumadan",country:"Ghana"},{city:"Effiduase",country:"Ghana"},{city:"Asante Mampong",country:"Ghana"},{city:"Agogo",country:"Ghana"},{city:"Drobonso",country:"Ghana"},{city:"Antoa",country:"Ghana"},{city:"Juaso",country:"Ghana"},{city:"Konongo",country:"Ghana"},{city:"Patasi",country:"Ghana"},{city:"Brodekwano",country:"Ghana"},{city:"Aboabo",country:"Ghana"},{city:"Santase",country:"Ghana"},{city:"Pankrono",country:"Ghana"},{city:"Buokrom",country:"Ghana"},{city:"Asokore Mampong",country:"Ghana"},{city:"Ejura",country:"Ghana"},{city:"Sekyedumase",country:"Ghana"},{city:"Nkawie",country:"Ghana"},{city:"Toase",country:"Ghana"},{city:"Ahwiaa",country:"Ghana"},{city:"Ntonso",country:"Ghana"},{city:"Bonwire",country:"Ghana"},{city:"Adanwomase",country:"Ghana"},{city:"Besease",country:"Ghana"},{city:"Bomfa",country:"Ghana"},{city:"Adankwame",country:"Ghana"},{city:"Kaase",country:"Ghana"}],hh=[...$se];function Fse(e){if(!e||e.length<2)return[];const r=e.toLowerCase();let n=[];if(r.includes(",")){const o=r.split(",").map(d=>d.trim()),l=o[0],c=o[1];return c&&c.length>=1?(n=hh.filter(d=>d.city.toLowerCase().includes(l)&&d.country.toLowerCase().includes(c)),n.slice(0,5)):(n=hh.filter(d=>d.city.toLowerCase().includes(l)),n.slice(0,5))}const a=hh.filter(o=>o.city.toLowerCase().startsWith(r));if(a.length>=5)return a.slice(0,5);const s=hh.filter(o=>!o.city.toLowerCase().startsWith(r)&&o.city.toLowerCase().includes(r)),i=hh.filter(o=>!o.city.toLowerCase().includes(r)&&o.country.toLowerCase().includes(r));return[...a,...s,...i].slice(0,5)}function Use(e,r){return`${e}, ${r}`}function km({className:e,onLocationSelect:r,initialValue:n="",showIcon:a=!0,...s}){const[i,o]=u.useState(n),[l,c]=u.useState([]),[d,m]=u.useState([]),[h,p]=u.useState(!1),[f,x]=u.useState(!1),g=u.useRef(null),v=u.useRef(null),y=u.useRef(),b=async k=>{try{x(!0);const A=await fetch(`/api/places/autocomplete?query=${encodeURIComponent(k)}`,{method:"GET",headers:{Accept:"application/json"}});if(!A.ok)return console.warn(`[GooglePlaces] Backend proxy error: ${A.status}`),[];const F=await A.json();return F.status==="OK"&&F.predictions?(console.log(`[GooglePlaces] Found ${F.predictions.length} suggestions for "${k}" via backend proxy`),F.predictions):(console.log(`[GooglePlaces] No results from backend proxy for "${k}", status: ${F.status}`),[])}catch(A){return console.error("[GooglePlaces] Error searching locations via backend proxy:",A),[]}finally{x(!1)}},w=(k,A)=>{const F=k.city.toLowerCase().trim(),V=k.country.toLowerCase().trim();return A.some(J=>{const M=J.description.toLowerCase(),R=J.structured_formatting.main_text.toLowerCase().trim(),B=J.structured_formatting.secondary_text.toLowerCase().trim(),O=R===F;M.includes(F);const X=M.includes(V),ae=B.includes(V);return O&&(X||ae)})},S=(k,A)=>k.filter(F=>!w(F,A)),N=k=>{const A=k.target.value;if(o(A),r(A),y.current&&clearTimeout(y.current),A.length>=2){const F=Fse(A);c(F),p(!0),y.current=setTimeout(async()=>{const V=await b(A);m(V);const J=S(F,V);F.length>J.length&&(console.log(`[CITY-INPUT] Filtered ${F.length-J.length} duplicate local suggestions`),console.log("[CITY-INPUT] Google results:",V.map(M=>M.description)),console.log("[CITY-INPUT] Filtered out:",F.filter(M=>!J.some(R=>R.city===M.city&&R.country===M.country)).map(M=>`${M.city}, ${M.country}`))),c(J)},300)}else c([]),m([]),p(!1)},P=k=>{const A=Use(k.city,k.country);o(A),c([]),m([]),p(!1),r(A),v.current&&v.current.blur()},C=k=>{o(k.description),c([]),m([]),p(!1),r(k.description),v.current&&v.current.blur()};u.useEffect(()=>{const k=A=>{var F;g.current&&!g.current.contains(A.target)&&!((F=v.current)!=null&&F.contains(A.target))&&p(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const[I,T]=u.useState(-1),_=k=>{const A=d.length+l.length;switch(k.key){case"ArrowDown":k.preventDefault(),T(F=>F<A-1?F+1:F);break;case"ArrowUp":k.preventDefault(),T(F=>F>0?F-1:F);break;case"Enter":I>=0&&I<A&&(I<d.length?C(d[I]):P(l[I-d.length]),k.preventDefault());break;case"Escape":p(!1);break}};return u.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Je,{ref:v,type:"text",className:We(a?"pl-10 pr-10":"pr-10",e),value:i,onChange:N,onFocus:()=>{i.length>=2&&p(!0)},onKeyDown:_,placeholder:"Enter a city name",...s}),a&&t.jsx(ta,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-600"})]}),h&&t.jsxs("div",{ref:g,className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg max-h-60 overflow-auto border border-purple-100 dark:border-purple-700",style:{boxShadow:"0 10px 25px -5px rgba(124, 58, 237, 0.15), 0 8px 10px -6px rgba(124, 58, 237, 0.1)"},children:[f&&t.jsxs("div",{className:"px-4 py-3 text-sm text-purple-600 dark:text-purple-400 flex items-center",children:[t.jsx(sn,{className:"h-3.5 w-3.5 mr-2 text-purple-400 animate-spin flex-shrink-0"}),t.jsx("p",{children:"Searching locations..."})]}),d.length>0&&t.jsx("ul",{className:"py-1",children:d.map((k,A)=>t.jsxs("li",{className:We("px-4 py-2.5 cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/30 text-sm flex items-center transition-colors duration-150",I===A&&"bg-purple-50 dark:bg-purple-900/30"),onClick:()=>C(k),children:[t.jsx(ta,{className:"h-3.5 w-3.5 mr-2 text-emerald-500 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:k.structured_formatting.main_text}),t.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[", ",k.structured_formatting.secondary_text]})]})]},k.place_id))}),l.length>0&&t.jsx("ul",{className:"py-1",children:l.map((k,A)=>t.jsxs("li",{className:We("px-4 py-2.5 cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/30 text-sm flex items-center transition-colors duration-150",I===d.length+A&&"bg-purple-50 dark:bg-purple-900/30"),onClick:()=>P(k),children:[t.jsx(ta,{className:"h-3.5 w-3.5 mr-2 text-purple-500 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-purple-800 dark:text-purple-300",children:k.city}),t.jsxs("span",{className:"text-purple-400 dark:text-purple-400",children:[", ",k.country]})]})]},`${k.city}-${k.country}`))}),!f&&d.length===0&&l.length===0&&t.jsxs("div",{className:"px-4 py-3 text-sm text-purple-600 dark:text-purple-400 flex items-center",children:[t.jsx(ta,{className:"h-3.5 w-3.5 mr-2 text-purple-400 flex-shrink-0"}),t.jsxs("p",{children:["No cities found. Try another name or enter manually as ",t.jsx("span",{className:"font-semibold",children:'"City, Country"'}),"."]})]})]})]})}function l6({onCapture:e,onCancel:r}){const[n,a]=u.useState(null),[s,i]=u.useState(null),[o,l]=u.useState("user"),[c,d]=u.useState(!1),m=u.useRef(null),h=u.useRef(null),p=u.useCallback(async()=>{try{console.log("Initializing camera...");const v={video:{facingMode:o,width:{ideal:1280,max:1920},height:{ideal:720,max:1080}},audio:!1},y=await navigator.mediaDevices.getUserMedia(v);a(y),m.current&&(m.current.srcObject=y,m.current.onloadedmetadata=async()=>{var b;try{await((b=m.current)==null?void 0:b.play()),d(!0),console.log("Camera ready and playing")}catch(w){console.error("Video play error:",w)}}),console.log("Live photo camera initialized successfully")}catch(v){console.error("Camera access error:",v),d(!1)}},[o]),f=()=>{if(!m.current||!h.current||!c)return;const v=h.current,y=m.current;v.width=y.videoWidth,v.height=y.videoHeight;const b=v.getContext("2d");b&&(b.drawImage(y,0,0),v.toBlob(w=>{if(w){const S=URL.createObjectURL(w);i({url:S,blob:w})}},"image/jpeg",.9))},x=()=>{s&&e(s.blob)},g=u.useCallback(()=>{s&&(URL.revokeObjectURL(s.url),i(null)),n&&(n.getTracks().forEach(v=>{v.stop()}),a(null)),m.current&&(m.current.srcObject=null),d(!1),setTimeout(()=>{p()},100)},[s,n,p]);return u.useEffect(()=>(p(),()=>{n&&n.getTracks().forEach(v=>v.stop()),s&&URL.revokeObjectURL(s.url)}),[]),u.useEffect(()=>{n&&(n.getTracks().forEach(v=>v.stop()),d(!1),p())},[o,p]),t.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-xl shadow-2xl overflow-hidden max-w-md w-full mx-auto",children:[t.jsx("div",{className:"absolute top-4 right-4 z-10",children:t.jsx(de,{variant:"ghost",size:"icon",onClick:r,className:"text-white/80 hover:text-white bg-black/20 hover:bg-black/40 rounded-full",children:t.jsx(mt,{className:"h-5 w-5"})})}),t.jsx("div",{className:"relative aspect-square bg-black",children:s?t.jsx("img",{src:s.url,alt:"Captured verification photo",className:"w-full h-full object-cover"}):t.jsxs(t.Fragment,{children:[t.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!0,className:We("w-full h-full object-cover",!c&&"opacity-0")}),!c&&t.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-center",children:t.jsx("p",{className:"text-sm",children:"Preparing camera..."})})}),c&&t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-64 h-80 border-2 border-white/50 rounded-full border-dashed"})})})]})}),t.jsx("div",{className:"p-6 bg-white dark:bg-gray-900",children:s?t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("button",{onClick:g,className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-2xl border border-gray-200 dark:border-gray-700 
                         text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 
                         transition-all duration-200 font-medium`,children:[t.jsx(NT,{className:"h-5 w-5"}),t.jsx("span",{children:"Retake"})]}),t.jsxs("button",{onClick:x,className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-2xl 
                         bg-emerald-600 hover:bg-emerald-700 text-white 
                         transition-all duration-200 font-medium shadow-lg shadow-emerald-600/25`,children:[t.jsx(At,{className:"h-5 w-5"}),t.jsx("span",{children:"Use Photo"})]})]}):t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:f,disabled:!c,className:`w-full py-4 px-6 rounded-2xl bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-400
                         text-white font-semibold text-lg transition-all duration-200 
                         shadow-lg shadow-emerald-600/25 hover:shadow-xl hover:shadow-emerald-600/30
                         disabled:shadow-none disabled:cursor-not-allowed`,children:"Take Photo"})})}),t.jsx("canvas",{ref:h,className:"hidden"})]})}const M0=(e,r)=>({"Password must be at least 8 characters":r("auth.passwordMinEightChars"),"Passwords don't match":r("auth.passwordsDontMatchValidation"),"Please enter a valid phone number":r("auth.pleaseEnterPhoneNumber"),"Phone number must include country code (e.g., +1...)":r("auth.invalidCountryCode"),"Verification code must be 7 digits":r("auth.verificationCodeMustBeSeven"),"Please enter a valid email format":r("auth.pleaseEnterValidEmail"),"This email address does not exist or cannot receive emails":r("auth.enterValidDeliverableEmail"),"Please enter a valid email address":r("auth.pleaseEnterValidEmail"),"Reset code must be 7 digits":r("auth.resetCodeMustBeSeven"),"Full name is required":r("auth.fullNameRequired"),"Date of birth is required":r("auth.dateOfBirthRequired"),"Please enter a valid date":r("auth.pleaseEnterValidDate"),"Gender is required":r("auth.genderRequired"),"City and country are required":r("auth.cityAndCountryRequired"),"Please upload at least one photo":r("auth.pleaseUploadPhoto")})[e]||e;function Bse(){const[e,r]=lr(),{user:n}=Sr(),{translate:a}=tn(),[s,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState(null),[p,f]=u.useState(null),[x,g]=u.useState(""),[v,y]=u.useState(!1),[b,w]=u.useState(!1),[S,N]=u.useState(!1),[P,C]=u.useState(1),[I,T]=u.useState({}),[_,k]=u.useState(!1),[A,F]=u.useState(!1),[V,J]=u.useState(!1);u.useState(0);const[M,R]=u.useState(!1),[B,O]=u.useState(""),[X,ae]=u.useState(!1),[$,re]=u.useState(!1);u.useState(null);const[le,ce]=u.useState(!1);u.useState("");const[ue,ee]=u.useState(!1),[Z,Se]=u.useState(null),[Ue,De]=u.useState(!1);u.useState("");const[se,L]=u.useState(!1),[q,H]=u.useState(!1),[ge,ke]=u.useState(null),[z,ie]=u.useState(!1),[pe,ye]=u.useState(!1),[$e,Le]=u.useState(!1),[Oe,Ze]=u.useState(!1),[te,Ne]=u.useState(!1),[rt,at]=u.useState(""),[jt,xt]=u.useState(""),[jr,zt]=u.useState("");u.useEffect(()=>{const Ce=sessionStorage.getItem("directRedirect");n&&!S&&!Ce&&r("/app-selection")},[n,r,S]);const Wt=bi({resolver:wi($O),defaultValues:{phoneNumber:""}}),Et=bi({resolver:wi(FO),defaultValues:{code:""}}),ut=bi({resolver:wi(LO),mode:"onChange",defaultValues:{password:"",...typeof window<"u"&&window.location.pathname==="/auth"&&{confirmPassword:""}}}),cr=bi({resolver:wi(BO),defaultValues:{email:""}}),Ir=bi({resolver:wi(WO),defaultValues:{fullName:"",dateOfBirth:"",gender:""}}),Bt=bi({resolver:wi(HO),defaultValues:{residence:"",tribe:"",secondaryTribe:""}}),vt=bi({resolver:wi(KO),defaultValues:{photoUrl:"",photoUrl2:""}}),Ft=bi({resolver:wi(jk),defaultValues:{idVerificationPhoto:"",liveVerificationPhoto:"",skipVerification:!1}}),$t=bi({resolver:wi(GO),defaultValues:{email:""}}),dr=bi({resolver:wi(VO),defaultValues:{resetCode:""}}),Vt=bi({resolver:wi(zO),mode:"onChange",defaultValues:{password:"",confirmPassword:""}}),vn=async Ce=>{try{l(!0),g(Ce.phoneNumber),f(null);const Qe=await(await ze("/api/verify/phone/send",{method:"POST",data:Ce})).json();Qe.skipVerification?(y(!1),w(!0),T({...I,userId:Qe.user.id,username:Qe.user.username})):(h(Qe.code),i(!0),Et.reset({code:""}),mn({title:a("auth.verificationCodeSent"),description:a("auth.checkCodeBelow")}))}catch(qe){qe instanceof Error&&qe.message.includes("This phone number cannot be used for registration")?f(qe.message):mn({title:a("auth.errorSendingCode"),description:qe instanceof Error?qe.message:a("common.unknownError"),variant:"destructive"})}finally{l(!1)}},Sn=async Ce=>{try{d(!0);const qe=Wt.getValues().phoneNumber,Mt=await(await ze("/api/verify/phone/check",{method:"POST",data:{phoneNumber:qe,code:Ce.code}})).json();Mt.user?(g(Wt.getValues().phoneNumber),y(!1),w(!0),h(null),i(!1),T({...I,userId:Mt.user.id,username:Mt.user.username})):(y(!0),w(!0),h(null),i(!1))}catch(qe){mn({title:a("auth.invalidVerificationCode"),description:qe instanceof Error?qe.message:a("auth.pleaseTryAgain"),variant:"destructive"})}finally{d(!1)}},Rt=async Ce=>{try{if(v||ie(!0),v){const qe=cr.getValues().email;if(!qe){cr.setError("email",{type:"required",message:"Email is required"});return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(qe)){cr.setError("email",{type:"manual",message:"Please enter a valid email address"}),mn({title:"Invalid email",description:"Please provide a valid email address",variant:"destructive"});return}cr.clearErrors("email");try{if(await qO(qe)){cr.setError("email",{type:"manual",message:"This email is already registered."});return}}catch(Mt){console.error("Error checking email:",Mt)}T({...I,password:Ce.password,phoneNumber:x}),w(!1),N(!0),C(1)}else{sessionStorage.setItem("directRedirect","true");const Qe=await(await ze("/api/login",{method:"POST",data:{email:x,password:Ce.password}})).json();me.setQueryData(["/api/user"],Qe);const Mt=document.querySelector(".password-step-container");Mt&&Mt.classList.add("animate-fade-out"),await me.invalidateQueries({queryKey:["/api/user"]});const Ut=await me.fetchQuery({queryKey:["/api/user"],queryFn:async()=>(await ze("/api/user")).json(),staleTime:0});if(localStorage.getItem(`show_nationality_selection_${Ut.id}`)==="true"&&(sessionStorage.removeItem("nationalitySelectionCompleted"),sessionStorage.setItem("showingNationalityAfterLogin","true")),!(Ut!=null&&Ut.showAppModeSelection)&&(Ut!=null&&Ut.showNationalitySelection))r("/nationality");else if(Ut!=null&&Ut.showAppModeSelection)r("/app-selection");else if(!(Ut!=null&&Ut.showAppModeSelection)&&!(Ut!=null&&Ut.showNationalitySelection)){try{sessionStorage.setItem("directAppRedirect","true")}catch{}const ht=Ut.lastUsedApp||"MEET";let tr="/";switch(ht.toUpperCase()){case"MEET":tr="/";break;case"HEAT":tr="/heat";break;case"SUITE":tr="/suite";break;default:tr="/"}r(tr)}else r("/app-selection");sessionStorage.removeItem("directRedirect"),sessionStorage.removeItem("directAppRedirect")}}catch{sessionStorage.removeItem("directRedirect"),ie(!1),mn({title:"Authentication failed",description:"Invalid password. Please try again.",variant:"destructive"})}},Te=async Ce=>{T({...I,fullName:Ce.fullName,dateOfBirth:Ce.dateOfBirth,gender:Ce.gender}),C(2)},Xe=async Ce=>{T({...I,location:Ce.residence,ethnicity:Ce.tribe,secondaryTribe:Ce.secondaryTribe||""}),C(3)},nt=async Ce=>{try{ae(!0);const Qe=await(await ze("/api/password/send-reset-code",{method:"POST",data:{email:Ce.email}})).json();Qe.success?(O(Ce.email),H(!0),De(!0),R(!1),mn({title:"Reset Code Sent",description:"Please check your email for the 7-digit reset code."})):mn({title:"Error",description:Qe.message||"Failed to send reset code",variant:"destructive"})}catch(qe){console.error("Forgot password error:",qe),mn({title:"Error",description:"Failed to send reset code. Please try again.",variant:"destructive"})}finally{ae(!1)}},U=async Ce=>{try{L(!0);const qe=await ze("/api/password/verify-reset-code",{method:"POST",data:{email:B,resetCode:Ce.resetCode}});if(qe.ok){const Qe=await qe.json();Qe.success?(ke(Ce.resetCode),De(!1),w(!1),R(!1),ce(!0),mn({title:"Code Verified",description:"Please enter your new password."})):mn({title:"Invalid Code",description:Qe.message||"The reset code is invalid or expired.",variant:"destructive"})}else{const Qe=await qe.json();mn({title:"Invalid Code",description:Qe.message||"The reset code is invalid or expired.",variant:"destructive"})}}catch(qe){console.error("Reset code verification error:",qe),mn({title:"Error",description:"Failed to verify reset code. Please try again.",variant:"destructive"})}finally{L(!1)}},K=async Ce=>{try{const qe=await ze("/api/password/reset-with-code",{method:"POST",data:{email:B,resetCode:ge,newPassword:Ce.password}});if(qe.ok){const Qe=await qe.json();Qe.success?(ce(!1),H(!1),De(!1),O(""),ke(null),mn({title:"Password Reset Successfully",description:"Your password has been updated. Please log in."}),$t.reset(),Vt.reset(),dr.reset(),w(!1),i(!0)):mn({title:"Password Reset Failed",description:Qe.message||"Failed to reset password",variant:"destructive"})}else{const Qe=await qe.json();mn({title:"Error Resetting Password",description:Qe.message||"Failed to reset password",variant:"destructive"})}}catch(qe){console.error("Reset password error:",qe),mn({title:a("auth.errorResettingPassword"),description:qe instanceof Error?qe.message:a("common.unknownError"),variant:"destructive"})}},[je,Ae]=u.useState(!1),st=async()=>{if(!je){Ae(!0);try{const Ce=document.querySelector(".profile-step-container");Ce&&Ce.classList.add("animate-fade-out");const{dateOfBirth:qe,...Qe}=I;let Mt;if(qe&&qe.trim()!==""&&(Mt=`${qe.trim()}T00:00:00.000Z`),Mt&&Yre(Mt)){const tr=Wt.getValues().phoneNumber,we=Ir.getValues().fullName,pt=cr.getValues().email;at(tr),xt(we),zt(pt),console.log(`[AGE-COMPLIANCE] User under 14 detected, blocking phone number: ${tr} for ${we}`);try{await ze("/api/phone/block",{method:"POST",data:{phoneNumber:tr,fullName:we,email:pt,reason:"User under 14 years old - age verification failed",metadata:JSON.stringify({dateOfBirth:Mt,blockedAt:new Date().toISOString(),userAgent:navigator.userAgent})}}),console.log(`[AGE-COMPLIANCE] Successfully blocked phone number: ${tr}`)}catch(ot){console.error(`[AGE-COMPLIANCE] Failed to block phone number: ${tr}`,ot)}Ne(!0),Ae(!1);return}const Ut={...Qe,username:`user_${Date.now().toString(36)}`,email:cr.getValues().email,verifiedByPhone:!0,...Mt?{dateOfBirth:Mt}:{}},ht=await(await ze("/api/register",{method:"POST",data:Ut})).json();me.setQueryData(["/api/user"],ht),ze("/api/welcome/send",{method:"POST",data:{name:ht.fullName,email:ht.email}}).then(tr=>{tr.ok?console.log("[WELCOME-EMAIL] Welcome email sent successfully"):console.warn("[WELCOME-EMAIL] Failed to send welcome email, but user registration completed")}).catch(tr=>{console.warn("[WELCOME-EMAIL] Error sending welcome email (non-blocking):",tr)}),sessionStorage.setItem("profileCompleted","true"),r("/app-selection")}catch(Ce){console.error("Profile creation error:",Ce),mn({title:a("auth.errorCreatingProfile"),description:Ce instanceof Error?Ce.message:a("common.unknownError"),variant:"destructive"})}finally{Ae(!1)}}},Pt=async Ce=>{if(!je){Ae(!0);try{if(!Ce.photoUrl){mn({title:a("auth.photoRequired"),description:a("auth.uploadPhotoToContinue"),variant:"destructive"}),Ae(!1);return}T({...I,photoUrl:Ce.photoUrl,photoUrl2:Ce.photoUrl2||""}),C(4),Ae(!1);return}catch(qe){mn({title:"Error saving photo",description:qe instanceof Error?qe.message:"Unknown error occurred",variant:"destructive"}),Ae(!1);return}}},Nt=async Ce=>{if(!je){Ae(!0);try{T({...I,idVerificationPhoto:Ce.idVerificationPhoto||null,liveVerificationPhoto:Ce.liveVerificationPhoto||null,skipVerification:Ce.skipVerification||!1}),C(5),Ae(!1);return}catch(qe){mn({title:"Error saving ID verification",description:qe instanceof Error?qe.message:"Unknown error occurred",variant:"destructive"}),Ae(!1);return}}};return te?t.jsx(dae,{phoneNumber:rt,fullName:jt,email:jr}):t.jsxs("div",{className:"flex flex-col h-screen w-full overflow-hidden",style:{background:"linear-gradient(to bottom, #7e22ce, #9333EA 40%, #fb923c 80%, white 120%)"},children:[t.jsxs("div",{className:"pt-6 pb-20 flex-1 flex items-center justify-center relative overflow-hidden",children:[Array.from({length:15}).map((Ce,qe)=>t.jsx("div",{className:"absolute text-white opacity-20",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,transform:`scale(${.5+Math.random()*1.5})`,animation:`float ${10+Math.random()*20}s infinite ease-in-out`,animationDelay:`${Math.random()*5}s`,animationDuration:`${20+Math.random()*20}s`},children:qe%5===0?t.jsx(Yt,{size:36}):qe%5===1?t.jsx(xn,{size:32}):qe%5===2?t.jsx(Jt,{size:28}):qe%5===3?t.jsx(zr,{size:30}):t.jsx(hm,{size:30})},qe)),t.jsxs("div",{className:"text-center z-10 max-w-[90vw]",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mb-8",children:[t.jsx("img",{src:Dp,alt:"CHARLEY Logo",className:"w-16 h-16 sm:w-24 sm:h-24",style:{filter:"drop-shadow(2px 4px 6px rgba(0,0,0,0.3))"}}),t.jsx("div",{className:"app-title max-w-full px-2 mx-auto flex justify-center",style:{maxWidth:"90%",lineHeight:"1.1",paddingBottom:"clamp(12px, 3vw, 24px)",transform:"translateX(-4px)"},children:"CHARLEY".split("").map((Ce,qe)=>t.jsx("span",{className:"font-bold text-5xl sm:text-6xl md:text-7xl lg:text-8xl inline-block",style:{fontFamily:"'Arial Black', sans-serif",letterSpacing:"-2px",textShadow:"3px 3px 6px rgba(0,0,0,0.3)",background:"linear-gradient(to bottom, #ffffff, #fb923c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:Ce},qe))})]}),t.jsx("p",{className:"text-white text-xl sm:text-2xl font-bold mb-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:pae().translate("app.slogan")})]})]}),t.jsxs("div",{className:"px-4 pt-6 pb-6 flex flex-col content-container -mt-8 rounded-t-3xl z-10 bg-white bg-opacity-95",children:[!s&&!b&&!S&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[t.jsxs(de,{onClick:()=>i(!0),className:"text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)",transition:"transform 0.2s"},children:[t.jsx(Pd,{className:"h-5 w-5 mr-2"}),Ge("auth.signInWithPhoneNumber")]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-6 text-center max-w-[320px]",children:[Ge("auth.byTappingSignIn")," ",t.jsx("button",{onClick:()=>Le(!0),className:"text-orange-500 hover:text-purple-700 underline bg-transparent border-none cursor-pointer p-0",children:Ge("auth.terms")}),Ge("auth.learnHowWeProcess")," ",t.jsx("button",{onClick:()=>ye(!0),className:"text-orange-500 hover:text-purple-700 underline bg-transparent border-none cursor-pointer p-0",children:Ge("auth.privacyPolicy")})," ",Ge("auth.and")," ",t.jsx("button",{onClick:()=>ye(!0),className:"text-orange-500 hover:text-purple-700 underline bg-transparent border-none cursor-pointer p-0",children:Ge("auth.cookiePolicy")}),"."]})]}),t.jsx(Xt,{mode:"wait",children:s&&!b&&!S&&!M&&!Ue&&!le&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx(ji,{...Wt,children:t.jsxs("form",{onSubmit:Wt.handleSubmit(vn),className:"space-y-3",children:[t.jsx(wa,{control:Wt.control,name:"phoneNumber",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsx(Da,{children:a("auth.phoneNumber")}),t.jsx(ja,{children:t.jsx(CO,{placeholder:"123456789",value:Ce.value,onChange:Ce.onChange,defaultCountry:"us"})}),Wt.formState.errors.phoneNumber&&t.jsx("p",{className:"text-sm font-medium text-destructive",children:M0(Wt.formState.errors.phoneNumber.message||"",a)})]})}),p&&t.jsx("div",{className:"text-center text-red-600 text-xs px-4 py-2",children:p}),t.jsx(de,{type:"submit",className:"w-full text-white shadow-md",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:o,children:a(o?"common.processing":"auth.nextAuthentication")})]})}),m&&t.jsx(Or,{open:!!m,onOpenChange:Ce=>{Ce||h(null)},children:t.jsxs(Dr,{className:"sm:max-w-[425px] bg-white rounded-xl shadow-2xl border-0",children:[t.jsxs(pn,{children:[t.jsx(Jr,{className:"text-center text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-amber-500",children:"Verification Code"}),t.jsx(Gs,{className:"text-center",children:"Enter the code sent to your phone"})]}),t.jsxs("div",{className:"py-2",children:[t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-amber-50 border border-purple-100 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-center text-sm text-purple-900 mb-1",children:"Your verification code is:"}),t.jsx("p",{className:"text-center font-mono font-bold text-2xl text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-amber-600",children:m}),t.jsx("p",{className:"text-center text-xs text-gray-500 mt-2",children:"In a real app, this would be sent via SMS to your phone"})]}),t.jsx(ji,{...Et,children:t.jsxs("form",{onSubmit:Et.handleSubmit(Sn),className:"space-y-3",children:[t.jsx(wa,{control:Et.control,name:"code",render:({field:Ce})=>t.jsxs(ha,{className:"mx-auto",children:[t.jsx(Da,{className:"text-center block",children:a("auth.enterVerificationCode")}),t.jsx(ja,{children:t.jsx("div",{className:"flex justify-center",children:t.jsx(H1,{maxLength:7,...Ce,children:t.jsxs(K1,{children:[t.jsx(xs,{index:0}),t.jsx(xs,{index:1}),t.jsx(xs,{index:2}),t.jsx(xs,{index:3}),t.jsx(xs,{index:4}),t.jsx(xs,{index:5}),t.jsx(xs,{index:6})]})})})}),Et.formState.errors.code&&t.jsx("p",{className:"text-sm font-medium text-destructive text-center",children:M0(Et.formState.errors.code.message||"",a)})]})}),t.jsx(de,{type:"submit",className:"w-full text-white shadow-md",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:c,children:a(c?"auth.verifyingCode":"auth.verifyCode")})]})})]})]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{className:"text-orange-500 hover:text-purple-700 text-sm font-medium hover:underline",onClick:()=>{i(!1),h(null)},children:a("common.cancel")})})]})}),t.jsx(Xt,{mode:"wait",children:b&&!S&&!M&&!le&&!Ue&&t.jsxs(E.div,{className:"max-w-md mx-auto w-full password-step-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx("h2",{className:"auth-title mb-4 text-center",children:a(v?"auth.createPassword":"auth.enterPassword")}),t.jsx(ji,{...ut,children:t.jsxs("form",{onSubmit:ut.handleSubmit(Rt),className:"space-y-3",children:[t.jsx(wa,{control:ut.control,name:"password",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.password")]}),t.jsx(ja,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:_?"text":"password",placeholder:a(v?"auth.createPasswordPlaceholder":"auth.enterPasswordPlaceholder"),...Ce,className:`border-purple-200 focus:border-purple-500 pr-10 ${v&&ut.getValues().confirmPassword&&Ce.value&&ut.getValues().confirmPassword===Ce.value?"border-green-500":""}`,onChange:qe=>{if(Ce.onChange(qe),v&&ut.getValues().confirmPassword){const Qe=ut.getValues().confirmPassword;ut.setValue("confirmPassword",Qe+" "),setTimeout(()=>{ut.setValue("confirmPassword",Qe)},10)}}}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600",onClick:()=>k(!_),children:_?t.jsx(Jc,{className:"h-5 w-5"}):t.jsx(vo,{className:"h-5 w-5"})})]})}),ut.formState.errors.password&&t.jsx("p",{className:"text-sm font-medium text-destructive",children:M0(ut.formState.errors.password.message||"",a)}),v&&Ce.value&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[t.jsxs("div",{className:"text-xs text-gray-600 font-medium",children:[a("auth.passwordStrength"),":"]}),t.jsx("div",{className:"h-1.5 flex-1 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all ${Ce.value.length<8?"w-1/4 bg-red-500":Ce.value.length<10?"w-2/4 bg-yellow-500":Ce.value.length<12?"w-3/4 bg-blue-500":"w-full bg-green-500"}`})}),t.jsx("div",{className:"text-xs font-medium",children:Ce.value.length<8?a("auth.passwordWeak"):Ce.value.length<10?a("auth.passwordFair"):Ce.value.length<12?a("auth.passwordGood"):a("auth.passwordStrong")})]}),t.jsx("div",{className:"mt-1 px-2 py-1.5 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("i",{className:"h-3 w-3 text-blue-300",children:""})}),t.jsx("div",{className:"ml-1.5",children:t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:a("auth.passwordStrengthTip")})})]})})]})]})}),v&&t.jsx(wa,{control:ut.control,name:"confirmPassword",render:({field:Ce})=>{const qe=ut.watch("password"),Qe=Ce.value||"",Mt=qe&&Qe&&qe===Qe,Ut=Qe.length>0;return t.jsxs(ha,{children:[t.jsxs(Da,{className:"flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.confirmPassword")]}),t.jsx(ja,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:A?"text":"password",placeholder:a("auth.confirmPasswordPlaceholder"),value:Qe,onChange:Ct=>{Ce.onChange(Ct),ut.trigger("confirmPassword")},onBlur:Ce.onBlur,disabled:Ce.disabled,name:Ce.name,ref:Ce.ref,className:`border-purple-200 focus:border-purple-500 pr-10 transition-all duration-200 ${Ut?Mt?"border-green-500 bg-green-50 ring-1 ring-green-200":"border-red-500 bg-red-50 ring-1 ring-red-200":""}`}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600",onClick:()=>F(!A),children:A?t.jsx(Jc,{className:"h-5 w-5"}):t.jsx(vo,{className:"h-5 w-5"})})]})}),Ut&&t.jsx("div",{className:"mt-1 text-xs transition-all duration-200",children:Mt?t.jsxs("div",{className:"text-green-600 flex items-center animate-in fade-in-0 duration-200",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a("auth.passwordsMatch")]}):t.jsxs("div",{className:"text-red-600 flex items-center animate-in fade-in-0 duration-200",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a("auth.passwordsDontMatch")]})})]})}}),v&&t.jsx(ji,{...cr,children:t.jsx(wa,{control:cr.control,name:"email",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"flex items-center",children:[t.jsx(Ks,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.email")]}),t.jsx(ja,{children:t.jsx(Je,{type:"email",placeholder:Ge("auth.enterYourEmail"),...Ce,className:"border-purple-200 focus:border-purple-500",onBlur:Ce.onBlur})}),cr.formState.errors.email&&t.jsx("p",{className:"text-sm font-medium text-destructive",children:M0(cr.formState.errors.email.message||"",a)})]})})}),t.jsxs("div",{className:"flex gap-4 mt-3",children:[t.jsxs(de,{type:"button",onClick:()=>{w(!1),i(!0)},className:"flex-1 bg-gray-100 text-gray-600 hover:bg-gray-200 font-semibold py-4",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),a("auth.goBack")]}),t.jsxs(de,{type:"submit",className:"flex-1 text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:!v&&z,children:[a(v?"common.continue":z?"common.processing":"auth.signIn"),v?t.jsx(Ol,{className:"ml-2 h-4 w-4"}):z?null:t.jsx(CG,{className:"ml-2 h-4 w-4"})]})]})]})}),t.jsx("div",{className:"mt-4 text-center flex flex-col space-y-2",children:!v&&t.jsx("button",{className:"text-purple-700 hover:text-orange-500 text-sm font-medium hover:underline",onClick:()=>R(!0),children:a("auth.forgotPassword")})})]})}),t.jsx(Xt,{mode:"wait",children:M&&!Ue&&!le&&t.jsxs(E.div,{className:"max-w-md mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx("h2",{className:"auth-title mb-4 text-center",children:Ge("auth.resetPassword")}),t.jsx("p",{className:"auth-subtitle text-center mb-5",children:Ge("auth.resetPasswordInstruction")}),t.jsx(ji,{...$t,children:t.jsxs("form",{onSubmit:$t.handleSubmit(nt),className:"space-y-3",children:[t.jsx(wa,{control:$t.control,name:"email",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(Ks,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.email")]}),t.jsx(ja,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:"email",placeholder:Ge("auth.enterYourEmail"),...Ce,className:"border-purple-200 focus:border-purple-500",onChange:Ce.onChange}),ue&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})})]})}),Z&&!ue&&t.jsxs("div",{className:`text-xs mt-1 flex items-center ${Z.isValid?"text-emerald-600":"text-red-600"}`,children:[Z.isValid?t.jsxs(t.Fragment,{children:[t.jsx(ds,{className:"h-3 w-3 mr-1"}),"Email verified and ready to receive messages"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ed,{className:"h-3 w-3 mr-1"}),Z.reason||"Email address not found"]}),t.jsxs("span",{className:"ml-2 text-gray-400",children:["(",Z.confidence," confidence)"]})]}),t.jsx(Os,{})]})}),t.jsxs(de,{type:"submit",className:"w-full text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:X,children:[X?"Sending...":"Send Reset Code",t.jsx(Yv,{className:"ml-2 h-4 w-4"})]})]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{className:"text-orange-500 hover:text-purple-700 text-sm font-medium hover:underline",onClick:()=>{R(!1)},children:a("common.back")})})]})}),t.jsx(Xt,{mode:"wait",children:Ue&&!le&&t.jsxs(E.div,{className:"max-w-md mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx("h2",{className:"auth-title mb-4 text-center",children:"Enter Reset Code"}),t.jsxs("p",{className:"auth-subtitle text-center mb-5",children:["We sent a 7-digit code to ",B,". Please enter it below."]}),t.jsx(ji,{...dr,children:t.jsxs("form",{onSubmit:dr.handleSubmit(U),className:"space-y-4",children:[t.jsx(wa,{control:dr.control,name:"resetCode",render:({field:Ce})=>t.jsxs(ha,{className:"mx-auto",children:[t.jsx(Da,{className:"text-center block",children:"Reset Code"}),t.jsx(ja,{children:t.jsx("div",{className:"flex justify-center",children:t.jsx(H1,{maxLength:7,...Ce,children:t.jsxs(K1,{children:[t.jsx(xs,{index:0}),t.jsx(xs,{index:1}),t.jsx(xs,{index:2}),t.jsx(xs,{index:3}),t.jsx(xs,{index:4}),t.jsx(xs,{index:5}),t.jsx(xs,{index:6})]})})})}),t.jsx(Os,{})]})}),t.jsxs(de,{type:"submit",className:"w-full text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:se,children:[se?"Verifying...":"Verify Code",t.jsx(Yv,{className:"ml-2 h-4 w-4"})]})]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{className:"text-orange-500 hover:text-purple-700 text-sm font-medium hover:underline",onClick:()=>{De(!1),R(!0),H(!1)},children:"Back to Email"})})]})}),t.jsx(Xt,{mode:"wait",children:le&&!b&&!M&&!Ue&&t.jsxs(E.div,{className:"max-w-md mx-auto w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx("h2",{className:"auth-title mb-4 text-center",children:a("auth.createNewPassword")}),t.jsx(ji,{...Vt,children:t.jsxs("form",{onSubmit:Vt.handleSubmit(K),className:"space-y-3",children:[t.jsx(wa,{control:Vt.control,name:"password",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.newPassword")]}),t.jsx(ja,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:V?"text":"password",placeholder:a("auth.enterNewPassword"),...Ce,className:"border-purple-200 focus:border-purple-500 pr-10"}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600",onClick:()=>J(!V),children:V?t.jsx(Jc,{className:"h-5 w-5"}):t.jsx(vo,{className:"h-5 w-5"})})]})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:Vt.control,name:"confirmPassword",render:({field:Ce})=>{const qe=Vt.watch("password"),Qe=Ce.value||"",Mt=qe&&Qe&&qe===Qe,Ut=Qe.length>0;return t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 mr-2 text-purple-700"}),a("auth.confirmPassword")]}),t.jsx(ja,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:A?"text":"password",placeholder:a("auth.confirmNewPassword"),value:Qe,onChange:Ct=>{Ce.onChange(Ct),Vt.trigger("confirmPassword")},onBlur:Ce.onBlur,disabled:Ce.disabled,name:Ce.name,ref:Ce.ref,className:`border-purple-200 focus:border-purple-500 pr-10 transition-all duration-200 ${Ut?Mt?"border-green-500 bg-green-50 ring-1 ring-green-200":"border-red-500 bg-red-50 ring-1 ring-red-200":""}`}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer text-gray-400 hover:text-gray-600",onClick:()=>F(!A),children:A?t.jsx(Jc,{className:"h-5 w-5"}):t.jsx(vo,{className:"h-5 w-5"})})]})}),Ut&&t.jsx("div",{className:"mt-1 text-xs transition-all duration-200",children:Mt?t.jsxs("div",{className:"text-green-600 flex items-center animate-in fade-in-0 duration-200",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a("auth.passwordsMatch")]}):t.jsxs("div",{className:"text-red-600 flex items-center animate-in fade-in-0 duration-200",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a("auth.passwordsDontMatch")]})})]})}}),t.jsxs(de,{type:"submit",className:"w-full text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},children:[a("auth.resetPassword"),t.jsx(Yv,{className:"ml-2 h-4 w-4"})]})]})}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{className:"text-orange-500 hover:text-purple-700 text-sm font-medium hover:underline",onClick:()=>{ce(!1),re(!1),R(!1),i(!0)},children:a("common.cancel")})})]})}),t.jsx(Xt,{mode:"wait",children:S&&t.jsxs(E.div,{className:"max-w-md mx-auto w-full profile-step-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"auth-title text-center",children:P===1?"Basic Info":P===2?"Location":P===3?"Add Photos":P===4?"ID Verification":"Terms & Conditions"}),t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Ce=>t.jsx("div",{className:`w-3 h-3 rounded-full ${P===Ce?"bg-gradient-to-r from-purple-600 to-orange-500":"bg-gray-300"}`},Ce))})]}),P===1&&t.jsx(ji,{...Ir,children:t.jsxs("form",{onSubmit:Ir.handleSubmit(Te),className:"space-y-3",children:[t.jsx(wa,{control:Ir.control,name:"fullName",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(Po,{className:"h-4 w-4 mr-2 text-purple-700"}),"Full Name"]}),t.jsx(ja,{children:t.jsx(Je,{placeholder:"Your full name",...Ce,className:"border-purple-200 focus:border-purple-500 auth-input"})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:Ir.control,name:"dateOfBirth",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(tl,{className:"h-4 w-4 mr-2 text-purple-700"}),"Date of Birth"]}),t.jsx(ja,{children:t.jsx(Je,{type:"date",...Ce,className:"border-purple-200 focus:border-purple-500 auth-input"})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:Ir.control,name:"gender",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(Jt,{className:"h-4 w-4 mr-2 text-purple-700"}),"Gender"]}),t.jsxs("div",{className:"flex gap-3 mt-1",children:[t.jsx("div",{className:`flex-1 border rounded-lg p-2 cursor-pointer transition-all ${Ce.value==="Male"?"border-purple-500 bg-purple-50 shadow-sm":"border-gray-200 hover:border-purple-300"}`,onClick:()=>Ce.onChange("Male"),children:t.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[t.jsx("div",{className:`w-3.5 h-3.5 rounded-full border ${Ce.value==="Male"?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:Ce.value==="Male"&&t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full m-auto mt-0.5"})}),t.jsx("span",{className:`text-sm font-medium ${Ce.value==="Male"?"text-purple-700":"text-gray-600"}`,children:"Male"})]})}),t.jsx("div",{className:`flex-1 border rounded-lg p-2 cursor-pointer transition-all ${Ce.value==="Female"?"border-purple-500 bg-purple-50 shadow-sm":"border-gray-200 hover:border-purple-300"}`,onClick:()=>Ce.onChange("Female"),children:t.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[t.jsx("div",{className:`w-3.5 h-3.5 rounded-full border ${Ce.value==="Female"?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:Ce.value==="Female"&&t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full m-auto mt-0.5"})}),t.jsx("span",{className:`text-sm font-medium ${Ce.value==="Female"?"text-purple-700":"text-gray-600"}`,children:"Female"})]})})]}),t.jsx(Os,{})]})}),t.jsxs("div",{className:"flex gap-4 mt-3",children:[t.jsxs(de,{type:"button",onClick:()=>{N(!1),w(!0)},className:"flex-1 bg-gray-100 text-gray-600 hover:bg-gray-200 font-semibold py-4",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),Ge("auth.goBack")]}),t.jsxs(de,{type:"submit",className:"flex-1 text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},children:[Ge("auth.continue"),t.jsx(Ol,{className:"ml-2 h-4 w-4"})]})]})]})}),P===2&&t.jsx(ji,{...Bt,children:t.jsxs("form",{onSubmit:Bt.handleSubmit(Xe),className:"space-y-3",children:[t.jsx(wa,{control:Bt.control,name:"residence",render:({field:Ce})=>t.jsxs(ha,{children:[t.jsxs(Da,{className:"auth-label flex items-center",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-purple-700"}),"Residence (City, Country)"]}),t.jsx(ja,{children:t.jsx(km,{initialValue:Ce.value,onLocationSelect:Ce.onChange,placeholder:"Enter your city",className:"border-purple-200 focus:border-purple-500 auth-input"})}),t.jsx(Os,{})]})}),t.jsxs("div",{className:"flex gap-4 mt-3",children:[t.jsxs(de,{type:"button",onClick:()=>C(1),className:"flex-1 bg-gray-100 text-gray-600 hover:bg-gray-200 font-semibold py-4",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),Ge("auth.goBack")]}),t.jsxs(de,{type:"submit",className:"flex-1 text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},children:[Ge("auth.continue"),t.jsx(Ol,{className:"ml-2 h-4 w-4"})]})]})]})}),P===3&&t.jsx(ji,{...vt,children:t.jsxs("form",{onSubmit:vt.handleSubmit(Pt),className:"space-y-3",children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("h3",{className:"auth-label flex items-center mb-1",children:[t.jsx(Ln,{className:"h-4 w-4 mr-2 text-pink-500"}),"My Photos"]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(wa,{control:vt.control,name:"photoUrl",render:({field:{value:Ce,onChange:qe,...Qe}})=>t.jsxs(ha,{className:"col-span-1",children:[t.jsx(ja,{children:Ce?t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-purple-500",children:[t.jsx("img",{src:Ce,alt:"Primary photo",className:"w-full h-full object-cover",onError:Mt=>{Mt.target.src="https://via.placeholder.com/150?text=Profile"}}),t.jsx("div",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-2 py-0.5 rounded-full",children:"Primary"}),t.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[t.jsxs("label",{htmlFor:"change-primary-photo",className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full cursor-pointer shadow-sm transition-all",title:"Change photo",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),t.jsx("input",{id:"change-primary-photo",type:"file",className:"hidden",accept:"image/*",onChange:Mt=>{var Ct;const Ut=(Ct=Mt.target.files)==null?void 0:Ct[0];if(Ut){const ht=new FileReader;ht.onloadend=()=>{qe(ht.result)},ht.readAsDataURL(Ut)}}})]}),t.jsx("button",{type:"button",onClick:()=>qe(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Remove photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),vt.getValues().photoUrl2&&t.jsx("button",{type:"button",onClick:()=>{const Mt=vt.getValues().photoUrl2;vt.setValue("photoUrl2",Ce),qe(Mt)},className:"bg-purple-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Swap with secondary photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})})]})]}):t.jsx("div",{className:"aspect-square rounded-lg bg-gray-100 flex items-center justify-center border border-dashed border-purple-500",children:t.jsxs("label",{htmlFor:"dropzone-file-1",className:"h-full w-full rounded-lg text-purple-500 flex flex-col items-center justify-center cursor-pointer",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),t.jsx("span",{className:"text-xs mt-1",children:"Primary Photo"}),t.jsx("span",{className:"text-xs text-red-500 mt-1",children:"(Required)"}),t.jsx("input",{id:"dropzone-file-1",type:"file",className:"hidden",accept:"image/*",onChange:Mt=>{var Ct;const Ut=(Ct=Mt.target.files)==null?void 0:Ct[0];if(Ut){const ht=new FileReader;ht.onloadend=()=>{qe(ht.result)},ht.readAsDataURL(Ut)}},...Qe})]})})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:vt.control,name:"photoUrl2",render:({field:{value:Ce,onChange:qe,...Qe}})=>t.jsxs(ha,{className:"col-span-1",children:[t.jsx(ja,{children:Ce?t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-gray-300",children:[t.jsx("img",{src:Ce,alt:"Additional photo",className:"w-full h-full object-cover",onError:Mt=>{Mt.target.src="https://via.placeholder.com/150?text=Profile"}}),t.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1",children:[t.jsxs("label",{htmlFor:"change-secondary-photo",className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full cursor-pointer shadow-sm transition-all",title:"Change photo",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),t.jsx("input",{id:"change-secondary-photo",type:"file",className:"hidden",accept:"image/*",onChange:Mt=>{var Ct;const Ut=(Ct=Mt.target.files)==null?void 0:Ct[0];if(Ut){const ht=new FileReader;ht.onloadend=()=>{qe(ht.result)},ht.readAsDataURL(Ut)}}})]}),t.jsx("button",{type:"button",onClick:()=>qe(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Remove photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),t.jsx("button",{type:"button",onClick:()=>{const Mt=vt.getValues().photoUrl;vt.setValue("photoUrl",Ce),qe(Mt)},className:"bg-purple-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Make primary photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]})]}):t.jsx("div",{className:"aspect-square rounded-lg bg-gray-100 flex items-center justify-center border border-dashed border-purple-200",children:t.jsxs("label",{htmlFor:"dropzone-file-2",className:"h-full w-full rounded-lg text-purple-500 flex flex-col items-center justify-center cursor-pointer",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M12 5v14M5 12h14"})}),t.jsx("span",{className:"text-xs mt-1",children:"Add Photo"}),t.jsx("input",{id:"dropzone-file-2",type:"file",className:"hidden",accept:"image/*",onChange:Mt=>{var Ct;const Ut=(Ct=Mt.target.files)==null?void 0:Ct[0];if(Ut){const ht=new FileReader;ht.onloadend=()=>{qe(ht.result)},ht.readAsDataURL(Ut)}},...Qe})]})})}),t.jsx(Os,{})]})})]}),t.jsx("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-purple-800 font-medium",children:"Photo Tips"}),t.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Use the icons on your photos to change, remove, or set as primary. You can manage your photos anytime in your profile settings after signup."})]})]})})]}),t.jsxs("div",{className:"flex gap-4 mt-3",children:[t.jsxs(de,{type:"button",onClick:()=>C(2),className:"flex-1 bg-gray-100 text-gray-600 hover:bg-gray-200 font-semibold py-4",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsx(de,{type:"submit",className:"flex-1 text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:je,children:je?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Profile..."]}):t.jsxs(t.Fragment,{children:[Ge("auth.continue"),t.jsx(Ol,{className:"ml-2 h-4 w-4"})]})})]})]})}),P===4&&t.jsx(ji,{...Ft,children:t.jsxs("form",{onSubmit:Ft.handleSubmit(Nt),className:"space-y-3",children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("h3",{className:"auth-label flex items-center mb-1",children:[t.jsx(gn,{className:"h-4 w-4 mr-2 text-blue-500"}),"ID Verification (Optional)"]}),t.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Verify your identity to earn a verification badge on your profile. This step is optional but helps build trust with other users."})]}),t.jsx(wa,{control:Ft.control,name:"idVerificationPhoto",render:({field:{onChange:Ce,value:qe,...Qe}})=>t.jsxs(ha,{children:[t.jsx(Da,{className:"text-sm font-medium text-gray-700",children:"Government ID Photo"}),t.jsx(ja,{children:t.jsx("div",{className:"grid grid-cols-1 gap-4",children:qe?t.jsxs("div",{className:"relative aspect-[3/2] rounded-lg overflow-hidden border-2 border-blue-500",children:[t.jsx("img",{src:qe,alt:"Government ID",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>Ce(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Remove photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}):t.jsx("div",{className:"aspect-[3/2] rounded-lg bg-gray-100 flex items-center justify-center border border-dashed border-blue-500",children:t.jsxs("label",{htmlFor:"dropzone-id-photo",className:"h-full w-full rounded-lg text-blue-500 flex flex-col items-center justify-center cursor-pointer",children:[t.jsx(NG,{className:"h-8 w-8 mb-2"}),t.jsx("span",{className:"text-sm font-medium",children:"Upload Government ID"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"(Driver's License, Passport, etc.)"}),t.jsx("input",{id:"dropzone-id-photo",type:"file",className:"hidden",accept:"image/*",onChange:Mt=>{var Ct;const Ut=(Ct=Mt.target.files)==null?void 0:Ct[0];if(Ut){const ht=new FileReader;ht.onloadend=()=>{Ce(ht.result)},ht.readAsDataURL(Ut)}},...Qe})]})})})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:Ft.control,name:"liveVerificationPhoto",render:({field:{onChange:Ce,value:qe,...Qe}})=>t.jsxs(ha,{children:[t.jsx(Da,{className:"text-sm font-medium text-gray-700",children:"Live Verification Photo"}),t.jsx(ja,{children:t.jsx("div",{className:"grid grid-cols-1 gap-4",children:qe?t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-blue-500",children:[t.jsx("img",{src:qe,alt:"Live verification",className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>Ce(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:"Remove photo",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}):t.jsx("div",{className:"aspect-square rounded-lg bg-gray-100 flex items-center justify-center border border-dashed border-blue-500",children:t.jsxs("button",{type:"button",onClick:()=>Ze(!0),className:"h-full w-full rounded-lg text-blue-500 flex flex-col items-center justify-center cursor-pointer hover:bg-blue-50 transition-colors",children:[t.jsx(Ln,{className:"h-8 w-8 mb-2"}),t.jsx("span",{className:"text-sm font-medium",children:"Take Live Photo"}),t.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"(Selfie for verification)"})]})})})}),t.jsx(Os,{})]})}),t.jsxs("div",{className:"flex gap-2 mt-6",children:[t.jsxs(de,{type:"button",variant:"outline",onClick:()=>C(3),className:"flex-1 py-4",children:[t.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back"]}),t.jsx(de,{type:"submit",className:"flex-1 text-white font-semibold py-4",style:{background:"linear-gradient(to right, #7e22ce, #fb923c)"},disabled:je,children:je?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a("common.processing")]}):t.jsxs(t.Fragment,{children:[Ft.getValues().idVerificationPhoto&&Ft.getValues().liveVerificationPhoto?"Continue":"Skip for Later",t.jsx(Ol,{className:"ml-2 h-4 w-4"})]})})]})]})}),P===5&&t.jsx(E.div,{className:"auth-content profile-step-container",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:t.jsx("div",{className:"profile-step-container",children:t.jsx(Nse,{onBack:()=>C(3),onComplete:st,isLoading:je})})})]})})]}),t.jsx(t6,{open:pe,onOpenChange:ye}),t.jsx(r6,{open:$e,onOpenChange:Le}),Oe&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:t.jsx(l6,{onCapture:Ce=>{const qe=new FileReader;qe.onloadend=()=>{const Qe=qe.result;Ft.setValue("liveVerificationPhoto",Qe),Ze(!1)},qe.readAsDataURL(Ce)},onCancel:()=>Ze(!1)})})]})}const Sx=e=>{if(!e)return 0;try{return new Date(e).getTime()}catch{return 0}},Gse=(e,r)=>e&&r?Sx(r)-Sx(e):e?-1:r?1:0,Vse=(e,r)=>{const n=Gse(e.lastMessageTime,r.lastMessageTime);if(n!==0)return n;const a=e.createdAt instanceof Date?e.createdAt.toISOString():typeof e.createdAt=="string"?e.createdAt:"",s=r.createdAt instanceof Date?r.createdAt.toISOString():typeof r.createdAt=="string"?r.createdAt:"";return Sx(s)-Sx(a)},qs=u.forwardRef(({className:e,imageUrl:r,fallbackInitials:n,size:a="md",allowRotate:s=!1,...i},o)=>{const l={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-14 w-14 text-base",xl:"h-36 w-36 text-2xl"};return t.jsx("div",{ref:o,className:We("relative flex shrink-0 overflow-hidden rounded-full",l[a],e),...i,children:r?t.jsx("img",{src:r,alt:"User picture",className:"aspect-square h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-r from-violet-500 to-fuchsia-600 text-white",children:n||t.jsx(Po,{className:We({"h-4 w-4":a==="sm","h-5 w-5":a==="md","h-7 w-7":a==="lg","h-16 w-16":a==="xl"})})})})});qs.displayName="UserPicture";function Sm({user:e,children:r}){const[n,a]=u.useState(!1),{translate:s}=tn(),[,i]=lr(),{data:o}=dt({queryKey:["/api/user"]}),{data:l}=dt({queryKey:[`/api/matches/between/${e.id}`],enabled:!!e.id&&n,refetchInterval:2e3}),{data:c}=dt({queryKey:[`/api/suite/networking-profile/${e.id}`],enabled:!!e.id&&n}),{data:d}=dt({queryKey:[`/api/suite/mentorship-profile/${e.id}`],enabled:!!e.id&&n}),{data:m}=dt({queryKey:[`/api/suite/job-profile/${e.id}`],enabled:!!e.id&&n}),h=g=>{if(!g)return null;try{return typeof g=="string"?JSON.parse(g):g}catch(v){return console.error("Failed to parse match metadata:",v),null}},f=(()=>{if(!l||l.length===0)return[];const g=new Set,v=[];return l.forEach(y=>{const b=h(y.metadata);b&&b.origin&&(b.origin==="MEET"?(g.add("MEET"),b.additionalConnections&&Array.isArray(b.additionalConnections)&&b.additionalConnections.forEach(w=>{w!=="MEET"&&g.add(w)})):b.origin==="SUITE"&&b.suiteType&&(g.add(b.suiteType),b.additionalConnections&&Array.isArray(b.additionalConnections)&&b.additionalConnections.forEach(w=>{g.add(w)})))}),Array.from(g).forEach(y=>{y==="MEET"?v.push({type:"MEET",label:"Dating",color:"from-pink-500 to-purple-600",icon:t.jsx(Yt,{className:"h-3 w-3"}),dashboardUrl:`/match-dashboard/users/${(o==null?void 0:o.id)||e.id}/${e.id}`}):y==="networking"?v.push({type:"networking",label:"Networking",color:"from-emerald-500 to-green-600",icon:t.jsx(Jt,{className:"h-3 w-3"}),dashboardUrl:c!=null&&c.id?`/suite/compatibility/${c.id}`:"/suite/network"}):y==="mentorship"?v.push({type:"mentorship",label:"Mentorship",color:"from-amber-500 to-orange-600",icon:t.jsx(Qr,{className:"h-3 w-3"}),dashboardUrl:d!=null&&d.id?`/suite/mentorship/compatibility/${d.id}`:"/suite/mentorship"}):y==="jobs"&&v.push({type:"jobs",label:"Jobs",color:"from-indigo-500 to-blue-600",icon:t.jsx(zr,{className:"h-3 w-3"}),dashboardUrl:m!=null&&m.id?`/suite/jobs/compatibility/${m.id}`:"/suite/jobs"})}),v})(),x=()=>{var v;const g=e.compatibility||(e.id?e.id%20+75:83);return console.log("ProfilePreview Debug:",{userCompatibility:e.compatibility,displayCompatibility:g,userId:e.id,connectionBadgesLength:f.length,shouldShowPercentageBadge:!0}),t.jsx("div",{className:"h-full w-full bg-white dark:bg-gray-900 rounded-xl overflow-hidden",children:t.jsx("div",{className:"relative h-full flex flex-col",children:t.jsxs("div",{className:"relative h-full w-full overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.showAsAvatar&&e.avatarUrl?t.jsx("img",{src:e.avatarUrl,alt:e.fullName,className:"w-full h-full object-cover"}):e.photoUrl&&bu(e,e.hasActivatedProfile||!1)?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30",children:t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx("span",{className:"text-5xl font-bold text-purple-300 dark:text-purple-500 mb-2",children:((v=e.fullName)==null?void 0:v.charAt(0))||"?"}),t.jsx("span",{className:"text-sm text-purple-600 dark:text-purple-400",children:s("app.noPhotoAvailable")})]})}),t.jsx("div",{className:"absolute top-4 right-4 z-[9999] flex flex-col gap-2 items-end",children:f.map((y,b)=>{const w=e.id?(e.id+b*7)%20+75:83+b*3;return t.jsx("button",{onClick:()=>{console.log(`${y.label} percentage badge clicked!`,{connectionCompatibility:w,badge:y,networkingProfile:c,mentorshipProfile:d,jobsProfile:m}),a(!1),y.type==="networking"?i(c!=null&&c.id?`/suite/compatibility/${c.id}`:"/suite/network"):y.type==="mentorship"?i(d!=null&&d.id?`/suite/mentorship/compatibility/${d.id}`:"/suite/mentorship"):y.type==="jobs"?i(m!=null&&m.id?`/suite/jobs/compatibility/${m.id}`:"/suite/jobs"):i(y.dashboardUrl)},className:"relative rounded-xl px-3 py-2 border-2 border-white transform hover:scale-110 transition-all duration-200",style:{background:y.type==="networking"?"linear-gradient(145deg, rgba(16, 185, 129, 0.95), rgba(5, 150, 105, 0.95))":y.type==="mentorship"?"linear-gradient(145deg, rgba(245, 158, 11, 0.95), rgba(217, 119, 6, 0.95))":y.type==="jobs"?"linear-gradient(145deg, rgba(99, 102, 241, 0.95), rgba(79, 70, 229, 0.95))":y.type==="MEET"?"linear-gradient(145deg, rgba(236, 72, 153, 0.95), rgba(190, 24, 93, 0.95))":"linear-gradient(145deg, rgba(139, 92, 246, 0.95), rgba(124, 58, 237, 0.95))",boxShadow:`
                        0 8px 32px rgba(0,0,0,0.25),
                        0 4px 16px rgba(0,0,0,0.15),
                        inset 0 2px 0 rgba(255,255,255,0.3),
                        inset 0 -2px 0 rgba(0,0,0,0.1)
                      `,zIndex:9999},title:`View ${y.label} compatibility analysis`,children:t.jsx("div",{className:`w-[3.2rem] h-[3.2rem] rounded-full bg-white flex items-center justify-center 
                      transform transition-transform duration-300`,style:{boxShadow:`
                          0 6px 20px rgba(0,0,0,0.3),
                          0 2px 8px rgba(0,0,0,0.15),
                          inset 0 3px 6px rgba(255,255,255,0.8),
                          inset 0 -3px 6px rgba(0,0,0,0.1),
                          inset 0 1px 0 rgba(255,255,255,0.9)
                        `},children:t.jsx("div",{className:"relative flex items-center justify-center",children:t.jsxs("span",{className:"text-lg font-black text-transparent bg-clip-text drop-shadow-md",style:{backgroundImage:y.type==="networking"?"linear-gradient(to bottom, #059669, #10b981)":y.type==="mentorship"?"linear-gradient(to bottom, #d97706, #f59e0b)":y.type==="jobs"?"linear-gradient(to bottom, #4f46e5, #6366f1)":y.type==="MEET"?"linear-gradient(to bottom, #be185d, #ec4899)":"linear-gradient(to bottom, #7c3aed, #8b5cf6)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[w,"%"]})})})},`percentage-${y.type}`)})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:e.fullName}),e.age&&!e.hideAge&&t.jsxs("p",{className:"text-sm text-white/90",children:[e.age," years"]}),e.location&&t.jsx("p",{className:"text-sm text-white/80",children:e.location})]})]})})})};return t.jsxs(Or,{open:n,onOpenChange:a,children:[t.jsx(Lu,{asChild:!0,children:r}),t.jsx(Dr,{className:"sm:max-w-md p-0 border-none bg-transparent shadow-none",children:t.jsx("div",{className:"relative w-full h-[80vh] max-h-[600px] overflow-hidden rounded-xl shadow-2xl",children:t.jsx("div",{className:"h-full w-full",children:t.jsx(x,{})})})})]})}function zse(e){return e.startsWith("_!_IMAGE_!_")?" Photo":e.startsWith("_!_VIDEO_!_")?" Video":e.startsWith("Audio message")?" Audio message":e}function cP(){const{user:e}=Sr(),[,r]=lr(),[n,a]=u.useState(""),{translate:s}=tn();Wr();const i=u.useRef(null),{isDarkMode:o}=Za();u.useState(!1),u.useState(!1),u.useState(!0);const[l,c]=u.useState([]),[d,m]=u.useState({}),h={initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],transition:{duration:15,ease:"linear",repeat:1/0}}},{data:p,isLoading:f,isError:x,refetch:g}=dt({queryKey:["/api/matches"],refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:5e3});u.useEffect(()=>{if(!p||p.length===0)return;const N=()=>{const C={};p.forEach(I=>{try{const _=`${localStorage.getItem("app_mode")||"MEET"}_chat_read_receipts_${I.id}`,k=localStorage.getItem(_);C[I.id]=k!=="false"}catch(T){console.error(`Error loading read receipts setting for match ${I.id}:`,T),C[I.id]=!0}}),m(C)};N();const P=C=>{C.key&&C.key.includes("chat_read_receipts_")&&N()};return window.addEventListener("storage",P),()=>{window.removeEventListener("storage",P)}},[p]),u.useEffect(()=>{if(!e||!p||p.length===0){c([]);return}let N=!1;return(async()=>{console.log(" Enriching matches with user profiles:",p.length),console.log(" Raw matches data before enrichment:",p.map(I=>({id:I.id,userId1:I.userId1,userId2:I.userId2,matched:I.matched,matchType:I.matchType,hasLastMessage:!!I.lastMessage,hasLastMessageTime:!!I.lastMessageTime})));const C=await Promise.all(p.map(async I=>{const T=I.userId1===e.id?I.userId2:I.userId1;if(console.log(` Enriching match ${I.id}: current user=${e.id}, other user=${T}`),I.user&&I.user.fullName&&I.user.id===T)return console.log(` Match ${I.id} already has user data for ${I.user.fullName}`),I;try{const _=await fetch(`/api/profile/${T}`);if(!_.ok)throw new Error(`Failed to fetch profile for user ${T}: ${_.status}`);const k=await _.json();return console.log(` Successfully fetched profile for user ${T}: ${k.fullName}`),{...I,user:{...k,id:T,fullName:k.fullName||""}}}catch(_){return console.error(`Error fetching profile for user ${T}:`,_),{...I,user:{id:T,fullName:"",photoUrl:void 0}}}}));N||(console.log(" Enriched matches data:",C.length),console.log(" Enriched matches details:",C.map(I=>({id:I.id,matched:I.matched,matchType:I.matchType,user:I.user?{id:I.user.id,fullName:I.user.fullName}:"Missing User",hasLastMessage:!!I.lastMessage,hasLastMessageTime:!!I.lastMessageTime}))),c(C))})(),()=>{N=!0}},[p,e]),u.useEffect(()=>{if(!l||l.length===0||!(e!=null&&e.id))return;const N=async()=>{const C=[...l];let I=!1;for(const T of C)try{const _=["/api/messages",T.id];let k=me.getQueryData(_),A=[];if(k&&(Array.isArray(k)?A=k:(k.messages&&Array.isArray(k.messages)||k.matchId===T.id&&k.messages)&&(A=k.messages)),A&&A.length>0){const V=[...A].sort((J,M)=>new Date(M.createdAt).getTime()-new Date(J.createdAt).getTime())[0];if(V){const J=V.senderId===e.id,M=T.lastMessageSentByMe;if(T.lastMessageSentByMe=J,M!==J&&(I=!0),!T.lastMessage&&V.content&&(T.lastMessage=V.content,T.lastMessageTime=V.createdAt,I=!0),J){const R=V.sending?"sending":V.error?"error":V.read?"read":"delivered";T.messageStatus=R,I=!0}}}}catch(_){console.error(`Error processing message status for match ${T.id}:`,_)}I&&(console.log(" Updated match message statuses:",C.map(T=>({id:T.id,lastMessageSentByMe:T.lastMessageSentByMe,messageStatus:T.messageStatus}))),c(C))};N();const P=setInterval(()=>{N()},5e3);return()=>{clearInterval(P)}},[l,e==null?void 0:e.id,me]),u.useEffect(()=>{const N=e==null?void 0:e.id,P=A=>{if(!(A instanceof CustomEvent))return;const{matchId:F,status:V,messageIds:J}=A.detail;console.log(` message:status:updated event received for match ${F}, status: ${V}, messageIds:`,J),c(M=>{const R=[...M],B=R.findIndex(O=>O.id===F);if(B!==-1){const O=R[B];if(V==="read"&&O.lastMessageSentByMe){const X="read";O.messageStatus=X,console.log(` Updated message status for match ${F} to read (global handler fixed)`)}}return R})},C=A=>{if(!(A instanceof CustomEvent))return;const{message:F}=A.detail;!F||!F.matchId||(console.log(` [MEET] New message received for match ${F.matchId} in chat list: `,F),c(V=>{const J=[...V],M=J.findIndex(R=>R.id===F.matchId);if(M!==-1){const R=J[M];R.lastMessage=F.content,R.lastMessageTime=F.createdAt||new Date().toISOString();const B=F.senderId===N;if(R.lastMessageSentByMe=B,!B)R.unreadCount=(R.unreadCount||0)+1;else{const O="delivered";R.messageStatus=O}console.log(` [MEET] Updated match ${R.id} with new message info instantly`)}return J}),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"none"}))},I=A=>{if(!(A instanceof CustomEvent))return;const{matchId:F,newLastMessage:V}=A.detail;F&&(console.log(` LastMessage update received for match ${F}:`,V),c(J=>{const M=[...J],R=M.findIndex(B=>B.id===F);if(R!==-1){const B=M[R];B.lastMessage=V?V.content:null,B.lastMessageTime=V?V.createdAt:null,console.log(` Updated match ${B.id} lastMessage to: ${B.lastMessage}`)}return M}))};window.addEventListener("message:status:updated",P),window.addEventListener("message:new",C),window.addEventListener("match:lastMessage:updated",I);const T=A=>{if(!(A instanceof CustomEvent))return;const{matchId:F,messageIds:V,timestamp:J}=A.detail;console.log(` Global message read event received for match ${F}, messageIds:`,V),me.invalidateQueries({queryKey:["/api/matches"]}),c(M=>{if(!M)return M;const R=[...M],B=R.find(O=>O.id===F);return B&&B.lastMessageSentByMe&&(B.messageStatus="read",console.log(` Global update: Set match ${F} message status to read`)),R})};window.addEventListener("message:read:global",T);const _=A=>{console.log(" [MEET] Matches refresh event received, forcing query invalidation"),me.invalidateQueries({queryKey:["/api/matches"]})};window.addEventListener("matches:refresh",_);const k=A=>{if(!(A instanceof CustomEvent))return;const{mode:F}=A.detail;F==="MEET"&&(console.log(" [MEET] Unread count increment event received"),me.invalidateQueries({queryKey:["/api/messages/unread/count","MEET"]}))};return window.addEventListener("unread-count:increment",k),()=>{window.removeEventListener("message:status:updated",P),window.removeEventListener("message:new",C),window.removeEventListener("match:lastMessage:updated",I),window.removeEventListener("message:read:global",T),window.removeEventListener("matches:refresh",_),window.removeEventListener("unread-count:increment",k)}},[e,me]),u.useEffect(()=>{if(!(e!=null&&e.id))return;console.log("Setting up match-specific read receipt handlers for",l.length,"matches");const N={};return l.forEach(P=>{if(!P.id)return;const C=`message:read:${P.id}`,I=T=>{if(!(T instanceof CustomEvent))return;const{messageIds:_,userId:k}=T.detail;console.log(` Direct read receipt received for match ${P.id}, messageIds:`,_),c(A=>{const F=[...A],V=F.find(J=>J.id===P.id);if(V&&V.lastMessageSentByMe){const J="read";V.messageStatus=J,console.log(` Directly updated message status for match ${P.id} to read (fixed)`)}return F})};N[C]=I,window.addEventListener(C,I)}),()=>{Object.entries(N).forEach(([P,C])=>{window.removeEventListener(P,C)})}},[l,e==null?void 0:e.id]),u.useEffect(()=>{const N=k=>{console.log(" match:created event detected, forcing immediate data refresh");let A;k instanceof CustomEvent&&k.detail&&(A=k.detail.matchId,console.log(` match:created event contains matchId: ${A}`)),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}),g().then(()=>{if(console.log(" Match data successfully refreshed after match:created event"),A!==void 0&&p){const F=p.find(V=>V.id===A);if(F)try{sessionStorage.setItem(`match_data_${A}`,JSON.stringify(F)),console.log(` Stored match data for ${A} in sessionStorage`)}catch(V){console.error(`Failed to store match data: ${V}`)}}})},P=()=>{console.log(" matches:refresh event detected, forcing immediate refetch"),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}),g().then(()=>{console.log(" Match data successfully refreshed")}).catch(k=>{console.error(" Error refreshing match data:",k)})},C=()=>{try{let k=sessionStorage.getItem("newly_created_match");if(k||(k=localStorage.getItem("newly_created_match")),k){console.log(` Found newly created match ${k}, refetching`),g();try{sessionStorage.removeItem("newly_created_match")}catch{}try{localStorage.removeItem("newly_created_match")}catch{}}}catch(k){console.error("Error checking for new match:",k)}},I=setInterval(()=>{console.log(" Performing periodic match check"),C(),g()},1e4);window.addEventListener("match:created",N),window.addEventListener("matches:refresh",P);const T=k=>{if(k instanceof CustomEvent&&k.detail){if(console.log(" match:new event detected, forcing immediate data refresh",k.detail),k.detail.matchId)try{sessionStorage.setItem("newly_created_match",k.detail.matchId.toString()),console.log(` Stored match ID ${k.detail.matchId} in sessionStorage from match:new event`)}catch(A){console.error(`Failed to store match ID: ${A}`)}g()}},_=k=>{if(k instanceof CustomEvent&&k.detail){const{matchId:A,unmatchedBy:F,timestamp:V}=k.detail;console.log(` Unmatch notification received for match ${A}, unmatchedBy: ${F}, at ${V}`),c(R=>R.filter(B=>B.id!==A)),me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/matches/counts"]});const J=window.location.pathname;new RegExp(`^/chat/${A}$`).test(J)&&(console.log(" User is currently viewing the unmatched chat. Redirecting to messages page."),r("/messages")),console.log("[UNMATCH-PERFORMANCE] Messages page unmatch handled silently")}};return window.addEventListener("match:new",T),window.addEventListener("match:unmatch",_),C(),g(),()=>{window.removeEventListener("match:created",N),window.removeEventListener("matches:refresh",P),window.removeEventListener("match:new",T),window.removeEventListener("match:unmatch",_),clearInterval(I)}},[g,p,me]);const v=(l||[]).filter(N=>{var C;console.log(`[MESSAGES-NEW-FILTER] Match ID: ${N.id}, matchType: ${N.matchType}, matched: ${N.matched}, user: ${(C=N.user)==null?void 0:C.fullName}`);const P=N.matchType==="confirmed"||N.matched===!0;return console.log(`[MESSAGES-NEW-FILTER] isConfirmed: ${P}`),P});v.sort(Vse);const y=v.slice(0,5)||[],b=v.filter(N=>N.user?N.user.fullName.toLowerCase().includes(n.toLowerCase()):!1)||[],w=N=>{r(`/chat/${N}`)},S=()=>{a("")};return f?t.jsxs("div",{className:"h-[calc(100vh-132px)] flex items-center justify-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:"h-10 w-10 animate-spin text-purple-500"}),t.jsx(Yt,{className:"h-5 w-5 text-purple-500 absolute top-2.5 left-2.5",fill:"white"})]}),t.jsx("p",{className:"text-sm ml-3 text-gray-600 dark:text-gray-400",children:"Loading your conversations..."})]}):(p&&p.length>0&&v.length===0&&console.log(" DEBUG: Matches exist but no confirmed matches:",{totalCount:p.length,matchData:p.map(N=>({id:N.id,matched:N.matched,matchType:N.matchType}))}),x?t.jsx("div",{className:"h-[calc(100vh-132px)] flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-500 font-medium mb-2",children:s("errors.loadingMessages")}),t.jsx("p",{className:"text-gray-500 text-sm",children:s("errors.tryAgainLater")}),t.jsx("button",{onClick:()=>g(),className:"mt-4 px-4 py-2 bg-purple-500 text-white rounded-md text-sm",children:"Try Again"})]})}):t.jsxs("div",{className:`h-[calc(100vh-132px)] flex flex-col ${o?"bg-gray-900":"bg-gray-50"}`,children:[t.jsx(E.div,{className:`${o?"bg-black/40 backdrop-blur-xl":"bg-white/80 backdrop-blur-md"} border-b shadow-lg`,style:{borderImage:o?"linear-gradient(to right, rgba(126, 34, 206, 0.3), rgba(236, 72, 153, 0.3)) 1":"linear-gradient(to right, rgba(126, 34, 206, 0.15), rgba(236, 72, 153, 0.15)) 1"},children:t.jsxs(E.div,{className:"px-4 py-5 relative overflow-hidden",variants:h,initial:"initial",animate:"animate",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute w-20 h-20 rounded-full blur-3xl opacity-10 top-0 left-10",initial:{backgroundColor:"#9333ea"},animate:{backgroundColor:["#9333ea","#ec4899","#9333ea"],x:[0,10,0],y:[0,5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute w-16 h-16 rounded-full blur-3xl opacity-10 bottom-0 right-10",initial:{backgroundColor:"#ec4899"},animate:{backgroundColor:["#ec4899","#9333ea","#ec4899"],x:[0,-10,0],y:[0,-5,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1}})]}),t.jsxs("div",{className:"relative z-10",children:[v.length>0&&t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:"text",value:n,onChange:N=>a(N.target.value),placeholder:"Search conversations...",className:`pl-10 pr-10 py-2 h-11 rounded-full placeholder:text-gray-400 dark:placeholder:text-gray-500
                  ${o?"bg-gray-800/90 border-gray-700 text-white focus:border-purple-600":"bg-white/90 border-gray-200 text-gray-900 focus:border-purple-400"}`}),t.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),n&&t.jsx("button",{onClick:S,className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:t.jsx(mt,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mt-4",children:y.length>0&&t.jsxs("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:[t.jsxs("h3",{className:"text-xs font-medium mb-3 flex items-center",children:[t.jsx(xn,{className:"w-3.5 h-3.5 mr-1 text-purple-500"}),"New Connectionsssss"]}),t.jsx("div",{className:"flex space-x-3",children:y.map(N=>N.user?t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-5,transition:{duration:.2}},onClick:()=>w(N.id),className:"flex-shrink-0 w-12 flex flex-col items-center cursor-pointer",children:t.jsxs("div",{className:"relative",children:[t.jsx(Sm,{user:N.user,children:t.jsx("div",{className:`h-12 w-12 rounded-full border-2 overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-200 ease-in-out ${o?"border-purple-600":"border-purple-400"}`,children:t.jsx(qs,{imageUrl:N.user.photoUrl,fallbackInitials:N.user.fullName.charAt(0),className:"h-full w-full"})})}),N.user.isOnline&&t.jsx("span",{className:"absolute bottom-0.5 right-0.5 h-2.5 w-2.5 rounded-full bg-green-500 border-2 border-white dark:border-gray-900"})]})},N.id):null)})]})})]})]})}),t.jsx("div",{ref:i,className:`flex-1 overflow-y-auto ${o?"bg-gray-900":"bg-gray-50"} px-4 py-2`,children:t.jsx(Xt,{initial:!1,children:b.length===0?t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-col items-center justify-center h-full py-10 text-center relative overflow-hidden",children:[t.jsx(Ey,{count:48,color:o?"rgba(168, 85, 247, 0.5)":"rgba(168, 85, 247, 0.6)",opacityRange:[.1,.25],sizeRange:[16,28],speedRange:[25,45]}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-gray-800":"bg-purple-100"}`,children:t.jsx(hn,{className:`h-8 w-8 ${o?"text-purple-400":"text-purple-500"}`})}),t.jsx("p",{className:`text-xs font-medium ${o?"text-gray-400":"text-gray-500"}`,children:s(n?"messages.noConversationsMatching":"messages.noConversationsYet")}),p&&p.length>0&&t.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[p.length," potential matches found"]})]})]}):t.jsx("div",{className:"space-y-2 pb-2",children:b.map(N=>t.jsxs(E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},onClick:()=>w(N.id),className:`p-3 rounded-2xl flex items-center space-x-3 mb-2 cursor-pointer ${o?"hover:bg-gray-800 bg-gray-800/50":"hover:bg-white bg-white"} ${N.unreadCount?"shadow-md":"shadow-sm"} transition-all duration-200`,children:[t.jsx("div",{className:"relative",children:N.user&&t.jsx(Sm,{user:N.user,children:t.jsxs("div",{className:"relative cursor-pointer hover:scale-105 transition-transform duration-200 ease-in-out",children:[t.jsx(qs,{imageUrl:N.user.photoUrl,fallbackInitials:N.user.fullName.charAt(0),className:"h-12 w-12 rounded-full"}),N.user.isOnline&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 border-2 border-white dark:border-gray-900"})]})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("h3",{className:`font-medium text-sm truncate ${N.unreadCount?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-200"}`,children:N.user?N.user.fullName:""}),N.lastMessageTime&&t.jsx("span",{className:`text-xs ${N.unreadCount?"text-gray-800 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`,children:GN(new Date(N.lastMessageTime))})]}),t.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[t.jsxs("div",{className:"flex items-center space-x-1 flex-grow overflow-hidden",children:[t.jsx("div",{className:"overflow-hidden flex-grow",children:N.lastMessage?t.jsx("p",{className:`text-[11px] truncate max-w-full leading-tight ${N.unreadCount&&N.unreadCount>0?o?"text-white font-medium":"text-gray-800 font-medium":o?"text-gray-400":"text-gray-500"}`,children:zse(N.lastMessage)}):t.jsx("p",{className:`text-xs ${o?"text-purple-400":"text-purple-600"} font-light italic`,children:"Start a conversation"})}),N.lastMessage&&N.lastMessageSentByMe&&d[N.id]&&t.jsx("div",{className:"flex-shrink-0",children:N.messageStatus?N.messageStatus==="read"?t.jsx(um,{className:"h-3 w-3 text-purple-500"}):N.messageStatus==="delivered"?t.jsx(At,{className:"h-3 w-3 text-purple-500"}):t.jsx(Ja,{className:"h-3 w-3 text-purple-500"}):t.jsx(At,{className:"h-3 w-3 text-purple-500"})})]}),t.jsx("div",{className:"flex-shrink-0 ml-2",children:N.unreadCount&&N.unreadCount>0?t.jsx(St,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[10px] min-w-[20px] h-[20px] flex items-center justify-center rounded-full",children:N.unreadCount}):null})]})]})]},N.id))})})})]}))}function Wse(e){return e.startsWith("_!_IMAGE_!_")?" Photo":e.startsWith("_!_VIDEO_!_")?" Video":e.startsWith("Audio message")?" Audio message":e}function Hse(){const{user:e}=Sr();tn();const{isDarkMode:r}=Za(),{getUserPresence:n}=Bm(),[,a]=lr(),s=Ma(),{currentMode:i,setAppMode:o}=Ts();u.useEffect(()=>{i!=="HEAT"&&(console.log("[HEAT-MESSAGES] Setting app mode to HEAT, current mode:",i),o("HEAT"))},[i,o]);const{unreadCount:l,refetch:c}=S2();console.log("[HEAT-MESSAGES] Component rendered, mode:",i,"unread count:",l);const[d,m]=u.useState(""),[h,p]=u.useState([]),[f,x]=u.useState([]),[g,v]=u.useState({});u.useEffect(()=>{if(f&&f.length>0){const k={};f.forEach(A=>{k[A.id]=!0}),v(k)}},[f]);const{data:y,isLoading:b,isError:w,refetch:S}=dt({queryKey:["/api/matches"]});u.useEffect(()=>{if(!e||!y||y.length===0){p([]);return}(async()=>{const A=await Promise.all(y.map(async F=>{const V=F.userId1===e.id?F.userId2:F.userId1;if(console.log(` HEAT Enriching match ${F.id}: current user=${e.id}, other user=${V}, existing user data:`,F.user),F.user&&F.user.fullName&&F.user.id===V)return console.log(` HEAT Match ${F.id} already has correct user data for ${F.user.fullName}`),F;try{const J=await fetch(`/api/profile/${V}`);if(!J.ok)throw new Error("Failed to fetch profile");const M=await J.json();return{...F,user:{...M,id:V,isOnline:!!n(V)}}}catch{return{...F,user:{id:V,fullName:"Social User",photoUrl:void 0,isOnline:!1}}}}));p(A)})()},[y,e,n]);const N=async()=>{if(!e||!h||h.length===0)return;const k=[...h];let A=!1;for(const F of k)try{const V=["/api/messages",F.id];let J=s.getQueryData(V),M=[];if(J&&(Array.isArray(J)?M=J:(J.messages&&Array.isArray(J.messages)||J.matchId===F.id&&J.messages)&&(M=J.messages)),M&&M.length>0){const B=[...M].sort((O,X)=>new Date(X.createdAt).getTime()-new Date(O.createdAt).getTime())[0];if(B){const O=B.senderId===e.id,X=F.lastMessageSentByMe;if(F.lastMessageSentByMe=O,X!==O&&(A=!0),!F.lastMessage&&B.content&&(F.lastMessage=B.content,F.lastMessageTime=B.createdAt,A=!0),O){const ae=B.sending?"sending":B.error?"error":B.read?"read":"delivered";F.messageStatus=ae,A=!0}}}}catch(V){console.error(`Error processing message status for match ${F.id}:`,V)}A?(console.log(" [HEAT] Updated match message statuses:",k.map(F=>({id:F.id,lastMessageSentByMe:F.lastMessageSentByMe,messageStatus:F.messageStatus,lastMessage:F.lastMessage}))),x(k)):console.log(" [HEAT] Current match states (no updates):",k.map(F=>({id:F.id,lastMessageSentByMe:F.lastMessageSentByMe,messageStatus:F.messageStatus,lastMessage:F.lastMessage})))};u.useEffect(()=>{if(h&&h.length>0){const k=h.map(A=>({...A,matchType:A.matched?"confirmed":"pending"}));x(k),N()}else x([])},[h,e]),u.useEffect(()=>{if(!e)return;const k=R=>{const B=R,{matchId:O,status:X,lastMessageSentByMe:ae}=B.detail;x($=>$.map(re=>re.id===O?{...re,messageStatus:X,lastMessageSentByMe:ae}:re))},A=R=>{const B=R,{message:O}=B.detail;if(!O||!O.matchId)return;console.log(` [HEAT] New message received for match ${O.matchId}:`,O);const X=O.senderId===e.id;x(ae=>ae.map($=>$.id===O.matchId?{...$,lastMessage:O.content,lastMessageTime:O.createdAt,lastMessageSentByMe:X,unreadCount:X?$.unreadCount||0:($.unreadCount||0)+1,messageStatus:X?"delivered":$.messageStatus}:$)),s.invalidateQueries({queryKey:["/api/matches"],refetchType:"none"})},F=R=>{const B=R,{matchId:O,lastMessage:X,lastMessageTime:ae,unreadCount:$}=B.detail;x(re=>re.map(le=>le.id===O?{...le,lastMessage:X,lastMessageTime:ae,unreadCount:$||0}:le))},V=R=>{const B=R,{matchId:O}=B.detail;x(X=>X.map(ae=>ae.id===O?{...ae,unreadCount:0}:ae))};window.addEventListener("message:status:updated",k),window.addEventListener("message:new",A),window.addEventListener("match:lastMessage:updated",F),window.addEventListener("message:read:global",V);const J=R=>{console.log(" [HEAT] Matches refresh event received, forcing query invalidation"),s.invalidateQueries({queryKey:["/api/matches"]})};window.addEventListener("matches:refresh",J);const M=R=>{if(!(R instanceof CustomEvent))return;const{mode:B}=R.detail;B==="HEAT"&&(console.log(" [HEAT] Unread count increment event received"),s.invalidateQueries({queryKey:["/api/messages/unread/count","HEAT"]}))};return window.addEventListener("unread-count:increment",M),()=>{window.removeEventListener("message:status:updated",k),window.removeEventListener("message:new",A),window.removeEventListener("match:lastMessage:updated",F),window.removeEventListener("message:read:global",V),window.removeEventListener("matches:refresh",J),window.removeEventListener("unread-count:increment",M)}},[e,s]),u.useEffect(()=>{if(!f||f.length===0||!(e!=null&&e.id))return;const k=setInterval(()=>{N()},5e3);return()=>{clearInterval(k)}},[f,e==null?void 0:e.id,s]);const P=(f||[]).filter(k=>{var F;console.log(`[HEAT-MESSAGES-FILTER] Match ID: ${k.id}, matchType: ${k.matchType}, matched: ${k.matched}, user: ${(F=k.user)==null?void 0:F.fullName}`);const A=k.matchType==="confirmed"||k.matched===!0;return console.log(`[HEAT-MESSAGES-FILTER] isConfirmed: ${A}`),A}),C=(f||[]).filter(k=>!k.matched),I=(P||[]).filter(k=>{var A,F;return(F=(A=k.user)==null?void 0:A.fullName)==null?void 0:F.toLowerCase().includes(d.toLowerCase())}),T=k=>{a(`/chat/${k}`)},_=k=>!!n(k);return b?t.jsx("div",{className:`h-[calc(100vh-132px)] flex items-center justify-center ${r?"bg-gray-900":"bg-gray-50"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(sn,{className:"h-12 w-12 text-orange-600 animate-spin mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Loading Social Connections"}),t.jsx("p",{className:"text-gray-600",children:"Finding your network..."})]})}):w?t.jsx("div",{className:`h-[calc(100vh-132px)] flex items-center justify-center p-6 text-center ${r?"bg-gray-900":"bg-gray-50"}`,children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-2",children:"Error Loading Social Connections"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"There was a problem loading your social network. Please try again."}),t.jsx("button",{onClick:()=>S(),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-md text-sm",children:"Try Again"})]})}):t.jsxs("div",{className:`h-[calc(100vh-132px)] flex flex-col ${r?"bg-gray-900":"bg-gray-50"}`,children:[t.jsxs("div",{className:`${r?"bg-gradient-to-r from-orange-600 to-yellow-600":"bg-gradient-to-r from-orange-500 to-yellow-500"} px-4 py-6`,children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(Hs,{className:"h-6 w-6 text-white mr-2"}),t.jsx("h1",{className:"text-xl font-bold text-white",children:"Social Connections"})]}),P.length>0&&t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:"text",value:d,onChange:k=>m(k.target.value),placeholder:"Search social connections...",className:"pl-10 pr-10 py-2 h-11 rounded-full bg-white/20 border-none text-white placeholder:text-white/70"}),t.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/70"}),d&&t.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-white/70",children:t.jsx(mt,{className:"h-4 w-4"})})]}),C.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("h3",{className:"text-xs font-medium mb-3 flex items-center text-white/90",children:[t.jsx(Hs,{className:"w-3.5 h-3.5 mr-1"}),"New Social Connections"]}),t.jsx("div",{className:"flex space-x-3 overflow-x-auto",children:C.map(k=>k.user?t.jsx("div",{onClick:()=>T(k.id),className:"flex-shrink-0 cursor-pointer",children:t.jsx("div",{className:"h-12 w-12 rounded-full border-2 border-white/30 overflow-hidden",children:t.jsx(qs,{imageUrl:k.user.photoUrl,fallbackInitials:k.user.fullName.charAt(0),className:"h-full w-full"})})},k.id):null)})]})]}),t.jsx("div",{className:`flex-1 overflow-y-auto ${r?"bg-gray-900":"bg-gray-50"} px-4 py-2`,children:I.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-10 text-center",children:[t.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${r?"bg-gray-800":"bg-orange-100"}`,children:t.jsx(Hs,{className:`h-8 w-8 ${r?"text-orange-400":"text-orange-500"}`})}),t.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-500"}`,children:d?"No social connections matching your search":"No social conversations yet"}),!d&&t.jsx("button",{onClick:()=>a("/heat/explore"),className:"mt-4 px-4 py-2 bg-gradient-to-r from-orange-500 to-yellow-500 text-white rounded-full text-sm font-medium hover:from-orange-600 hover:to-yellow-600 transition-colors",children:"Start a conversation"})]}):t.jsx("div",{className:"space-y-2",children:I.map(k=>{var A,F,V,J,M;return t.jsxs("div",{onClick:()=>T(k.id),className:`p-3 rounded-lg flex items-center space-x-3 cursor-pointer ${r?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50"} shadow-sm transition-colors`,children:[t.jsxs("div",{className:"relative",children:[t.jsx(qs,{imageUrl:(A=k.user)==null?void 0:A.photoUrl,fallbackInitials:((V=(F=k.user)==null?void 0:F.fullName)==null?void 0:V.charAt(0))||"?",className:"h-12 w-12 rounded-full"}),_((J=k.user)==null?void 0:J.id)&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h3",{className:`font-medium text-sm truncate ${r?"text-white":"text-gray-900"}`,children:((M=k.user)==null?void 0:M.fullName)||"Social User"}),k.lastMessageTime&&t.jsx("span",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:GN(new Date(k.lastMessageTime))})]}),t.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[t.jsx("div",{className:"flex items-center space-x-1 flex-grow overflow-hidden",children:t.jsx("div",{className:"overflow-hidden flex-grow",children:t.jsx("p",{className:`text-[11px] truncate max-w-full leading-tight ${k.unreadCount&&k.unreadCount>0?r?"text-white font-medium":"text-gray-800 font-medium":r?"text-gray-400":"text-gray-500"}`,children:Wse(k.lastMessage||"Start a conversation")})})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[k.lastMessage&&k.lastMessageSentByMe&&t.jsx("div",{className:"flex-shrink-0",children:k.messageStatus?k.messageStatus==="read"?t.jsx(um,{className:"h-3 w-3 text-blue-500"}):k.messageStatus==="delivered"?t.jsx(um,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="sent"?t.jsx(At,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="sending"?t.jsx(Ja,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="error"?t.jsx(mt,{className:"h-3 w-3 text-red-500"}):t.jsx(At,{className:"h-3 w-3 text-gray-400"}):t.jsx(At,{className:"h-3 w-3 text-blue-500"})}),t.jsx("div",{className:"flex-shrink-0",children:k.unreadCount&&k.unreadCount>0?t.jsx(St,{className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-[10px] min-w-[20px] h-[20px] flex items-center justify-center rounded-full",children:k.unreadCount}):null})]})]})]})]},k.id)})})})]})}function Kse(e){return e.startsWith("_!_IMAGE_!_")?" Photo":e.startsWith("_!_VIDEO_!_")?" Video":e.startsWith("Audio message")?" Audio message":e}function qse(){const{user:e}=Sr(),{translate:r}=tn(),{isDarkMode:n}=Za();Wr();const{getUserPresence:a}=Bm(),[,s]=lr(),i=Ma(),o=u.useRef(null),[l,c]=u.useState("");u.useState(!1),u.useState(!1),u.useState(!0);const[d,m]=u.useState([]),[h,p]=u.useState({}),f={initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],transition:{duration:15,ease:"linear",repeat:1/0}}},{data:x,isLoading:g,isError:v,refetch:y}=dt({queryKey:["/api/matches"],refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:5e3});u.useEffect(()=>{if(!x||x.length===0)return;const k=()=>{const F={};x.forEach(V=>{try{const M=`${localStorage.getItem("app_mode")||"SUITE"}_chat_read_receipts_${V.id}`,R=localStorage.getItem(M);F[V.id]=R!=="false"}catch(J){console.error(`Error loading read receipts setting for match ${V.id}:`,J),F[V.id]=!0}}),p(F)};k();const A=F=>{F.key&&F.key.includes("chat_read_receipts_")&&k()};return window.addEventListener("storage",A),()=>{window.removeEventListener("storage",A)}},[x]),u.useEffect(()=>{if(!e||!x||x.length===0){m([]);return}let k=!1;return(async()=>{console.log(" Enriching SUITE matches with user profiles:",x.length),console.log(" Raw SUITE matches data before enrichment:",x.map(V=>({id:V.id,userId1:V.userId1,userId2:V.userId2,matched:V.matched,matchType:V.matchType,hasLastMessage:!!V.lastMessage,hasLastMessageTime:!!V.lastMessageTime})));const F=await Promise.all(x.map(async V=>{const J=V.userId1===e.id?V.userId2:V.userId1;if(console.log(` Enriching SUITE match ${V.id}: current user=${e.id}, other user=${J}`),V.user&&V.user.fullName&&V.user.id===J)return console.log(` SUITE Match ${V.id} already has user data for ${V.user.fullName}`),V;try{const M=await fetch(`/api/profile/${J}`);if(!M.ok)throw new Error(`Failed to fetch profile for user ${J}: ${M.status}`);const R=await M.json();return console.log(` Successfully fetched SUITE profile for user ${J}: ${R.fullName}`),{...V,user:{...R,id:J,isOnline:!!a(J)}}}catch(M){return console.error(` Failed to fetch profile for user ${J}:`,M),{...V,user:{id:J,fullName:"Professional",photoUrl:void 0,isOnline:!1}}}}));k||(console.log(" Setting enriched SUITE matches:",F.length),m(F))})(),()=>{k=!0}},[x,e,a]);const b=async()=>{if(!e||!d||d.length===0)return;const k=[...d];let A=!1;for(const F of k)try{const V=["/api/messages",F.id];let J=i.getQueryData(V),M=[];if(J&&(Array.isArray(J)?M=J:(J.messages&&Array.isArray(J.messages)||J.matchId===F.id&&J.messages)&&(M=J.messages)),M&&M.length>0){const B=[...M].sort((O,X)=>new Date(X.createdAt).getTime()-new Date(O.createdAt).getTime())[0];if(B){const O=B.senderId===e.id,X=F.lastMessageSentByMe;if(F.lastMessageSentByMe=O,X!==O&&(A=!0),!F.lastMessage&&B.content&&(F.lastMessage=B.content,F.lastMessageTime=B.createdAt,A=!0),O){const ae=B.sending?"sending":B.error?"error":B.read?"read":"delivered";F.messageStatus=ae,A=!0}}}}catch(V){console.error(`Error processing message status for match ${F.id}:`,V)}A&&(console.log(" [SUITE] Updated match message statuses:",k.map(F=>({id:F.id,lastMessageSentByMe:F.lastMessageSentByMe,messageStatus:F.messageStatus}))),S(k))},[w,S]=u.useState([]);u.useEffect(()=>{if(d&&d.length>0){const k=d.map(A=>({...A,matchType:A.matched?"confirmed":"pending"}));S(k),b()}else S([])},[d,e]),u.useEffect(()=>{if(!w||w.length===0||!(e!=null&&e.id))return;const k=setInterval(()=>{b()},5e3);return()=>{clearInterval(k)}},[w,e==null?void 0:e.id,i]);const N=(w||[]).filter(k=>{var F;console.log(`[SUITE-MESSAGES-FILTER] Match ID: ${k.id}, matchType: ${k.matchType}, matched: ${k.matched}, user: ${(F=k.user)==null?void 0:F.fullName}`);const A=k.matchType==="confirmed"||k.matched===!0;return console.log(`[SUITE-MESSAGES-FILTER] isConfirmed: ${A}`),A}),P=(w||[]).filter(k=>!k.matched),C=(N||[]).filter(k=>{var A,F,V,J;return((F=(A=k.user)==null?void 0:A.fullName)==null?void 0:F.toLowerCase().includes(l.toLowerCase()))||((V=k.user)==null?void 0:V.profession)&&k.user.profession.toLowerCase().includes(l.toLowerCase())||((J=k.user)==null?void 0:J.company)&&k.user.company.toLowerCase().includes(l.toLowerCase())});u.useEffect(()=>{if(!e)return;const k=R=>{const B=R,{matchId:O,status:X,lastMessageSentByMe:ae}=B.detail;S($=>$.map(re=>re.id===O?{...re,messageStatus:X,lastMessageSentByMe:ae}:re))},A=R=>{const B=R,{message:O}=B.detail;!O||!O.matchId||(console.log(` [SUITE] New message received for match ${O.matchId}:`,O),S(X=>X.map(ae=>{if(ae.id===O.matchId){const $=O.senderId===e.id;return{...ae,lastMessage:O.content,lastMessageTime:O.createdAt||new Date().toISOString(),lastMessageSentByMe:$,unreadCount:$?ae.unreadCount||0:(ae.unreadCount||0)+1,messageStatus:$?"delivered":ae.messageStatus}}return ae})),i.invalidateQueries({queryKey:["/api/matches"],refetchType:"none"}))},F=R=>{const B=R,{matchId:O,lastMessage:X,lastMessageTime:ae,unreadCount:$}=B.detail;S(re=>re.map(le=>le.id===O?{...le,lastMessage:X,lastMessageTime:ae,unreadCount:$||0}:le))},V=R=>{const B=R,{matchId:O}=B.detail;S(X=>X.map(ae=>ae.id===O?{...ae,unreadCount:0}:ae))};window.addEventListener("message:status:updated",k),window.addEventListener("message:new",A),window.addEventListener("match:lastMessage:updated",F),window.addEventListener("message:read:global",V);const J=R=>{console.log(" [SUITE] Matches refresh event received, forcing query invalidation"),i.invalidateQueries({queryKey:["/api/matches"]})};window.addEventListener("matches:refresh",J);const M=R=>{if(!(R instanceof CustomEvent))return;const{mode:B}=R.detail;B==="SUITE"&&(console.log(" [SUITE] Unread count increment event received"),i.invalidateQueries({queryKey:["/api/messages/unread/count","SUITE"]}))};return window.addEventListener("unread-count:increment",M),()=>{window.removeEventListener("message:status:updated",k),window.removeEventListener("message:new",A),window.removeEventListener("match:lastMessage:updated",F),window.removeEventListener("message:read:global",V),window.removeEventListener("matches:refresh",J),window.removeEventListener("unread-count:increment",M)}},[e]);const I=k=>{s(`/chat/${k}`)},T=k=>!!a(k),_=()=>{c("")};return g?t.jsx("div",{className:`h-[calc(100vh-132px)] flex items-center justify-center ${n?"bg-gray-900":"bg-gray-50"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(sn,{className:"h-12 w-12 text-blue-600 animate-spin mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Loading Professional Connections"}),t.jsx("p",{className:"text-gray-600",children:"Finding your professional network..."})]})}):v?t.jsx("div",{className:`h-[calc(100vh-132px)] flex items-center justify-center p-6 text-center ${n?"bg-gray-900":"bg-gray-50"}`,children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-red-500 mb-2",children:"Error Loading Professional Connections"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"There was a problem loading your professional network. Please try again."}),t.jsx("button",{onClick:()=>y(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md text-sm",children:"Try Again"})]})}):t.jsxs("div",{className:`h-[calc(100vh-132px)] flex flex-col ${n?"bg-gray-900":"bg-gray-50"}`,children:[t.jsx(E.div,{className:`${n?"bg-black/40 backdrop-blur-xl":"bg-white/80 backdrop-blur-md"} border-b shadow-lg`,style:{borderImage:n?"linear-gradient(to right, rgba(59, 130, 246, 0.3), rgba(34, 197, 94, 0.3)) 1":"linear-gradient(to right, rgba(59, 130, 246, 0.15), rgba(34, 197, 94, 0.15)) 1"},children:t.jsxs(E.div,{className:"px-4 py-5 relative overflow-hidden",variants:f,initial:"initial",animate:"animate",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx(E.div,{className:"absolute w-20 h-20 rounded-full blur-3xl opacity-10 top-0 left-10",initial:{backgroundColor:"#3b82f6"},animate:{backgroundColor:["#3b82f6","#22c55e","#3b82f6"],x:[0,10,0],y:[0,5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute w-16 h-16 rounded-full blur-3xl opacity-10 bottom-0 right-10",initial:{backgroundColor:"#22c55e"},animate:{backgroundColor:["#22c55e","#3b82f6","#22c55e"],x:[0,-10,0],y:[0,-5,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:1}})]}),t.jsxs("div",{className:"relative z-10",children:[N.length>0&&t.jsxs("div",{className:"relative",children:[t.jsx(Je,{type:"text",value:l,onChange:k=>c(k.target.value),placeholder:"Search professional network...",className:`pl-10 pr-10 py-2 h-11 rounded-full placeholder:text-gray-400 dark:placeholder:text-gray-500
                  ${n?"bg-gray-800/90 border-gray-700 text-white focus:border-blue-600":"bg-white/90 border-gray-200 text-gray-900 focus:border-blue-400"}`}),t.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 dark:text-gray-500"}),l&&t.jsx("button",{onClick:_,className:"absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:t.jsx(mt,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mt-4",children:P.length>0&&t.jsxs("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:[t.jsxs("h3",{className:"text-xs font-medium mb-3 flex items-center",children:[t.jsx(zr,{className:"w-3.5 h-3.5 mr-1 text-blue-500"}),"New Professional Connections"]}),t.jsx("div",{className:"flex space-x-3",children:P.map(k=>k.user?t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-5,transition:{duration:.2}},onClick:()=>I(k.id),className:"flex-shrink-0 w-12 flex flex-col items-center cursor-pointer",children:t.jsxs("div",{className:"relative",children:[t.jsx(Sm,{user:k.user,children:t.jsx("div",{className:`h-12 w-12 rounded-full border-2 overflow-hidden cursor-pointer hover:scale-105 transition-transform duration-200 ease-in-out ${n?"border-blue-600":"border-blue-400"}`,children:t.jsx(qs,{imageUrl:k.user.photoUrl,fallbackInitials:k.user.fullName.charAt(0),className:"h-full w-full"})})}),T(k.user.id)&&t.jsx("span",{className:"absolute bottom-0.5 right-0.5 h-2.5 w-2.5 rounded-full bg-green-500 border-2 border-white dark:border-gray-900"})]})},k.id):null)})]})})]})]})}),t.jsx("div",{ref:o,className:`flex-1 overflow-y-auto ${n?"bg-gray-900":"bg-gray-50"} px-4 py-2`,children:t.jsx(Xt,{initial:!1,children:C.length===0?t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex flex-col items-center justify-center h-full py-10 text-center relative overflow-hidden",children:[t.jsx(Ey,{count:48,color:n?"rgba(59, 130, 246, 0.5)":"rgba(59, 130, 246, 0.6)",opacityRange:[.1,.25],sizeRange:[16,28],speedRange:[25,45]}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n?"bg-gray-800":"bg-blue-100"}`,children:t.jsx(zr,{className:`h-8 w-8 ${n?"text-blue-400":"text-blue-500"}`})}),t.jsx("p",{className:`text-xs font-medium ${n?"text-gray-400":"text-gray-500"}`,children:r(l?"messages.noConversationsMatching":"messages.noConversationsYet")}),x&&x.length>0&&t.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[x.length," potential professional connections found"]})]})]}):t.jsx("div",{className:"space-y-2 pb-2",children:C.map(k=>t.jsxs(E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},onClick:()=>I(k.id),className:`p-3 rounded-2xl flex items-center space-x-3 mb-2 cursor-pointer ${n?"hover:bg-gray-800 bg-gray-800/50":"hover:bg-white bg-white"} ${k.unreadCount?"shadow-md":"shadow-sm"} transition-all duration-200`,children:[t.jsx("div",{className:"relative",children:k.user&&t.jsx(Sm,{user:k.user,children:t.jsxs("div",{className:"relative cursor-pointer hover:scale-105 transition-transform duration-200 ease-in-out",children:[t.jsx(qs,{imageUrl:k.user.photoUrl,fallbackInitials:k.user.fullName.charAt(0),className:"h-12 w-12 rounded-full"}),T(k.user.id)&&t.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 rounded-full bg-green-500 border-2 border-white dark:border-gray-900"}),k.user.verifiedProfile&&t.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-blue-500 flex items-center justify-center",children:t.jsx(jp,{className:"h-2.5 w-2.5 text-white"})})]})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h3",{className:`font-medium text-sm truncate ${k.unreadCount?"text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-200"}`,children:k.user?k.user.fullName:"Professional"})}),k.lastMessageTime&&t.jsx("span",{className:`text-xs ${k.unreadCount?"text-gray-800 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`,children:GN(new Date(k.lastMessageTime))})]}),t.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[t.jsxs("div",{className:"flex items-center space-x-1 flex-grow overflow-hidden",children:[t.jsx("div",{className:"overflow-hidden flex-grow",children:k.lastMessage?t.jsx("p",{className:`text-[11px] truncate max-w-full leading-tight ${k.unreadCount&&k.unreadCount>0?n?"text-white font-medium":"text-gray-800 font-medium":n?"text-gray-400":"text-gray-500"}`,children:Kse(k.lastMessage)}):t.jsx("p",{className:`text-xs ${n?"text-blue-400":"text-blue-600"} font-light italic`,children:"Start a conversation"})}),k.lastMessage&&k.lastMessageSentByMe&&h[k.id]&&t.jsx("div",{className:"flex-shrink-0 ml-2",children:k.messageStatus?k.messageStatus==="read"?t.jsx(um,{className:"h-3 w-3 text-blue-500"}):k.messageStatus==="delivered"?t.jsx(um,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="sent"?t.jsx(At,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="sending"?t.jsx(Ja,{className:"h-3 w-3 text-gray-400"}):k.messageStatus==="error"?t.jsx(mt,{className:"h-3 w-3 text-red-500"}):t.jsx(At,{className:"h-3 w-3 text-gray-400"}):t.jsx(At,{className:"h-3 w-3 text-blue-500"})})]}),t.jsx("div",{className:"flex-shrink-0 ml-2",children:k.unreadCount&&k.unreadCount>0?t.jsx(St,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white text-[10px] min-w-[20px] h-[20px] flex items-center justify-center rounded-full",children:k.unreadCount}):null})]})]})]},k.id))})})})]})}function Yse(){const{user:e}=Sr(),{currentMode:r}=Ts(),{refetch:n}=S2();u.useEffect(()=>{if(e){n();const s=`messages-viewed-${r}`;window.dispatchEvent(new Event(s)),console.log(`Dispatched ${s} event`);const i=`messages_viewed_at_${r}`;localStorage.setItem(i,Date.now().toString()),console.log(`Updated localStorage key ${i}`)}},[e,n,r]);const a=()=>{switch(r){case"MEET":return t.jsx(cP,{});case"HEAT":return t.jsx(Hse,{});case"SUITE":return t.jsx(qse,{});default:return t.jsx(cP,{})}};return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a()}),t.jsx(Ns,{})]})}function fn(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Nc(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const c6=6048e5,Qse=864e5,T0=43200,dP=1440;let Jse={};function _f(){return Jse}function Yp(e,r){var l,c,d,m;const n=_f(),a=(r==null?void 0:r.weekStartsOn)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,s=fn(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Cx(e){return Yp(e,{weekStartsOn:1})}function d6(e){const r=fn(e),n=r.getFullYear(),a=Nc(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Cx(a),i=Nc(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Cx(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function uP(e){const r=fn(e);return r.setHours(0,0,0,0),r}function Ex(e){const r=fn(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function Xse(e,r){const n=uP(e),a=uP(r),s=+n-Ex(n),i=+a-Ex(a);return Math.round((s-i)/Qse)}function Zse(e){const r=d6(e),n=Nc(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Cx(n)}function mg(e,r){const n=fn(e),a=fn(r),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function eie(e){return Nc(e,Date.now())}function tie(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rie(e){if(!tie(e)&&typeof e!="number")return!1;const r=fn(e);return!isNaN(Number(r))}function nie(e,r){const n=fn(e),a=fn(r),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function aie(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function sie(e,r){return+fn(e)-+fn(r)}function iie(e){const r=fn(e);return r.setHours(23,59,59,999),r}function oie(e){const r=fn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function lie(e){const r=fn(e);return+iie(r)==+oie(r)}function cie(e,r){const n=fn(e),a=fn(r),s=mg(n,a),i=Math.abs(nie(n,a));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=mg(n,a)===-s;lie(fn(e))&&i===1&&mg(e,a)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function die(e,r,n){const a=sie(e,r)/1e3;return aie(n==null?void 0:n.roundingMethod)(a)}function uie(e){const r=fn(e),n=Nc(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hie=(e,r,n)=>{let a;const s=mie[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Sb(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const pie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xie={date:Sb({formats:pie,defaultWidth:"full"}),time:Sb({formats:fie,defaultWidth:"full"}),dateTime:Sb({formats:gie,defaultWidth:"full"})},yie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vie=(e,r,n,a)=>yie[e];function ph(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const bie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cie=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Eie={ordinalNumber:Cie,era:ph({values:bie,defaultWidth:"wide"}),quarter:ph({values:wie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ph({values:jie,defaultWidth:"wide"}),day:ph({values:Nie,defaultWidth:"wide"}),dayPeriod:ph({values:kie,defaultWidth:"wide",formattingValues:Sie,defaultFormattingWidth:"wide"})};function fh(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Aie(l,h=>h.test(o)):Pie(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const m=r.slice(o.length);return{value:d,rest:m}}}function Pie(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function Aie(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function Mie(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=r.slice(s.length);return{value:o,rest:l}}}const Tie=/^(\d+)(th|st|nd|rd)?/i,Iie=/\d+/i,_ie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Die={any:[/^b/i,/^(a|c)/i]},Rie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oie={any:[/1/i,/2/i,/3/i,/4/i]},Lie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$ie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vie={ordinalNumber:Mie({matchPattern:Tie,parsePattern:Iie,valueCallback:e=>parseInt(e,10)}),era:fh({matchPatterns:_ie,defaultMatchWidth:"wide",parsePatterns:Die,defaultParseWidth:"any"}),quarter:fh({matchPatterns:Rie,defaultMatchWidth:"wide",parsePatterns:Oie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fh({matchPatterns:Lie,defaultMatchWidth:"wide",parsePatterns:$ie,defaultParseWidth:"any"}),day:fh({matchPatterns:Fie,defaultMatchWidth:"wide",parsePatterns:Uie,defaultParseWidth:"any"}),dayPeriod:fh({matchPatterns:Bie,defaultMatchWidth:"any",parsePatterns:Gie,defaultParseWidth:"any"})},u6={code:"en-US",formatDistance:hie,formatLong:xie,formatRelative:vie,localize:Eie,match:Vie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zie(e){const r=fn(e);return Xse(r,uie(r))+1}function Wie(e){const r=fn(e),n=+Cx(r)-+Zse(r);return Math.round(n/c6)+1}function m6(e,r){var m,h,p,f;const n=fn(e),a=n.getFullYear(),s=_f(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=Nc(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Yp(o,r),c=Nc(e,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=Yp(c,r);return n.getTime()>=l.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Hie(e,r){var l,c,d,m;const n=_f(),a=(r==null?void 0:r.firstWeekContainsDate)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,s=m6(e,r),i=Nc(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Yp(i,r)}function Kie(e,r){const n=fn(e),a=+Yp(n,r)-+Hie(n,r);return Math.round(a/c6)+1}function an(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const Cl={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return an(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):an(n+1,2)},d(e,r){return an(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return an(e.getHours()%12||12,r.length)},H(e,r){return an(e.getHours(),r.length)},m(e,r){return an(e.getMinutes(),r.length)},s(e,r){return an(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return an(s,r.length)}},ru={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mP={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Cl.y(e,r)},Y:function(e,r,n,a){const s=m6(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return an(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):an(i,r.length)},R:function(e,r){const n=d6(e);return an(n,r.length)},u:function(e,r){const n=e.getFullYear();return an(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return an(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return an(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return Cl.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return an(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=Kie(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):an(s,r.length)},I:function(e,r,n){const a=Wie(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):an(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Cl.d(e,r)},D:function(e,r,n){const a=zie(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):an(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return an(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return an(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return an(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=ru.noon:a===0?s=ru.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=ru.evening:a>=12?s=ru.afternoon:a>=4?s=ru.morning:s=ru.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Cl.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Cl.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):an(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):an(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Cl.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Cl.s(e,r)},S:function(e,r){return Cl.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return pP(a);case"XXXX":case"XX":return zc(a);case"XXXXX":case"XXX":default:return zc(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return pP(a);case"xxxx":case"xx":return zc(a);case"xxxxx":case"xxx":default:return zc(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+hP(a,":");case"OOOO":default:return"GMT"+zc(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+hP(a,":");case"zzzz":default:return"GMT"+zc(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return an(a,r.length)},T:function(e,r,n){const a=e.getTime();return an(a,r.length)}};function hP(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+r+an(i,2)}function pP(e,r){return e%60===0?(e>0?"-":"+")+an(Math.abs(e)/60,2):zc(e,r)}function zc(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=an(Math.trunc(a/60),2),i=an(a%60,2);return n+s+r+i}const fP=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},h6=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},qie=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return fP(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",fP(a,r)).replace("{{time}}",h6(s,r))},Yie={p:h6,P:qie},Qie=/^D+$/,Jie=/^Y+$/,Xie=["D","DD","YY","YYYY"];function Zie(e){return Qie.test(e)}function eoe(e){return Jie.test(e)}function toe(e,r,n){const a=roe(e,r,n);if(console.warn(a),Xie.includes(e))throw new RangeError(a)}function roe(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const noe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aoe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,soe=/^'([^]*?)'?$/,ioe=/''/g,ooe=/[a-zA-Z]/;function gP(e,r,n){var m,h,p,f;const a=_f(),s=a.locale??u6,i=a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=a.weekStartsOn??((f=(p=a.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=fn(e);if(!rie(l))throw new RangeError("Invalid time value");let c=r.match(aoe).map(x=>{const g=x[0];if(g==="p"||g==="P"){const v=Yie[g];return v(x,s.formatLong)}return x}).join("").match(noe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:loe(x)};if(mP[g])return{isToken:!0,value:x};if(g.match(ooe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(eoe(g)||Zie(g))&&toe(g,r,String(e));const v=mP[g[0]];return v(l,g,s.localize,d)}).join("")}function loe(e){const r=e.match(soe);return r?r[1].replace(ioe,"'"):e}function coe(e,r,n){const a=_f(),s=(n==null?void 0:n.locale)??a.locale??u6,i=2520,o=mg(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=fn(r),d=fn(e)):(c=fn(e),d=fn(r));const m=die(d,c),h=(Ex(d)-Ex(c))/1e3,p=Math.round((m-h)/60);let f;if(p<2)return n!=null&&n.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,l):m<10?s.formatDistance("lessThanXSeconds",10,l):m<20?s.formatDistance("lessThanXSeconds",20,l):m<40?s.formatDistance("halfAMinute",0,l):m<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<dP){const x=Math.round(p/60);return s.formatDistance("aboutXHours",x,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<T0){const x=Math.round(p/dP);return s.formatDistance("xDays",x,l)}else if(p<T0*2)return f=Math.round(p/T0),s.formatDistance("aboutXMonths",f,l)}if(f=cie(d,c),f<12){const x=Math.round(p/T0);return s.formatDistance("xMonths",x,l)}else{const x=f%12,g=Math.trunc(f/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function doe(e,r){return coe(e,eie(e),r)}var p6="AlertDialog",[uoe,pye]=ps(p6,[YD]),jl=YD(),f6=e=>{const{__scopeAlertDialog:r,...n}=e,a=jl(r);return t.jsx(Z2,{...a,...n,modal:!0})};f6.displayName=p6;var moe="AlertDialogTrigger",g6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=jl(n);return t.jsx(uR,{...s,...a,ref:r})});g6.displayName=moe;var hoe="AlertDialogPortal",x6=e=>{const{__scopeAlertDialog:r,...n}=e,a=jl(r);return t.jsx(ek,{...a,...n})};x6.displayName=hoe;var poe="AlertDialogOverlay",y6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=jl(n);return t.jsx(Py,{...s,...a,ref:r})});y6.displayName=poe;var Fu="AlertDialogContent",[foe,goe]=uoe(Fu),v6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=jl(n),o=u.useRef(null),l=sr(r,o),c=u.useRef(null);return t.jsx(tne,{contentName:Fu,titleName:b6,docsSlug:"alert-dialog",children:t.jsx(foe,{scope:n,cancelRef:c,children:t.jsxs(Ay,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:it(s.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[t.jsx(BM,{children:a}),t.jsx(yoe,{contentRef:o})]})})})});v6.displayName=Fu;var b6="AlertDialogTitle",w6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=jl(n);return t.jsx(tk,{...s,...a,ref:r})});w6.displayName=b6;var j6="AlertDialogDescription",N6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=jl(n);return t.jsx(rk,{...s,...a,ref:r})});N6.displayName=j6;var xoe="AlertDialogAction",k6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=jl(n);return t.jsx(My,{...s,...a,ref:r})});k6.displayName=xoe;var S6="AlertDialogCancel",C6=u.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=goe(S6,n),i=jl(n),o=sr(r,s);return t.jsx(My,{...i,...a,ref:o})});C6.displayName=S6;var yoe=({contentRef:e})=>{const r=`\`${Fu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fu}\` by passing a \`${j6}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},voe=f6,boe=g6,woe=x6,E6=y6,P6=v6,A6=k6,M6=C6,T6=w6,I6=N6;const Uu=voe,joe=boe,Noe=woe,_6=u.forwardRef(({className:e,...r},n)=>t.jsx(E6,{className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));_6.displayName=E6.displayName;const hd=u.forwardRef(({className:e,...r},n)=>t.jsxs(Noe,{children:[t.jsx(_6,{}),t.jsx(P6,{ref:n,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));hd.displayName=P6.displayName;const pd=({className:e,...r})=>t.jsx("div",{className:We("flex flex-col space-y-2 text-center sm:text-left",e),...r});pd.displayName="AlertDialogHeader";const fd=({className:e,...r})=>t.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});fd.displayName="AlertDialogFooter";const gd=u.forwardRef(({className:e,...r},n)=>t.jsx(T6,{ref:n,className:We("text-lg font-semibold",e),...r}));gd.displayName=T6.displayName;const Bu=u.forwardRef(({className:e,...r},n)=>t.jsx(I6,{ref:n,className:We("text-sm text-muted-foreground",e),...r}));Bu.displayName=I6.displayName;const Gu=u.forwardRef(({className:e,...r},n)=>t.jsx(A6,{ref:n,className:We(q2(),e),...r}));Gu.displayName=A6.displayName;const xd=u.forwardRef(({className:e,...r},n)=>t.jsx(M6,{ref:n,className:We(q2({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));xd.displayName=M6.displayName;function koe(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];function d(h){const{scope:p,children:f,...x}=h,g=(p==null?void 0:p[e][c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})}function m(h,p){const f=(p==null?void 0:p[e][c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Soe(s,...r)]}function Soe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}var kk="Progress",Sk=100,[Coe,fye]=koe(kk),[Eoe,Poe]=Coe(kk),D6=u.forwardRef((e,r)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=Aoe,...o}=e;(s||s===0)&&!xP(s)&&console.error(Moe(`${s}`,"Progress"));const l=xP(s)?s:Sk;a!==null&&!yP(a,l)&&console.error(Toe(`${a}`,"Progress"));const c=yP(a,l)?a:null,d=Px(c)?i(c,l):void 0;return t.jsx(Eoe,{scope:n,value:c,max:l,children:t.jsx(bt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Px(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":L6(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});D6.displayName=kk;var R6="ProgressIndicator",O6=u.forwardRef((e,r)=>{const{__scopeProgress:n,...a}=e,s=Poe(R6,n);return t.jsx(bt.div,{"data-state":L6(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:r})});O6.displayName=R6;function Aoe(e,r){return`${Math.round(e/r*100)}%`}function L6(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Px(e){return typeof e=="number"}function xP(e){return Px(e)&&!isNaN(e)&&e>0}function yP(e,r){return Px(e)&&!isNaN(e)&&e<=r&&e>=0}function Moe(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sk}\`.`}function Toe(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $6=D6,Ioe=O6;const Ck=u.forwardRef(({className:e,value:r,indicatorClassName:n,...a},s)=>t.jsx($6,{ref:s,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx(Ioe,{className:We("h-full w-full flex-1 bg-primary transition-all",n),style:{transform:`translateX(-${100-(r||0)}%)`}})}));Ck.displayName=$6.displayName;function _oe({audioUrl:e,audioDuration:r,messageId:n,className:a,isOutgoing:s=!1}){const{currentMode:i}=Ts(),[o,l]=u.useState(!1),[c,d]=u.useState(0),[m,h]=u.useState(0),[p,f]=u.useState(!1),[x,g]=u.useState(!1),[v,y]=u.useState(e),b=u.useRef(null),w=u.useRef(null),S=document.documentElement.classList.contains("dark");u.useEffect(()=>{if(e&&e.startsWith("data:audio/")&&e.length>100){console.log("Using provided data URL directly"),y(e);return}if(n)try{const C=localStorage.getItem(`${i}_audio_message_${n}`);if(C&&C.length>100){console.log(`Found cached audio for message ${n}`),y(C);return}const I=localStorage.getItem(`${i}_audio_data_${n}`);if(I&&I.startsWith("data:audio/")){console.log(`Found cached audio data for message ${n}`),y(I);return}if(!e.startsWith("data:")||e.length<50){console.log("Searching for cached audio in localStorage");const T=[`${i}_audio_message_${n}`,`${i}_audio_data_${n}`,`MEET_audio_message_${n}`,`HEAT_audio_message_${n}`,`SUITE_audio_message_${n}`];for(const _ of T){const k=localStorage.getItem(_);if(k&&k.startsWith("data:audio/")){console.log(`Found audio data in key ${_}`),y(k);return}}for(let _=0;_<localStorage.length;_++){const k=localStorage.key(_);if(k&&(k.includes("audio_message_")||k.includes("audio_data_"))){const A=localStorage.getItem(k);if(A&&A.startsWith("data:audio/")){console.log(`Found potential cached audio in key ${k}`),y(A);break}}}}}catch(C){console.error("Error retrieving cached audio:",C)}},[n,e,i]),u.useEffect(()=>{if(b.current)b.current.src!==v&&(console.log("Audio URL changed, updating source"),b.current.src=v,b.current.load());else{const C=new Audio;C.onended=()=>{l(!1),d(0),h(0),w.current&&(clearInterval(w.current),w.current=null)},C.onloadedmetadata=()=>{f(!0),g(!1),console.log(`Audio loaded: duration=${C.duration}s`)},C.onloadeddata=()=>{f(!0),g(!1),console.log("Audio data loaded")},C.oncanplaythrough=()=>{f(!0),g(!1),console.log("Audio can play through")},C.onerror=I=>{if(console.error("Error loading audio:",I),f(!1),g(!1),v!==e)console.log("Falling back to original audio URL"),y(e);else if(n){console.log("Attempting emergency audio recovery for message",n);for(let T=0;T<localStorage.length;T++){const _=localStorage.key(T);if(_&&_.includes("audio_message_")){const k=localStorage.getItem(_);if(k&&k.startsWith("data:audio/")){console.log(`Emergency audio recovery - found potential audio data in key ${_}`),y(k);break}}}}},C.src=v,C.load(),b.current=C}return()=>{b.current&&(b.current.pause(),b.current.src=""),w.current&&clearInterval(w.current)}},[v,n,e]);const N=async()=>{if(!b.current){console.log("No audio element available");return}if(o)b.current.pause(),l(!1),w.current&&(clearInterval(w.current),w.current=null);else{if(console.log("Attempting to play audio, current state:",{isLoaded:p,readyState:b.current.readyState,src:b.current.src,duration:b.current.duration}),b.current.src!==v&&(console.log("Setting audio source:",v),b.current.src=v,b.current.load()),b.current.readyState<2){console.log("Audio not ready, waiting for loading..."),g(!0);const C=new Promise((I,T)=>{var F,V;const _=setTimeout(()=>{g(!1),T(new Error("Audio loading timeout"))},5e3),k=()=>{var J,M;clearTimeout(_),(J=b.current)==null||J.removeEventListener("canplay",k),(M=b.current)==null||M.removeEventListener("error",A),g(!1),I()},A=J=>{var M,R;clearTimeout(_),(M=b.current)==null||M.removeEventListener("canplay",k),(R=b.current)==null||R.removeEventListener("error",A),g(!1),T(J)};(F=b.current)==null||F.addEventListener("canplay",k),(V=b.current)==null||V.addEventListener("error",A)});try{await C,console.log("Audio is now ready to play")}catch(I){console.error("Error waiting for audio to load:",I);return}}try{const C=b.current.play();if(C!==void 0){await C,console.log("Audio started playing successfully"),l(!0);const I=setInterval(()=>{if(b.current){const T=b.current.currentTime,_=b.current.duration||r,k=T/_*100;d(k),h(T)}},100);w.current=I}}catch(C){console.error("Error playing audio:",C),b.current.load(),setTimeout(async()=>{var I;try{const T=(I=b.current)==null?void 0:I.play();T&&(await T,l(!0))}catch(T){console.error("Retry play failed:",T)}},500)}}},P=C=>{const I=Math.floor(C/60),T=Math.floor(C%60);return`${I}:${T.toString().padStart(2,"0")}`};return t.jsxs(E.div,{initial:{opacity:.8,scale:.98},animate:{opacity:1,scale:1},className:We("rounded-xl p-4 w-full backdrop-blur-sm bg-opacity-20 transition-all",s?"max-w-[60vw] sm:max-w-[65vw] md:max-w-[70vw] min-w-[240px]":"max-w-[70vw] min-w-[260px]",s?"bg-transparent border border-purple-300/10":"bg-transparent border border-gray-300/10",a),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2 relative",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(E.button,{whileTap:{scale:.9},onClick:N,className:We("flex-shrink-0 w-9 h-9 rounded-full flex items-center justify-center shadow-md",o?"shadow-purple-500/20":"shadow-blue-500/10",s?o?"bg-gradient-to-br from-violet-500 to-indigo-600 text-white border border-purple-400/30":"bg-gradient-to-br from-indigo-500 to-purple-600 text-white border border-indigo-400/30":o?S?"bg-gradient-to-br from-gray-700 to-gray-800 text-gray-100 border border-gray-600/30":"bg-gradient-to-br from-gray-200 to-gray-300 text-gray-700 border border-gray-200/50":S?"bg-gradient-to-br from-gray-800 to-gray-900 text-gray-100 border border-gray-700/30":"bg-gradient-to-br from-gray-100 to-white text-gray-700 border border-gray-200/50"),children:[x?t.jsx(sn,{className:"h-4 w-4 animate-spin"}):o?t.jsx(wT,{className:"h-4 w-4"}):t.jsx(jT,{className:"h-4 w-4 ml-0.5"}),o&&t.jsx(E.div,{animate:{opacity:[.5,.3,.5]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 rounded-full bg-purple-400/10"})]}),t.jsx("div",{className:"ml-2 flex flex-col",children:t.jsx("span",{className:`text-xs ${s?S?"text-purple-300/70":"text-purple-500/70":S?"text-gray-400":"text-gray-500"}`,children:P(r)})})]}),t.jsx(ST,{className:`h-3.5 w-3.5 opacity-60 ${s?S?"text-purple-200":"text-purple-600":S?"text-gray-300":"text-gray-600"}`})]}),t.jsx("div",{className:"mt-2",children:t.jsx(Ck,{value:c,className:We("h-1.5 rounded-full",S?"bg-gray-700/50":"bg-gray-200/70"),indicatorClassName:We("rounded-full transition-all",s?"bg-gradient-to-r from-purple-500 to-indigo-500":S?"bg-gray-400":"bg-gray-500")})})]})}const Doe=()=>{const[e,r]=u.useState(!1),[n,a]=u.useState(0),[s,i]=u.useState(null),[o,l]=u.useState(null),[c,d]=u.useState(!1),[m,h]=u.useState(0),p=u.useRef(null),f=u.useRef([]),x=u.useRef(null),g=u.useRef(null),v=u.useRef(null);return u.useEffect(()=>()=>{x.current&&clearInterval(x.current),v.current&&clearInterval(v.current),g.current&&(g.current.pause(),g.current=null),o&&URL.revokeObjectURL(o)},[o]),{isRecording:e,recordingDuration:n,audioUrl:o,audioBlob:s,isPlaying:c,playbackProgress:m,startRecording:async()=>{try{f.current=[],a(0),i(null),l(null),h(0);const I=await navigator.mediaDevices.getUserMedia({audio:!0}),T=new MediaRecorder(I);p.current=T,T.ondataavailable=_=>{_.data.size>0&&f.current.push(_.data)},T.onstop=()=>{const _=new Blob(f.current,{type:"audio/webm"}),k=URL.createObjectURL(_);i(_),l(k),I.getTracks().forEach(A=>A.stop()),x.current&&(clearInterval(x.current),x.current=null)},T.start(),r(!0),x.current=setInterval(()=>{a(_=>_+1)},1e3)}catch(I){throw console.error("Error starting recording:",I),new Error("Could not access microphone. Please check permissions.")}},stopRecording:()=>{p.current&&e&&(p.current.stop(),r(!1))},cancelRecording:()=>{var I;if(p.current&&e)try{p.current.stop(),(I=p.current.stream)==null||I.getTracks().forEach(T=>{T.readyState==="live"&&T.stop()})}catch(T){console.error("Error stopping media recorder:",T)}if(g.current)try{g.current.pause(),g.current.src=""}catch(T){console.error("Error cleaning up audio element:",T)}r(!1),a(0),i(null),h(0),l(T=>{if(T)try{URL.revokeObjectURL(T)}catch(_){console.error("Error revoking object URL:",_)}return null}),x.current&&(clearInterval(x.current),x.current=null),v.current&&(clearInterval(v.current),v.current=null)},playAudio:()=>{if(o)try{if(g.current)g.current.src!==o&&(g.current.src=o);else{const T=new Audio;T.onended=()=>{d(!1),h(0),v.current&&(clearInterval(v.current),v.current=null)},T.onerror=_=>{console.error("Audio playback error:",_),d(!1),v.current&&(clearInterval(v.current),v.current=null)},T.src=o,g.current=T}const I=g.current.play();I!==void 0&&I.then(()=>{d(!0);const T=setInterval(()=>{if(g.current){const _=g.current.currentTime/g.current.duration*100;h(_)}},100);v.current&&clearInterval(v.current),v.current=T}).catch(T=>{console.error("Error playing audio:",T),d(!1)})}catch(I){console.error("Unexpected audio playback error:",I),d(!1)}},pauseAudio:()=>{g.current&&(g.current.pause(),d(!1),v.current&&(clearInterval(v.current),v.current=null))},resetAudio:()=>{g.current&&(g.current.pause(),g.current.currentTime=0),d(!1),h(0),v.current&&(clearInterval(v.current),v.current=null)},formatDuration:I=>{const T=Math.floor(I/60),_=Math.floor(I%60);return`${T}:${_.toString().padStart(2,"0")}`}}};function Roe({onSend:e,onCancel:r}){const{isRecording:n,recordingDuration:a,audioUrl:s,audioBlob:i,isPlaying:o,playbackProgress:l,startRecording:c,stopRecording:d,cancelRecording:m,playAudio:h,pauseAudio:p,formatDuration:f}=Doe(),[x,g]=u.useState(Array.from({length:30},()=>Math.random()*60+5)),v=u.useRef(null);u.useEffect(()=>(c(),n&&!v.current&&(v.current=setInterval(()=>{g(Array.from({length:30},()=>Math.random()*60+5))},100)),()=>{v.current&&(clearInterval(v.current),v.current=null)}),[]),u.useEffect(()=>(n&&!v.current?v.current=setInterval(()=>{g(Array.from({length:30},()=>Math.random()*60+5))},100):!n&&v.current&&(clearInterval(v.current),v.current=null,g(Array.from({length:30},()=>Math.random()*20+5))),()=>{v.current&&(clearInterval(v.current),v.current=null)}),[n]);const y=()=>{i&&s&&e(i,a,s)},b=()=>{m(),r()},w=document.documentElement.classList.contains("dark");return t.jsx(Xt,{children:t.jsx(E.div,{className:"w-full",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},children:n?t.jsxs("div",{className:We("rounded-xl relative overflow-hidden","transition-all duration-300 py-2 px-3",w?"bg-gray-900/70 border border-gray-800/70 shadow-lg shadow-purple-900/10":"bg-white/70 border border-gray-200/50 shadow-lg shadow-purple-500/5"),children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-0 overflow-hidden opacity-30",children:t.jsx("div",{className:"flex items-end justify-center h-20 gap-[1px] w-full",children:x.map((S,N)=>t.jsx(E.div,{animate:{height:`${S}%`},transition:{duration:.1,ease:"easeOut"},className:We("w-1 rounded-full",w?"bg-gradient-to-t from-red-500/70 via-purple-500/70 to-indigo-500/70":"bg-gradient-to-t from-red-400/70 via-purple-400/70 to-indigo-400/70")},N))})}),t.jsxs("div",{className:"relative z-10 flex flex-col space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"w-3 h-3 rounded-full bg-red-500"}),t.jsx("div",{className:"absolute w-5 h-5 rounded-full bg-red-500/20 animate-ping"})]}),t.jsx(E.span,{animate:{opacity:[1,.8,1]},transition:{duration:2,repeat:1/0},className:`text-sm font-medium ${w?"text-red-400":"text-red-500"}`,children:"Recording"})]}),t.jsx("div",{className:`text-lg font-semibold tracking-wider ${w?"text-gray-100":"text-gray-700"}`,children:f(a)})]}),t.jsxs("div",{className:"h-12 relative rounded-lg overflow-hidden mx-3 my-1",children:[t.jsx("div",{className:We("absolute inset-0 opacity-10 rounded-lg",w?"bg-gray-700":"bg-gray-200")}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs(E.div,{animate:{opacity:[.7,1,.7],scale:[.99,1.01,.99]},transition:{duration:2,repeat:1/0},className:"flex items-center justify-center",children:[t.jsx(l1,{className:`h-5 w-5 ${w?"text-red-400":"text-red-500"}`}),t.jsx("span",{className:`ml-2 text-sm ${w?"text-gray-300":"text-gray-600"}`,children:"Voice being captured"})]})})]}),t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsxs(de,{type:"button",variant:"ghost",size:"sm",onClick:b,className:We("h-9 px-4 rounded-full transition-all border",w?"bg-gray-800/80 hover:bg-gray-700 text-gray-200 border-gray-700/70":"bg-gray-100/80 hover:bg-gray-200 text-gray-700 border-gray-200/70"),children:[t.jsx(Zn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:t.jsxs(de,{type:"button",variant:"ghost",size:"sm",onClick:d,className:We("h-9 rounded-full shadow-md border bg-gradient-to-r",w?"from-red-600 to-red-700 text-white border-red-500/30 shadow-red-500/20":"from-red-500 to-red-600 text-white border-red-400/30 shadow-red-400/20"),children:[t.jsx(OG,{className:"h-4 w-4 mr-2"}),"Stop Recording"]})})]})]})]}):s?t.jsxs("div",{className:We("rounded-xl relative overflow-hidden","transition-all duration-300 py-3 px-4",w?"bg-gradient-to-r from-gray-900/70 to-gray-900/70 border border-indigo-900/20 shadow-lg shadow-indigo-900/5":"bg-gradient-to-r from-white/70 to-white/70 border border-indigo-100/30 shadow-lg shadow-indigo-500/5"),children:[t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/5 to-indigo-500/5 z-0 blur-xl opacity-50"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o?p:h,className:We("w-10 h-10 rounded-full flex items-center justify-center shadow-md transition-all border",o?w?"bg-gradient-to-br from-indigo-600 to-purple-700 border-indigo-500/30 shadow-indigo-500/20":"bg-gradient-to-br from-indigo-500 to-purple-600 border-indigo-400/30 shadow-indigo-400/20":w?"bg-gradient-to-br from-purple-600 to-indigo-700 border-purple-500/30 shadow-purple-500/20":"bg-gradient-to-br from-purple-500 to-indigo-600 border-purple-400/30 shadow-purple-400/20"),children:[o?t.jsx(wT,{className:"h-4 w-4 text-white"}):t.jsx(jT,{className:"h-4 w-4 ml-0.5 text-white"}),o&&t.jsx(E.div,{animate:{opacity:[.8,.3,.8]},transition:{duration:1.5,repeat:1/0},className:"absolute inset-0 rounded-full bg-indigo-400/20 blur-sm"})]}),t.jsxs("div",{className:"ml-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ST,{className:`h-3.5 w-3.5 ${w?"text-indigo-300":"text-indigo-500"}`}),t.jsx("span",{className:`ml-1.5 text-sm font-semibold ${w?"text-gray-200":"text-gray-700"}`,children:"Audio Message"})]}),t.jsxs("span",{className:`text-xs ${w?"text-gray-400":"text-gray-500"}`,children:[f(a)," total length"]})]})]}),t.jsx("div",{className:`flex items-center justify-center rounded-full w-8 h-8 ${o?w?"bg-indigo-900/30":"bg-indigo-100/50":""}`,children:o&&t.jsx(E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:t.jsx(xn,{className:`h-4 w-4 ${w?"text-indigo-300":"text-indigo-500"}`})})})]}),t.jsx("div",{className:"relative z-10 mb-3",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ck,{value:l,className:We("h-2 rounded-full",w?"bg-gray-800/90":"bg-gray-200/90"),indicatorClassName:We("bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all")}),t.jsx(E.div,{className:"absolute top-0 rounded-full w-4 h-4 bg-white border-2 border-indigo-500 shadow-md z-20 -mt-1",style:{left:`calc(${l}% - 8px)`},animate:{scale:o?[1,1.05,1]:1},transition:{duration:1.5,repeat:1/0}})]})}),t.jsxs("div",{className:"relative z-10 flex items-center justify-end space-x-2",children:[t.jsxs(de,{type:"button",variant:"ghost",size:"sm",onClick:b,className:We("h-9 rounded-full px-3 transition-colors border",w?"bg-gray-800/70 hover:bg-gray-700/90 text-gray-300 border-gray-700/50":"bg-gray-200/70 hover:bg-gray-300/70 text-gray-700 border-gray-200/50"),children:[t.jsx(Zn,{className:"h-4 w-4 mr-1.5"}),"Discard"]}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.98},children:t.jsxs(de,{type:"button",size:"sm",onClick:y,className:"h-9 rounded-full px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white border-none shadow-md shadow-purple-500/20",children:[t.jsx(Md,{className:"h-4 w-4 mr-1.5"}),"Send Audio"]})})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-20",children:[t.jsx(E.div,{animate:{scale:[1,1.2,1],rotateZ:[0,180,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:t.jsx(l1,{className:"h-6 w-6 text-purple-500"})}),t.jsx("span",{className:"mt-2 text-xs text-gray-500",children:"Initializing audio..."})]})})})}const vP=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F6=({onSelect:e})=>{const[r,n]=u.useState(""),[a,s]=u.useState([]),i=r?vP.filter(l=>l.includes(r)):vP,o=l=>{e(l),s(c=>{const d=c.filter(m=>m!==l);return[l,...d].slice(0,10)})};return t.jsxs("div",{className:"w-full max-w-[320px] p-2",children:[t.jsx("div",{className:"mb-2",children:t.jsx("input",{type:"text",placeholder:"Search emojis",className:"w-full px-2 py-1 text-sm border rounded bg-background border-border",value:r,onChange:l=>n(l.target.value)})}),a.length>0&&t.jsxs("div",{className:"mb-2",children:[t.jsx("h3",{className:"text-xs font-medium mb-1 text-muted-foreground",children:"Recently Used"}),t.jsx("div",{className:"grid grid-cols-8 gap-1",children:a.map((l,c)=>t.jsx("button",{className:"text-base h-8 w-8 rounded hover:bg-accent flex items-center justify-center",onClick:()=>o(l),children:l},c))})]}),t.jsx(to,{className:"h-64 overflow-y-auto pr-2",children:t.jsx("div",{className:"grid grid-cols-8 gap-1",children:i.map((l,c)=>t.jsx("button",{className:"text-base h-8 w-8 rounded hover:bg-accent flex items-center justify-center",onClick:()=>o(l),children:l},c))})})]})},I0=["","","",""];function bP({messageId:e,messageContent:r,isCurrentUser:n,onReply:a,onCopy:s,onUnsend:i,onDelete:o,onEmojiReact:l,className:c=""}){const{isDarkMode:d}=Za(),[m,h]=u.useState(!1),[p,f]=u.useState(!1),[x,g]=u.useState(!1),[v,y]=u.useState("left"),b=u.useRef(),w=u.useRef(null),S=_=>{l(e,_),h(!1)},N=_=>{l(e,_),f(!1)},P=async()=>{try{await navigator.clipboard.writeText(r),s(r)}catch(_){console.error("Failed to copy text: ",_)}},C=()=>{b.current&&clearTimeout(b.current),y(n?"left":"right"),h(!0),console.log(` [EMOJI-RENDER] Showing ${I0.length} emojis + 1 more button = ${I0.length+1} total elements for ${n?"current user (left)":"other user (right)"}`)},I=()=>{b.current=setTimeout(()=>{h(!1)},300)};u.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const T=()=>{switch(v){case"left":return"left-0";case"right":return"right-0";default:return n?"left-0":"right-0"}};return t.jsxs("div",{ref:w,className:`relative ${c}`,children:[t.jsx(Xt,{children:m&&t.jsxs(E.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2},className:`absolute ${T()} -top-12 z-50 flex items-center space-x-1 px-2 py-1 rounded-full backdrop-blur-md border shadow-lg w-auto ${d?"bg-gray-800/90 border-gray-700/50":"bg-white/90 border-gray-200/50"}`,style:{whiteSpace:"nowrap",minWidth:"max-content"},onMouseEnter:()=>{b.current&&clearTimeout(b.current)},onMouseLeave:()=>{b.current=setTimeout(()=>{h(!1)},300)},children:[I0.map((_,k)=>t.jsx(E.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:k*.05},onClick:()=>S(_),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.jsx("span",{className:"text-lg",children:_})},_)),t.jsx(E.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:I0.length*.05},onClick:_=>{_.stopPropagation(),console.log(' [EMOJI-PICKER] "..." button clicked, current state:',p),f(!p),console.log(" [EMOJI-PICKER] Setting emoji picker state to:",!p)},className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.jsx(gT,{className:"w-4 h-4"})})]})}),p&&bl.createPortal(t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"16px"},onClick:()=>{console.log(" [EMOJI-PICKER] Backdrop clicked, closing modal"),f(!1)},children:t.jsx("div",{style:{backgroundColor:d?"#1f2937":"#ffffff",border:`1px solid ${d?"#374151":"#e5e7eb"}`,borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxWidth:"320px",width:"100%",maxHeight:"80vh",overflow:"hidden"},onClick:_=>{_.stopPropagation(),console.log(" [EMOJI-PICKER] Modal content clicked, keeping open")},children:t.jsx(F6,{onSelect:N})})}),document.body),t.jsx("div",{className:"flex items-center space-x-0.5",children:n?t.jsxs(t.Fragment,{children:[t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:C,onMouseLeave:I,className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors ${d?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-100/50 text-gray-500 hover:text-gray-700"}`,title:"React with emoji",children:t.jsx(Hg,{className:"w-3.5 h-3.5"})}),t.jsxs(Tp,{open:x,onOpenChange:g,children:[t.jsx(Ip,{asChild:!0,children:t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors ${d?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-100/50 text-gray-500 hover:text-gray-700"}`,title:"More actions",children:t.jsx(sC,{className:"w-3.5 h-3.5"})})}),t.jsxs(vm,{side:"left",className:`w-36 ${d?"bg-gray-800/95 border-gray-700/50 backdrop-blur-md":"bg-white/95 border-gray-200/50 backdrop-blur-md"}`,children:[t.jsxs(Oa,{onClick:()=>a(e,r),className:"flex items-center space-x-2 cursor-pointer text-xs py-1.5",children:[t.jsx(c1,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Reply"})]}),t.jsx(Zc,{}),t.jsxs(Oa,{onClick:P,className:"flex items-center space-x-2 cursor-pointer text-xs py-1.5",children:[t.jsx(aC,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Copy"})]}),t.jsx(Zc,{}),t.jsxs(Oa,{onClick:()=>i(e),className:"flex items-center space-x-2 cursor-pointer text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400 text-xs py-1.5",children:[t.jsx(Zn,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Unsend"})]})]})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Tp,{open:x,onOpenChange:g,children:[t.jsx(Ip,{asChild:!0,children:t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors ${d?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-100/50 text-gray-500 hover:text-gray-700"}`,title:"More actions",children:t.jsx(sC,{className:"w-3.5 h-3.5"})})}),t.jsxs(vm,{side:"right",className:`w-36 ${d?"bg-gray-800/95 border-gray-700/50 backdrop-blur-md":"bg-white/95 border-gray-200/50 backdrop-blur-md"}`,children:[t.jsxs(Oa,{onClick:()=>a(e,r),className:"flex items-center space-x-2 cursor-pointer text-xs py-1.5",children:[t.jsx(c1,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Reply"})]}),t.jsx(Zc,{}),t.jsxs(Oa,{onClick:P,className:"flex items-center space-x-2 cursor-pointer text-xs py-1.5",children:[t.jsx(aC,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Copy"})]}),o&&t.jsxs(t.Fragment,{children:[t.jsx(Zc,{}),t.jsxs(Oa,{onClick:()=>o(e),className:"flex items-center space-x-2 cursor-pointer text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400 text-xs py-1.5",children:[t.jsx(Zn,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:"Delete"})]})]})]})]}),t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onMouseEnter:C,onMouseLeave:I,className:`w-7 h-7 flex items-center justify-center rounded-full transition-colors ${d?"hover:bg-gray-700/50 text-gray-400 hover:text-gray-200":"hover:bg-gray-100/50 text-gray-500 hover:text-gray-700"}`,title:"React with emoji",children:t.jsx(Hg,{className:"w-3.5 h-3.5"})})]})})]})}function Ooe({originalMessage:e,onCancel:r,className:n=""}){const{isDarkMode:a}=Za(),s=(c,d=50)=>c.length<=d?c:c.substring(0,d)+"...",i=c=>c.startsWith("_!_IMAGE_!_"),o=c=>c.startsWith("_!_VIDEO_!_"),l=c=>{if(i(c)){const d=c.replace("_!_IMAGE_!_","");return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{src:d,alt:"Image",className:"w-8 h-8 rounded object-cover"}),t.jsx("span",{className:"text-sm",children:" Photo"})]})}return o(c)?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})}),t.jsx("span",{className:"text-sm",children:" Video"})]}):s(c)};return t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex items-center space-x-2 p-2 rounded-lg border-l-4 border-purple-500 ${a?"bg-gray-800/50 border-gray-700":"bg-gray-50/50 border-gray-200"} ${n}`,children:[t.jsx(c1,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:`text-xs font-medium ${a?"text-purple-400":"text-purple-600"}`,children:["Replying to"," ",e.isCurrentUser?"You":e.senderName]}),t.jsx("div",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:l(e.content)})]}),r&&t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:`w-6 h-6 flex items-center justify-center rounded-full transition-colors ${a?"hover:bg-gray-700 text-gray-400 hover:text-gray-200":"hover:bg-gray-200 text-gray-500 hover:text-gray-700"}`,children:t.jsx(mt,{className:"w-4 h-4"})})]})}function Loe({originalMessage:e,className:r="",onScrollToMessage:n}){const{isDarkMode:a}=Za(),s=(d,m=40)=>d.length<=m?d:d.substring(0,m)+"...",i=d=>d.startsWith("_!_IMAGE_!_"),o=d=>d.startsWith("_!_VIDEO_!_"),l=d=>{if(i(d)){const m=d.replace("_!_IMAGE_!_","");return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{src:m,alt:"Image",className:"w-6 h-6 rounded object-cover"}),t.jsx("span",{className:"text-xs",children:" Photo"})]})}return o(d)?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:t.jsx("svg",{className:"w-3 h-3 text-gray-600 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})}),t.jsx("span",{className:"text-xs",children:" Video"})]}):s(d)},c=()=>{n&&n(e.id)};return t.jsxs("div",{onClick:c,className:`mb-2 p-2 rounded border-l-2 border-purple-400/50 transition-all duration-200 ${n?"cursor-pointer hover:bg-purple-50/50 hover:border-purple-500/70 hover:shadow-sm dark:hover:bg-purple-900/20 dark:hover:border-purple-400/80":""} ${a?"bg-gray-700/30 border-gray-600":"bg-gray-100/50 border-gray-300"} ${r}`,children:[t.jsx("div",{className:`text-xs font-medium mb-1 ${a?"text-purple-400":"text-purple-600"}`,children:e.isCurrentUser?"You":e.senderName}),t.jsx("div",{className:`text-xs ${a?"text-gray-400":"text-gray-600"}`,children:l(e.content)})]})}function $oe({userId:e,matchId:r,showDetailedStatus:n=!0,className:a}){const{getUserPresence:s,isUserInChat:i}=Bm(),{data:o}=dt({queryKey:["/api/matches"],staleTime:0,retry:!1}),l=o==null?void 0:o.find(x=>{var g;return(g=x.user)!=null&&g.id?x.user.id===e:x.userId1===e||x.userId2===e}),c=l==null?void 0:l.user;u.useEffect(()=>{const x=g=>{const v=g,{userId:y,ghostMode:b}=v.detail||{};y===e&&(console.log(`[UserPresenceIndicator] Ghost Mode changed for user ${e}: ${b}`),me.invalidateQueries({queryKey:["/api/matches"]}))};return window.addEventListener("websocket:ghostModeChanged",x),()=>{window.removeEventListener("websocket:ghostModeChanged",x)}},[e]);const d=s(e),m=r?i(e,r):!1;if(!d)return null;const h=(c==null?void 0:c.ghostMode)===!0,p=h?"offline":d.status;if(h)return null;const f=(()=>{try{if(d.lastSeen){const x=new Date(d.lastSeen);if(!isNaN(x.getTime()))return doe(x,{addSuffix:!0})}return"a while ago"}catch(x){return console.error("Error formatting lastSeen time:",x),"a while ago"}})();return t.jsxs("div",{className:We("flex items-center text-xs",a),children:[t.jsx("div",{className:We("w-2 h-2 rounded-full mr-1.5 transition-all duration-300",p==="online"?m?"bg-purple-500":"bg-green-500":"bg-gray-400")}),n&&t.jsx("span",{className:We("transition-colors duration-300",m&&p==="online"?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300"),children:p==="online"?m?"In Chat":"Online":h?"":`Last seen ${f}`})]})}function Foe({matchId:e,userId:r,className:n}){var b;const{isTyping:a,getUserPresence:s,isUserInChat:i}=Bm(),[o,l]=u.useState(!1),{data:c}=dt({queryKey:["/api/matches"],staleTime:0,retry:!1}),d=c==null?void 0:c.find(w=>{var S;return(S=w.user)!=null&&S.id?w.user.id===r:w.userId1===r||w.userId2===r}),m=((b=d==null?void 0:d.user)==null?void 0:b.ghostMode)===!0,h=a.get(e)||!1,p=s(r),f=(p==null?void 0:p.status)==="online",x=i(r,e);if(u.useEffect(()=>{let w;return h?(l(!0),w&&(clearTimeout(w),w=void 0)):w=setTimeout(()=>{l(!1)},1e3),()=>{w&&clearTimeout(w)}},[h]),!f||!o||m)return null;const g=x?"bg-purple-100 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-800/50 shadow-sm":"bg-gray-100 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700/50",v=x?"text-purple-600 dark:text-purple-400 font-medium":"text-gray-600 dark:text-gray-300",y=x?"typing-indicator-purple":"typing-indicator";return t.jsxs("div",{className:We(`flex items-center space-x-1.5 text-xs px-2.5 py-1.5 rounded-xl transition-all duration-300 ${g}`,n),children:[t.jsxs("div",{className:y,children:[t.jsx("span",{}),t.jsx("span",{}),t.jsx("span",{})]}),t.jsx("span",{className:v,children:x?"typing in chat...":"typing..."})]})}function Uoe({onCapture:e,onCancel:r}){const[n,a]=u.useState(null),[s,i]=u.useState(null),[o,l]=u.useState(!1),[c,d]=u.useState(0),[m,h]=u.useState("environment"),[p,f]=u.useState(null),[x,g]=u.useState(!1),v=u.useRef(null),y=u.useRef(null),b=u.useRef(null),w=u.useRef(null),S=u.useRef([]),N=u.useRef(null),P=u.useCallback(async()=>{try{const R=(await navigator.mediaDevices.enumerateDevices()).filter(ae=>ae.kind==="videoinput");console.log("Available video devices:",R);const B=R.filter(ae=>{const $=ae.label.toLowerCase();return!$.includes("obs")&&!$.includes("virtual")&&!$.includes("screen")&&!$.includes("capture")&&!$.includes("imaging edge")&&!$.includes("ecamm")&&!$.includes("streamlabs")&&!$.includes("wirecast")&&!$.includes("manycam")&&!$.includes("camtasia")&&!$.includes("snapcamera")&&!$.includes("mmhmm")&&!$.includes("camo")&&!$.includes("reincubate")&&!$.includes("nvidia broadcast")});console.log("Physical cameras found:",B);let O;if(B.length>0){let ae;m==="user"?ae=B.find($=>$.label.toLowerCase().includes("front")||$.label.toLowerCase().includes("user")||$.label.toLowerCase().includes("facetime"))||B[0]:ae=B.find($=>$.label.toLowerCase().includes("back")||$.label.toLowerCase().includes("rear")||$.label.toLowerCase().includes("environment"))||B[B.length-1],O={video:{deviceId:{exact:ae.deviceId},width:{ideal:1920,max:1920},height:{ideal:1080,max:1080}},audio:!0},console.log("Using specific camera:",ae.label)}else O={video:{facingMode:m,width:{ideal:1920,max:1920},height:{ideal:1080,max:1080}},audio:!0},console.log("Using facingMode fallback:",m);const X=await navigator.mediaDevices.getUserMedia(O);a(X),v.current&&(v.current.srcObject=X),console.log("Camera initialized successfully")}catch(M){console.error("Camera access error:",M);try{const R={video:{facingMode:m,width:{ideal:1280,max:1280},height:{ideal:720,max:720}},audio:!0},B=await navigator.mediaDevices.getUserMedia(R);a(B),v.current&&(v.current.srcObject=B),console.log("Camera initialized with fallback constraints")}catch(R){console.error("Fallback camera access failed:",R)}}},[m]),C=()=>{h(M=>M==="user"?"environment":"user")},I=()=>{if(!v.current||!y.current)return;const M=y.current,R=v.current;M.width=R.videoWidth,M.height=R.videoHeight;const B=M.getContext("2d");B&&(B.drawImage(R,0,0),M.toBlob(O=>{if(O){const X=URL.createObjectURL(O);i({url:X,blob:O,type:"image"})}},"image/jpeg",.9))},T=()=>{if(console.log("startRecording called, stream available:",!!n),!n){console.error("No stream available for recording");return}S.current=[];try{const M=["video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm","video/mp4"];let R="video/webm";for(const O of M)if(MediaRecorder.isTypeSupported(O)){R=O,console.log("Using MIME type:",R);break}const B=new MediaRecorder(n,{mimeType:R});B.ondataavailable=O=>{console.log("Data available event, size:",O.data.size),O.data.size>0&&S.current.push(O.data)},B.onstop=()=>{console.log("Recording stopped, chunks:",S.current.length);const O=new Blob(S.current,{type:R});console.log("Created blob, size:",O.size);const X=URL.createObjectURL(O);i({url:X,blob:O,type:"video"}),l(!1),d(0)},B.onerror=O=>{console.error("MediaRecorder error:",O)},B.start(100),b.current=B,l(!0),console.log("Recording started successfully"),w.current=setInterval(()=>{d(O=>O+1)},1e3)}catch(M){console.error("Failed to start recording:",M)}},_=()=>{var M;((M=b.current)==null?void 0:M.state)==="recording"&&b.current.stop(),w.current&&(clearInterval(w.current),w.current=null)},k=()=>{console.log("Capture start - setting hold state"),g(!0),f(Date.now()),N.current=setTimeout(()=>{console.log("Hold timeout reached - starting video recording"),T()},500)},A=()=>{console.log("Capture end - clearing hold state"),g(!1);const M=p?Date.now()-p:0;N.current&&(clearTimeout(N.current),N.current=null,console.log("Cleared hold timeout")),o?(console.log("Stopping video recording"),_()):M<500&&(console.log("Quick tap detected - taking photo"),I()),f(null)},F=()=>{s&&e(s.blob,s.type)},V=()=>{s&&(URL.revokeObjectURL(s.url),i(null))};u.useEffect(()=>(P(),()=>{n&&n.getTracks().forEach(M=>M.stop()),w.current&&clearInterval(w.current),N.current&&clearTimeout(N.current),s&&URL.revokeObjectURL(s.url)}),[]),u.useEffect(()=>{n&&(n.getTracks().forEach(M=>M.stop()),P())},[m,P]);const J=M=>{const R=Math.floor(M/60),B=M%60;return`${R}:${B.toString().padStart(2,"0")}`};return t.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 bg-black z-50 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/50 backdrop-blur-sm",children:[t.jsx(de,{variant:"ghost",size:"icon",onClick:r,className:"text-white hover:bg-white/10",children:t.jsx(mt,{className:"h-6 w-6"})}),t.jsx("div",{className:"flex items-center space-x-2",children:o&&t.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),t.jsx("span",{className:"font-mono text-sm",children:J(c)})]})}),t.jsx(de,{variant:"ghost",size:"icon",onClick:C,className:"text-white hover:bg-white/10",children:t.jsx(FG,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"flex-1 relative overflow-hidden",children:s?t.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center",children:s.type==="image"?t.jsx("img",{src:s.url,alt:"Captured",className:"max-w-full max-h-full object-contain"}):t.jsx("video",{src:s.url,controls:!0,className:"max-w-full max-h-full object-contain"})}):t.jsxs(t.Fragment,{children:[t.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),t.jsx(Xt,{children:x&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:t.jsxs("div",{className:"text-white text-center",children:[t.jsx(kT,{className:"h-12 w-12 mx-auto mb-2 animate-pulse"}),t.jsx("p",{className:"text-sm",children:"Hold for video..."})]})})})]})}),t.jsx("div",{className:"p-6 bg-black/50 backdrop-blur-sm",children:s?t.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[t.jsxs(de,{variant:"outline",size:"lg",onClick:V,className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[t.jsx(NT,{className:"h-5 w-5 mr-2"}),"Retake"]}),t.jsxs(de,{size:"lg",onClick:F,className:"bg-blue-500 hover:bg-blue-600 text-white px-8",children:[t.jsx(Md,{className:"h-5 w-5 mr-2"}),"Send"]})]}):t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-white/70 text-sm mb-4",children:"Tap for photo  Hold for video"}),t.jsx(E.button,{onMouseDown:k,onMouseUp:A,onMouseLeave:A,onTouchStart:k,onTouchEnd:A,whileHover:{scale:1.05},whileTap:{scale:.95},className:We("w-20 h-20 rounded-full border-4 border-white flex items-center justify-center transition-all",o?"bg-red-500":x?"bg-white/30":"bg-white/10","hover:bg-white/20 active:bg-white/30"),children:o?t.jsx("div",{className:"w-6 h-6 bg-white rounded-sm"}):t.jsx(Ln,{className:"h-8 w-8 text-white"})})]})})}),t.jsx("canvas",{ref:y,className:"hidden"})]})}var Boe=[" ","Enter","ArrowUp","ArrowDown"],Goe=[" ","Enter"],Df="Select",[Fy,Uy,Voe]=Lm(Df),[Km,gye]=ps(Df,[Voe,Wm]),By=Wm(),[zoe,Ic]=Km(Df),[Woe,Hoe]=Km(Df),U6=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:h,disabled:p,required:f,form:x}=e,g=By(r),[v,y]=u.useState(null),[b,w]=u.useState(null),[S,N]=u.useState(!1),P=Mc(d),[C=!1,I]=Es({prop:a,defaultProp:s,onChange:i}),[T,_]=Es({prop:o,defaultProp:l,onChange:c}),k=u.useRef(null),A=v?x||!!v.closest("form"):!0,[F,V]=u.useState(new Set),J=Array.from(F).map(M=>M.props.value).join(";");return t.jsx(R2,{...g,children:t.jsxs(zoe,{required:f,scope:r,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:Aa(),value:T,onValueChange:_,open:C,onOpenChange:I,dir:P,triggerPointerDownPosRef:k,disabled:p,children:[t.jsx(Fy.Provider,{scope:r,children:t.jsx(Woe,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(M=>{V(R=>new Set(R).add(M))},[]),onNativeOptionRemove:u.useCallback(M=>{V(R=>{const B=new Set(R);return B.delete(M),B})},[]),children:n})}),A?t.jsxs(mL,{"aria-hidden":!0,required:f,tabIndex:-1,name:m,autoComplete:h,value:T,onChange:M=>_(M.target.value),disabled:p,form:x,children:[T===void 0?t.jsx("option",{value:""}):null,Array.from(F)]},J):null]})})};U6.displayName=Df;var B6="SelectTrigger",G6=u.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=By(n),o=Ic(B6,n),l=o.disabled||a,c=sr(r,o.onTriggerChange),d=Uy(n),m=u.useRef("touch"),[h,p,f]=hL(g=>{const v=d().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=pL(v,g,y);b!==void 0&&o.onValueChange(b.value)}),x=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return t.jsx(wy,{asChild:!0,...i,children:t.jsx(bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uL(o.value)?"":void 0,...s,ref:c,onClick:it(s.onClick,g=>{g.currentTarget.focus(),m.current!=="mouse"&&x(g)}),onPointerDown:it(s.onPointerDown,g=>{m.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:it(s.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&Boe.includes(g.key)&&(x(),g.preventDefault())})})})});G6.displayName=B6;var V6="SelectValue",z6=u.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...l}=e,c=Ic(V6,n),{onValueNodeHasChildrenChange:d}=c,m=i!==void 0,h=sr(r,c.onValueNodeChange);return Fa(()=>{d(m)},[d,m]),t.jsx(bt.span,{...l,ref:h,style:{pointerEvents:"none"},children:uL(c.value)?t.jsx(t.Fragment,{children:o}):i})});z6.displayName=V6;var Koe="SelectIcon",W6=u.forwardRef((e,r)=>{const{__scopeSelect:n,children:a,...s}=e;return t.jsx(bt.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});W6.displayName=Koe;var qoe="SelectPortal",H6=e=>t.jsx(Fm,{asChild:!0,...e});H6.displayName=qoe;var Rd="SelectContent",K6=u.forwardRef((e,r)=>{const n=Ic(Rd,e.__scopeSelect),[a,s]=u.useState();if(Fa(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?bl.createPortal(t.jsx(q6,{scope:e.__scopeSelect,children:t.jsx(Fy.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Y6,{...e,ref:r})});K6.displayName=Rd;var Vi=10,[q6,_c]=Km(Rd),Yoe="SelectContentImpl",Y6=u.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=Ic(Rd,n),[w,S]=u.useState(null),[N,P]=u.useState(null),C=sr(r,ee=>S(ee)),[I,T]=u.useState(null),[_,k]=u.useState(null),A=Uy(n),[F,V]=u.useState(!1),J=u.useRef(!1);u.useEffect(()=>{if(w)return Ny(w)},[w]),xy();const M=u.useCallback(ee=>{const[Z,...Se]=A().map(se=>se.ref.current),[Ue]=Se.slice(-1),De=document.activeElement;for(const se of ee)if(se===De||(se==null||se.scrollIntoView({block:"nearest"}),se===Z&&N&&(N.scrollTop=0),se===Ue&&N&&(N.scrollTop=N.scrollHeight),se==null||se.focus(),document.activeElement!==De))return},[A,N]),R=u.useCallback(()=>M([I,w]),[M,I,w]);u.useEffect(()=>{F&&R()},[F,R]);const{onOpenChange:B,triggerPointerDownPosRef:O}=b;u.useEffect(()=>{if(w){let ee={x:0,y:0};const Z=Ue=>{var De,se;ee={x:Math.abs(Math.round(Ue.pageX)-(((De=O.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((se=O.current)==null?void 0:se.y)??0))}},Se=Ue=>{ee.x<=10&&ee.y<=10?Ue.preventDefault():w.contains(Ue.target)||B(!1),document.removeEventListener("pointermove",Z),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Se,{capture:!0})}}},[w,B,O]),u.useEffect(()=>{const ee=()=>B(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[B]);const[X,ae]=hL(ee=>{const Z=A().filter(De=>!De.disabled),Se=Z.find(De=>De.ref.current===document.activeElement),Ue=pL(Z,ee,Se);Ue&&setTimeout(()=>Ue.ref.current.focus())}),$=u.useCallback((ee,Z,Se)=>{const Ue=!J.current&&!Se;(b.value!==void 0&&b.value===Z||Ue)&&(T(ee),Ue&&(J.current=!0))},[b.value]),re=u.useCallback(()=>w==null?void 0:w.focus(),[w]),le=u.useCallback((ee,Z,Se)=>{const Ue=!J.current&&!Se;(b.value!==void 0&&b.value===Z||Ue)&&k(ee)},[b.value]),ce=a==="popper"?q1:Q6,ue=ce===q1?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return t.jsx(q6,{scope:n,content:w,viewport:N,onViewportChange:P,itemRefCallback:$,selectedItem:I,onItemLeave:re,itemTextRefCallback:le,focusSelectedItem:R,selectedItemText:_,position:a,isPositioned:F,searchRef:X,children:t.jsx(Cf,{as:_o,allowPinchZoom:!0,children:t.jsx(Nf,{asChild:!0,trapped:b.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:it(s,ee=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),ee.preventDefault()}),children:t.jsx($m,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:t.jsx(ce,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ee=>ee.preventDefault(),...y,...ue,onPlaced:()=>V(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:it(y.onKeyDown,ee=>{const Z=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Z&&ee.key.length===1&&ae(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ue=A().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const De=ee.target,se=Ue.indexOf(De);Ue=Ue.slice(se+1)}setTimeout(()=>M(Ue)),ee.preventDefault()}})})})})})})});Y6.displayName=Yoe;var Qoe="SelectItemAlignedPosition",Q6=u.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=Ic(Rd,n),o=_c(Rd,n),[l,c]=u.useState(null),[d,m]=u.useState(null),h=sr(r,C=>m(C)),p=Uy(n),f=u.useRef(!1),x=u.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&y){const C=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),_=y.getBoundingClientRect();if(i.dir!=="rtl"){const De=_.left-I.left,se=T.left-De,L=C.left-se,q=C.width+L,H=Math.max(q,I.width),ge=window.innerWidth-Vi,ke=_p(se,[Vi,Math.max(Vi,ge-H)]);l.style.minWidth=q+"px",l.style.left=ke+"px"}else{const De=I.right-_.right,se=window.innerWidth-T.right-De,L=window.innerWidth-C.right-se,q=C.width+L,H=Math.max(q,I.width),ge=window.innerWidth-Vi,ke=_p(se,[Vi,Math.max(Vi,ge-H)]);l.style.minWidth=q+"px",l.style.right=ke+"px"}const k=p(),A=window.innerHeight-Vi*2,F=g.scrollHeight,V=window.getComputedStyle(d),J=parseInt(V.borderTopWidth,10),M=parseInt(V.paddingTop,10),R=parseInt(V.borderBottomWidth,10),B=parseInt(V.paddingBottom,10),O=J+M+F+B+R,X=Math.min(v.offsetHeight*5,O),ae=window.getComputedStyle(g),$=parseInt(ae.paddingTop,10),re=parseInt(ae.paddingBottom,10),le=C.top+C.height/2-Vi,ce=A-le,ue=v.offsetHeight/2,ee=v.offsetTop+ue,Z=J+M+ee,Se=O-Z;if(Z<=le){const De=k.length>0&&v===k[k.length-1].ref.current;l.style.bottom="0px";const se=d.clientHeight-g.offsetTop-g.offsetHeight,L=Math.max(ce,ue+(De?re:0)+se+R),q=Z+L;l.style.height=q+"px"}else{const De=k.length>0&&v===k[0].ref.current;l.style.top="0px";const L=Math.max(le,J+g.offsetTop+(De?$:0)+ue)+Se;l.style.height=L+"px",g.scrollTop=Z-le+g.offsetTop}l.style.margin=`${Vi}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=A+"px",a==null||a(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,v,y,i.dir,a]);Fa(()=>w(),[w]);const[S,N]=u.useState();Fa(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const P=u.useCallback(C=>{C&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return t.jsx(Xoe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:P,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:t.jsx(bt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Q6.displayName=Qoe;var Joe="SelectPopperPosition",q1=u.forwardRef((e,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Vi,...i}=e,o=By(n);return t.jsx(O2,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q1.displayName=Joe;var[Xoe,Ek]=Km(Rd,{}),Y1="SelectViewport",J6=u.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=_c(Y1,n),o=Ek(Y1,n),l=sr(r,i.onViewportChange),c=u.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(Fy.Slot,{scope:n,children:t.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:it(s.onScroll,d=>{const m=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-m.scrollTop);if(f>0){const x=window.innerHeight-Vi*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),y=Math.max(g,v);if(y<x){const b=y+f,w=Math.min(x,b),S=b-w;h.style.height=w+"px",h.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});J6.displayName=Y1;var X6="SelectGroup",[Zoe,ele]=Km(X6),Z6=u.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=Aa();return t.jsx(Zoe,{scope:n,id:s,children:t.jsx(bt.div,{role:"group","aria-labelledby":s,...a,ref:r})})});Z6.displayName=X6;var eL="SelectLabel",tL=u.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=ele(eL,n);return t.jsx(bt.div,{id:s.id,...a,ref:r})});tL.displayName=eL;var Ax="SelectItem",[tle,rL]=Km(Ax),nL=u.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,l=Ic(Ax,n),c=_c(Ax,n),d=l.value===a,[m,h]=u.useState(i??""),[p,f]=u.useState(!1),x=sr(r,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,a,s)}),g=Aa(),v=u.useRef("touch"),y=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(tle,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:u.useCallback(b=>{h(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:t.jsx(Fy.ItemSlot,{scope:n,value:a,disabled:s,textValue:m,children:t.jsx(bt.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:it(o.onFocus,()=>f(!0)),onBlur:it(o.onBlur,()=>f(!1)),onClick:it(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:it(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:it(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:it(o.onPointerMove,b=>{var w;v.current=b.pointerType,s?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:it(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(Goe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});nL.displayName=Ax;var Dh="SelectItemText",aL=u.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=Ic(Dh,n),l=_c(Dh,n),c=rL(Dh,n),d=Hoe(Dh,n),[m,h]=u.useState(null),p=sr(r,y=>h(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),f=m==null?void 0:m.textContent,x=u.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return Fa(()=>(g(x),()=>v(x)),[g,v,x]),t.jsxs(t.Fragment,{children:[t.jsx(bt.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bl.createPortal(i.children,o.valueNode):null]})});aL.displayName=Dh;var sL="SelectItemIndicator",iL=u.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return rL(sL,n).isSelected?t.jsx(bt.span,{"aria-hidden":!0,...a,ref:r}):null});iL.displayName=sL;var Q1="SelectScrollUpButton",oL=u.forwardRef((e,r)=>{const n=_c(Q1,e.__scopeSelect),a=Ek(Q1,e.__scopeSelect),[s,i]=u.useState(!1),o=sr(r,a.onScrollButtonChange);return Fa(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(cL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oL.displayName=Q1;var J1="SelectScrollDownButton",lL=u.forwardRef((e,r)=>{const n=_c(J1,e.__scopeSelect),a=Ek(J1,e.__scopeSelect),[s,i]=u.useState(!1),o=sr(r,a.onScrollButtonChange);return Fa(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<d;i(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(cL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lL.displayName=J1;var cL=u.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=_c("SelectScrollButton",n),o=u.useRef(null),l=Uy(n),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Fa(()=>{var m;const d=l().find(h=>h.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),t.jsx(bt.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:it(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:it(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:it(s.onPointerLeave,()=>{c()})})}),rle="SelectSeparator",dL=u.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return t.jsx(bt.div,{"aria-hidden":!0,...a,ref:r})});dL.displayName=rle;var X1="SelectArrow",nle=u.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=By(n),i=Ic(X1,n),o=_c(X1,n);return i.open&&o.position==="popper"?t.jsx(L2,{...s,...a,ref:r}):null});nle.displayName=X1;function uL(e){return e===""||e===void 0}var mL=u.forwardRef((e,r)=>{const{value:n,...a}=e,s=u.useRef(null),i=sr(r,s),o=If(n);return u.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&m){const h=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(h)}},[o,n]),t.jsx(oy,{asChild:!0,children:t.jsx("select",{...a,ref:i,defaultValue:n})})});mL.displayName="BubbleSelect";function hL(e){const r=zn(e),n=u.useRef(""),a=u.useRef(0),s=u.useCallback(o=>{const l=n.current+o;r(l),function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[r]),i=u.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function pL(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=ale(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function ale(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var sle=U6,fL=G6,ile=z6,ole=W6,lle=H6,gL=K6,cle=J6,dle=Z6,xL=tL,yL=nL,ule=aL,mle=iL,vL=oL,bL=lL,wL=dL;const fr=sle,wP=dle,gr=ile,hr=u.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(fL,{ref:a,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,t.jsx(ole,{asChild:!0,children:t.jsx(ls,{className:"h-4 w-4 opacity-50"})})]}));hr.displayName=fL.displayName;const jL=u.forwardRef(({className:e,...r},n)=>t.jsx(vL,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(ON,{className:"h-4 w-4"})}));jL.displayName=vL.displayName;const NL=u.forwardRef(({className:e,...r},n)=>t.jsx(bL,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...r,children:t.jsx(ls,{className:"h-4 w-4"})}));NL.displayName=bL.displayName;const pr=u.forwardRef(({className:e,children:r,position:n="popper",...a},s)=>t.jsx(lle,{children:t.jsxs(gL,{ref:s,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[t.jsx(jL,{}),t.jsx(cle,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(NL,{})]})}));pr.displayName=gL.displayName;const hle=u.forwardRef(({className:e,...r},n)=>t.jsx(xL,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));hle.displayName=xL.displayName;const G=u.forwardRef(({className:e,children:r,...n},a)=>t.jsxs(yL,{ref:a,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(mle,{children:t.jsx(At,{className:"h-4 w-4"})})}),t.jsx(ule,{children:r})]}));G.displayName=yL.displayName;const ple=u.forwardRef(({className:e,...r},n)=>t.jsx(wL,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...r}));ple.displayName=wL.displayName;const fle=[{value:"inappropriate_behavior",label:"Inappropriate Behavior"},{value:"harassment",label:"Harassment or Bullying"},{value:"spam",label:"Spam or Unwanted Messages"},{value:"fake_profile",label:"Fake Profile or Catfishing"},{value:"offensive_content",label:"Offensive or Harmful Content"},{value:"scam_fraud",label:"Scam or Fraud Attempt"},{value:"underage",label:"Suspected Underage User"},{value:"violence_threats",label:"Violence or Threats"},{value:"other",label:"Other"}];function gle({isOpen:e,onClose:r,reportedUserId:n,reportedUserName:a,matchId:s}){const[i,o]=u.useState(""),[l,c]=u.useState(""),[d,m]=u.useState(!1),{toast:h}=Wr(),p=Ma(),[,f]=lr(),x=wt({mutationFn:async y=>ze("/api/report-user",{method:"POST",data:y}),onSuccess:()=>{m(!0),p.invalidateQueries({queryKey:["/api/matches"]}),p.invalidateQueries({queryKey:["/api/messages"]}),h({title:"Report Submitted",description:"Thank you for helping keep our community safe. The user has been immediately unmatched."}),setTimeout(()=>{v(),f("/messages")},3e3)},onError:y=>{h({title:"Error",description:y.message||"Failed to submit report. Please try again.",variant:"destructive"})}}),g=()=>{if(!i){h({title:"Error",description:"Please select a reason for reporting.",variant:"destructive"});return}x.mutate({reportedUserId:n,reason:i,description:l,matchId:s})},v=()=>{o(""),c(""),m(!1),r()};return d?t.jsx(Or,{open:e,onOpenChange:v,children:t.jsx(Dr,{className:"w-[90vw] max-w-[400px] max-h-[85vh] p-0 overflow-hidden border-0 bg-transparent shadow-none",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-900 via-teal-900 to-green-900 rounded-3xl border border-emerald-500/30 backdrop-blur-xl shadow-2xl",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[t.jsx(E.div,{className:"absolute -top-10 -left-10 w-32 h-32 bg-emerald-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.4,.7,.4]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-teal-500/15 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:.5}})]}),t.jsxs("div",{className:"relative z-10 text-center py-5 px-4",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,ease:"backOut"},className:"mx-auto w-20 h-20 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-3xl flex items-center justify-center mb-6 shadow-lg shadow-emerald-500/25",children:t.jsx(ds,{className:"w-10 h-10 text-white"})}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-emerald-200 to-teal-200 bg-clip-text text-transparent mb-3",children:"Report Submitted Successfully"}),t.jsx("p",{className:"text-gray-300 text-sm mb-6 leading-relaxed",children:"Thank you for helping keep our community safe. We take all reports seriously and will investigate immediately."}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/30 rounded-2xl p-4 backdrop-blur-sm",children:[t.jsx("p",{className:"text-emerald-300 font-medium mb-3",children:"Immediate Actions Taken:"}),t.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[t.jsxs("p",{children:[" You and ",t.jsx("span",{className:"text-emerald-300",children:a})," have been instantly unmatched"]}),t.jsx("p",{children:" Both users can no longer contact each other"}),t.jsx("p",{children:" Our moderation team has been notified"})]})]})]})]})]})})}):t.jsx(Or,{open:e,onOpenChange:v,children:t.jsx(Dr,{className:"w-[90vw] max-w-[400px] max-h-[85vh] p-0 overflow-hidden border-0 bg-transparent shadow-none",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 rounded-3xl border border-cyan-500/20 backdrop-blur-xl shadow-2xl",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[t.jsx(E.div,{className:"absolute -top-10 -left-10 w-32 h-32 bg-cyan-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.4,.2,.4]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),t.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-indigo-500/10 rounded-full blur-2xl",animate:{scale:[1,1.3,1],opacity:[.2,.5,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:2}})]}),t.jsxs("div",{className:"relative z-10 p-4",children:[t.jsxs(pn,{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-lg shadow-red-500/25",children:t.jsx(pm,{className:"w-4 h-4 text-white"})}),t.jsx(Jr,{className:"text-lg font-bold bg-gradient-to-r from-white to-cyan-100 bg-clip-text text-transparent",children:"Report User"})]}),t.jsxs(Gs,{className:"text-xs text-gray-300 leading-relaxed",children:["Report ",t.jsx("strong",{className:"text-cyan-300",children:a})," for community guideline violations. This action will immediately unmatch you from this user and notify our moderation team."]})]}),t.jsxs("div",{className:"space-y-3 mt-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium mb-2 block text-gray-300",children:["Reason for Report ",t.jsx("span",{className:"text-cyan-400",children:"*"})]}),t.jsxs(fr,{value:i,onValueChange:o,children:[t.jsx(hr,{className:"bg-black/20 border-cyan-500/30 text-white rounded-2xl backdrop-blur-sm hover:border-cyan-400/50 transition-colors",children:t.jsx(gr,{placeholder:"Select a reason...",className:"text-gray-400"})}),t.jsx(pr,{className:"bg-slate-900 border-cyan-500/30 rounded-2xl backdrop-blur-xl",children:fle.map(y=>t.jsx(G,{value:y.value,className:"text-gray-300 hover:bg-cyan-500/10 hover:text-cyan-300 rounded-xl",children:y.label},y.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium mb-2 block text-gray-300",children:"Additional Details (Optional)"}),t.jsx(oa,{value:l,onChange:y=>c(y.target.value),placeholder:"Provide any additional context...",rows:2,className:"resize-none bg-black/20 border-cyan-500/30 text-white placeholder:text-gray-500 rounded-2xl backdrop-blur-sm hover:border-cyan-400/50 focus:border-cyan-400 transition-colors"})]}),t.jsx("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-2xl p-3 backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center flex-shrink-0",children:t.jsx(gn,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"text-xs text-gray-300",children:[t.jsx("p",{className:"font-medium mb-1 text-cyan-300",children:"Your Safety Matters"}),t.jsx("p",{className:"leading-relaxed text-xs",children:"Submitting this report will immediately unmatch you from this user and prevent all future contact. Our team reviews all reports within 24 hours."})]})]})})]}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx(de,{variant:"outline",onClick:v,className:"flex-1 bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800/50 hover:border-gray-500 rounded-2xl backdrop-blur-sm transition-all duration-200",disabled:x.isPending,children:"Cancel"}),t.jsx(de,{onClick:g,disabled:x.isPending||!i,className:"flex-1 bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-400 hover:to-purple-500 text-white font-medium rounded-2xl shadow-lg shadow-cyan-500/25 hover:shadow-cyan-500/40 hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:hover:scale-100",children:x.isPending?"Submitting...":"Submit Report"})]})]})]})})})}const jP={"chat.errorLoading":"Error loading messages","common.retry":"Try Again","chat.autoDelete":"Auto-Delete Messages","chat.autoDeleteNever":"Never","chat.autoDeleteAlways":"Always","chat.autoDeleteCustom":"Custom","chat.autoDeleteMinutes":"Minutes","chat.autoDeleteHours":"Hours","chat.autoDeleteDays":"Days","chat.autoDeleteWeeks":"Weeks","chat.autoDeleteMonths":"Months","messages.typing":"Typing...","messages.sendMessage":"Send message","chat.settingsTitle":"Chat Settings","chat.defaultAutoDelete":"Default Auto Delete","chat.customAutoDelete":"Custom Auto Delete","common.yes":"Yes","common.no":"No"},xle=e=>{if(!e)return null;try{return typeof e=="string"?JSON.parse(e):e}catch(r){return console.error("Failed to parse match metadata:",r),null}},yle=({otherUserId:e})=>{const r=Ma(),[n,a]=lr(),{user:s}=Sr(),{data:i,isLoading:o}=dt({queryKey:[`/api/matches/between/${e}`],enabled:!!e,refetchInterval:2e3}),{data:l}=dt({queryKey:[`/api/suite/networking-profile/${e}`],enabled:!!e}),{data:c}=dt({queryKey:[`/api/suite/mentorship-profile/${e}`],enabled:!!e}),{data:d}=dt({queryKey:[`/api/suite/job-profile/${e}`],enabled:!!e});if(u.useEffect(()=>((()=>{r.invalidateQueries({queryKey:[`/api/matches/between/${e}`]})})(),()=>{}),[e,r]),o||!i||i.length===0)return null;console.log(`[BADGE-DEBUG] Processing ${i.length} matches for user ${e}:`,i);const m=new Set,h={};if(i.forEach(f=>{const x=xle(f.metadata);x&&x.origin&&(x.origin==="MEET"?(m.add("MEET"),h.MEET=x,x.additionalConnections&&Array.isArray(x.additionalConnections)&&x.additionalConnections.forEach(g=>{g==="MEET"||(m.add(g),h[g]={origin:"SUITE",suiteType:g})})):x.origin==="SUITE"&&x.suiteType&&(m.add(x.suiteType),h[x.suiteType]=x,x.additionalConnections&&Array.isArray(x.additionalConnections)&&x.additionalConnections.forEach(g=>{g==="MEET"?(m.add("MEET"),h.MEET={origin:"MEET"}):(m.add(g),h[g]={...x,suiteType:g})})))}),console.log(`[BADGE-DEBUG] Extracted origins for user ${e}:`,Array.from(m)),console.log("[BADGE-DEBUG] Origin data:",h),m.size===0)return null;const p=f=>{const x=g=>{console.log(`${g} badge clicked!`,{networkingProfile:l,mentorshipProfile:c,jobsProfile:d}),g==="networking"?a(l!=null&&l.id?`/suite/compatibility/${l.id}`:"/suite/network"):g==="mentorship"?a(c!=null&&c.id?`/suite/mentorship/compatibility/${c.id}`:"/suite/mentorship"):g==="jobs"?a(d!=null&&d.id?`/suite/jobs/compatibility/${d.id}`:"/suite/jobs"):g==="MEET"&&a(`/match-dashboard/users/${(s==null?void 0:s.id)||e}/${e}`)};return f==="MEET"?t.jsx("button",{onClick:()=>x("MEET"),className:"inline-block px-1 py-0.5 rounded bg-gradient-to-b from-pink-200 to-pink-300 dark:from-pink-800 dark:to-pink-900 text-pink-800 dark:text-pink-200 text-[8px] font-medium shadow-lg shadow-pink-500/50 dark:shadow-pink-700/50 border border-pink-300/50 dark:border-pink-600/50 hover:scale-105 transition-transform cursor-pointer",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)",boxShadow:"0 4px 8px rgba(236, 72, 153, 0.3), inset 0 1px 2px rgba(255,255,255,0.5), inset 0 -1px 2px rgba(0,0,0,0.1)"},title:"View MEET compatibility",children:"via MEET"},"MEET"):f==="networking"?t.jsx("button",{onClick:()=>x("networking"),className:"inline-block px-1 py-0.5 rounded bg-gradient-to-b from-emerald-200 to-emerald-300 dark:from-emerald-800 dark:to-emerald-900 text-emerald-800 dark:text-emerald-200 text-[8px] font-medium shadow-lg shadow-emerald-500/50 dark:shadow-emerald-700/50 border border-emerald-300/50 dark:border-emerald-600/50 hover:scale-105 transition-transform cursor-pointer",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)",boxShadow:"0 4px 8px rgba(16, 185, 129, 0.3), inset 0 1px 2px rgba(255,255,255,0.5), inset 0 -1px 2px rgba(0,0,0,0.1)"},title:"View Networking compatibility",children:"via Networking"},"networking"):f==="mentorship"?t.jsx("button",{onClick:()=>x("mentorship"),className:"inline-block px-1 py-0.5 rounded bg-gradient-to-b from-amber-200 to-amber-300 dark:from-amber-800 dark:to-amber-900 text-amber-800 dark:text-amber-200 text-[8px] font-medium shadow-lg shadow-amber-500/50 dark:shadow-amber-700/50 border border-amber-300/50 dark:border-amber-600/50 hover:scale-105 transition-transform cursor-pointer",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)",boxShadow:"0 4px 8px rgba(245, 158, 11, 0.3), inset 0 1px 2px rgba(255,255,255,0.5), inset 0 -1px 2px rgba(0,0,0,0.1)"},title:"View Mentorship compatibility",children:"via Mentorship"},"mentorship"):f==="jobs"?t.jsx("button",{onClick:()=>x("jobs"),className:"inline-block px-1 py-0.5 rounded bg-gradient-to-b from-indigo-200 to-indigo-300 dark:from-indigo-800 dark:to-indigo-900 text-indigo-800 dark:text-indigo-200 text-[8px] font-medium shadow-lg shadow-indigo-500/50 dark:shadow-indigo-700/50 border border-indigo-300/50 dark:border-indigo-600/50 hover:scale-105 transition-transform cursor-pointer",style:{textShadow:"0 1px 2px rgba(0,0,0,0.3)",boxShadow:"0 4px 8px rgba(99, 102, 241, 0.3), inset 0 1px 2px rgba(255,255,255,0.5), inset 0 -1px 2px rgba(0,0,0,0.1)"},title:"View Jobs compatibility",children:"via Jobs"},"jobs"):null};return t.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from(m).map(p)})};function vle({matchId:e}){const{user:r}=Sr(),{isDarkMode:n}=Za(),{translate:a}=tn(),{toast:s}=Wr(),{currentMode:i}=Ts(),o=u.useCallback((Y,he)=>{const W=a(Y,he);return W===Y&&jP[Y]?jP[Y]:W},[a]),l=Ma(),[c,d]=lr(),{sendMessage:m,updateTypingStatus:h,setActiveChatStatus:p,isConnected:f,activeChats:x,onlineUsers:g}=Bm();u.useEffect(()=>{l.invalidateQueries({queryKey:["/api/matches"]})},[e,l]);const[v,y]=u.useState(""),[b,w]=u.useState(!1);u.useState("top"),u.useState("center");const S=u.useRef(null);u.useState(!1);const[N,P]=u.useState(null),[C,I]=u.useState(!1),[T,_]=u.useState(!1),[k,A]=u.useState(!1),[F,V]=u.useState(!1),J=u.useRef(null),M=u.useRef(null),R=u.useRef(0),B=u.useRef([]),[O,X]=u.useState(!0),[ae,$]=u.useState(!0),[re,le]=u.useState(!1),ce=`chat_scroll_position_${e}`,ue=u.useRef(!1),ee=u.useRef(null),Z=()=>{if(ee.current){const Y=ee.current,he=Y.scrollTop,W=Y.scrollHeight,xe=Y.clientHeight;if(W-he-xe<50)localStorage.removeItem(ce),sessionStorage.removeItem(ce),console.log(`[SCROLL-RESTORE] User at bottom, cleared saved position for match ${e}`);else{let Ee=null;const ve=Y.querySelectorAll("[data-message-id]");for(const Fe of Array.from(ve)){const j=Fe.getBoundingClientRect(),ne=Y.getBoundingClientRect();if(j.top>=ne.top&&j.top<=ne.bottom){Ee=Fe.getAttribute("data-message-id");break}}const Ie={scrollTop:he,timestamp:Date.now(),lastVisibleMessageId:Ee};try{localStorage.setItem(ce,JSON.stringify(Ie)),console.log(`[SCROLL-RESTORE] Saved scroll position: ${he}px, visible message: ${Ee} for match ${e}`)}catch{try{sessionStorage.setItem(ce,JSON.stringify(Ie)),console.log("[SCROLL-RESTORE] Saved to sessionStorage due to localStorage failure")}catch(j){console.warn("[SCROLL-RESTORE] Failed to save scroll position:",j)}}}}},Se=()=>{if(ue.current||!ee.current)return!1;try{let Y=localStorage.getItem(ce);if(Y||(Y=sessionStorage.getItem(ce)),Y){const{scrollTop:he,timestamp:W,lastVisibleMessageId:xe}=JSON.parse(Y);if(Date.now()-W<24*60*60*1e3){if(xe){const fe=ee.current.querySelector(`[data-message-id="${xe}"]`);if(fe)return fe.scrollIntoView({behavior:"auto",block:"start"}),console.log(`[SCROLL-RESTORE]  Restored to visible message ${xe} for match ${e}`),ue.current=!0,X(!1),!0}return ee.current.scrollTop=he,console.log(`[SCROLL-RESTORE]  Instantly restored scroll position: ${he}px for match ${e}`),ue.current=!0,X(!1),!0}else localStorage.removeItem(ce),sessionStorage.removeItem(ce),console.log(`[SCROLL-RESTORE]  Expired scroll position data removed for match ${e}`)}else console.log(`[SCROLL-RESTORE]  No saved scroll position found for match ${e}`)}catch(Y){console.error("[SCROLL-RESTORE]  Error restoring position:",Y),localStorage.removeItem(ce),sessionStorage.removeItem(ce)}return ue.current=!0,X(!1),!1};u.useEffect(()=>{const Y=()=>Z(),he=()=>{document.visibilityState==="hidden"&&Z()};return window.addEventListener("beforeunload",Y),document.addEventListener("visibilitychange",he),()=>{window.removeEventListener("beforeunload",Y),document.removeEventListener("visibilitychange",he),Z()}},[e]);const[Ue,De]=u.useState(!1),[se,L]=u.useState(!1),[q,H]=u.useState(!1),[ge,ke]=u.useState(null),[z,ie]=u.useState(!1),[pe,ye]=u.useState(null),[$e,Le]=u.useState(null),[Oe,Ze]=u.useState(null),te=()=>{De(!0)},Ne=()=>{L(!0)},rt=(Y,he)=>{L(!1),he==="image"?at(Y):jt(Y)},at=async Y=>{try{const W=`_!_IMAGE_!_${await new Promise((xe,fe)=>{const Ee=new FileReader;Ee.readAsDataURL(Y),Ee.onload=()=>xe(Ee.result),Ee.onerror=ve=>fe(ve)})}`;await bn({content:W}),s({title:"Image sent",description:"Your camera photo has been sent successfully"})}catch(he){console.error("Failed to send camera photo:",he),s({title:"Upload failed",description:he instanceof Error?he.message:"Failed to send camera photo",variant:"destructive"})}},jt=async Y=>{try{const W=`_!_VIDEO_!_${await new Promise((xe,fe)=>{const Ee=new FileReader;Ee.readAsDataURL(Y),Ee.onload=()=>xe(Ee.result),Ee.onerror=ve=>fe(ve)})}`;await bn({content:W}),s({title:"Video sent",description:"Your video has been sent successfully"})}catch(he){console.error("Failed to send video:",he),s({title:"Upload failed",description:he instanceof Error?he.message:"Failed to send video",variant:"destructive"})}},xt=(Y,he,W)=>{const xe=`${i}_last_sent_audio_${e}`,fe=bs(xe);let Ee=(fe==null?void 0:fe.time)||0;const ve=Date.now();if(ve-Ee<5e3){console.log(`[DUPLICATE PREVENTION] Blocking duplicate send of audio message (sent ${(ve-Ee)/1e3}s ago)`),s({title:"Audio already sent",description:"Please wait a moment before sending another audio message.",variant:"default"});return}Zo(xe,{time:ve}),Nt.current=!0;const Fe=-Math.floor(Math.random()*1e6),j={id:Fe,matchId:e,senderId:r.id,receiverId:we.id,content:`Audio message (${Math.floor(he)} seconds)`,messageType:"audio",audioUrl:W,audioDuration:he,createdAt:new Date().toISOString(),read:!1,readAt:null,sending:!0};l.setQueryData(["/api/messages",e],ne=>[...ne||[],j]),tr(ne=>[...ne,j]),console.log("[UI UPDATE] Added audio message to remoteMessages state:",j.id),_t(`${i}_audio_message_${Fe}`,W);try{const ne=new FileReader;ne.readAsDataURL(Y),ne.onloadend=()=>{const oe=ne.result;oe.includes("test-fail-audio")?(console.log("Simulating audio message failure for testing"),setTimeout(()=>{l.setQueryData(["/api/messages",e],Me=>(Me||[]).map(Be=>Be.id===j.id?{...Be,sending:!1,error:!0}:Be)),s({title:"Failed to send audio",description:"Simulated failure for testing. Try the retry button.",variant:"destructive"})},2e3)):(_t(`${i}_audio_message_${j.id}`,W),_t(`${i}_audio_data_${j.id}`,oe),_t(`${i}_temp_message_${j.id}`,"pending"),bn({content:`Audio message (${Math.floor(he)} seconds)`,messageType:"audio",audioUrl:oe,audioDuration:he}))}}catch(ne){console.error("Error sending audio message:",ne)}De(!1)},jr=()=>{De(!1)},zt=Y=>{ke(Y),H(!0)},Wt=async()=>{if(ge)try{const Y=document.createElement("a");Y.href=ge,Y.download=`charley-image-${Date.now()}.jpg`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),s({title:"Download started",description:"Image is being downloaded to your device"})}catch(Y){console.error("Failed to download image:",Y),s({title:"Download failed",description:"Failed to download the image",variant:"destructive"})}},Et=()=>{H(!1),ke(null)},ut=Y=>{ye(Y),ie(!0)},cr=()=>{ie(!1),ye(null)},Ir=u.useCallback(Y=>{const he=document.getElementById(`message-${Y}`);he&&ee.current&&(Ze(Y),he.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout(()=>{Ze(null)},3e3))},[]),[Bt,vt]=u.useState(()=>Mr(`${i}_chat_read_receipts_${e}`)!=="false"),[Ft,$t]=u.useState(()=>{try{const Y=Mr(`${i}_chat_auto_delete_mode_${e}`);return Y==="always"||Y==="custom"||Y==="never"?Y:"never"}catch(Y){return console.error("[Setting Error] Failed to get auto-delete mode:",Y),"never"}}),[dr,Vt]=u.useState(()=>{try{const Y=Mr(`${i}_chat_auto_delete_value_${e}`);if(Y){const he=parseInt(Y,10);return!isNaN(he)&&he>0?he:5}return 5}catch(Y){return console.error("[Setting Error] Failed to get auto-delete value:",Y),5}}),[vn,Sn]=u.useState(()=>{try{const Y=Mr(`${i}_chat_auto_delete_unit_${e}`);return Y==="minutes"||Y==="hours"||Y==="days"||Y==="weeks"||Y==="months"?Y:"minutes"}catch(Y){return console.error("[Setting Error] Failed to get auto-delete unit:",Y),"minutes"}}),Rt=(Y,he)=>{const W=Date.now();switch(he){case"minutes":return W+Y*60*1e3;case"hours":return W+Y*60*60*1e3;case"days":return W+Y*24*60*60*1e3;case"weeks":return W+Y*7*24*60*60*1e3;case"months":return W+Y*30*24*60*60*1e3;default:return W+Y*60*60*1e3}};u.useEffect(()=>{if(!e||!r)return;(async()=>{try{const he=await ze(`/api/matches/${e}/auto-delete-settings`);if(he&&he.settings){const{autoDeleteMode:W,autoDeleteValue:xe,autoDeleteUnit:fe}=he.settings;W&&W!==Ft&&($t(W),localStorage.setItem(`${i}_chat_auto_delete_mode_${e}`,W)),xe&&xe!==dr&&(Vt(xe),localStorage.setItem(`${i}_chat_auto_delete_value_${e}`,xe.toString())),fe&&fe!==vn&&(Sn(fe),localStorage.setItem(`${i}_chat_auto_delete_unit_${e}`,fe))}}catch(he){console.error("Failed to load auto-delete settings from backend:",he)}})()},[e,r,i]);const{data:Te=[],isLoading:Xe,isError:nt}=dt({queryKey:["/api/matches"],staleTime:0}),U=Te.find(Y=>Y.id===e);let K=U;if(!K){console.log(" Match not found in API response, attempting to recover from storage");try{let Y=null;try{Y=sessionStorage.getItem(`match_data_${e}`)}catch(he){console.warn(`[STORAGE] Error accessing sessionStorage directly for match data: ${he}`)}if(Y||(Y=Mr(`match_data_${e}`)),Y){const he=JSON.parse(Y);if(he&&he.id===e){console.log(" Successfully recovered match data from storage"),K=he;const W=l.getQueryData(["/api/matches"])||[];W.some(xe=>xe.id===he.id)||l.setQueryData(["/api/matches"],[...W,he]),setTimeout(()=>{l.invalidateQueries({queryKey:["/api/matches"]})},2e3),_t(`match_data_${e}`,JSON.stringify(he));try{sessionStorage.setItem(`match_data_${e}`,JSON.stringify(he))}catch(xe){console.warn(`[STORAGE] Failed to save match data to sessionStorage: ${xe}`)}}}}catch(Y){console.error("Error recovering match data from storage:",Y)}}const je=u.useRef(!1),Ae=u.useRef(!1),st=u.useRef([]),Pt=u.useRef(!1),Nt=u.useRef(!1);u.useEffect(()=>{if(!(!e||je.current)){Ae.current=!0,console.log(`[FIX] Attempting to restore messages for match ${e} in mode ${i} with improved strategy`);try{const Y=`navigation_safe_messages_${e}`;let he=null;try{he=sessionStorage.getItem(Y)}catch(W){console.warn(`[STORAGE] Error accessing navigation-safe storage: ${W}`)}if(he)try{const W=JSON.parse(he);if(W&&W.messages&&Array.isArray(W.messages)&&W.messages.length>0){console.log(`[CRITICAL FIX] Found ${W.messages.length} messages in navigation-safe storage! This should fix disappearing messages.`);const xe=W.messages.map(fe=>fe.replyToMessageId&&fe.replyToContent&&!fe.replyToMessage?{...fe,replyToMessage:{id:fe.replyToMessageId,content:fe.replyToContent,senderName:fe.replyToSenderName||"Unknown",isCurrentUser:fe.replyToIsCurrentUser||!1}}:fe);console.log("[REPLY-FIX] Reconstructed reply data for restored messages"),st.current=xe,l.setQueryData(["/api/messages",e],xe),tr(xe),je.current=!0,Ae.current=!0,console.log("[CRITICAL FIX] Successfully restored messages from navigation-safe storage");return}}catch(W){console.error("[ERROR] Failed to parse navigation-safe data:",W)}}catch(Y){console.warn("[WARNING] Error accessing navigation-safe storage:",Y)}try{const Y=`${i}_session_messages_${e}`;let he=null;try{he=sessionStorage.getItem(Y)}catch(W){console.warn(`[STORAGE] Error accessing sessionStorage directly: ${W}`)}if(he)try{const W=JSON.parse(he);if(W&&W.messages&&Array.isArray(W.messages)&&W.messages.length>0){console.log(`[FIX] Found ${W.messages.length} messages in sessionStorage! This should fix disappearing messages.`),st.current=W.messages,l.setQueryData(["/api/messages",e],W.messages),tr(W.messages),je.current=!0,Ae.current=!0,console.log("[FIX] Successfully restored messages from sessionStorage");return}}catch(W){console.error("[ERROR] Failed to parse session data:",W)}console.log("[FIX] No session data found or session data invalid, falling back to localStorage")}catch(Y){console.warn("[WARNING] Error accessing sessionStorage:",Y)}try{const Y=`${i}_chat_messages_${e}`,he=Mr(Y);if(!he){console.log(`[FIX] No saved messages found in localStorage for match ${e} in mode ${i}`),je.current=!0;return}try{const W=JSON.parse(he);if(!W||!W.messages||!Array.isArray(W.messages)){console.log("[DEBUG] Invalid message data structure in localStorage"),localStorage.removeItem(Y),je.current=!0;return}const xe=W.messages,fe=W.expiresAt,Ee=W.originalAutoDeleteMode;if(W.preservedFromDelete&&Ee==="always"&&Ft==="always")console.log("[DEBUG] Found messages preserved from always mode - respecting current mode selection");else if(Ft==="custom"&&fe&&Date.now()>fe){console.log("[DEBUG] Cached messages expired, removing"),localStorage.removeItem(Y),je.current=!0;return}const Ie=xe.filter(Fe=>Fe&&typeof Fe=="object"&&Fe.id&&Fe.matchId===e).map(Fe=>!Fe.createdAt||isNaN(new Date(Fe.createdAt).getTime())?{...Fe,createdAt:new Date().toISOString(),_fixedCreatedAt:!0}:Fe);if(Ie.length===0){console.log("[DEBUG] No valid messages after filtering"),je.current=!0;return}console.log(`[DEBUG] Successfully loaded ${Ie.length} messages from localStorage for match ${e}`),st.current=Ie,l.setQueryData(["/api/messages",e],Ie),je.current=!0,Ae.current=!0}catch(W){console.error("[ERROR] Failed to parse stored messages:",W),localStorage.removeItem(Y),je.current=!0}}catch(Y){console.error("[ERROR] Failed to restore messages from localStorage:",Y),je.current=!0}}},[e,i,Ft,l]),u.useEffect(()=>{if(!e)return;const Y=async Ie=>{const Fe=Ie;if(!Fe.detail||!Fe.detail.message)return;const j=Fe.detail.message,ne=Fe.detail.for==="recipient",oe=Fe.detail.eventId||`fallback_${j.id}_${Date.now()}`;if(console.log(`[DEBUG-DOUBLE-COUNT] Processing event for match=${e}, message=${j.id}, eventId=${oe}`),r&&j.senderId===r.id){const Be=`recent_sent_${j.matchId}_${r.id}`,Q=sessionStorage.getItem(Be);if(Q)try{const Pe=JSON.parse(Q);if(Date.now()-Pe.timestamp<5e3&&Pe.content===j.content){console.log(`[FLICKER-FIX] Detected potential flicker-causing message from sender ${r.id}, using gentle merge`),tr(_e=>_e.some(Gt=>Gt.id===j.id)?_e.map(Gt=>Gt.id===j.id?{...j,sending:!1}:Gt):[..._e.filter(Dt=>!(Dt.sending&&Dt.content===j.content&&Dt.senderId===r.id)),{...j,sending:!1}]);return}}catch{}}const Me=`event_instance_${oe}_${e}`;if(sessionStorage.getItem(Me)){console.log(`[DUPLICATE EVENT] Already processed event ${oe} for match ${e}`);return}if(sessionStorage.setItem(Me,"processed"),!ne&&r&&j.senderId===r.id){console.log("[DUPLICATE PREVENTION] Skipping sender message display in recipient flow");return}if(j.matchId!==e){console.log(`[MATCH MISMATCH] Message for match ${j.matchId}, we're viewing ${e}`);return}if(!r||j.senderId!==r.id&&j.receiverId!==r.id){console.log(`[USER MISMATCH] Message not for current user ${r==null?void 0:r.id}`);return}console.log(`[REAL-TIME EVENT] Processing message event for matchId=${e}, message ID=${j.id}`);try{if((await Ri(()=>Promise.resolve().then(()=>Yb),void 0)).isMessageDuplicate(j.id,j.content||"",j.senderId,j.matchId)){console.log(`[GLOBAL-DEDUP] Message ${j.id} detected as duplicate by global system, skipping`);return}console.log(`[GLOBAL-DEDUP] Message ${j.id} verified as unique by global system`);const Pe=j.content||"",_e=`content_fingerprint_${`${j.senderId}_${j.matchId}_${Pe.substring(0,50)}`}`;sessionStorage.setItem(_e,Date.now().toString());try{localStorage.setItem(`permanent_${_e}`,Date.now().toString())}catch{}const et=`message_instance_${e}_${j.id}`;sessionStorage.setItem(et,Date.now().toString());const Gt=`message_global_${j.id}`;sessionStorage.getItem(Gt)?console.log(`[DUPLICATE] Message ${j.id} already displayed globally, skipping`):(sessionStorage.setItem(Gt,Date.now().toString()),console.log(`[REAL-TIME] Displaying new message ID ${j.id} in UI for match ${e}`),tr(Dt=>{if(Dt.some(Cr=>Cr.id===j.id||Cr.senderId===j.senderId&&Cr.matchId===j.matchId&&Cr.content===j.content&&Math.abs(new Date(Cr.createdAt).getTime()-new Date(j.createdAt).getTime())<6e4))return console.log("[ENHANCED DEDUP] Message already exists in state with same ID or content, not adding again"),Dt;Ce.current.messageDeduplicationCache&&Ce.current.messageDeduplicationCache.add(j.id),localStorage.setItem(`permanent_${_e}`,Date.now().toString());const Qt=[...Dt,j].sort((Cr,Hr)=>new Date(Cr.createdAt).getTime()-new Date(Hr.createdAt).getTime());return setTimeout(()=>{var Cr;(Cr=J.current)==null||Cr.scrollIntoView({behavior:"smooth"})},100),Qt}))}catch(Be){console.error("[GLOBAL-DEDUP] Error in global deduplication:",Be),console.log("[GLOBAL-DEDUP] Falling back to legacy deduplication system");const Q=`message_instance_${e}_${j.id}`;if(sessionStorage.getItem(Q)){console.log(`[DUPLICATE] Message ${j.id} already displayed in this instance, skipping`);return}}};Ce.current.handleNewMessageEvent=Y;const he=`chat_instance_${e}_${Date.now()}`;sessionStorage.setItem(`active_chat_${e}`,he),console.log(`[DUPLICATION FIX] Registered chat instance: ${he}`);const W=Ie=>{if(!(Ie instanceof CustomEvent)||!Ie.detail)return;const{matchId:Fe,unmatchedBy:j,timestamp:ne}=Ie.detail;if(Fe===e){console.log(` Unmatch notification received for current match ${Fe}, unmatchedBy: ${j}, at ${ne}`),console.log("[UNMATCH-PERFORMANCE] WebSocket unmatch notification handled silently");try{const oe=l.getQueryData(["/api/messages",e]);if(oe&&oe.length>0){const Me=qe(oe);sessionStorage.setItem(`unmatch_messages_backup_${e}`,JSON.stringify(Me)),console.log(`[UNMATCH] Saved ${Me.length} messages before redirect`)}}catch(oe){console.error("[UNMATCH] Failed to backup messages:",oe)}Promise.all([l.invalidateQueries({queryKey:["/api/matches"]}),l.invalidateQueries({queryKey:["/api/matches/counts"]}),l.removeQueries({queryKey:["/api/messages",e]})]).catch(oe=>{console.warn("[UNMATCH-PERFORMANCE] WebSocket cache operation error:",oe)}),console.log(`[UNMATCH] Redirecting to messages page after unmatch of match ${Fe}`),d("/messages")}},xe=Ie=>{if(!(Ie instanceof CustomEvent)||!Ie.detail)return;const{messageId:Fe,matchId:j,deletedBy:ne}=Ie.detail;if(j===e){if(console.log(` WebSocket: Message deletion notification received for message ${Fe} in match ${j}, deleted by user ${ne}`),ne===(r==null?void 0:r.id)){console.log(` WebSocket: Ignoring self-deletion event for message ${Fe} - already handled by optimistic update`);return}const oe=l.getQueryData(["/api/messages",e]);if(!(oe==null?void 0:oe.find(Be=>Be.id===Fe))){console.log(` WebSocket: Message ${Fe} already removed from local state - skipping duplicate deletion`);return}console.log(` WebSocket: Processing deletion for message ${Fe} from other user`),l.setQueryData(["/api/messages",e],Be=>{const Q=(Be||[]).filter(Pe=>Pe.id!==Fe);return console.log(` WebSocket: Removed message ${Fe} from cache via WebSocket. Messages remaining:`,Q.length),Q});try{const Be=`${i}_messages_${e}`,Q=Mr(Be);if(Q){const Re=JSON.parse(Q).filter(_e=>_e.id!==Fe);_t(Be,JSON.stringify(Re)),console.log(` WebSocket: Cleared message ${Fe} from local storage`)}}catch(Be){console.warn("Could not clear deleted message from local storage:",Be)}s({title:"Message removed",description:"A message was unsent by the sender",variant:"default"}),setTimeout(()=>{console.log(` WebSocket: Force refreshing cache for match ${e} after WebSocket deletion`),l.invalidateQueries({queryKey:["/api/messages",e]})},1e3)}},fe=Ie=>{if(!(Ie instanceof CustomEvent)||!Ie.detail)return;const{matchId:Fe,deletedForUserId:j,reason:ne,isCurrentUser:oe,newLastMessage:Me}=Ie.detail;if(Fe===e){if(console.log(` Auto-delete notification received for match ${Fe}, deleted for user ${j}, reason: ${ne}, isCurrentUser: ${oe}`),oe){l.setQueryData(["/api/messages",e],()=>[]);try{const Be=`${i}_messages_${e}`;ti(Be);const Q=`${i}_chat_messages_${e}`;ti(Q)}catch(Be){console.warn("Could not clear auto-deleted messages from local storage:",Be)}l.invalidateQueries({queryKey:["/api/messages",e]}),l.invalidateQueries({queryKey:["/api/messages"]}),s({title:"Messages cleared",description:"Your messages have been auto-deleted",variant:"default"})}l.invalidateQueries({queryKey:["/api/matches"]}),setTimeout(()=>{l.removeQueries({queryKey:["/api/matches"]}),l.invalidateQueries({queryKey:["/api/matches"]}),console.log(`[AUTO-DELETE] Forced aggressive matches cache refresh for match ${Fe}`)},50),window.dispatchEvent(new CustomEvent("match:lastMessage:updated",{detail:{matchId:Fe,newLastMessage:Me}})),window.dispatchEvent(new CustomEvent("matches:refresh",{detail:{reason:"auto_delete_lastMessage_update",matchId:Fe}}))}},Ee=Ie=>{if(!(Ie instanceof CustomEvent)||!Ie.detail)return;const{messageId:Fe,userId:j,emoji:ne,matchId:oe,reaction:Me,isReplacement:Be}=Ie.detail;oe===e&&(console.log(` Reaction added notification received for message ${Fe} in match ${oe}`),l.setQueryData(["/api/messages",e],Q=>(Q||[]).map(Pe=>{if(Pe.id===Fe){const Re=Pe.reactions||[];Re.find(Dt=>Dt.emoji===ne);const _e=Me.userName||"Someone";console.log(` [CLIENT-DEBUG] Processing reaction from ${_e}, emoji: ${ne}, messageId: ${Fe}`),console.log(" [CLIENT-DEBUG] Existing reactions before removal:",Re);const et=Re.map(Dt=>({...Dt,count:Math.max(0,Dt.count-(Dt.users.includes(_e)?1:0)),users:Dt.users.filter(Gr=>Gr!==_e)})).filter(Dt=>Dt.count>0);console.log(` [CLIENT-DEBUG] Reactions after removing user ${_e}:`,et);const Gt=et.find(Dt=>Dt.emoji===ne);return console.log(` [CLIENT-DEBUG] Found existing emoji reaction for ${ne}:`,Gt),Gt?{...Pe,reactions:et.map(Dt=>Dt.emoji===ne?{...Dt,count:Dt.count+1,users:[...Dt.users,_e]}:Dt)}:{...Pe,reactions:[...et,{emoji:ne,count:1,users:[_e]}]}}return Pe})))},ve=Ie=>{if(!(Ie instanceof CustomEvent)||!Ie.detail)return;const{messageId:Fe,userId:j,emoji:ne,matchId:oe,userName:Me}=Ie.detail;oe===e&&(console.log(` Reaction removed notification received for message ${Fe} in match ${oe}`),l.setQueryData(["/api/messages",e],Be=>(Be||[]).map(Q=>{if(Q.id===Fe){const Pe=Q.reactions||[];return{...Q,reactions:Pe.map(Re=>Re.emoji===ne?{...Re,count:Math.max(0,Re.count-1),users:Re.users.filter(_e=>_e!==(Me||(r==null?void 0:r.fullName)||"You"))}:Re).filter(Re=>Re.count>0)}}return Q})))};return window.addEventListener("message:new",Y),window.addEventListener("match:unmatch",W),window.addEventListener("message:deleted",xe),window.addEventListener("messages:auto-deleted",fe),window.addEventListener("reaction:added",Ee),window.addEventListener("reaction:removed",ve),Ce.current.handleUnmatchEvent=W,Ce.current.handleMessageDeletedEvent=xe,Ce.current.handleAutoDeleteMessagesEvent=fe,Ce.current.handleReactionAddedEvent=Ee,Ce.current.handleReactionRemovedEvent=ve,()=>{Ce.current.handleNewMessageEvent&&(window.removeEventListener("message:new",Ce.current.handleNewMessageEvent),console.log(`[CLEANUP] Removed message:new event listener for match ${e}`)),Ce.current.handleUnmatchEvent&&(window.removeEventListener("match:unmatch",Ce.current.handleUnmatchEvent),console.log(`[CLEANUP] Removed match:unmatch event listener for match ${e}`)),Ce.current.handleMessageDeletedEvent&&(window.removeEventListener("message:deleted",Ce.current.handleMessageDeletedEvent),console.log(`[CLEANUP] Removed message:deleted event listener for match ${e}`)),Ce.current.handleAutoDeleteMessagesEvent&&(window.removeEventListener("messages:auto-deleted",Ce.current.handleAutoDeleteMessagesEvent),console.log(`[CLEANUP] Removed messages:auto-deleted event listener for match ${e}`)),Ce.current.handleReactionAddedEvent&&(window.removeEventListener("reaction:added",Ce.current.handleReactionAddedEvent),console.log(`[CLEANUP] Removed reaction:added event listener for match ${e}`)),Ce.current.handleReactionRemovedEvent&&(window.removeEventListener("reaction:removed",Ce.current.handleReactionRemovedEvent),console.log(`[CLEANUP] Removed reaction:removed event listener for match ${e}`));try{const Ie=l.getQueryData(["/api/messages",e]);if(Ie&&Ie.length>0){const Fe=qe(Ie);sessionStorage.setItem(`chat_messages_${e}`,JSON.stringify(Fe)),console.log(`[CLEANUP] Saved ${Fe.length} deduplicated messages to session storage`)}}catch(Ie){console.error("[CLEANUP] Error saving message state:",Ie)}sessionStorage.removeItem(`active_chat_${e}`)}},[e,r,l]),u.useEffect(()=>{if(f&&e)return console.log(`[PRESENCE] Setting active chat status to TRUE for match ${e}`),p(e,!0),_t(`${i}_chat_viewing_${e}`,"true"),()=>{console.log(`[PRESENCE] Setting active chat status to FALSE for match ${e}`),p(e,!1),_t(`${i}_chat_viewing_${e}`,"false")}},[f,e,p,i]),u.useEffect(()=>{console.log(`[COMPONENT-LIFECYCLE] RealTimeChat MOUNTED for match ${e}`);const Y=`${i}_message_session_id`,he=Mr(Y),W=Date.now().toString()+Math.random().toString(36).substring(2,15);_t(Y,W),console.log(he?`[ENHANCED DUPLICATE] Changed session ID from ${he.substring(0,8)}... to ${W.substring(0,8)}...`:`[ENHANCED DUPLICATE] Created new match-specific session ID: ${W.substring(0,8)}...`);try{const fe=`${i}_all_sessions`,Ee=Mr(fe);let ve=[];Ee&&(ve=JSON.parse(Ee)),ve.push({matchId:e,sessionId:W,timestamp:Date.now(),previousSessionId:he||null}),ve.length>10&&(ve=ve.slice(-10)),_t(fe,JSON.stringify(ve))}catch(fe){console.error("[ENHANCED DUPLICATE] Error storing session tracking data:",fe)}console.log("[SERVER-FETCH] Triggering immediate message refetch to ensure fresh data"),Ct();const xe=setTimeout(()=>{console.log("[DOUBLE-CHECK] Verifying messages were properly loaded");const fe=l.getQueryData(["/api/messages",e]);!fe||fe.length===0||fe&&fe.length>0&&!fe[0].matchId?(console.log("[FORCE-LOAD] "+(!fe||fe.length===0?"No messages found in cache":"Messages may be incomplete or corrupted")+", attempting direct server fetch"),fetch(`/api/messages/${e}?_=${Date.now()}`,{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}}).then(ve=>{if(ve.ok)return ve.json();throw new Error(`Server returned ${ve.status}`)}).then(ve=>{if(Array.isArray(ve)&&ve.length>0){console.log(`[FORCE-LOAD] Successfully fetched ${ve.length} messages from server`),l.setQueryData(["/api/messages",e],ve),tr(ve);const Ie=`${i}_chat_messages_${e}`,Fe=`${i}_session_messages_${e}`,j=JSON.stringify({messages:ve,savedAt:Date.now(),matchId:e,source:"force-load"});try{localStorage.setItem(Ie,j),sessionStorage.setItem(Fe,j),console.log(`[FORCE-LOAD] Saved ${ve.length} messages to both storage types`),st.current=ve}catch(ne){console.error("[FORCE-LOAD] Failed to save server messages:",ne);try{const oe=ve.slice(-50),Me=JSON.stringify({messages:oe,savedAt:Date.now(),matchId:e,source:"force-load-reduced"});localStorage.setItem(Ie,Me),sessionStorage.setItem(Fe,Me)}catch(oe){console.error("[FORCE-LOAD] Failed to save even reduced messages:",oe)}}}}).catch(ve=>{console.error("[FORCE-LOAD] Failed to fetch messages:",ve);try{const Ie=Object.keys(localStorage).filter(j=>j.includes(`${e}`)&&j.includes("messages"));for(const j of Ie)try{const ne=localStorage.getItem(j);if(ne){const oe=JSON.parse(ne),Me=Array.isArray(oe)?oe:oe.messages||[];if(Array.isArray(Me)&&Me.length>0&&Me[0].matchId===e){console.log(`[RECOVERY] Found ${Me.length} messages in localStorage at ${j}`),l.setQueryData(["/api/messages",e],Me),tr(Me);return}}}catch(ne){console.warn(`[RECOVERY] Failed to parse localStorage key ${j}:`,ne)}const Fe=Object.keys(sessionStorage).filter(j=>j.includes(`${e}`)&&j.includes("messages"));for(const j of Fe)try{const ne=sessionStorage.getItem(j);if(ne){const oe=JSON.parse(ne),Me=Array.isArray(oe)?oe:oe.messages||[];if(Array.isArray(Me)&&Me.length>0&&Me[0].matchId===e){console.log(`[RECOVERY] Found ${Me.length} messages in sessionStorage at ${j}`),l.setQueryData(["/api/messages",e],Me),tr(Me);return}}}catch(ne){console.warn(`[RECOVERY] Failed to parse sessionStorage key ${j}:`,ne)}console.error("[RECOVERY] No valid messages found in any storage after API failure")}catch(Ie){console.error("[RECOVERY] Error during recovery attempt:",Ie)}})):console.log(`[MOUNT-CHECK] Found ${fe.length} messages in cache on mount`)},1e3);return()=>{clearTimeout(xe),console.log(`[COMPONENT-LIFECYCLE] RealTimeChat UNMOUNTED for match ${e}`);try{const fe=l.getQueryData(["/api/messages",e]);if(fe&&fe.length>0){const Ee=JSON.stringify({messages:fe,timestamp:Date.now(),unmount:!0}),ve=`${i}_chat_messages_${e}`;_t(ve,Ee);const Ie=`meet_unmount_${e}_${Date.now()}`;_t(Ie,Ee),console.log(`[UNMOUNT] Saved ${fe.length} messages with primary and backup keys`)}}catch(fe){console.error("[UNMOUNT] Failed to save final message backup:",fe)}}},[e,l]);const Ce=u.useRef({messageDeduplicationCache:new Set}),qe=u.useCallback(Y=>{if(!Y||Y.length===0)return[];console.log(`[ADVANCED-DEDUP] Deduplicating ${Y.length} messages`);const he=new Map,W=[...Y].sort((ve,Ie)=>new Date(ve.createdAt).getTime()-new Date(Ie.createdAt).getTime()),xe=[],fe=new Set;W.forEach(ve=>{if(!ve||!ve.id||ve.id<=0)return;const Ie=`id-${ve.id}`,Fe=`${ve.senderId}_${ve.matchId}_${(ve.content||"").substring(0,50)}`;if(`${ve.senderId}${new Date(ve.createdAt).getTime()}`,he.has(Ie)){xe.push(ve.id),console.log(`[ENHANCED-DEDUP] Found duplicate by ID: ${ve.id}`);return}if(fe.has(Fe)){xe.push(ve.id),console.log(`[ENHANCED-DEDUP] Found duplicate by content fingerprint: "${(ve.content||"").substring(0,20)}..."`);return}if(Array.from(he.values()).some(ne=>{if(ne.senderId!==ve.senderId||ne.matchId!==ve.matchId)return!1;const oe=ne.content===ve.content,Me=new Date(ne.createdAt).getTime(),Be=new Date(ve.createdAt).getTime(),Q=Math.abs(Me-Be)<5e3;return oe&&Q})){console.log(`[ENHANCED-DEDUP] Found sophisticated duplicate: "${(ve.content||"").substring(0,20)}..." sent within 5s window`),xe.push(ve.id);return}he.set(Ie,ve),fe.add(Fe);try{const ne=`content_fingerprint_${Fe}`;sessionStorage.setItem(ne,Date.now().toString())}catch{}}),xe.length>0&&console.log(`[ENHANCED-DEDUP] Removed ${xe.length} duplicate messages using advanced detection`);const Ee=Array.from(he.values()).sort((ve,Ie)=>new Date(ve.createdAt).getTime()-new Date(Ie.createdAt).getTime());return console.log(`[ENHANCED-DEDUP] Returning ${Ee.length} unique messages after comprehensive deduplication`),Ee},[]),{data:Qe=[],isLoading:Mt,isError:Ut,refetch:Ct}=dt({queryKey:["/api/messages",e],enabled:!!e,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:1e3*60*5,select:qe,queryFn:async()=>{console.log(`[ALWAYS-FRESH] Directly fetching messages for match ${e} from server`),await Ri(()=>Promise.resolve().then(()=>Yb),void 0);const Y=await fetch(`/api/messages/${e}?fresh=true&_=${Date.now()}`,{method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!Y.ok)throw new Error(`Server returned ${Y.status}: ${Y.statusText}`);const he=await Y.json();console.log(`[ALWAYS-FRESH] Retrieved ${he.length} messages from server`);try{const W=await fetch(`/api/matches/${e}/reactions`,{method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});if(W.ok){const{reactions:xe}=await W.json();console.log(`[REACTIONS] Retrieved ${xe.length} reactions for match ${e}`);const fe=xe.reduce((Ee,ve)=>(Ee[ve.messageId]||(Ee[ve.messageId]=[]),Ee[ve.messageId].push(ve),Ee),{});he.forEach(Ee=>{const Ie=(fe[Ee.id]||[]).reduce((Fe,j)=>(Fe[j.emoji]||(Fe[j.emoji]={emoji:j.emoji,count:0,users:[]}),Fe[j.emoji].count++,Fe[j.emoji].users.push(j.userName||"Someone"),Fe),{});Ee.reactions=Object.values(Ie)}),console.log(`[REACTIONS] Added reactions to ${he.length} messages`)}else console.warn(`[REACTIONS] Failed to fetch reactions: ${W.status}`)}catch(W){console.error("[REACTIONS] Error fetching reactions:",W)}if(he&&he.length>0){console.log(`[DEDUP] Recording ${he.length} messages from API in deduplication system`);for(const W of he)W&&W.id&&Ri(()=>Promise.resolve().then(()=>Yb),void 0).then(xe=>{xe.recordMessageInDeduplicationSystem(W.id,W.content||"",W.senderId,W.matchId)}).catch(xe=>console.error("[DEDUP-ERROR] Failed to import deduplication module:",xe))}try{const W=`${i}_chat_messages_${e}`,xe=`${i}_session_messages_${e}`,fe=JSON.stringify({messages:he,timestamp:Date.now(),matchId:e,source:"always-fresh-query"});localStorage.setItem(W,fe),sessionStorage.setItem(xe,fe),console.log(`[ALWAYS-FRESH] Saved ${he.length} messages to storage`)}catch(W){console.error("[ALWAYS-FRESH] Failed to save messages to storage:",W)}return he}}),[ht,tr]=u.useState([]);u.useEffect(()=>{var W,xe;console.log(`[TRACE] Processing API response for match ${e}, data length: ${(Qe==null?void 0:Qe.length)||0}`);const Y=`${i}_message_session_id`,he=localStorage.getItem(Y);if(console.log(`[ENHANCED DUPLICATE] Current session ID for match ${e}: ${(he==null?void 0:he.substring(0,8))||"none"}...`),Ae.current||(console.log(`[CRITICAL FIX] Setting initialization flag for match ${e} in API effect, remoteMessages.length=${ht.length}`),Ae.current=!0),!Qe||!Array.isArray(Qe)||Qe.length===0){ht.length>0&&(console.log(`[TRACE-WARNING] Clearing ${ht.length} messages because API response is empty/invalid for match ${e}`),console.log("[TRACE-WARNING] Stack trace:",new Error().stack)),ht.length>0&&((W=ht[0])==null?void 0:W.matchId)===e?console.log(`[CRITICAL FIX] Prevented clearing ${ht.length} valid messages for match ${e}`):(console.log("[TRACE] Setting empty messages array (safe - either empty already or wrong match)"),tr([]));return}if(Qe[0]&&"matchId"in Qe[0]&&"messages"in Qe[0]){console.log("[PRIVACY FIX] Detected nested server format, applying strict match filtering");const fe=Qe.find(Ee=>Ee.matchId===e);if(fe&&Array.isArray(fe.messages)){console.log(`[PRIVACY FIX] Extracted ${fe.messages.length} messages for match ${e}`);const Ee=fe.messages.filter(ve=>{const Ie=ve.matchId===e,Fe=r&&(ve.senderId===r.id||ve.receiverId===r.id);return Ie||console.error(`[PRIVACY VIOLATION] Message ${ve.id} has incorrect matchId: ${ve.matchId}, expected: ${e}`),Fe||console.error(`[PRIVACY VIOLATION] Message ${ve.id} does not involve current user ${r==null?void 0:r.id}. Sender: ${ve.senderId}, Recipient: ${ve.receiverId}`),Ie&&Fe===!0});Ee.length!==fe.messages.length&&console.warn(`[PRIVACY ALERT] Filtered out ${fe.messages.length-Ee.length} unauthorized messages`),tr(Ee),Ae.current=!0;return}else{console.log("[PRIVACY FIX] No messages found in nested format"),ht.length>0&&((xe=ht[0])==null?void 0:xe.matchId)===e?console.log(`[CRITICAL FIX] Prevented clearing ${ht.length} valid messages for match ${e} in nested format handling`):(console.log("[TRACE] Setting empty messages array (safe - no valid messages in current format)"),tr([]));return}}if(Qe.length>0&&"id"in Qe[0]&&"matchId"in Qe[0]){console.log("[PRIVACY FIX] Using direct message array format with strict filtering");const fe=Qe,Ee=fe.filter(ve=>{const Ie=ve.matchId===e,Fe=r&&(ve.senderId===r.id||ve.receiverId===r.id);return Ie||console.error(`[PRIVACY VIOLATION] Message ${ve.id} has incorrect matchId: ${ve.matchId}, expected: ${e}`),Fe||console.error(`[PRIVACY VIOLATION] Message ${ve.id} does not involve current user ${r==null?void 0:r.id}. Sender: ${ve.senderId}, Recipient: ${ve.receiverId}`),Ie&&Fe===!0});Ee.length!==fe.length&&console.warn(`[PRIVACY ALERT] Filtered out ${fe.length-Ee.length} unauthorized messages`),tr(Ee),Ae.current=!0;return}console.warn("[PRIVACY FIX] Unknown data format:",Qe),tr([]),Ae.current=!0},[Qe,e,r]),u.useEffect(()=>{console.log(`[DATA STRUCTURE FIX] Working with ${ht?ht.length:0} messages`)},[ht]),u.useEffect(()=>{var W;if(Pt.current)return;const Y=!Ae.current,he=Nt.current;if(!(!Y&&!he&&!ht.length)){Nt.current=!1,Pt.current=!0;try{console.log(`[STRICT-DEDUPLICATION] Running strict message deduplication ${Y?"(initial load)":"(update)"}`);const xe=l.getQueryData(["/api/messages",e])||[],fe=ht||[];let Ee=[];try{const _e=sessionStorage.getItem(`${i}_session_messages_${e}`);if(_e){const et=JSON.parse(_e);et&&et.messages&&Array.isArray(et.messages)&&(Ee=et.messages)}}catch(_e){console.error("[DEDUPLICATION] Failed to parse session storage:",_e)}let ve=[];try{const _e=localStorage.getItem(`${i}_chat_messages_${e}`);if(_e){const et=JSON.parse(_e);et&&et.messages&&Array.isArray(et.messages)&&(ve=et.messages)}}catch(_e){console.error("[DEDUPLICATION] Failed to parse local storage:",_e)}console.log(`[DEDUPLICATION] Found messages from all sources: query(${xe.length}), state(${fe.length}), session(${Ee.length}), local(${ve.length})`);const Ie=_e=>{if(!_e)return!1;const et=_e.matchId===e,Gt=r&&(_e.senderId===r.id||_e.receiverId===r.id);return!et||!Gt?(console.error(`[PRIVACY VIOLATION] Removed unauthorized message during deduplication. User: ${r==null?void 0:r.id}, Match: ${e}, Message: ${_e.id}`),!1):!0},Fe=new Map;[...xe,...fe,...Ee,...ve].filter(_e=>_e&&_e.id>0&&Ie(_e)).forEach(_e=>{var et,Gt,Dt;(!Fe.has(_e.id)||_e.readAt&&!((et=Fe.get(_e.id))!=null&&et.readAt)||_e.reactions&&_e.reactions.length>(((Dt=(Gt=Fe.get(_e.id))==null?void 0:Gt.reactions)==null?void 0:Dt.length)||0))&&Fe.set(_e.id,_e)}),console.log(`[DEDUPLICATION] After ID-based deduplication: ${Fe.size} messages`);const ne=new Map;Fe.forEach(_e=>{const et=`${_e.senderId}:${_e.receiverId}:${_e.content}:${new Date(_e.createdAt).getTime()}`;(!ne.has(et)||ne.get(et).id<_e.id)&&ne.set(et,_e)});const oe=[...fe,...xe].filter(_e=>_e&&_e.id<0),Be=[...Array.from(ne.values()),...oe];Be.sort((_e,et)=>{const Gt=new Date(_e.createdAt).getTime(),Dt=new Date(et.createdAt).getTime();return Gt-Dt});const Pe=xe.length+fe.length+Ee.length+ve.length-Be.length;if(console.log(`[DEDUPLICATION] Strictly deduplicated messages: ${Be.length} (removed ${Pe} duplicates)`),JSON.stringify((W=l.getQueryData(["/api/messages",e]))==null?void 0:W.map(_e=>_e.id))!==JSON.stringify(Be.map(_e=>_e.id))||Y){if(console.log("[STRICT-DEDUPLICATION] Updating with deduplicated messages"),st.current=Be,B.current=Be,Ae.current=!0,l.setQueryData(["/api/messages",e],Be),Be.length>0)try{const _e={messages:Be,savedAt:Date.now(),version:2,matchId:e,appMode:i,source:"strict-deduplication"};sessionStorage.removeItem(`meet_messages_${e}`),localStorage.removeItem(`meet_messages_${e}`),sessionStorage.setItem(`${i}_session_messages_${e}`,JSON.stringify(_e)),localStorage.setItem(`${i}_chat_messages_${e}`,JSON.stringify(_e)),console.log(`[DEDUPLICATION] Saved ${Be.length} strictly deduplicated messages`)}catch(_e){console.error("[ERROR] Failed to save strictly deduplicated messages:",_e)}console.log("[DEDUPLICATION] Updating state with deduplicated messages"),tr(Be),O||setTimeout(()=>{var _e;(_e=J.current)==null||_e.scrollIntoView({behavior:"smooth"})},100)}else console.log("[STRICT-DEDUPLICATION] No changes after deduplication, skipping update")}catch(xe){console.error("[ERROR] Failed in strict deduplication process:",xe)}finally{Pt.current=!1}}},[e,l,i,r]);const we=u.useMemo(()=>{var Y,he,W;if((Y=K==null?void 0:K.user)!=null&&Y.fullName)return K.user;if((he=U==null?void 0:U.user)!=null&&he.fullName)return U.user;try{const xe=sessionStorage.getItem(`match_data_${e}`),fe=localStorage.getItem(`match_data_${e}`),Ee=xe||fe;if(Ee){const ve=JSON.parse(Ee);if((W=ve.user)!=null&&W.fullName)return ve.user}}catch(xe){console.log("[HEADER-FIX] Could not parse stored match data:",xe)}return{id:0,fullName:""}},[K==null?void 0:K.user,U==null?void 0:U.user,e]);u.useLayoutEffect(()=>{console.log("[INIT] Coordinating chat initialization for match",e);const Y=ht.length>0,he=we.fullName&&we.fullName!=="",W=Ae.current;console.log("[INIT] Status check:",{hasMessages:Y,hasOtherUser:he,messagesInitialized:W,currentState:{isChatInitialized:re,isRestoringScrollPosition:O,isPreparingMessages:ae}}),Y&&he&&W?(console.log("[INIT] All prerequisites met, initializing chat"),!ue.current&&ee.current&&(Se()||(ee.current.scrollTop=ee.current.scrollHeight,console.log("[INIT]  No saved position, scrolled to bottom"),ue.current=!0,X(!1))),X(!1),$(!1),le(!0),console.log("[INIT] Chat initialization complete - should be visible now")):(console.log("[INIT] Not ready yet, keeping chat hidden"),le(!1))},[ht.length,we.fullName,Ae.current,e,ce]);const pt=wt({mutationFn:async Y=>await ze("/api/user/block",{method:"POST",data:{blockedUserId:Y,reason:"User blocked from chat"}}),onSuccess:()=>{Promise.all([l.invalidateQueries({queryKey:["/api/matches"]}),l.invalidateQueries({queryKey:["/api/home-page-data"]}),l.removeQueries({queryKey:["/api/messages",e]})]).catch(Y=>{console.warn("[BLOCK-PERFORMANCE] Cache invalidation error:",Y)}),d("/messages")},onError:Y=>{s({title:"Failed to block user",description:"There was an error blocking this user. Please try again.",variant:"destructive"}),console.error("Block user error:",Y)}}),ot=()=>{!U||!r||V(!0)},qt=()=>{if(!U||!r)return;V(!1);const Y=U.userId1===r.id?U.userId2:U.userId1;console.log("[BLOCK-PERFORMANCE] Initiating optimized blocking process"),pt.mutate(Y)},{mutate:bn}=wt({mutationFn:async Y=>{var ve;if(!Y.content||Y.content.trim().length===0)throw new Error("Message content cannot be empty");const he=`${i}_sent_messages_${e}`,W=`${i}_message_session_id`,xe=localStorage.getItem(W)||Date.now().toString()+Math.random().toString(36).substring(2,15);localStorage.getItem(W)||(localStorage.setItem(W,xe),console.log(`[ENHANCED DUPLICATE] Created new message session ID: ${xe}`));try{const Ie=localStorage.getItem(he);if(Ie){const Fe=JSON.parse(Ie),j=Date.now(),ne=Fe.filter(oe=>{const Me=j-oe.time<6e4&&oe.content===Y.content&&oe.messageType===(Y.messageType||"text");return oe.sessionId&&oe.sessionId===xe&&Me?(console.log("[ENHANCED DUPLICATE] Found exact session-specific match for message"),!0):j-oe.time<1e4&&Me?(console.log("[ENHANCED DUPLICATE] Found cross-session match for very recent message"),!0):!1});if(ne.length>0){console.log(`[ENHANCED DUPLICATE PREVENTION] Blocking duplicate API send of message: "${Y.content.substring(0,20)}..."`),console.log(`[ENHANCED DUPLICATE] This message was already sent ${((j-ne[0].time)/1e3).toFixed(1)}s ago`);const oe=ne[0];return window.__lastKnownDuplicateMessageId=oe.messageId,Promise.resolve({id:oe.messageId,matchId:e,senderId:r.id,receiverId:we.id,content:Y.content,messageType:Y.messageType||"text",audioUrl:Y.audioUrl,audioDuration:Y.audioDuration,createdAt:new Date(oe.time).toISOString(),read:!1,readAt:null,_isDuplicatePrevention:!0,_sessionId:xe})}}}catch(Ie){console.error("[ENHANCED DUPLICATE] Error checking sent messages:",Ie)}const fe=Y.content;console.log("Sending message:",{length:fe.length,preview:fe.substring(0,20)+(fe.length>20?"...":"")});const Ee={id:Math.floor(Math.random()*-1e6),matchId:e,senderId:r.id,receiverId:we.id,content:Y.content,createdAt:new Date().toISOString(),read:!1,readAt:null,error:!0};try{(await fetch("/api/user",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}})).ok||(console.log("Session check failed before sending message, attempting to refresh"),await fetch("/api/session/refresh",{method:"POST",credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}})),console.log("Making API request to send message:",{url:`/api/messages/${e}`,content:fe.substring(0,50),receiverId:we.id});const Fe=await ze(`/api/messages/${e}`,{method:"POST",data:{content:fe,receiverId:we.id,messageType:Y.messageType||"text",audioUrl:Y.audioUrl,audioDuration:Y.audioDuration,replyToMessageId:Y.replyToMessageId,replyToMessage:Y.replyToMessage}});if(console.log("API request completed, checking response:",{ok:Fe.ok,status:Fe.status,statusText:Fe.statusText}),!Fe.ok){const ne=await Fe.clone().text();throw console.error("Server returned error:",ne),new Error("Server error: "+Fe.statusText)}const j=await Fe.json();return console.log("Successfully parsed response data:",{messageId:j.id,content:(ve=j.content)==null?void 0:ve.substring(0,50)}),!j||!j.id?(console.error("Invalid response data:",j),Ee):(console.log("Message sent successfully:",{messageId:j.id}),j)}catch(Ie){return console.error("Error sending message:",Ie),Ee}},onMutate:async()=>({}),onError:(Y,he)=>{l.setQueryData(["/api/messages",e],W=>!W||W.length===0?[]:W.map(xe=>{if(xe.sending&&xe.content===he.content&&xe.senderId===r.id){if(xe.messageType==="audio"&&xe.id<0)try{localStorage.setItem(`${i}_temp_message_${xe.id}`,"error")}catch(fe){console.error("Error marking temp audio message as error:",fe)}return{...xe,sending:!1,error:!0}}return xe})),Le(null),s({title:"Failed to send message",description:"Please try again",variant:"destructive"})},onSuccess:(Y,he)=>{if(console.log("Message sent successfully with ID:",Y.id),!Y._isDuplicatePrevention){const W=`${i}_sent_messages_${e}`;try{let xe=[];const fe=localStorage.getItem(W);fe&&(xe=JSON.parse(fe));const Ee=`${i}_message_session_id`,ve=localStorage.getItem(Ee)||Date.now().toString()+Math.random().toString(36).substring(2,15);xe.push({messageId:Y.id,content:he.content,messageType:he.messageType,sessionId:ve,time:Date.now()}),xe.length>20&&(xe=xe.slice(-20)),localStorage.setItem(W,JSON.stringify(xe)),console.log(`[DUPLICATE PREVENTION] Tracked message with ID ${Y.id} to prevent future duplicates`)}catch(xe){console.error("Error storing sent message tracking data:",xe)}}if(he.messageType==="audio"&&he.audioUrl)try{localStorage.setItem(`${i}_audio_message_${Y.id}`,he.audioUrl),localStorage.setItem(`${i}_audio_data_${Y.id}`,he.audioUrl),console.log(`Directly stored audio data for message ID ${Y.id} in both formats`);for(let W=0;W<localStorage.length;W++){const xe=localStorage.key(W);if(xe&&xe.startsWith(`${i}_temp_message_`)){const fe=xe.replace(`${i}_temp_message_`,""),Ee=localStorage.getItem(xe);if(Ee==="pending"||Ee==="retry"){const ve=[{source:`${i}_audio_message_${fe}`,target:`${i}_audio_message_${Y.id}`},{source:`${i}_audio_data_${fe}`,target:`${i}_audio_data_${Y.id}`}];let Ie=!1;for(const Fe of ve){const j=localStorage.getItem(Fe.source);j&&j.startsWith("data:audio/")&&(localStorage.setItem(Fe.target,j),Ie=!0,console.log(`Copied audio data from ${Fe.source} to ${Fe.target}`))}if(Ie){localStorage.removeItem(xe);for(const Fe of ve)try{localStorage.removeItem(Fe.source)}catch{}console.log(`Mapped and cleaned up temporary audio message ${fe} to real ID ${Y.id}`);break}}}}}catch(W){console.error("Error updating audio message mapping:",W)}tr(W=>{var ve;const xe=W.filter(Ie=>!(Ie.sending&&Ie.content===he.content&&Ie.senderId===(r==null?void 0:r.id))),fe=xe.some(Ie=>Ie.id===Y.id);let Ee;if(fe)console.log("[DUPLICATE PREVENTION] Message already exists, not adding duplicate"),Ee=xe;else{const Ie={...Y,replyToMessage:Y.replyToMessage||(Y.replyToMessageId&&Y.replyToContent?{id:Y.replyToMessageId,content:Y.replyToContent,senderName:Y.replyToSenderName||"Unknown",isCurrentUser:Y.replyToIsCurrentUser||!1}:void 0)};console.log("[REPLY-FIX] Adding confirmed message with reply data:",{messageId:Y.id,hasReplyData:!!Ie.replyToMessage,replyToContent:(ve=Ie.replyToMessage)==null?void 0:ve.content}),Ee=[...xe,Ie]}l.setQueryData(["/api/messages",e],Ee),console.log("[NEW APPROACH] Message confirmed with ID:",Y.id);try{const Ie={messages:Ee,savedAt:Date.now(),matchId:e,source:"message_confirmed"};sessionStorage.setItem(`${i}_session_messages_${e}`,JSON.stringify(Ie)),localStorage.setItem(`${i}_chat_messages_${e}`,JSON.stringify(Ie)),sessionStorage.setItem(`navigation_safe_messages_${e}`,JSON.stringify(Ie)),console.log(`[CRITICAL FIX] Saved ${Ee.length} messages to multiple storage locations`)}catch(Ie){console.warn("Failed to save to session storage:",Ie)}return Ee}),m(e,we.id,Y.content),setTimeout(()=>{var W;(W=J.current)==null||W.scrollIntoView({behavior:"smooth"})},100),Le(null)}});u.useEffect(()=>{const Y=ht.filter(he=>!he.read&&he.senderId!==(r==null?void 0:r.id));Y.length>0&&ze(`/api/messages/${e}/read`,{method:"POST"}).then(()=>{if(l.setQueryData(["/api/messages",e],he=>(he||[]).map(W=>({...W,read:W.senderId===(r==null?void 0:r.id)?W.read:!0,readAt:W.senderId===(r==null?void 0:r.id)?W.readAt:new Date().toISOString()}))),window.dispatchEvent(new CustomEvent("message:status:updated",{detail:{matchId:e,messageIds:Y.map(he=>he.id),status:"read",timestamp:new Date().toISOString()}})),l.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}),window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&Y.length>0&&Bt)try{const he={type:"message_read",matchId:e,messageIds:Y.map(W=>W.id),userId:r==null?void 0:r.id,timestamp:new Date().toISOString()};window.chatSocket.send(JSON.stringify(he)),console.log(" Sent message read notification via WebSocket:",he)}catch(he){console.error("Failed to send message read notification via WebSocket:",he)}}).catch(he=>{console.error("Failed to mark messages as read",he)})},[ht,e,r==null?void 0:r.id,l]);const Cn=u.useCallback(()=>{if(!x||!we.id)return!1;const Y=x.get(we.id);return!!Y&&Y.has(e)},[x,we.id,e]);u.useMemo(()=>{const Y=g.has(we.id),he=Cn();return Y&&!he},[g,we.id,Cn]),u.useEffect(()=>{f&&Ct()},[f,Ct]);const dn=u.useCallback(()=>{if(e)try{const Y=`${i}_chat_messages_${e}`,he=l.getQueryData(["/api/messages",e])||[];if(he.length===0){console.log("[DEBUG] No messages to save for match",e);return}console.log(`[FIX] Auto-saving ${he.length} messages for match ${e} in mode ${i}`);try{const ve=`${i}_session_messages_${e}`;sessionStorage.setItem(ve,JSON.stringify({messages:he,savedAt:Date.now(),matchId:e})),console.log(`[FIX] Saved ${he.length} messages to sessionStorage`)}catch(ve){console.warn("[WARNING] Failed to save to sessionStorage:",ve)}const W=he.map(ve=>!ve.createdAt||isNaN(new Date(ve.createdAt).getTime())?{...ve,createdAt:new Date().toISOString(),_fixedTimestamp:!0}:ve),xe=W.length>200?W.slice(-200):W;let fe=0;Ft==="custom"&&(fe=Rt(dr,vn));const Ee=JSON.stringify({messages:xe,expiresAt:Ft==="custom"?fe:null,savedAt:Date.now(),appMode:i,autoDeleteMode:Ft,messageCount:xe.length,totalCount:W.length,truncated:W.length>xe.length,matchId:e});try{localStorage.setItem(Y,Ee),console.log(`[DEBUG] Successfully saved ${xe.length} messages for match ${e}`),st.current=xe,localStorage.setItem(`${i}_chat_auto_delete_mode_${e}`,Ft),Ft==="custom"&&(localStorage.setItem(`${i}_chat_auto_delete_value_${e}`,String(dr)),localStorage.setItem(`${i}_chat_auto_delete_unit_${e}`,vn))}catch(ve){if(console.error("[ERROR] Storage quota exceeded while saving messages",ve),xe.length<=20){console.error("[ERROR] Already at minimum message count, cannot reduce further");return}try{const Ie=xe.slice(-Math.min(50,Math.floor(xe.length*.25))),Fe=JSON.stringify({messages:Ie,expiresAt:Ft==="custom"?fe:null,savedAt:Date.now(),appMode:i,autoDeleteMode:Ft,messageCount:Ie.length,totalCount:W.length,truncated:!0,matchId:e});try{localStorage.setItem(Y,Fe),console.log(`[DEBUG] Saved reduced set of ${Ie.length} messages after quota error`),st.current=Ie}catch{console.error("[ERROR] Failed to save even reduced message set, saving only IDs");try{const ne=W.map(oe=>oe.id);localStorage.setItem(`${i}_chat_message_ids_${e}`,JSON.stringify(ne))}catch{console.error("[ERROR] Failed to save even message IDs")}}}catch(Ie){console.error("[ERROR] Unexpected error in fallback message saving:",Ie)}}}catch(Y){console.error("[ERROR] Unexpected error in message saving logic:",Y)}},[e,Ft,dr,vn,Rt,i,l]),Ga=u.useCallback(()=>{try{console.log("[FIX] Running enhanced storage cleanup to prevent quota issues"),zv({keyPattern:"_error_|_temp_",deleteAll:!0}),zv({keyPattern:`${i}_chat_messages_`,olderThan:7*24*60*60*1e3,maxItems:20}),zv({keyPattern:"content_fingerprint_|permanent_content_fingerprint_",olderThan:24*60*60*1e3});try{const fe=[];for(let ve=0;ve<sessionStorage.length;ve++){const Ie=sessionStorage.key(ve);Ie&&fe.push(Ie)}const Ee=fe.filter(ve=>ve.match(/message_instance_|message_global_/));if(Ee.length>500){const ve=Ee.map(Ie=>{const Fe=sessionStorage.getItem(Ie)||"0";return{key:Ie,date:parseInt(Fe)||0}});ve.sort((Ie,Fe)=>Fe.date-Ie.date),ve.slice(500).forEach(Ie=>{sessionStorage.removeItem(Ie.key)}),console.log(`[CLEANUP] Removed ${ve.length-500} old message instance keys`)}}catch(fe){console.warn(`[CLEANUP] Failed to clean up sessionStorage: ${fe}`)}try{const fe=[];for(let Fe=0;Fe<sessionStorage.length;Fe++){const j=sessionStorage.key(Fe);j&&j.includes("content_fingerprint_")&&fe.push(j)}const Ee=4*60*60*1e3,ve=Date.now();let Ie=0;fe.forEach(Fe=>{const j=sessionStorage.getItem(Fe);if(j){const ne=parseInt(j);!isNaN(ne)&&ve-ne>Ee&&(sessionStorage.removeItem(Fe),Ie++)}}),console.log(`[CLEANUP] Removed ${Ie} old fingerprint keys from sessionStorage`)}catch(fe){console.warn(`[CLEANUP] Failed to clean up sessionStorage fingerprints: ${fe}`)}const Y=[];for(let fe=0;fe<localStorage.length;fe++){const Ee=localStorage.key(fe);Ee&&Y.push(Ee)}const he=Date.now(),W=7*24*60*60*1e3;Y.forEach(fe=>{if(fe.includes("_chat_messages_"))try{const Ee=localStorage.getItem(fe);if(Ee){const ve=JSON.parse(Ee);if(ve&&ve.savedAt){const Ie=he-ve.savedAt;Ie>W&&(console.log(`[CLEANUP] Removing old chat data: ${fe} (${Math.round(Ie/864e5)} days old)`),localStorage.removeItem(fe))}}}catch{localStorage.removeItem(fe)}});const xe=Y.filter(fe=>fe.includes("_chat_messages_"));if(xe.length>10){const fe=xe.map(Ee=>{try{const ve=localStorage.getItem(Ee);if(ve){const Ie=JSON.parse(ve);return{key:Ee,savedAt:(Ie==null?void 0:Ie.savedAt)||0}}return{key:Ee,savedAt:0}}catch{return{key:Ee,savedAt:0}}}).filter(Ee=>Ee!==void 0);fe.sort((Ee,ve)=>{const Ie=Ee&&Ee.savedAt||0,Fe=ve&&ve.savedAt||0;return Ie-Fe}),fe.length>10&&fe.slice(0,fe.length-10).forEach(ve=>{ve&&ve.key&&(console.log(`[CLEANUP] Removing excess chat data: ${ve.key}`),localStorage.removeItem(ve.key))})}}catch(Y){console.error("[ERROR] Failed during storage cleanup:",Y)}},[]);u.useEffect(()=>{if(!e||ht.length===0&&!je.current)return;Ga();const Y=setTimeout(()=>{je.current&&(console.log(`[DEBUG] Running initial message save for match ${e}`),dn())},1e3),he=setInterval(()=>{dn()},5e3),W=()=>{if(console.log(`[DEBUG] Page unload detected - saving messages for match ${e}`),dn(),Ft==="always"&&r){JSON.stringify({autoDeleteMode:"always",autoDeleteValue:dr,autoDeleteUnit:vn});try{const xe=`auto_delete_triggered_${e}_${r.id}`,fe=sessionStorage.getItem(xe),Ee=Date.now();!fe||Ee-parseInt(fe)>2e3?(console.log("[AUTO-DELETE] Triggering auto-delete on page unload"),sessionStorage.setItem(xe,Ee.toString()),fetch(`/api/matches/${e}/trigger-auto-delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id}),keepalive:!0}).catch(ve=>{console.error("Failed to trigger auto-delete on page unload:",ve)})):console.log(`[AUTO-DELETE] Skipping duplicate auto-delete trigger on unload (last triggered ${Ee-parseInt(fe)}ms ago)`)}catch(xe){console.error("Failed to trigger auto-delete on page unload:",xe)}}};return window.addEventListener("beforeunload",W),()=>{clearTimeout(Y),clearInterval(he),window.removeEventListener("beforeunload",W),console.log(`[DEBUG] Component unmounting - final save for match ${e}`);try{const xe=l.getQueryData(["/api/messages",e])||[];if(xe.length>0){try{const fe=`${i}_session_messages_${e}`;sessionStorage.setItem(fe,JSON.stringify({messages:xe,savedAt:Date.now(),matchId:e,cleanupSave:!0,navigationSave:!0})),sessionStorage.setItem(`${i}_has_messages_${e}`,"true"),sessionStorage.setItem(`${i}_message_count_${e}`,String(xe.length)),console.log(`[FIX] Successfully saved ${xe.length} messages to sessionStorage during cleanup`)}catch(fe){console.warn("[WARNING] Failed to save to sessionStorage during cleanup:",fe)}try{const fe=`${i}_chat_messages_${e}`,Ee=JSON.stringify({messages:xe,expiresAt:null,savedAt:Date.now(),appMode:i,autoDeleteMode:"never",originalAutoDeleteMode:Ft,messageCount:xe.length,cleanupSave:!0,matchId:e});localStorage.setItem(fe,Ee),console.log(`[FIX] Successfully saved ${xe.length} messages to localStorage during cleanup`)}catch(fe){console.error("[ERROR] Failed localStorage save during cleanup - but sessionStorage might have worked:",fe)}}}catch(xe){console.error("[ERROR] Failed during final cleanup save:",xe)}}},[e,ht.length,je,dn,l,i,Ft,Ga]),u.useEffect(()=>{if(f&&e)return p(e,!0),()=>{p(e,!1);const Y=l.getQueryData(["/api/messages",e])||[];if(Y.length===0)return;const he=`${i}_chat_messages_${e}`;if(Ft==="always"){const W=`auto_delete_triggered_${e}_${r==null?void 0:r.id}`,xe=sessionStorage.getItem(W),fe=Date.now();if(!xe||fe-parseInt(xe)>2e3){console.log("[AUTO-DELETE] Triggering immediate auto-delete for always mode when leaving chat"),sessionStorage.setItem(W,fe.toString()),fetch(`/api/matches/${e}/trigger-auto-delete`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({}),keepalive:!0}).then(Ee=>{Ee.ok?(console.log(`[AUTO-DELETE] Successfully triggered auto-delete for match ${e}`),setTimeout(()=>{l.invalidateQueries({queryKey:["/api/matches"]}),console.log("[AUTO-DELETE] Forced matches cache invalidation")},100)):console.error(`[AUTO-DELETE] Failed to trigger auto-delete: ${Ee.status}`)}).catch(Ee=>{console.error("[AUTO-DELETE] Error triggering auto-delete:",Ee)});try{const Ee=`${i}_messages_${e}`,ve=`${i}_chat_messages_${e}`;ti(Ee),ti(ve),console.log(`[AUTO-DELETE] Cleared local storage for match ${e}`)}catch(Ee){console.warn("Could not clear messages from local storage:",Ee)}}else console.log(`[AUTO-DELETE] Skipping duplicate auto-delete trigger for match ${e} (last triggered ${fe-parseInt(xe)}ms ago)`)}else if(Ft==="custom"){const W=Rt(dr,vn),xe=Y.map(ve=>!ve.createdAt||isNaN(new Date(ve.createdAt).getTime())?(console.log("Fixing message with missing createdAt on exit:",ve.id),{...ve,createdAt:new Date().toISOString(),_fixedCreatedAt:!0}):ve),fe=xe.length>100?xe.slice(-50):xe,Ee=JSON.stringify({messages:fe,expiresAt:W,savedAt:Date.now(),appMode:i,autoDeleteMode:"custom",messageCount:fe.length,totalCount:xe.length,truncated:xe.length>100});try{localStorage.setItem(he,Ee),console.log(`${fe.length} of ${Y.length} messages saved with expiration in ${dr} ${vn} for mode ${i}`,{expiresAt:new Date(W).toLocaleString()})}catch(ve){if(console.error(`Error saving messages on exit in "custom" mode for ${i}:`,ve),fe.length>20){const Ie=xe.slice(-20),Fe=JSON.stringify({messages:Ie,expiresAt:W,savedAt:Date.now(),appMode:i,autoDeleteMode:"custom",messageCount:Ie.length,totalCount:xe.length,truncated:!0});try{localStorage.setItem(he,Fe),console.log(`Saved reduced set of ${Ie.length} messages for mode ${i} after quota error on exit`)}catch{console.error(`Failed to save even reduced message set on exit for mode ${i}`)}}}}else if(Ft==="never"){const W=Y.map(Ee=>!Ee.createdAt||isNaN(new Date(Ee.createdAt).getTime())?(console.log("Fixing message with missing createdAt on exit (never mode):",Ee.id),{...Ee,createdAt:new Date().toISOString(),_fixedCreatedAt:!0}):Ee),xe=W.length>100?W.slice(-50):W,fe=JSON.stringify({messages:xe,expiresAt:null,savedAt:Date.now(),autoDeleteMode:"never",messageCount:xe.length,totalCount:W.length,truncated:W.length>100});_t(`${i}_chat_auto_delete_mode_${e}`,"never");try{ti(he),_t(he,fe);const Ee=Mr(he);if(Ee)try{const ve=JSON.parse(Ee);ve&&Array.isArray(ve.messages)&&ve.messages.length>0?console.log(`${ve.messages.length} messages saved permanently in "never" mode - verified`):console.error("Saved data structure invalid:",ve)}catch(ve){console.error("Error parsing saved data:",ve)}else if(console.error("Failed to save messages - storage may be full, trying to clear space"),Y.length>20){const ve=Y.slice(-10).map(Ie=>!Ie.createdAt||isNaN(new Date(Ie.createdAt).getTime())?{...Ie,createdAt:new Date().toISOString(),_fixedCreatedAt:!0,_emergency:!0}:Ie);_t(he,JSON.stringify({messages:ve,expiresAt:null,savedAt:Date.now(),autoDeleteMode:"never",truncated:!0})),console.log("Saved latest 10 messages as fallback")}}catch(Ee){console.error('Error saving messages in "never" mode:',Ee)}}}},[f,e,p,Ft,dr,vn,Rt,l,i]),u.useEffect(()=>{if("Notification"in window&&ht.length>R.current){const he=ht.slice(R.current).filter(W=>W.senderId===we.id);if(he.length>0&&Notification.permission==="granted"){if(document.visibilityState==="visible")return;const W=he[he.length-1],xe=`${we.fullName}`,fe={body:W.content.length>50?W.content.substring(0,47)+"...":W.content,icon:we.photoUrl||void 0};try{const Ee=new Notification(xe,fe);Ee.onclick=function(){var ve;window.focus(),(ve=J.current)==null||ve.scrollIntoView({behavior:"smooth"}),Ee.close()},setTimeout(()=>Ee.close(),5e3)}catch(Ee){console.error("Error showing notification:",Ee)}}}},[ht.length,we]),u.useEffect(()=>{if(!e||!ht.length)return;const Y=l.getQueryData(["/api/messages",e]);if(!Y||Y.length===0)return;console.log(`[CRITICAL FIX] Persist ${Y.length} messages for match ${e}`);const he=`meet_messages_${e}`;try{const W=JSON.stringify({messages:Y,timestamp:Date.now()});try{if(Y.length>100){const xe=Y.slice(-50),fe=JSON.stringify({messages:xe,timestamp:Date.now(),truncated:!0,originalCount:Y.length});_t(he,fe)}else _t(he,W)}catch(xe){console.warn("[WARNING] Safe storage save failed:",xe)}console.log(`[CRITICAL FIX] Successfully persisted ${Y.length} messages for match ${e}`)}catch(W){console.error("[ERROR] All persistence attempts failed:",W)}return()=>{try{const W=l.getQueryData(["/api/messages",e]);if(W&&W.length>0){const xe=`meet_final_${e}`,fe=JSON.stringify({messages:W,timestamp:Date.now(),unmountSave:!0});try{if(W.length>100){const Ee=W.slice(-50),ve=JSON.stringify({messages:Ee,timestamp:Date.now(),unmountSave:!0,truncated:!0,originalCount:W.length});_t(xe,ve)}else _t(xe,fe)}catch(Ee){console.warn("[WARNING] Safe storage unmount save failed:",Ee)}console.log(`[UNMOUNT] Saved ${W.length} messages on unmount for match ${e}`)}}catch(W){console.error("[ERROR] Failed to save on unmount:",W)}}},[e,i,ht,l]),u.useEffect(()=>{J.current&&ht.length>R.current&&!O&&ue.current&&J.current.scrollIntoView({behavior:"smooth"}),R.current=ht.length},[ht.length,O]),u.useEffect(()=>{ht.length>0&&!ue.current&&requestAnimationFrame(()=>{Se()||(ee.current&&(ee.current.scrollTop=ee.current.scrollHeight,console.log(`[SCROLL-RESTORE]  No saved position - scrolled to bottom for match ${e}`)),ue.current=!0,X(!1)),$(!1),X(!1)})},[ht.length]);const D=Y=>{var he;y(W=>W+Y),w(!1),(he=M.current)==null||he.focus()},Ve=async Y=>{var W;const he=(W=Y.target.files)==null?void 0:W[0];if(he)try{_(!0);const fe=`_!_IMAGE_!_${await new Promise((Ee,ve)=>{const Ie=new FileReader;Ie.readAsDataURL(he),Ie.onload=()=>Ee(Ie.result),Ie.onerror=Fe=>ve(Fe)})}`;await bn({content:fe}),Y.target&&(Y.target.value=""),s({title:"Image sent",description:"Your image has been sent successfully"})}catch(xe){console.error("Failed to upload image:",xe),s({title:"Upload failed",description:xe instanceof Error?xe.message:"Failed to upload image",variant:"destructive"})}finally{_(!1)}},Ke=Y=>{const he=Y.target.value;if(y(he),f){C||(I(!0),h(e,!0)),N&&clearTimeout(N);const W=setTimeout(()=>{I(!1),f&&h(e,!1)},2e3);P(W)}},Ot=Y=>{Y.preventDefault();const he=v.trim();if(he.length===0)return;const W=he;y("");const xe=`${i}_last_sent_message_${e}`,fe=Mr(xe);let Ee="",ve=0,Ie="";const Fe=`${i}_message_session_id`,j=Mr(Fe)||Date.now().toString()+Math.random().toString(36).substring(2,15);try{if(fe){const Q=JSON.parse(fe);Ee=Q.content||"",ve=Q.time||0,Ie=Q.sessionId||""}}catch(Q){console.error("Error parsing last sent message:",Q)}const ne=Date.now();if(Ee===W&&Ie===j&&ne-ve<3e4||Ee===W&&ne-ve<5e3){console.log(`[DUPLICATE PREVENTION] Blocking duplicate send of "${W}" (sent ${(ne-ve)/1e3}s ago)`),s({title:"Message already sent",description:"Please wait a moment before sending the same message again.",variant:"default"});return}try{_t(xe,JSON.stringify({content:W,time:ne,sessionId:j}))}catch(Q){console.error("Error saving last sent message:",Q)}Nt.current=!0;const Me=-Math.floor(Math.random()*1e6),Be={id:Me,matchId:e,senderId:r.id,receiverId:we.id,content:W,createdAt:new Date().toISOString(),read:!1,readAt:null,sending:!0,replyToMessageId:$e==null?void 0:$e.id,replyToMessage:$e||void 0};tr(Q=>{const Pe=[...Q,Be];return l.setQueryData(["/api/messages",e],Pe),Pe}),console.log("[NEW APPROACH] Single-source-of-truth message added, temp ID:",Me);try{W==="test-fail"?(console.log("Simulating message failure for testing"),setTimeout(()=>{l.setQueryData(["/api/messages",e],Q=>(Q||[]).map(Pe=>Pe.id===Me?{...Pe,sending:!1,error:!0}:Pe)),s({title:"Failed to send message",description:"Simulated failure for testing. Try the retry button.",variant:"destructive"})},2e3)):bn({content:W,replyToMessageId:$e==null?void 0:$e.id,replyToMessage:$e||void 0})}catch(Q){console.error("Error sending message:",Q)}f&&C&&(I(!1),h(e,!1),N&&(clearTimeout(N),P(null))),setTimeout(()=>{var Q;(Q=J.current)==null||Q.scrollIntoView({behavior:"smooth"})},100)},Nr=(Y,he)=>{var xe;const W=(xe=l.getQueryData(["/api/messages",e]))==null?void 0:xe.find(fe=>fe.id===Y);W&&(Le({id:Y,content:he,senderName:W.senderId===(r==null?void 0:r.id)?r.fullName:we.fullName,isCurrentUser:W.senderId===(r==null?void 0:r.id)}),M.current&&M.current.focus())},Fr=Y=>{s({title:"Copied to clipboard",description:"Message text has been copied to your clipboard"})},Br=async Y=>{try{console.log(` Starting unsend process for message ${Y}`),l.setQueryData(["/api/messages",e],xe=>(xe||[]).map(fe=>fe.id===Y?{...fe,sending:!0,content:"Removing..."}:fe));const he=await fetch(`/api/messages/${Y}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!he.ok){let xe="Failed to unsend message",fe=!1;const Ee=he.headers.get("content-type");if(Ee&&Ee.includes("application/json"))try{if(xe=(await he.json()).message||xe,xe.includes("Message not found")||he.status===404){console.log(`Message ${Y} not found - likely already deleted`),l.setQueryData(["/api/messages",e],Ie=>(Ie||[]).filter(Fe=>Fe.id!==Y)),s({title:"Message removed",description:"Message was already unsent",variant:"default"});return}if(xe.includes("Match not found")){fe=!0,xe="Temporary connection issue. Your match is safe - please try again.",console.warn(` MATCH LOOKUP FAILED during message deletion for match ${e}. This should not happen.`),s({title:"Connection Issue",description:"Don't worry - your match is still there. Please refresh and try again.",variant:"default"}),l.setQueryData(["/api/messages",e],Ie=>(Ie||[]).map(Fe=>Fe.id===Y?{...Fe,sending:!1,content:Fe.content==="Removing..."?"":Fe.content}:Fe));return}}catch(ve){console.error("Error parsing JSON response:",ve)}else he.status===401?xe="You need to log in again to perform this action":he.status>=500?(fe=!0,xe="Server temporarily unavailable. Your match is safe - please try again."):(xe=`Connection issue (${he.status}). Your match is safe - please try again.`,fe=!0);throw l.setQueryData(["/api/messages",e],ve=>(ve||[]).map(Ie=>Ie.id===Y?{...Ie,sending:!1,content:Ie.content==="Removing..."?"":Ie.content}:Ie)),fe&&console.log(` Preserving match state despite error: ${xe}`),new Error(xe)}const W=await he.json();console.log(` Message ${Y} successfully deleted from server:`,W),l.setQueryData(["/api/messages",e],xe=>{const fe=(xe||[]).filter(Ee=>Ee.id!==Y);return console.log(` Removed message ${Y} from cache. Messages remaining:`,fe.length),fe});try{const xe=`${i}_messages_${e}`,fe=Mr(xe);if(fe){const ne=JSON.parse(fe).filter(oe=>oe.id!==Y);_t(xe,JSON.stringify(ne)),console.log(` Cleared message ${Y} from localStorage`)}const Ee=`${i}_session_messages_${e}`,ve=sessionStorage.getItem(Ee);if(ve){const j=JSON.parse(ve);j.messages&&(j.messages=j.messages.filter(ne=>ne.id!==Y),sessionStorage.setItem(Ee,JSON.stringify(j)),console.log(` Cleared message ${Y} from sessionStorage`))}const Ie=`${i}_chat_messages_${e}`,Fe=Mr(Ie);if(Fe){const j=JSON.parse(Fe);j.messages&&(j.messages=j.messages.filter(ne=>ne.id!==Y),_t(Ie,JSON.stringify(j)),console.log(` Cleared message ${Y} from chat storage`))}}catch(xe){console.warn("Could not clear message from storage:",xe)}tr(xe=>xe.filter(fe=>fe.id!==Y)),l.invalidateQueries({queryKey:["/api/messages",e],refetchType:"none"}),s({title:"Message unsent",description:"The message has been permanently removed"})}catch(he){console.error("Failed to unsend message:",he),l.setQueryData(["/api/messages",e],xe=>(xe||[]).map(fe=>fe.id===Y?{...fe,sending:!1,content:fe.content==="Removing..."?"":fe.content}:fe));const W=he instanceof Error&&(he.message.includes("connection")||he.message.includes("temporarily")||he.message.includes("safe"));s({title:W?"Temporary Issue":"Failed to unsend",description:he instanceof Error?he.message:"Could not remove the message. Please try again.",variant:W?"default":"destructive"})}},ra=async Y=>{try{console.log(` Starting delete process for message ${Y} (recipient-side)`),l.setQueryData(["/api/messages",e],W=>(W||[]).filter(xe=>xe.id!==Y));const he=await fetch(`/api/messages/${Y}/recipient`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!he.ok){let W="Failed to delete message";const xe=he.headers.get("content-type");if(xe&&xe.includes("application/json"))try{W=(await he.json()).message||W}catch(fe){console.error("Error parsing JSON response:",fe)}else he.status===401?W="You need to log in again to perform this action":W=`Server error (${he.status}): ${he.statusText}`;throw l.invalidateQueries({queryKey:["/api/messages",e]}),new Error(W)}try{const W=`${i}_messages_${e}`,xe=Mr(W);if(xe){const Ee=JSON.parse(xe).filter(ve=>ve.id!==Y);_t(W,JSON.stringify(Ee)),console.log(` Cleared message ${Y} from local storage`)}}catch(W){console.warn("Could not clear message from local storage:",W)}console.log(` Message ${Y} successfully deleted from recipient view`),s({title:"Message deleted",description:"The message has been removed from your view"})}catch(he){console.error("Failed to delete message:",he),s({title:"Failed to delete",description:he instanceof Error?he.message:"Could not delete the message. Please try again.",variant:"destructive"})}},fs=async(Y,he)=>{var W,xe,fe;console.log(` handleEmojiReact called with messageId: ${Y}, emoji: ${he}`);try{const Ee=(W=l.getQueryData(["/api/messages",e]))==null?void 0:W.find(j=>j.id===Y);console.log(" Current message found:",Ee);const ve=(xe=Ee==null?void 0:Ee.reactions)==null?void 0:xe.find(j=>j.emoji===he),Ie=ve==null?void 0:ve.users.includes((r==null?void 0:r.fullName)||"You"),Fe=(fe=Ee==null?void 0:Ee.reactions)==null?void 0:fe.find(j=>j.emoji!==he&&j.users.includes((r==null?void 0:r.fullName)||"You"));if(console.log(" Existing reaction with same emoji:",ve),console.log(" User already reacted with same emoji:",Ie),console.log(" User has other reaction:",Fe),Ie){console.log(` Removing reaction for message ${Y} with emoji ${he}`);const j=await fetch(`/api/messages/${Y}/reactions`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:he})});if(console.log(" DELETE response status:",j.status),!j.ok){const ne=await j.text();throw console.error(" DELETE failed:",ne),new Error(`Failed to remove reaction: ${j.status} ${ne}`)}l.setQueryData(["/api/messages",e],ne=>(ne||[]).map(oe=>{if(oe.id===Y){const Me=oe.reactions||[];return{...oe,reactions:Me.map(Be=>Be.emoji===he?{...Be,count:Math.max(0,Be.count-1),users:Be.users.filter(Q=>Q!==((r==null?void 0:r.fullName)||"You"))}:Be).filter(Be=>Be.count>0)}}return oe})),s({title:"Reaction removed",description:`Removed ${he} reaction`})}else{if(Fe){console.log(` Removing user's previous reaction: ${Fe.emoji}`);const ne=await fetch(`/api/messages/${Y}/reactions`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:Fe.emoji})});if(console.log(" DELETE previous reaction response status:",ne.status),!ne.ok){const oe=await ne.text();throw console.error(" DELETE previous reaction failed:",oe),new Error(`Failed to remove previous reaction: ${ne.status} ${oe}`)}l.setQueryData(["/api/messages",e],oe=>(oe||[]).map(Me=>{if(Me.id===Y){const Be=Me.reactions||[];return{...Me,reactions:Be.map(Q=>Q.emoji===Fe.emoji?{...Q,count:Math.max(0,Q.count-1),users:Q.users.filter(Pe=>Pe!==((r==null?void 0:r.fullName)||"You"))}:Q).filter(Q=>Q.count>0)}}return Me}))}console.log(` Adding reaction for message ${Y} with emoji ${he}`);const j=await fetch(`/api/messages/${Y}/reactions`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({emoji:he})});if(console.log(" POST response status:",j.status),!j.ok){const ne=await j.text();throw console.error(" POST failed:",ne),new Error(`Failed to add reaction: ${j.status} ${ne}`)}l.setQueryData(["/api/messages",e],ne=>(ne||[]).map(oe=>{if(oe.id===Y){const Me=oe.reactions||[];return Me.find(Q=>Q.emoji===he)?{...oe,reactions:Me.map(Q=>Q.emoji===he?{...Q,count:Q.count+1,users:[...Q.users,(r==null?void 0:r.fullName)||"You"]}:Q)}:{...oe,reactions:[...Me,{emoji:he,count:1,users:[(r==null?void 0:r.fullName)||"You"]}]}}return oe})),s({title:Fe?"Reaction changed":"Reaction added",description:Fe?`Changed reaction to ${he}`:`Reacted with ${he}`})}}catch(Ee){console.error("Failed to handle reaction:",Ee),s({title:"Failed to react",description:"Could not handle reaction. Please try again.",variant:"destructive"})}},Va=Y=>{if(!Y.error)return;const he=`${i}_message_session_id`,W=Mr(he)||Date.now().toString()+Math.random().toString(36).substring(2,15),xe=`${i}_last_retry_message_${e}_${Y.id}`,fe=Mr(xe);let Ee=0,ve="";try{if(fe){const j=JSON.parse(fe);Ee=j.time||0,ve=j.sessionId||""}}catch(j){console.error("Error parsing last retry data:",j)}const Ie=Date.now();if(ve===W&&Ie-Ee<15e3||Ie-Ee<5e3){console.log(`[ENHANCED DUPLICATE] Blocking duplicate retry of message (retried ${(Ie-Ee)/1e3}s ago, session match: ${ve===W})`);return}try{_t(xe,JSON.stringify({time:Ie,sessionId:W,content:Y.content,messageType:Y.messageType||"text"})),console.log(`[ENHANCED DUPLICATE] Tracking retry with session ID: ${W.substring(0,8)}...`)}catch(j){console.error("Error saving last retry time:",j)}l.setQueryData(["/api/messages",e],j=>(j||[]).map(ne=>ne.id===Y.id?{...ne,sending:!0,error:!1,retryCount:(ne.retryCount||0)+1}:ne)),setTimeout(()=>{const j={...Y,sending:!0,error:!1,retryCount:(Y.retryCount||0)+1};if(Y.messageType==="audio"&&Y.audioUrl)try{if(Y.id!==j.id){const ne=Mr(`${i}_audio_message_${Y.id}`);ne&&(_t(`${i}_audio_message_${j.id}`,ne),_t(`${i}_temp_message_${j.id}`,"retry"))}}catch(ne){console.error("Error updating audio message mapping for retry:",ne)}bn({content:Y.content,messageType:Y.messageType,audioUrl:Y.audioUrl,audioDuration:Y.audioDuration}),setTimeout(()=>{l.setQueryData(["/api/messages",e],ne=>(ne||[]).filter(oe=>!(oe.id===Y.id&&oe.sending)))},1e4)},300)},gi=Y=>{try{if(!Y)return"";const he=new Date(Y);return isNaN(he.getTime())?"":gP(he,"h:mm a")}catch(he){return console.error("Error formatting message time:",he),""}},qd=u.useCallback(Y=>{try{const he={};return Y.forEach(W=>{try{if(!W.createdAt){console.warn("Message missing createdAt:",W);return}const xe=new Date(W.createdAt);if(isNaN(xe.getTime())){console.warn("Invalid date in message:",W);return}const fe=xe.toISOString().split("T")[0];he[fe]||(he[fe]=[]),he[fe].push(W)}catch(xe){console.error("Error processing message:",xe,W)}}),Object.entries(he).map(([W,xe])=>{const fe=new Date(W),Ee=new Date,ve=new Date(Ee);ve.setDate(ve.getDate()-1);let Ie;return W===Ee.toISOString().split("T")[0]?Ie="Today":W===ve.toISOString().split("T")[0]?Ie="Yesterday":Ie=gP(fe,"MMMM d, yyyy"),{date:W,formattedDate:Ie,messages:xe.sort((Fe,j)=>new Date(Fe.createdAt).getTime()-new Date(j.createdAt).getTime())}}).sort((W,xe)=>new Date(W.date).getTime()-new Date(xe.date).getTime())}catch(he){return console.error("Error grouping messages:",he),[]}},[]);jle(e,l,i,r,s),u.useEffect(()=>{if(Ft==="custom"&&dr>0){const Y=setInterval(()=>{const he=new Date;l.setQueryData(["/api/messages",e],W=>W?W.filter(xe=>{if(xe.sending||xe.senderId!==(r==null?void 0:r.id))return!0;const fe=new Date(xe.createdAt);let Ee;switch(vn){case"minutes":Ee=new Date(fe.getTime()+dr*60*1e3);break;case"hours":Ee=new Date(fe.getTime()+dr*60*60*1e3);break;case"days":Ee=new Date(fe.getTime()+dr*24*60*60*1e3);break;case"weeks":Ee=new Date(fe.getTime()+dr*7*24*60*60*1e3);break;case"months":Ee=new Date(fe.getTime()+dr*30*24*60*60*1e3);break;default:return!0}return he<Ee}):[])},6e4);return()=>clearInterval(Y)}},[Ft,dr,vn,e,l,r==null?void 0:r.id]),u.useEffect(()=>{console.log(`[TRACE] Messages effect running for match ${e}, current messages: ${ht.length}, hasSetInitialMessagesRef: ${Ae.current}`),ht.length>0&&!Ae.current&&(console.log(`[CRITICAL FIX] Setting initialization flag for match ${e} via effect - messages count: ${ht.length}`),Ae.current=!0),console.log(`[TRACE] Monitoring for state changes on message queries for match ${e}`);const Y=["/api/messages",e],he=l.getQueryData(Y)||[];return console.log(`[TRACE] Current query cache has ${Array.isArray(he)?he.length:0} messages for match ${e}`),()=>{console.log(`[TRACE] Message effect cleanup for match ${e}, hasSetInitialMessagesRef: ${Ae.current}`)}},[ht.length,e,l]),u.useEffect(()=>{if(!(!e||Ft==="always")&&Ft==="never"){console.log('Auto-delete mode changed to "Never" - checking for saved messages');const Y=`${i}_chat_messages_${e}`,he=Mr(Y);if(he)try{const W=JSON.parse(he);W&&W.messages&&W.messages.length>0&&(console.log(`Found ${W.messages.length} saved messages for "Never" mode`),ht.length===0&&(console.log("Restoring saved messages since current message list is empty"),l.setQueryData(["/api/messages",e],W.messages)))}catch(W){console.error("Error parsing saved messages:",W)}}},[Ft,e,ht.length,l]);const Fo=qd(ht);return u.useMemo(()=>{try{const Y=`${i}_session_messages_${e}`,he=`${i}_chat_messages_${e}`,W=sessionStorage.getItem(Y),xe=localStorage.getItem(he);return!!(W||xe)}catch{return!1}},[e,i]),u.useEffect(()=>{},[!1,e,i]),t.jsxs("div",{className:"h-full flex flex-col relative",children:[t.jsx(Ey,{count:32,opacityRange:[.05,.15],sizeRange:[16,30],speedRange:[25,45],color:n?"rgba(139, 92, 246, 0.5)":"rgba(124, 58, 237, 0.5)",className:"z-0"}),t.jsxs("div",{className:`px-3 py-3 border-b flex items-center sticky top-0 z-20 ${n?"bg-gradient-to-r from-gray-900/95 via-gray-900/98 to-gray-900/95 border-gray-800/30 backdrop-blur-xl":"bg-gradient-to-r from-white/95 via-white/98 to-white/95 border-gray-200/30 backdrop-blur-xl"} shadow-sm`,children:[t.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[t.jsx(de,{variant:"ghost",size:"icon",className:`h-9 w-9 rounded-full transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gray-800/60 hover:shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/60 hover:shadow-lg"} hover:scale-105`,onClick:()=>d("/messages"),children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsx("div",{className:"relative group",children:t.jsx(Sm,{user:we,children:t.jsx("div",{className:"cursor-pointer transition-all duration-300 ease-out group-hover:scale-105",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-0.5 rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 opacity-0 group-hover:opacity-30 transition-opacity duration-300 blur-sm"}),t.jsx(qs,{imageUrl:we.photoUrl,fallbackInitials:we.fullName.charAt(0),className:`h-10 w-10 relative z-10 border-2 shadow-lg ${n?"border-gray-700/50 shadow-gray-900/30":"border-white shadow-gray-200/50"} transition-all duration-300`})]})})})}),t.jsxs("div",{className:"flex-1 min-w-0 relative",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:`font-bold text-base leading-tight ${n?"text-white":"text-gray-900"} truncate`,children:we.fullName}),we&&t.jsx("div",{className:"absolute left-0 top-full mt-0.5 z-50 w-max max-w-xs",children:t.jsx(yle,{otherUserId:we.id})})]}),t.jsx($oe,{userId:we.id,matchId:e,showDetailedStatus:!0,className:`text-xs ${n?"text-gray-400":"text-gray-600"} mt-0.5`})]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(de,{variant:"ghost",size:"icon",className:`rounded-full h-9 w-9 sm:h-11 sm:w-11 transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gradient-to-br from-green-500/20 to-green-600/30 hover:shadow-lg hover:shadow-green-500/20":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-br from-green-500/10 to-green-600/20 hover:shadow-lg hover:shadow-green-500/20"} hover:scale-105 group`,children:t.jsx(Pd,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform"})}),t.jsx(de,{variant:"ghost",size:"icon",className:`rounded-full h-9 w-9 sm:h-11 sm:w-11 transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gradient-to-br from-blue-500/20 to-blue-600/30 hover:shadow-lg hover:shadow-blue-500/20":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-br from-blue-500/10 to-blue-600/20 hover:shadow-lg hover:shadow-blue-500/20"} hover:scale-105 group`,children:t.jsx(kT,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform"})}),t.jsxs(Tp,{children:[t.jsx(Ip,{asChild:!0,children:t.jsx(de,{variant:"ghost",size:"icon",className:`rounded-full h-9 w-9 sm:h-11 sm:w-11 transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gradient-to-br from-purple-500/20 to-purple-600/30 hover:shadow-lg hover:shadow-purple-500/20":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-br from-purple-500/10 to-purple-600/20 hover:shadow-lg hover:shadow-purple-500/20"} hover:scale-105 group`,children:t.jsx(gT,{className:"h-4 w-4 sm:h-5 sm:w-5 group-hover:scale-110 transition-transform"})})}),t.jsxs(vm,{align:"end",className:`${n?"bg-gray-900/95 border-gray-700/50 backdrop-blur-xl":"bg-white/95 border-gray-200/50 backdrop-blur-xl"} shadow-xl rounded-xl`,children:[t.jsx(Oa,{onClick:()=>{const Y=document.createElement("div");Y.className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-lg p-4";const he=document.createElement("div");he.className="animate-in zoom-in-95 fade-in duration-500 relative";const W=document.createElement("div");W.className="bg-transparent dark:bg-gray-900/80 rounded-[24px] shadow-[0_10px_50px_rgba(124,58,237,0.15)] backdrop-blur-xl p-6 max-w-xs w-full relative border border-gray-200/20 dark:border-gray-700/30 overflow-y-auto max-h-[85vh]";const xe=document.createElement("div");xe.className="absolute -inset-[1px] bg-gradient-to-tr from-purple-500/30 via-indigo-500/20 to-pink-500/30 rounded-[24px] -z-10 blur-sm opacity-80";const fe=document.createElement("div");fe.className="absolute -inset-[4px] bg-gradient-to-r from-purple-600/20 via-indigo-500/5 to-pink-600/20 rounded-[28px] -z-20 blur-xl opacity-70 animate-pulse";const Ee=document.createElement("div");Ee.className="absolute inset-[1px] bg-gradient-to-b from-white/20 to-transparent dark:from-white/5 rounded-[22px] z-10 pointer-events-none",W.appendChild(xe),W.appendChild(fe),W.appendChild(Ee);const ve=document.createElement("div");ve.className="absolute inset-0 opacity-20 rounded-[24px] z-0 pointer-events-none",ve.style.backgroundImage="url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=')",W.appendChild(ve),he.appendChild(W),Y.appendChild(he);const Ie=document.createElement("div");Ie.className="flex items-center justify-between mb-5";const Fe=document.createElement("h3");Fe.className="text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400",Fe.textContent="Chat Options";const j=document.createElement("div");j.className="relative flex items-center",j.appendChild(Fe);const ne=document.createElement("div");ne.className="absolute -left-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 animate-pulse",j.appendChild(ne),Ie.appendChild(j);const oe=document.createElement("button");oe.className="rounded-full w-7 h-7 flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 bg-gray-100/50 dark:bg-gray-800/50 hover:bg-gray-200/70 dark:hover:bg-gray-700/70 transition-colors",oe.innerHTML=`
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                  </svg>
                `,Ie.appendChild(oe),W.appendChild(Ie);const Me=document.createElement("div");Me.className="space-y-5 mb-2",W.appendChild(Me);const Be=document.createElement("div");Be.className="flex items-center justify-between p-3 rounded-xl bg-gradient-to-br from-gray-50/90 to-gray-100/50 dark:from-gray-900/60 dark:to-gray-800/40 backdrop-blur-md border border-white/10 dark:border-white/5 shadow-sm",Be.style.transition="all 0.3s ease",Be.addEventListener("mouseenter",()=>{Be.style.boxShadow="0 4px 20px -2px rgba(124, 58, 237, 0.15)",Be.style.borderColor="rgba(124, 58, 237, 0.2)"}),Be.addEventListener("mouseleave",()=>{Be.style.boxShadow="",Be.style.borderColor=""});const Q=document.createElement("div");Q.className="flex items-center";const Pe=document.createElement("div");Pe.className="relative mr-3";const Re=document.createElement("div");Re.className="absolute inset-0 rounded-full bg-purple-500/20 blur-sm -z-10 scale-125 opacity-0 transition-opacity duration-300",Pe.appendChild(Re);const _e=document.createElement("span");_e.className="flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-purple-500/10 to-indigo-500/10 text-purple-500 dark:text-purple-400",_e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>',Pe.appendChild(_e),Pe.addEventListener("mouseenter",()=>{Re.style.opacity="1"}),Pe.addEventListener("mouseleave",()=>{Re.style.opacity="0"}),Q.appendChild(Pe);const et=document.createElement("div");et.className="flex flex-col";const Gt=document.createElement("span");Gt.className="text-sm font-medium text-gray-700 dark:text-gray-200",Gt.textContent="Read Receipts";const Dt=document.createElement("span");Dt.className="text-xs text-gray-500 dark:text-gray-400 mt-0.5",Dt.textContent="Show when messages are seen",et.appendChild(Gt),et.appendChild(Dt),Q.appendChild(et),Be.appendChild(Q);const Gr=document.createElement("div");Gr.className="relative inline-flex items-center cursor-pointer";const Qt=document.createElement("input");Qt.type="checkbox",Qt.className="sr-only peer",Qt.checked=Bt,Qt.id="read-toggle";const Cr=document.createElement("div");if(Cr.className=`w-12 h-6 bg-gray-200 dark:bg-gray-700 rounded-full peer 
                  ${Bt?"peer-checked:after:translate-x-full after:translate-x-full peer-checked:bg-gradient-to-r from-purple-500 to-indigo-600 bg-gradient-to-r from-purple-500 to-indigo-600":""} 
                  peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] 
                  after:bg-white after:shadow-md after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 
                  after:transition-all dark:border-gray-600 peer-checked:bg-purple-600 transition-all duration-300`,Bt){const ur=document.createElement("div");ur.className="absolute inset-0 rounded-full bg-purple-500/20 blur-md -z-10 opacity-70",Cr.appendChild(ur)}Gr.appendChild(Qt),Gr.appendChild(Cr),Gr.addEventListener("click",()=>{Qt.checked=!Qt.checked,Qt.checked?(Cr.classList.add("from-purple-500","to-indigo-500","bg-gradient-to-r"),Cr.classList.add("after:translate-x-full"),Be.classList.add("bg-gradient-to-br","from-purple-50/40","to-indigo-50/40"),Be.classList.remove("bg-gray-50/80","dark:bg-gray-800/50")):(Cr.classList.remove("from-purple-500","to-indigo-500","bg-gradient-to-r"),Cr.classList.remove("after:translate-x-full"),Be.classList.remove("bg-gradient-to-br","from-purple-50/40","to-indigo-50/40"),Be.classList.add("bg-gray-50/80","dark:bg-gray-800/50")),localStorage.setItem(`${i}_chat_read_receipts_${e}`,Qt.checked.toString()),vt(Qt.checked)}),Be.appendChild(Gr),Me.appendChild(Be);const Hr=document.createElement("div");Hr.className="p-3 rounded-xl bg-gradient-to-br from-gray-50/90 to-gray-100/50 dark:from-gray-900/60 dark:to-gray-800/40 backdrop-blur-md border border-white/10 dark:border-white/5 shadow-sm",Hr.style.transition="all 0.3s ease",Hr.addEventListener("mouseenter",()=>{Hr.style.boxShadow="0 4px 20px -2px rgba(124, 58, 237, 0.15)",Hr.style.borderColor="rgba(124, 58, 237, 0.2)"}),Hr.addEventListener("mouseleave",()=>{Hr.style.boxShadow="",Hr.style.borderColor=""});const na=document.createElement("div");na.className="flex items-center mb-4";const Ia=document.createElement("div");Ia.className="relative mr-3";const rr=document.createElement("div");rr.className="absolute inset-0 rounded-full bg-purple-500/20 blur-sm -z-10 scale-125 opacity-0 transition-opacity duration-300",Ia.appendChild(rr);const ft=document.createElement("span");ft.className="flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-purple-500/10 to-indigo-500/10 text-purple-500 dark:text-purple-400",ft.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>',Ia.appendChild(ft),Ia.addEventListener("mouseenter",()=>{rr.style.opacity="1"}),Ia.addEventListener("mouseleave",()=>{rr.style.opacity="0"}),na.appendChild(Ia);const un=document.createElement("div");un.className="flex flex-col";const aa=document.createElement("span");aa.className="text-sm font-medium text-gray-700 dark:text-gray-200",aa.textContent=o("chat.autoDelete");const rn=document.createElement("span");rn.className="text-xs text-gray-500 dark:text-gray-400 mt-0.5",rn.textContent="Control how long messages stay in chat",un.appendChild(aa),un.appendChild(rn),na.appendChild(un),Hr.appendChild(na);const Rr=document.createElement("div");Rr.className="grid grid-cols-3 gap-2 mb-2";const ya=(ur,Yr,es)=>{const za=Ft===Yr,ts=document.createElement("label");ts.className=`flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 ${za?"bg-gradient-to-br from-purple-500/10 to-indigo-500/10 border border-purple-500/30 shadow-sm dark:from-purple-600/20 dark:to-indigo-600/20":"border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700/50 hover:bg-gray-50/80 dark:hover:bg-gray-800/80"} cursor-pointer`;const Qs=document.createElement("input");Qs.type="radio",Qs.name="autoDeleteMode",Qs.value=Yr,Qs.checked=za,Qs.className="sr-only";const Uo=document.createElement("span");Uo.className=`text-${za?"purple":"gray"}-500 dark:text-${za?"purple":"gray"}-400 mb-1`,Uo.innerHTML=es;const pv=document.createElement("span");return pv.className=`text-xs font-medium ${za?"text-purple-700 dark:text-purple-300":"text-gray-600 dark:text-gray-400"}`,pv.textContent=o(`chat.autoDelete${Yr.charAt(0).toUpperCase()+Yr.slice(1)}`),ts.appendChild(Qs),ts.appendChild(Uo),ts.appendChild(pv),{label:ts,input:Qs}},ma=ya("never","never",'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line></svg>'),wn=ya("always","always",'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line></svg>'),Fn=ya("custom","custom",'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>');Rr.appendChild(ma.label),Rr.appendChild(wn.label),Rr.appendChild(Fn.label),Hr.appendChild(Rr);const va=document.createElement("div");va.className="flex items-center mt-3 p-2 bg-purple-50/50 dark:bg-purple-900/10 rounded-lg transition-all duration-300",va.style.display=Ft==="custom"?"flex":"none";const nn=document.createElement("input");nn.type="number",nn.min="1",nn.className="w-14 h-8 px-2 text-sm border border-purple-200/30 dark:border-purple-800/30 rounded bg-gray-100/60 dark:bg-gray-800/80 mr-2 focus:ring-1 focus:ring-purple-400 focus:outline-none",nn.value=dr.toString();const Pr=document.createElement("select");Pr.className="h-8 px-2 text-sm border border-purple-200/30 dark:border-purple-800/30 rounded bg-gray-100/60 dark:bg-gray-800/80 focus:ring-1 focus:ring-purple-400 focus:outline-none",[{value:"minutes",label:o("chat.autoDeleteMinutes")},{value:"hours",label:o("chat.autoDeleteHours")},{value:"days",label:o("chat.autoDeleteDays")},{value:"weeks",label:o("chat.autoDeleteWeeks")},{value:"months",label:o("chat.autoDeleteMonths")}].forEach(ur=>{const Yr=document.createElement("option");Yr.value=ur.value,Yr.textContent=ur.label,Yr.selected=ur.value===vn,Pr.appendChild(Yr)}),va.appendChild(nn),va.appendChild(Pr),Hr.appendChild(va),Me.appendChild(Hr),[ma.input,wn.input,Fn.input].forEach(ur=>{ur.addEventListener("change",()=>{let Yr="never";ma.input.checked&&(Yr="never"),wn.input.checked&&(Yr="always"),Fn.input.checked&&(Yr="custom"),[ma,wn,Fn].forEach(es=>{const za=es.input.checked,ts=es.label;if(za){ts.classList.add("bg-gradient-to-br","from-purple-500/10","to-indigo-500/10","border-purple-500/30"),ts.classList.remove("border-gray-200","dark:border-gray-700");const Qs=ts.querySelector("span:first-of-type"),Uo=ts.querySelector("span:last-of-type");Qs&&(Qs.className="text-purple-500 dark:text-purple-400 mb-1"),Uo&&(Uo.className="text-xs font-medium text-purple-700 dark:text-purple-300")}else{ts.classList.remove("bg-gradient-to-br","from-purple-500/10","to-indigo-500/10","border-purple-500/30"),ts.classList.add("border-gray-200","dark:border-gray-700");const Qs=ts.querySelector("span:first-of-type"),Uo=ts.querySelector("span:last-of-type");Qs&&(Qs.className="text-gray-500 dark:text-gray-400 mb-1"),Uo&&(Uo.className="text-xs font-medium text-gray-600 dark:text-gray-400")}}),Yr==="custom"?(va.style.display="flex",va.style.opacity="0",setTimeout(()=>{va.style.opacity="1"},10)):(va.style.opacity="0",setTimeout(()=>{va.style.display="none"},300)),$t(Yr),localStorage.setItem(`chat_auto_delete_mode_${e}`,Yr),ze(`/api/matches/${e}/auto-delete-settings`,{method:"POST",data:{autoDeleteMode:Yr,autoDeleteValue:dr,autoDeleteUnit:vn}}).catch(es=>{console.error("Failed to update auto-delete settings:",es),s({title:"Error",description:"Failed to update auto-delete settings",variant:"destructive"})})})}),nn.addEventListener("change",()=>{let ur=parseInt(nn.value);(isNaN(ur)||ur<1)&&(ur=1,nn.value="1"),Vt(ur),localStorage.setItem(`chat_auto_delete_value_${e}`,ur.toString()),ze(`/api/matches/${e}/auto-delete-settings`,{method:"POST",data:{autoDeleteMode:Ft,autoDeleteValue:ur,autoDeleteUnit:vn}}).catch(Yr=>{console.error("Failed to update auto-delete value:",Yr)})}),Pr.addEventListener("change",()=>{const ur=Pr.value;Sn(ur),localStorage.setItem(`chat_auto_delete_unit_${e}`,ur),ze(`/api/matches/${e}/auto-delete-settings`,{method:"POST",data:{autoDeleteMode:Ft,autoDeleteValue:dr,autoDeleteUnit:ur}}).catch(Yr=>{console.error("Failed to update auto-delete unit:",Yr)})});const _r=document.createElement("div");_r.className="relative flex py-3 items-center my-4";const _a=document.createElement("div");_a.className="flex-grow border-t border-gray-300/30 dark:border-gray-700/30",_r.appendChild(_a);const xi=document.createElement("span");xi.className="flex-shrink-0 mx-2 text-xs text-gray-500 dark:text-gray-400",xi.textContent="DANGER ZONE",_r.appendChild(xi);const qf=document.createElement("div");qf.className="flex-grow border-t border-gray-300/30 dark:border-gray-700/30",_r.appendChild(qf),W.appendChild(_r);const Yd=document.createElement("div");Yd.className="relative";const SS=document.createElement("div");SS.className="absolute -inset-1 bg-gradient-to-r from-red-500/10 to-orange-500/10 rounded-lg blur-sm opacity-30 group-hover:opacity-100 transition-all duration-300",Yd.appendChild(SS);const Qd=document.createElement("button");Qd.className="relative w-full py-3 px-4 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-lg flex items-center justify-center shadow-sm shadow-red-500/20 transition-all duration-300 overflow-hidden group z-10";const Yf=document.createElement("div");Yf.className="absolute inset-0 w-full h-full",Yf.style.backgroundImage="url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=')",Yf.style.opacity="0.1";const CS=document.createElement("div");CS.className="absolute top-0 -inset-full h-full w-1/3 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent to-white opacity-10 group-hover:duration-700 group-hover:animate-shine",Qd.appendChild(Yf),Qd.appendChild(CS);const Qf=document.createElement("div");Qf.className="flex items-center relative z-10";const mv=document.createElement("span");mv.className="mr-2 text-white/90",mv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="17" x2="22" y1="11" y2="11"></line></svg>';const hv=document.createElement("span");hv.textContent=o("chat.unmatch"),hv.className="relative",Qf.appendChild(mv),Qf.appendChild(hv),Qd.appendChild(Qf),Yd.appendChild(Qd),W.appendChild(Yd),document.body.appendChild(Y),oe.addEventListener("click",()=>{const ur=Qt.checked;if(document.body.removeChild(Y),c&&typeof c=="string"&&c.startsWith(`/chat/${e}`)&&!U){d("/messages");return}let Yr="never";ma.input.checked&&(Yr="never"),wn.input.checked&&(Yr="always"),Fn.input.checked&&(Yr="custom");let es=parseInt(nn.value);(isNaN(es)||es<1)&&(es=1);const za=Pr.value;vt(ur),$t(Yr),Vt(es),Sn(za),localStorage.setItem(`chat_read_receipts_${e}`,ur.toString()),localStorage.setItem(`chat_auto_delete_mode_${e}`,Yr),localStorage.setItem(`chat_auto_delete_value_${e}`,es.toString()),localStorage.setItem(`chat_auto_delete_unit_${e}`,za)}),Qd.addEventListener("click",()=>{const ur=document.createElement("div");ur.className="fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",ur.innerHTML=`
                    <div class="bg-white/90 dark:bg-gray-900/90 rounded-2xl shadow-[0_8px_32px_rgba(0,0,0,0.15)] backdrop-blur-md p-5 max-w-sm w-full relative border border-gray-200/30 dark:border-gray-700/30 animate-in zoom-in-95 duration-200">
                      <div class="absolute -inset-[1px] bg-gradient-to-tr from-red-500/20 to-orange-500/20 rounded-2xl -z-10 blur-sm opacity-60"></div>

                      <div class="flex items-center mb-3">
                        <span class="mr-2 text-red-500 dark:text-red-400">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                          </svg>
                        </span>
                        <h3 class="text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-red-600 to-orange-600 dark:from-red-400 dark:to-orange-400">Are you sure?</h3>
                      </div>

                      <p class="text-gray-600 dark:text-gray-300 text-sm mb-5 pl-7">
                        This will delete the conversation and remove <span class="font-medium">${we.fullName}</span> from your matches. This action cannot be undone.
                      </p>

                      <div class="flex justify-end space-x-3 mt-6">
                        <button class="cancel-unmatch-btn px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100/80 hover:bg-gray-200/90 dark:text-gray-200 dark:bg-gray-800/50 dark:hover:bg-gray-700/60 rounded-lg transition-colors">
                          Cancel
                        </button>
                        <button class="confirm-unmatch-btn px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 rounded-lg transition-colors shadow-sm shadow-red-500/20">
                          Unmatch
                        </button>
                      </div>
                    </div>
                  `,document.body.appendChild(ur);const Yr=ur.querySelector(".cancel-unmatch-btn"),es=ur.querySelector(".confirm-unmatch-btn");Yr==null||Yr.addEventListener("click",()=>{document.body.removeChild(ur)}),es==null||es.addEventListener("click",()=>{try{document.body.removeChild(ur),document.body.removeChild(Y)}catch(za){console.warn("[UNMATCH-PERFORMANCE] Dialog cleanup warning:",za)}console.log("[UNMATCH-PERFORMANCE] Initiating optimized unmatch process"),ze(`/api/matches/${e}/unmatch`,{method:"POST"}).then(()=>{console.log("[UNMATCH-PERFORMANCE] Optimized unmatch completed successfully"),Promise.all([l.setQueryData(["/api/matches"],za=>(za||[]).filter(ts=>ts.id!==e)),l.invalidateQueries({queryKey:["/api/matches/counts"]}),l.removeQueries({queryKey:["/api/messages",e]})]).catch(za=>{console.warn("[UNMATCH-PERFORMANCE] Cache operation error:",za)}),d("/messages")}).catch(za=>{s({title:"Error",description:"Failed to unmatch. Please try again.",variant:"destructive"}),document.body.removeChild(ur)})})}),Qt.addEventListener("change",()=>{const ur=Qt.checked;vt(ur),localStorage.setItem(`${i}_chat_read_receipts_${e}`,ur.toString())}),[ma.input,wn.input,Fn.input].forEach(ur=>{}),nn.addEventListener("change",()=>{let ur=parseInt(nn.value);(isNaN(ur)||ur<1)&&(ur=1,nn.value="1"),Vt(ur),localStorage.setItem(`${i}_chat_auto_delete_value_${e}`,ur.toString())}),Pr.addEventListener("change",()=>{const ur=Pr.value;Sn(ur),localStorage.setItem(`${i}_chat_auto_delete_unit_${e}`,ur)})},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),o("chat.options")]})}),t.jsx(Zc,{className:n?"bg-gray-700/50":"bg-gray-200/50"}),t.jsx(Oa,{onClick:()=>ot(),className:`text-orange-600 dark:text-orange-400 focus:text-orange-700 dark:focus:text-orange-300 ${n?"focus:bg-orange-500/10":"focus:bg-orange-50"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(GG,{className:"h-4 w-4 mr-2"}),"Block User"]})}),t.jsx(Oa,{onClick:()=>A(!0),className:`text-red-600 dark:text-red-400 focus:text-red-700 dark:focus:text-red-300 ${n?"focus:bg-red-500/10":"focus:bg-red-50"}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(bG,{className:"h-4 w-4 mr-2"}),"Report User"]})})]})]})]})]}),t.jsxs("div",{ref:ee,className:"flex-1 overflow-y-auto pt-2 px-3 pb-2 bg-transparent dark:bg-gray-900/90 backdrop-blur-sm",style:{visibility:re?"visible":"hidden",opacity:re?1:0,transition:"opacity 0.1s ease-in-out"},children:[(ht.length>0&&!Ae.current&&(Ae.current=!0,console.log(`[CRITICAL FIX] Force setting initialization flag for match ${e} - have ${ht.length} messages`)),null),t.jsx("div",{style:{display:"none"},id:"message-sync-helper","data-matchid":e}),Fo.length>0?t.jsx(t.Fragment,{children:Fo.map((Y,he)=>t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex justify-center mb-2",children:t.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs ${n?"bg-gray-800/80 text-gray-400 backdrop-blur-sm":"bg-gray-100/70 text-gray-500 backdrop-blur-sm"}`,children:Y.formattedDate})}),t.jsx("div",{className:"space-y-2",children:Y.messages.map((W,xe)=>{const fe=W.senderId===(r==null?void 0:r.id),Ee=xe>0&&Y.messages[xe-1].senderId===W.senderId,ve=j=>{const ne=j.touches[0].clientX;j.currentTarget._touchStart=ne},Ie=j=>{const ne=j.currentTarget._touchStart;if(!ne)return;const oe=j.touches[0].clientX,Me=ne-oe;Math.abs(Me)>50&&(Nr(W.id,W.content),j.currentTarget._touchStart=null)},Fe=()=>{};return t.jsx("div",{"data-message-id":W.id,className:`flex ${W.messageType==="audio"?"justify-start":fe?"justify-end":"justify-start"}`,onTouchStart:ve,onTouchMove:Ie,onTouchEnd:Fe,children:t.jsxs("div",{className:`flex items-center ${W.messageType==="audio"?fe?"max-w-[80%] ml-10 sm:ml-12":"max-w-[80%] ml-0 sm:ml-1":fe?"max-w-[70%] sm:max-w-[75%] mr-2 sm:mr-4":"max-w-[80%]"}`,children:[fe&&t.jsx("div",{className:"flex items-center mr-2 flex-shrink-0",children:t.jsx(bP,{messageId:W.id,messageContent:W.content,isCurrentUser:fe,onReply:Nr,onCopy:Fr,onUnsend:Br,onDelete:ra,onEmojiReact:fs,className:""})}),!fe&&!Ee&&t.jsx("div",{className:"relative mr-2 flex-shrink-0",children:t.jsx(Sm,{user:we,children:t.jsx("div",{className:"cursor-pointer hover:scale-105 transition-transform duration-200 ease-in-out",children:t.jsx(qs,{imageUrl:we.photoUrl,fallbackInitials:we.fullName.charAt(0),className:"h-8 w-8",style:{display:"none"}})})})}),t.jsxs("div",{className:"relative group",id:`message-${W.id}`,children:[t.jsxs("div",{className:`rounded-lg p-2.5 text-sm backdrop-blur-sm transition-all duration-300 ${Oe===W.id?"ring-2 ring-purple-400 shadow-purple-400/50 shadow-lg transform scale-[1.02]":""} ${W.content&&typeof W.content=="string"&&(W.content.startsWith("_!_IMAGE_!_")||W.content.startsWith("_!_VIDEO_!_"))||W.messageType==="audio"&&W.audioUrl?"bg-transparent backdrop-blur-0 border-0 shadow-none p-1":fe&&W.error?n?"bg-gradient-to-br from-red-700 to-red-900 text-white rounded-br-none border border-red-600/40 shadow-red-900/30 shadow-lg":"bg-gradient-to-r from-red-500 to-red-600 text-white rounded-br-none border border-red-400/50 shadow-red-500/30 shadow-lg":fe?n?"bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-700 text-white rounded-br-none shadow-purple-700/30 shadow-lg border border-purple-500/20":"bg-gradient-to-r from-purple-500 via-violet-500 to-purple-400 text-white rounded-br-none shadow-purple-500/30 shadow-lg border border-purple-300/10":n?"bg-gray-800/80 text-gray-100 rounded-bl-none shadow-gray-900/30 shadow-md border border-gray-700/20":"bg-gray-100/90 backdrop-blur-sm text-gray-800 rounded-bl-none shadow-sm border border-gray-200/30"} ${Ee?fe?"rounded-tr-md":"rounded-tl-md":""} ${fe&&W.error?"animate-pulse":""}`,children:[W.replyToMessage&&t.jsx(Loe,{originalMessage:W.replyToMessage,className:"mb-2",onScrollToMessage:Ir}),t.jsx("div",{className:"whitespace-pre-wrap leading-normal",children:W.messageType==="audio"&&W.audioUrl&&W.audioDuration?t.jsx(_oe,{audioUrl:W.audioUrl,audioDuration:W.audioDuration,messageId:W.id,isOutgoing:fe}):W.content&&typeof W.content=="string"&&W.content.startsWith("_!_IMAGE_!_")?t.jsx("div",{className:"image-message",children:t.jsx(ble,{src:W.content&&typeof W.content=="string"?W.content.replace("_!_IMAGE_!_",""):"",alt:"Shared image",className:"rounded-md max-w-full max-h-60 object-contain hover:opacity-90 transition-opacity duration-200",onClick:()=>{W.content&&typeof W.content=="string"&&zt(W.content.replace("_!_IMAGE_!_",""))},messageId:W.id})}):W.content&&typeof W.content=="string"&&W.content.startsWith("_!_VIDEO_!_")?t.jsxs("div",{className:"video-message cursor-pointer relative",onClick:()=>ut(W.content.replace("_!_VIDEO_!_","")),children:[t.jsx(wle,{src:W.content.replace("_!_VIDEO_!_",""),className:"rounded-md max-w-full max-h-60 object-contain hover:opacity-80 transition-opacity",onClick:()=>ut(W.content.replace("_!_VIDEO_!_",""))}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 hover:bg-black/30 transition-colors rounded-md",children:t.jsx("div",{className:"w-16 h-16 bg-white/80 rounded-full flex items-center justify-center backdrop-blur-sm",children:t.jsx("svg",{className:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M8 5v14l11-7z"})})})})]}):t.jsxs("div",{className:"flex flex-wrap justify-between items-end gap-2",children:[t.jsx("span",{className:"mr-2",children:W.content}),t.jsx("span",{className:`text-[10px] flex-shrink-0 ${fe?"text-white/80":n?"text-gray-400":"text-gray-500"}`,children:gi(W.createdAt)})]})}),t.jsxs("div",{className:"flex items-center justify-end mt-1 space-x-1",children:[(W.messageType==="audio"||W.content&&typeof W.content=="string"&&(W.content.startsWith("_!_IMAGE_!_")||W.content.startsWith("_!_VIDEO_!_")))&&t.jsx("span",{className:`text-[10px] ${W.content&&typeof W.content=="string"&&W.content.startsWith("_!_IMAGE_!_")?n?"text-gray-300":"text-gray-700":fe?"text-white/80":n?"text-gray-400":"text-gray-500"}`,children:gi(W.createdAt)}),fe&&t.jsxs(t.Fragment,{children:[W.sending&&t.jsx(Ja,{className:"h-3 w-3 text-white text-opacity-70"}),W.error&&t.jsxs("div",{onClick:()=>Va(W),className:"flex items-center cursor-pointer text-red-500 hover:text-red-600",title:W.retryCount?`Failed to send (${W.retryCount} attempts). Click to try again`:"Click to retry sending this message",children:[t.jsx("div",{className:"bg-red-500 rounded-full h-3 w-3 flex items-center justify-center mr-1",children:t.jsx(Wn,{className:"h-2 w-2 text-white"})}),t.jsx("span",{className:"text-[10px] font-medium",children:W.retryCount?`retry (${W.retryCount}x)`:"retry"})]}),!W.sending&&!W.error&&W.read&&Bt&&t.jsx(um,{className:`h-3 w-3 ${W.content&&typeof W.content=="string"&&W.content.startsWith("_!_IMAGE_!_")?n?"text-gray-300":"text-gray-700":"text-white text-opacity-70"}`}),!W.sending&&!W.error&&!W.read&&Bt&&t.jsx(At,{className:`h-3 w-3 ${W.content&&typeof W.content=="string"&&W.content.startsWith("_!_IMAGE_!_")?n?"text-gray-300":"text-gray-700":"text-white text-opacity-70"}`}),!W.sending&&!W.error&&W.read&&Bt&&t.jsx("span",{className:`text-[10px] ml-0.5 ${W.content&&typeof W.content=="string"&&W.content.startsWith("_!_IMAGE_!_")?n?"text-gray-300":"text-gray-700":"text-white/80"}`,children:"seen"})]})]})]}),W.reactions&&W.reactions.length>0&&t.jsx("div",{className:`absolute ${fe?"left-0":"right-0"} bottom-0 -mb-2 -ml-1 
                                bg-gradient-to-r from-gray-50/90 to-gray-100/90 
                                dark:bg-gradient-to-r dark:from-gray-800/90 dark:to-gray-700/90 
                                rounded-full px-2 py-0.5 border border-gray-200/30 dark:border-gray-700/30 
                                backdrop-blur-md flex items-center space-x-1 shadow-sm transition-all duration-200 hover:shadow-md`,children:W.reactions.map((j,ne)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-xs",children:j.emoji}),j.count>1&&t.jsx("span",{className:"text-[10px] ml-0.5 font-medium text-gray-600 dark:text-gray-300",children:j.count})]},ne))})]}),!fe&&t.jsx("div",{className:"flex items-center justify-end mt-1",children:t.jsx(bP,{messageId:W.id,messageContent:W.content,isCurrentUser:fe,onReply:Nr,onCopy:Fr,onUnsend:Br,onDelete:ra,onEmojiReact:fs,className:""})})]})},xe)})})]},he))}):t.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:t.jsxs("div",{className:"text-center relative",children:[t.jsxs("div",{className:"absolute inset-0 -z-10",children:[t.jsx("div",{className:`absolute top-4 left-8 w-16 h-16 rounded-full ${n?"bg-purple-900/20":"bg-purple-100/60"} animate-pulse`}),t.jsx("div",{className:`absolute bottom-8 right-4 w-12 h-12 rounded-full ${n?"bg-pink-900/20":"bg-pink-100/60"} animate-pulse delay-1000`}),t.jsx("div",{className:`absolute top-16 right-12 w-8 h-8 rounded-full ${n?"bg-indigo-900/20":"bg-indigo-100/60"} animate-pulse delay-500`})]}),t.jsxs("div",{className:"relative z-10 max-w-sm mx-auto",children:[t.jsxs("div",{className:"mb-6 relative",children:[t.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-full opacity-30 blur-sm animate-pulse"}),t.jsx("div",{className:"relative",children:t.jsx(qs,{imageUrl:we.photoUrl,fallbackInitials:we.fullName.charAt(0),className:"h-20 w-20 mx-auto shadow-xl border-4 border-white dark:border-gray-800"})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:`text-xl font-bold ${n?"text-white":"text-gray-900"}`,children:["Start chatting with ",we.fullName]}),t.jsx("p",{className:`text-sm leading-relaxed ${n?"text-gray-400":"text-gray-600"}`,children:"Send your first message to begin this conversation. Your messages are private and secure."})]}),t.jsx("div",{className:"mt-8",children:t.jsxs("button",{onClick:()=>{var Y;return(Y=M.current)==null?void 0:Y.focus()},className:`group relative px-6 py-3 rounded-full font-medium text-sm transition-all duration-300 ${n?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-500 hover:to-pink-500 shadow-lg shadow-purple-500/25":"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-400 hover:to-pink-400 shadow-lg shadow-purple-500/25"} hover:scale-105 hover:shadow-xl transform`,children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsxs("span",{className:"relative flex items-center space-x-2",children:[t.jsx(wp,{className:"h-4 w-4"}),t.jsx("span",{children:"Say Hello"})]})]})})]})]})}),t.jsx(Foe,{matchId:e,userId:we.id,className:"ml-4 mb-2"}),t.jsx("div",{ref:J}),t.jsx("div",{className:"h-14"})]}),t.jsxs("div",{className:`py-3 px-4 border-t fixed bottom-0 left-0 right-0 z-30 md:w-[calc(100%-280px)] w-full ${n?"bg-gradient-to-t from-gray-900/98 via-gray-900/95 to-gray-900/90 border-gray-800/30 backdrop-blur-xl shadow-2xl shadow-gray-950/20":"bg-gradient-to-t from-white/98 via-white/95 to-white/90 border-gray-200/30 backdrop-blur-xl shadow-2xl shadow-purple-500/10"}`,children:[$e&&t.jsx(Ooe,{originalMessage:$e,onCancel:()=>Le(null),className:"mb-2"}),Ue?t.jsx("div",{className:"w-full",children:t.jsx(Roe,{onSend:xt,onCancel:jr})}):t.jsxs("form",{onSubmit:Ot,className:"flex items-center",children:[t.jsx("button",{ref:S,type:"button",onClick:()=>w(!b),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gradient-to-br from-yellow-500/20 to-orange-500/30 hover:shadow-lg hover:shadow-yellow-500/20":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-br from-yellow-500/10 to-orange-500/20 hover:shadow-lg hover:shadow-yellow-500/20"} hover:scale-105 group`,children:t.jsx(Hg,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})}),b&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[9998]",onClick:()=>w(!1)}),t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-none",children:t.jsx("div",{className:`w-[calc(100vw-32px)] max-w-[320px] pointer-events-auto ${n?"bg-gray-900/95 border-gray-700/50 backdrop-blur-xl":"bg-white/95 border-gray-200/50 backdrop-blur-xl"} shadow-2xl rounded-xl border animate-in fade-in-0 zoom-in-95 duration-200`,children:t.jsx(F6,{onSelect:D})})})]}),t.jsxs("div",{className:"flex-grow mx-2 relative",children:[t.jsx("input",{type:"text",ref:M,value:v,onChange:Ke,placeholder:o("chat.typeMessage"),className:`w-full px-5 py-3 text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500/40 focus:border-purple-400/50 transition-all duration-300 ${n?"bg-gray-800/80 text-gray-100 placeholder-gray-500 border border-gray-700/40 shadow-inner shadow-gray-950/20 backdrop-blur-sm":"bg-gray-100/80 text-gray-800 placeholder-gray-400 border border-gray-200/40 shadow-inner shadow-gray-100/60 backdrop-blur-sm"} hover:shadow-lg focus:shadow-xl`}),t.jsx("div",{className:`absolute inset-0 rounded-full opacity-0 transition-opacity duration-300 ${n?"bg-gradient-to-r from-purple-500/10 to-pink-500/10":"bg-gradient-to-r from-purple-500/5 to-pink-500/5"} pointer-events-none`})]}),t.jsxs("div",{className:"flex items-center",children:[!v.trim()&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"file",id:"photo-upload",className:"hidden",accept:"image/*",onChange:Ve,disabled:T}),t.jsx("button",{type:"button",className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gray-800/60 hover:shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/60 hover:shadow-lg"} hover:scale-105 group`,onClick:()=>{var Y;return(Y=document.getElementById("photo-upload"))==null?void 0:Y.click()},disabled:T,children:T?t.jsx(sn,{className:"h-5 w-5 animate-spin"}):t.jsx(vG,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})}),t.jsx("button",{type:"button",className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gray-800/60 hover:shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/60 hover:shadow-lg"} hover:scale-105 group`,onClick:Ne,children:t.jsx(Ln,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})}),t.jsxs("button",{type:"button",className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${n?"text-gray-300 hover:text-white hover:bg-gradient-to-br from-red-500/20 to-red-600/30 hover:shadow-lg hover:shadow-red-500/20":"text-gray-600 hover:text-gray-900 hover:bg-gradient-to-br from-red-500/10 to-red-600/20 hover:shadow-lg hover:shadow-red-500/20"} hover:scale-105 group relative`,onClick:te,children:[t.jsx(l1,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),t.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity animate-pulse"})]})]}),v.trim()&&t.jsxs(de,{type:"submit",variant:"ghost",size:"icon",className:`h-11 w-11 rounded-full bg-gradient-to-r from-purple-500 via-violet-500 to-purple-400 hover:from-purple-600 hover:via-violet-600 hover:to-purple-500 text-white shadow-lg 
                  hover:shadow-xl hover:shadow-purple-500/40 transition-all duration-300 border border-purple-400/20 hover:scale-105 group relative overflow-hidden`,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(Md,{className:"h-5 w-5 relative z-10 transition-transform duration-200 group-hover:translate-x-0.5"})]})]})]})]}),se&&t.jsx(Uoe,{onCapture:rt,onCancel:()=>L(!1)}),t.jsx(Or,{open:q,onOpenChange:Et,children:t.jsx(Dr,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden bg-black/95 border-0",hideCloseButton:!0,children:t.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[t.jsx("button",{onClick:Et,className:"absolute top-4 right-10 z-20 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white flex items-center justify-center transition-all duration-200 hover:scale-110 shadow-lg",title:"Close image viewer",children:t.jsx(mt,{className:"h-6 w-6"})}),t.jsx("button",{onClick:Wt,className:"absolute top-4 left-6 z-20 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white flex items-center justify-center transition-all duration-200 hover:scale-110 shadow-lg",title:"Download image",children:t.jsx(yG,{className:"h-6 w-6"})}),ge&&t.jsx("img",{src:ge,alt:"Expanded view",className:"max-w-full max-h-full object-contain",style:{maxHeight:"calc(90vh - 2rem)",maxWidth:"calc(100vw - 2rem)"}})]})})}),t.jsx(Or,{open:z,onOpenChange:cr,children:t.jsx(Dr,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden bg-black/95 border-0",hideCloseButton:!0,children:t.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[t.jsx("button",{onClick:cr,className:"absolute top-4 right-10 z-20 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white flex items-center justify-center transition-all duration-200 hover:scale-110 shadow-lg",title:"Close video viewer",children:t.jsx(mt,{className:"h-6 w-6"})}),pe&&t.jsx("video",{src:pe,className:"max-w-full max-h-full object-contain",style:{maxHeight:"calc(90vh - 2rem)",maxWidth:"calc(100vw - 2rem)"},controls:!0,autoPlay:!0,preload:"metadata"})]})})}),t.jsx(gle,{isOpen:k,onClose:()=>A(!1),reportedUserId:(U==null?void 0:U.userId1)===(r==null?void 0:r.id)?(U==null?void 0:U.userId2)||0:(U==null?void 0:U.userId1)||0,reportedUserName:(we==null?void 0:we.fullName)||"Unknown User",matchId:e}),t.jsxs(Uu,{open:F,onOpenChange:V,children:[t.jsx(joe,{asChild:!0,children:t.jsx("div",{style:{display:"none"}})}),t.jsxs(hd,{className:"max-w-sm border-0",style:{padding:"18px",background:"linear-gradient(135deg, #1e1b4b 0%, #7c3aed 50%, #3b82f6 100%)",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)",color:"white"},children:[t.jsxs(pd,{style:{marginBottom:"16px"},children:[t.jsx(gd,{style:{fontSize:"18px",fontWeight:"600",color:"white",margin:0,marginBottom:"12px",textAlign:"center"},children:"Block User"}),t.jsxs(Bu,{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",lineHeight:"1.4",marginBottom:"16px",textAlign:"center"},children:["Block ",t.jsx("strong",{children:we==null?void 0:we.fullName})," to prevent them from contacting you or seeing your profile. This action will immediately unmatch you from this user."]}),t.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.2)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"flex-start",gap:"10px",marginBottom:"16px"},children:[t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"rgba(59, 130, 246, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"1px"},children:t.jsx("div",{style:{width:"8px",height:"8px",background:"#3b82f6",borderRadius:"50%"}})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"white",marginBottom:"3px"},children:"Your Safety Matters"}),t.jsx("div",{style:{fontSize:"11px",color:"rgba(255, 255, 255, 0.7)",lineHeight:"1.3"},children:"Blocking will prevent all future contact and they won't be notified. You can unblock users in your settings if needed."})]})]})]}),t.jsxs(fd,{style:{display:"flex",gap:"10px",margin:0},children:[t.jsx(xd,{className:"flex-1 font-medium m-0",style:{height:"40px",borderRadius:"20px",border:"2px solid rgba(124, 58, 237, 0.4)",background:"rgba(124, 58, 237, 0.1)",color:"white",fontSize:"14px",transition:"all 0.2s ease",backdropFilter:"blur(8px)"},onMouseEnter:Y=>{Y.currentTarget.style.background="rgba(124, 58, 237, 0.2)",Y.currentTarget.style.borderColor="rgba(124, 58, 237, 0.6)"},onMouseLeave:Y=>{Y.currentTarget.style.background="rgba(124, 58, 237, 0.1)",Y.currentTarget.style.borderColor="rgba(124, 58, 237, 0.4)"},children:"Cancel"}),t.jsx(Gu,{onClick:qt,className:"flex-1 font-medium m-0",style:{height:"40px",borderRadius:"20px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",fontSize:"14px",transition:"all 0.2s ease",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.4)"},onMouseEnter:Y=>{Y.currentTarget.style.background="linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",Y.currentTarget.style.boxShadow="0 6px 16px rgba(239, 68, 68, 0.6)"},onMouseLeave:Y=>{Y.currentTarget.style.background="linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",Y.currentTarget.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.4)"},children:"Block User"})]})]})]})]})}const ble=({src:e,alt:r,className:n,onClick:a,messageId:s})=>{const[i,o]=u.useState(!0),[l,c]=u.useState(!1),[d,m]=u.useState(""),h=u.useRef(null);return u.useEffect(()=>{(async()=>{try{const f=`optimized_img_${s}`,x=sessionStorage.getItem(f);if(x&&x.length<5e4){m(x),o(!1);return}if(e.startsWith("data:image/")){const g=document.createElement("canvas"),v=g.getContext("2d"),y=new Image;y.onload=()=>{const w=Math.min(1,800/y.width);g.width=y.width*w,g.height=y.height*w,v==null||v.drawImage(y,0,0,g.width,g.height);const S=g.toDataURL("image/jpeg",.7);if(S.length<1e5)try{sessionStorage.setItem(f,S)}catch{}m(S),o(!1)},y.onerror=()=>{c(!0),o(!1)},y.src=e}else m(e),o(!1)}catch{c(!0),o(!1)}})()},[e,s]),l?t.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded-md",children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Failed to load image"})}):i?t.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded-md animate-pulse",children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Loading..."})}):t.jsx("img",{ref:h,src:d,alt:r,className:n,onClick:a,loading:"lazy",style:{cursor:"pointer"}})},wle=({src:e,className:r,onClick:n})=>{const[a,s]=u.useState(!0),[i,o]=u.useState(!1),l=u.useRef(null),c=()=>{s(!1)},d=()=>{o(!0),s(!1)};return i?t.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded-md",children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Failed to load video"})}):t.jsxs("div",{className:"relative",children:[a&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded-md animate-pulse",children:t.jsx("span",{className:"text-gray-500 text-sm",children:"Loading video..."})}),t.jsx("video",{ref:l,src:e,className:r,onClick:n,onLoadedData:c,onError:d,preload:"metadata",muted:!0,style:{cursor:"pointer",opacity:a?0:1,transition:"opacity 0.3s ease-in-out"}})]})},jle=(e,r,n,a,s)=>{u.useEffect(()=>{const i=l=>{if(!(l instanceof CustomEvent)||!l.detail)return;const{messageId:c,matchId:d,deletedBy:m}=l.detail;if(d===e){if(console.log(` WebSocket: Message deletion notification received for message ${c} in match ${d}, deleted by user ${m}`),m===(a==null?void 0:a.id)){console.log(` WebSocket: Ignoring self-deletion event for message ${c} - already handled by optimistic update`);return}const h=r.getQueryData(["/api/messages",e]);if(!(h==null?void 0:h.find(f=>f.id===c))){console.log(` WebSocket: Message ${c} already removed from local state - skipping duplicate deletion`);return}console.log(` WebSocket: Processing deletion for message ${c} from other user`),r.setQueryData(["/api/messages",e],f=>{const x=(f||[]).filter(g=>g.id!==c);return console.log(` WebSocket: Removed message ${c} from cache via WebSocket. Messages remaining:`,x.length),x});try{const f=`${n}_messages_${e}`,x=localStorage.getItem(f);if(x){const v=JSON.parse(x).filter(y=>y.id!==c);localStorage.setItem(f,JSON.stringify(v)),console.log(` WebSocket: Cleared message ${c} from local storage`)}}catch(f){console.warn("Could not clear deleted message from local storage:",f)}s({title:"Message removed",description:"A message was unsent by the sender",variant:"default"}),setTimeout(()=>{console.log(` WebSocket: Force refreshing cache for match ${e} after WebSocket deletion`),r.invalidateQueries({queryKey:["/api/messages",e]})},1e3)}},o=l=>{if(!(l instanceof CustomEvent)||!l.detail)return;const{matchId:c,deletedForUserId:d,reason:m,isCurrentUser:h,newLastMessage:p}=l.detail;if(c===e&&(console.log(` Auto-delete notification received for match ${c}, deleted for user ${d}, reason: ${m}, isCurrentUser: ${h}`),h)){r.setQueryData(["/api/messages",e],()=>[]);try{const f=`${n}_messages_${e}`;localStorage.removeItem(f),console.log(` Cleared all messages from localStorage for match ${e}`)}catch(f){console.warn("Failed to clear messages from localStorage:",f)}s({title:"Messages cleared",description:"Your messages have been auto-deleted",variant:"default"}),setTimeout(()=>{r.invalidateQueries({queryKey:["/api/messages",e]})},500)}};return window.addEventListener("message:deleted",i),window.addEventListener("messagesDeletedForUser",o),()=>{window.removeEventListener("message:deleted",i),window.removeEventListener("messagesDeletedForUser",o)}},[e,r,n,a,s])};function Nle(){const{matchId:e}=Rm(),r=parseInt(e||"0",10),n=Ma();return lr(),Za(),u.useEffect(()=>{const a=()=>{try{let s=sessionStorage.getItem("newly_created_match");if(s||(s=localStorage.getItem("newly_created_match")),s&&parseInt(s,10)===r){console.log(` Opening newly created match ${s}, invalidating matches`),n.invalidateQueries({queryKey:["/api/matches"]});try{sessionStorage.removeItem("newly_created_match")}catch{}try{localStorage.removeItem("newly_created_match")}catch{}}const i=[`chat_messages_${r}`,`${r}_session_messages`,`meet_messages_${r}`,`meet_unmount_${r}`];let o=!1;for(const l of i)try{const c=sessionStorage.getItem(l);if(c){console.log(` Found backup messages in sessionStorage with key: ${l}`);try{const d=JSON.parse(c),m=Array.isArray(d)?d:d.messages&&Array.isArray(d.messages)?d.messages:null;if(m&&m.length>0){n.setQueryData(["/api/messages",r],m),o=!0,console.log(` Restored ${m.length} messages from backup storage`);break}}catch(d){console.error("Error parsing backup messages:",d)}}}catch(c){console.error(`Error checking sessionStorage key ${l}:`,c)}if(!o){const l=localStorage.getItem(`match_data_${r}`);if(l){console.log(" Found backup match data in localStorage");try{const c=JSON.parse(l);c.messages&&c.messages.length>0&&(n.setQueryData(["/api/messages",r],c.messages),console.log(` Restored ${c.messages.length} messages from localStorage backup`))}catch(c){console.error("Error parsing localStorage backup messages:",c)}}}}catch(s){console.error("Error checking storage in chat page:",s)}};r>0&&a()},[r,n]),u.useMemo(()=>{try{const a=sessionStorage.getItem(`match_data_${r}`),s=localStorage.getItem(`match_data_${r}`);return!!(a||s)}catch{return!1}},[r]),dt({queryKey:["/api/match",r],enabled:!1,staleTime:0,retry:!1}),(!e||r<=0)&&console.log(`[CHAT-PAGE] Invalid match ID ${r}, but rendering chat anyway`),console.log(`[CHAT-PAGE] Rendering chat page for match ${r}`),console.log("[CHAT-PAGE] Current URL:",window.location.pathname),console.log("[CHAT-PAGE] Match ID Number:",r),t.jsx("div",{className:"relative h-screen overflow-hidden",children:t.jsx("div",{className:"h-screen",children:t.jsx(vle,{matchId:r})})})}var Pk="Switch",[kle,xye]=ps(Pk),[Sle,Cle]=kle(Pk),kL=u.forwardRef((e,r)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...h}=e,[p,f]=u.useState(null),x=sr(r,w=>f(w)),g=u.useRef(!1),v=p?m||!!p.closest("form"):!0,[y=!1,b]=Es({prop:s,defaultProp:i,onChange:d});return t.jsxs(Sle,{scope:n,checked:y,disabled:l,children:[t.jsx(bt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":EL(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:it(e.onClick,w=>{b(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&t.jsx(Ele,{control:p,bubbles:!g.current,name:a,value:c,checked:y,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});kL.displayName=Pk;var SL="SwitchThumb",CL=u.forwardRef((e,r)=>{const{__scopeSwitch:n,...a}=e,s=Cle(SL,n);return t.jsx(bt.span,{"data-state":EL(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});CL.displayName=SL;var Ele=e=>{const{control:r,checked:n,bubbles:a=!0,...s}=e,i=u.useRef(null),o=If(n),l=Sf(r);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:a});h.call(c,n),c.dispatchEvent(p)}},[o,n,a]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EL(e){return e?"checked":"unchecked"}var PL=kL,Ple=CL;const Ye=u.forwardRef(({className:e,...r},n)=>t.jsx(PL,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input dark:data-[state=unchecked]:bg-gray-700 dark:data-[state=checked]:bg-purple-500/80 dark:border-gray-600 dark:data-[state=checked]:border-purple-400/50",e),...r,ref:n,children:t.jsx(Ple,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background dark:bg-gray-100 shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:border dark:border-purple-300/50 dark:data-[state=checked]:border-purple-300")})}));Ye.displayName=PL.displayName;var AL=["PageUp","PageDown"],ML=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qm="Slider",[Z1,Ale,Mle]=Lm(qm),[IL,yye]=ps(qm,[Mle]),[Tle,Gy]=IL(qm),_L=u.forwardRef((e,r)=>{const{name:n,min:a=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:m,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:f=!1,form:x,...g}=e,v=u.useRef(new Set),y=u.useRef(0),w=o==="horizontal"?Ile:_le,[S=[],N]=Es({prop:m,defaultProp:d,onChange:k=>{var F;(F=[...v.current][y.current])==null||F.focus(),h(k)}}),P=u.useRef(S);function C(k){const A=$le(S,k);_(k,A)}function I(k){_(k,y.current)}function T(){const k=P.current[y.current];S[y.current]!==k&&p(S)}function _(k,A,{commit:F}={commit:!1}){const V=Gle(i),J=Vle(Math.round((k-a)/i)*i+a,V),M=_p(J,[a,s]);N((R=[])=>{const B=Ole(R,M,A);if(Ble(B,c*i)){y.current=B.indexOf(M);const O=String(B)!==String(R);return O&&F&&p(B),O?B:R}else return R})}return t.jsx(Tle,{scope:e.__scopeSlider,name:n,disabled:l,min:a,max:s,valueIndexToChangeRef:y,thumbs:v.current,values:S,orientation:o,form:x,children:t.jsx(Z1.Provider,{scope:e.__scopeSlider,children:t.jsx(Z1.Slot,{scope:e.__scopeSlider,children:t.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:r,onPointerDown:it(g.onPointerDown,()=>{l||(P.current=S)}),min:a,max:s,inverted:f,onSlideStart:l?void 0:C,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&_(a,0,{commit:!0}),onEndKeyDown:()=>!l&&_(s,S.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:A})=>{if(!l){const J=AL.includes(k.key)||k.shiftKey&&ML.includes(k.key)?10:1,M=y.current,R=S[M],B=i*J*A;_(R+B,M,{commit:!0})}}})})})})});_L.displayName=qm;var[DL,RL]=IL(qm,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ile=u.forwardRef((e,r)=>{const{min:n,max:a,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...m}=e,[h,p]=u.useState(null),f=sr(r,w=>p(w)),x=u.useRef(),g=Mc(s),v=g==="ltr",y=v&&!i||!v&&i;function b(w){const S=x.current||h.getBoundingClientRect(),N=[0,S.width],C=Ak(N,y?[n,a]:[a,n]);return x.current=S,C(w-S.left)}return t.jsx(DL,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:t.jsx(OL,{dir:g,"data-orientation":"horizontal",...m,ref:f,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const S=b(w.clientX);o==null||o(S)},onSlideMove:w=>{const S=b(w.clientX);l==null||l(S)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=TL[y?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:N?-1:1})}})})}),_le=u.forwardRef((e,r)=>{const{min:n,max:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,m=u.useRef(null),h=sr(r,m),p=u.useRef(),f=!s;function x(g){const v=p.current||m.current.getBoundingClientRect(),y=[0,v.height],w=Ak(y,f?[a,n]:[n,a]);return p.current=v,w(g-v.top)}return t.jsx(DL,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:t.jsx(OL,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=x(g.clientY);i==null||i(v)},onSlideMove:g=>{const v=x(g.clientY);o==null||o(v)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=TL[f?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),OL=u.forwardRef((e,r)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,m=Gy(qm,n);return t.jsx(bt.span,{...d,ref:r,onKeyDown:it(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):AL.concat(ML).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:it(e.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),m.thumbs.has(p)?p.focus():a(h)}),onPointerMove:it(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:it(e.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),LL="SliderTrack",$L=u.forwardRef((e,r)=>{const{__scopeSlider:n,...a}=e,s=Gy(LL,n);return t.jsx(bt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:r})});$L.displayName=LL;var ej="SliderRange",FL=u.forwardRef((e,r)=>{const{__scopeSlider:n,...a}=e,s=Gy(ej,n),i=RL(ej,n),o=u.useRef(null),l=sr(r,o),c=s.values.length,d=s.values.map(p=>BL(p,s.min,s.max)),m=c>1?Math.min(...d):0,h=100-Math.max(...d);return t.jsx(bt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:l,style:{...e.style,[i.startEdge]:m+"%",[i.endEdge]:h+"%"}})});FL.displayName=ej;var tj="SliderThumb",UL=u.forwardRef((e,r)=>{const n=Ale(e.__scopeSlider),[a,s]=u.useState(null),i=sr(r,l=>s(l)),o=u.useMemo(()=>a?n().findIndex(l=>l.ref.current===a):-1,[n,a]);return t.jsx(Dle,{...e,ref:i,index:o})}),Dle=u.forwardRef((e,r)=>{const{__scopeSlider:n,index:a,name:s,...i}=e,o=Gy(tj,n),l=RL(tj,n),[c,d]=u.useState(null),m=sr(r,b=>d(b)),h=c?o.form||!!c.closest("form"):!0,p=Sf(c),f=o.values[a],x=f===void 0?0:BL(f,o.min,o.max),g=Lle(a,o.values.length),v=p==null?void 0:p[l.size],y=v?Fle(v,x,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[t.jsx(Z1.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(bt.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:f===void 0?{display:"none"}:e.style,onFocus:it(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),h&&t.jsx(Rle,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},a)]})});UL.displayName=tj;var Rle=e=>{const{value:r,...n}=e,a=u.useRef(null),s=If(r);return u.useEffect(()=>{const i=a.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==r&&c){const d=new Event("input",{bubbles:!0});c.call(i,r),i.dispatchEvent(d)}},[s,r]),t.jsx("input",{style:{display:"none"},...n,ref:a,defaultValue:r})};function Ole(e=[],r,n){const a=[...e];return a[n]=r,a.sort((s,i)=>s-i)}function BL(e,r,n){const i=100/(n-r)*(e-r);return _p(i,[0,100])}function Lle(e,r){return r>2?`Value ${e+1} of ${r}`:r===2?["Minimum","Maximum"][e]:void 0}function $le(e,r){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-r)),a=Math.min(...n);return n.indexOf(a)}function Fle(e,r,n){const a=e/2,i=Ak([0,50],[0,a]);return(a-i(r)*n)*n}function Ule(e){return e.slice(0,-1).map((r,n)=>e[n+1]-r)}function Ble(e,r){if(r>0){const n=Ule(e);return Math.min(...n)>=r}return!0}function Ak(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(n-e[0])}}function Gle(e){return(String(e).split(".")[1]||"").length}function Vle(e,r){const n=Math.pow(10,r);return Math.round(e*n)/n}var GL=_L,zle=$L,Wle=FL,Hle=UL;const Qp=u.forwardRef(({className:e,...r},n)=>t.jsxs(GL,{ref:n,className:We("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(zle,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(Wle,{className:"absolute h-full bg-primary"})}),t.jsx(Hle,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Qp.displayName=GL.displayName;var NP=!1,Hc,rj,nj,hg,pg,VL,fg,aj,sj,ij,zL,oj,lj,WL,HL;function _s(){if(!NP){NP=!0;var e=navigator.userAgent,r=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(oj=/\b(iPhone|iP[ao]d)/.exec(e),lj=/\b(iP[ao]d)/.exec(e),ij=/Android/i.exec(e),WL=/FBAN\/\w+;/i.exec(e),HL=/Mobile/i.exec(e),zL=!!/Win64/.exec(e),r){Hc=r[1]?parseFloat(r[1]):r[5]?parseFloat(r[5]):NaN,Hc&&document&&document.documentMode&&(Hc=document.documentMode);var a=/(?:Trident\/(\d+.\d+))/.exec(e);VL=a?parseFloat(a[1])+4:Hc,rj=r[2]?parseFloat(r[2]):NaN,nj=r[3]?parseFloat(r[3]):NaN,hg=r[4]?parseFloat(r[4]):NaN,hg?(r=/(?:Chrome\/(\d+\.\d+))/.exec(e),pg=r&&r[1]?parseFloat(r[1]):NaN):pg=NaN}else Hc=rj=nj=pg=hg=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);fg=s?parseFloat(s[1].replace("_",".")):!0}else fg=!1;aj=!!n[2],sj=!!n[3]}else fg=aj=sj=!1}}var cj={ie:function(){return _s()||Hc},ieCompatibilityMode:function(){return _s()||VL>Hc},ie64:function(){return cj.ie()&&zL},firefox:function(){return _s()||rj},opera:function(){return _s()||nj},webkit:function(){return _s()||hg},safari:function(){return cj.webkit()},chrome:function(){return _s()||pg},windows:function(){return _s()||aj},osx:function(){return _s()||fg},linux:function(){return _s()||sj},iphone:function(){return _s()||oj},mobile:function(){return _s()||oj||lj||ij||HL},nativeApp:function(){return _s()||WL},android:function(){return _s()||ij},ipad:function(){return _s()||lj}},Kle=cj,_0=!!(typeof window<"u"&&window.document&&window.document.createElement),qle={canUseDOM:_0,canUseWorkers:typeof Worker<"u",canUseEventListeners:_0&&!!(window.addEventListener||window.attachEvent),canUseViewport:_0&&!!window.screen,isInWorker:!_0},Yle=qle,KL=Yle,qL;KL.canUseDOM&&(qL=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Qle(e,r){if(!KL.canUseDOM||r&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var s=document.createElement("div");s.setAttribute(n,"return;"),a=typeof s[n]=="function"}return!a&&qL&&e==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var Jle=Qle,Xle=Kle,Zle=Jle,kP=10,SP=40,CP=800;function YL(e){var r=0,n=0,a=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(r=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(r=n,n=0),a=r*kP,s=n*kP,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(a=e.deltaX),(a||s)&&e.deltaMode&&(e.deltaMode==1?(a*=SP,s*=SP):(a*=CP,s*=CP)),a&&!r&&(r=a<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:r,spinY:n,pixelX:a,pixelY:s}}YL.getEventType=function(){return Xle.firefox()?"DOMMouseScroll":Zle("wheel")?"wheel":"mousewheel"};var ece=YL,tce=ece;const rce=cf(tce);function nce(e,r,n,a,s,i){i===void 0&&(i=0);var o=Cm(e,r,i),l=o.width,c=o.height,d=Math.min(l,n),m=Math.min(c,a);return d>m*s?{width:m*s,height:m}:{width:d,height:d/s}}function ace(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function gh(e,r,n,a,s){s===void 0&&(s=0);var i=Cm(r.width,r.height,s),o=i.width,l=i.height;return{x:EP(e.x,o,n.width,a),y:EP(e.y,l,n.height,a)}}function EP(e,r,n,a){var s=r*a/2-n/2;return Vy(e,-s,s)}function PP(e,r){return Math.sqrt(Math.pow(e.y-r.y,2)+Math.pow(e.x-r.x,2))}function AP(e,r){return Math.atan2(r.y-e.y,r.x-e.x)*180/Math.PI}function sce(e,r,n,a,s,i,o){i===void 0&&(i=0),o===void 0&&(o=!0);var l=o?ice:oce,c=Cm(r.width,r.height,i),d=Cm(r.naturalWidth,r.naturalHeight,i),m={x:l(100,((c.width-n.width/s)/2-e.x/s)/c.width*100),y:l(100,((c.height-n.height/s)/2-e.y/s)/c.height*100),width:l(100,n.width/c.width*100/s),height:l(100,n.height/c.height*100/s)},h=Math.round(l(d.width,m.width*d.width/100)),p=Math.round(l(d.height,m.height*d.height/100)),f=d.width>=d.height*a,x=f?{width:Math.round(p*a),height:p}:{width:h,height:Math.round(h/a)},g=jn(jn({},x),{x:Math.round(l(d.width-x.width,m.x*d.width/100)),y:Math.round(l(d.height-x.height,m.y*d.height/100))});return{croppedAreaPercentages:m,croppedAreaPixels:g}}function ice(e,r){return Math.min(e,Math.max(0,r))}function oce(e,r){return r}function lce(e,r,n,a,s,i){var o=Cm(r.width,r.height,n),l=Vy(a.width/o.width*(100/e.width),s,i),c={x:l*o.width/2-a.width/2-o.width*l*(e.x/100),y:l*o.height/2-a.height/2-o.height*l*(e.y/100)};return{crop:c,zoom:l}}function cce(e,r,n){var a=ace(r);return n.height>n.width?n.height/(e.height*a):n.width/(e.width*a)}function dce(e,r,n,a,s,i){n===void 0&&(n=0);var o=Cm(r.naturalWidth,r.naturalHeight,n),l=Vy(cce(e,r,a),s,i),c=a.height>a.width?a.height/e.height:a.width/e.width,d={x:((o.width-e.width)/2-e.x)*c,y:((o.height-e.height)/2-e.y)*c};return{crop:d,zoom:l}}function MP(e,r){return{x:(r.x+e.x)/2,y:(r.y+e.y)/2}}function uce(e){return e*Math.PI/180}function Cm(e,r,n){var a=uce(n);return{width:Math.abs(Math.cos(a)*e)+Math.abs(Math.sin(a)*r),height:Math.abs(Math.sin(a)*e)+Math.abs(Math.cos(a)*r)}}function Vy(e,r,n){return Math.min(Math.max(e,r),n)}function D0(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var mce=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,hce=1,pce=3,fce=1,gce=function(e){Jee(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=u.createRef(),n.imageRef=u.createRef(),n.videoRef=u.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var a=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(a){a=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(a){return a.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var a=n.computeSizes();a&&(n.emitCropData(),n.setInitialCrop(a)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(a){if(n.props.initialCroppedAreaPercentages){var s=lce(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),i=s.crop,o=s.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var l=dce(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,a,n.props.minZoom,n.props.maxZoom),i=l.crop,o=l.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var a,s,i,o,l,c,d=n.imageRef.current||n.videoRef.current;if(d&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var m=n.containerRect.width/n.containerRect.height,h=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,p=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,f=d.offsetWidth<h||d.offsetHeight<p,x=h/p,g=void 0;if(f)switch(n.state.mediaObjectFit){default:case"contain":g=m>x?{width:n.containerRect.height*x,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/x};break;case"horizontal-cover":g={width:n.containerRect.width,height:n.containerRect.width/x};break;case"vertical-cover":g={width:n.containerRect.height*x,height:n.containerRect.height};break}else g={width:d.offsetWidth,height:d.offsetHeight};n.mediaSize=jn(jn({},g),{naturalWidth:h,naturalHeight:p}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var v=n.props.cropSize?n.props.cropSize:nce(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((l=n.state.cropSize)===null||l===void 0?void 0:l.height)!==v.height||((c=n.state.cropSize)===null||c===void 0?void 0:c.width)!==v.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(v),n.setState({cropSize:v},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(v),v}},n.saveContainerPosition=function(){if(n.containerRef){var a=n.containerRef.getBoundingClientRect();n.containerPosition={x:a.left,y:a.top}}},n.onMouseDown=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(r.getMousePoint(a)))},n.onMouseMove=function(a){return n.onDrag(r.getMousePoint(a))},n.onScroll=function(a){n.currentDoc&&(a.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(a){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(a))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),a.touches.length===2?n.onPinchStart(a):a.touches.length===1&&n.onDragStart(r.getTouchPoint(a.touches[0]))))},n.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?n.onPinchMove(a):a.touches.length===1&&n.onDrag(r.getTouchPoint(a.touches[0]))},n.onGestureStart=function(a){n.currentDoc&&(a.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(a){if(a.preventDefault(),!n.isTouching){var s=r.getMousePoint(a),i=n.gestureZoomStart-1+a.scale;if(n.setNewZoom(i,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+a.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(a){n.cleanEvents()},n.onDragStart=function(a){var s,i,o=a.x,l=a.y;n.dragStartPosition={x:o,y:l},n.dragStartCrop=jn({},n.props.crop),(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s)},n.onDrag=function(a){var s=a.x,i=a.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||i===void 0)){var o=s-n.dragStartPosition.x,l=i-n.dragStartPosition.y,c={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+l},d=n.props.restrictPosition?gh(c,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):c;n.props.onCropChange(d)}}))},n.onDragStopped=function(){var a,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(a=n.props).onInteractionEnd)===null||s===void 0||s.call(a)},n.onWheel=function(a){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(a))){a.preventDefault();var s=r.getMousePoint(a),i=rce(a).pixelY,o=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var l,c;return(c=(l=n.props).onInteractionStart)===null||c===void 0?void 0:c.call(l)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var l,c;return(c=(l=n.props).onInteractionEnd)===null||c===void 0?void 0:c.call(l)})},250)}},n.getPointOnContainer=function(a,s){var i=a.x,o=a.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-s.x),y:n.containerRect.height/2-(o-s.y)}},n.getPointOnMedia=function(a){var s=a.x,i=a.y,o=n.props,l=o.crop,c=o.zoom;return{x:(s+l.x)/c,y:(i+l.y)/c}},n.setNewZoom=function(a,s,i){var o=i===void 0?{}:i,l=o.shouldUpdatePosition,c=l===void 0?!0:l;if(!(!n.state.cropSize||!n.props.onZoomChange)){var d=Vy(a,n.props.minZoom,n.props.maxZoom);if(c){var m=n.getPointOnContainer(s,n.containerPosition),h=n.getPointOnMedia(m),p={x:h.x*d-m.x,y:h.y*d-m.y},f=n.props.restrictPosition?gh(p,n.mediaSize,n.state.cropSize,d,n.props.rotation):p;n.props.onCropChange(f)}n.props.onZoomChange(d)}},n.getCropData=function(){if(!n.state.cropSize)return null;var a=n.props.restrictPosition?gh(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return sce(a,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,i=a.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.emitCropAreaChange=function(){var a=n.getCropData();if(a){var s=a.croppedAreaPercentages,i=a.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var a=n.props.restrictPosition?gh(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(a),n.emitCropData()}},n.onKeyDown=function(a){var s,i,o=n.props,l=o.crop,c=o.onCropChange,d=o.keyboardStep,m=o.zoom,h=o.rotation,p=d;if(n.state.cropSize){a.shiftKey&&(p*=.2);var f=jn({},l);switch(a.key){case"ArrowUp":f.y-=p,a.preventDefault();break;case"ArrowDown":f.y+=p,a.preventDefault();break;case"ArrowLeft":f.x-=p,a.preventDefault();break;case"ArrowRight":f.x+=p,a.preventDefault();break;default:return}n.props.restrictPosition&&(f=gh(f,n.mediaSize,n.state.cropSize,m,h)),a.repeat||(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s),c(f)}},n.onKeyUp=function(a){var s,i;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}n.emitCropData(),(i=(s=n.props).onInteractionEnd)===null||i===void 0||i.call(s)},n}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=mce,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},r.prototype.componentWillUnmount=function(){var n,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(n){var a,s,i,o,l,c,d,m,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((a=n.cropSize)===null||a===void 0?void 0:a.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((l=n.crop)===null||l===void 0?void 0:l.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((d=n.crop)===null||d===void 0?void 0:d.y)!==((m=this.props.crop)===null||m===void 0?void 0:m.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},r.prototype.getAspect=function(){var n=this.props,a=n.cropSize,s=n.aspect;return a?a.width/a.height:s},r.prototype.getObjectFit=function(){var n,a,s,i;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,c=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,d=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,m=c/d;return m<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(n){var a=r.getTouchPoint(n.touches[0]),s=r.getTouchPoint(n.touches[1]);this.lastPinchDistance=PP(a,s),this.lastPinchRotation=AP(a,s),this.onDragStart(MP(a,s))},r.prototype.onPinchMove=function(n){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var s=r.getTouchPoint(n.touches[0]),i=r.getTouchPoint(n.touches[1]),o=MP(s,i);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=PP(s,i),c=a.props.zoom*(l/a.lastPinchDistance);a.setNewZoom(c,o,{shouldUpdatePosition:!1}),a.lastPinchDistance=l;var d=AP(s,i),m=a.props.rotation+(d-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(m),a.lastPinchRotation=d})}},r.prototype.render=function(){var n=this,a,s=this.props,i=s.image,o=s.video,l=s.mediaProps,c=s.cropperProps,d=s.transform,m=s.crop,h=m.x,p=m.y,f=s.rotation,x=s.zoom,g=s.cropShape,v=s.showGrid,y=s.style,b=y.containerStyle,w=y.cropAreaStyle,S=y.mediaStyle,N=s.classes,P=N.containerClassName,C=N.cropAreaClassName,I=N.mediaClassName,T=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(k){return n.containerRef=k},"data-testid":"container",style:b,className:D0("reactEasyCrop_Container",P)},i?u.createElement("img",jn({alt:"",className:D0("reactEasyCrop_Image",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},l,{src:i,ref:this.imageRef,style:jn(jn({},S),{transform:d||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(x,")")}),onLoad:this.onMediaLoad})):o&&u.createElement("video",jn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:D0("reactEasyCrop_Video",T==="contain"&&"reactEasyCrop_Contain",T==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",T==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:jn(jn({},S),{transform:d||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(f,"deg) scale(").concat(x,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(_){return u.createElement("source",jn({key:_.src},_))})),this.state.cropSize&&u.createElement("div",jn({ref:this.cropperRef,style:jn(jn({},w),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:D0("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",C)},c)))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:pce,minZoom:hce,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:fce},r.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},r.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},r}(u.Component);const xce=({image:e,onSave:r,onCancel:n,originalImage:a})=>{const[s,i]=u.useState({x:0,y:0}),[o,l]=u.useState(1.5),[c,d]=u.useState(0),[m,h]=u.useState(null),[p,f]=u.useState(!1),[x,g]=u.useState(!1);u.useRef(null);const[v,y]=u.useState(Date.now());u.useEffect(()=>{y(Date.now())},[e]);const b=u.useCallback((N,P)=>{h(P)},[]),w=u.useCallback(async()=>{try{if(!m)return null;f(!0);const N=document.createElement("img");N.src=e,await new Promise(F=>{N.onload=F});const P=document.createElement("canvas"),C=P.getContext("2d");if(!C)throw new Error("Could not get canvas context");const I=512;P.width=I,P.height=I;let T=N,_=N.naturalWidth,k=N.naturalHeight;if(c!==0){const F=document.createElement("canvas"),V=F.getContext("2d");if(!V)throw new Error("Could not get rotation canvas context");const J=c*Math.PI/180,M=Math.abs(Math.sin(J)),R=Math.abs(Math.cos(J)),B=N.naturalWidth*R+N.naturalHeight*M,O=N.naturalWidth*M+N.naturalHeight*R;F.width=B,F.height=O,V.translate(B/2,O/2),V.rotate(J),V.drawImage(N,-N.naturalWidth/2,-N.naturalHeight/2,N.naturalWidth,N.naturalHeight);const X=new Image;X.src=F.toDataURL(),await new Promise(ae=>{X.onload=ae}),T=X,_=B,k=O}C.drawImage(T,m.x,m.y,m.width,m.height,0,0,I,I);const A=P.toDataURL("image/jpeg",.92);return f(!1),A}catch(N){return console.error("Error creating cropped image:",N),f(!1),null}},[m,e,c]),S=u.useCallback(async()=>{const N=await w();N&&r(N)},[w,r]);return t.jsxs(E.div,{className:"flex flex-col h-full",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsxs("div",{className:"relative w-full h-72 sm:h-80 bg-gradient-to-b from-purple-900/30 to-black overflow-hidden rounded-lg border border-purple-500/20",children:[t.jsx(gce,{image:e,crop:s,zoom:o,rotation:c,aspect:1,cropSize:{width:280,height:280},onCropChange:i,onZoomChange:l,onCropComplete:b,objectFit:"contain",showGrid:!0,cropShape:"round",classes:{containerClassName:"rounded-lg",cropAreaClassName:"border-2 border-purple-500/80 shadow-[0_0_0_9999px_rgba(0,0,0,0.7)]"}},v),t.jsx("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-center",children:t.jsx("div",{className:"text-xs text-white bg-black/40 backdrop-blur-sm rounded-full px-3 py-1 font-medium shadow-md border border-purple-500/20",children:t.jsx("span",{children:"Drag, zoom and pinch to adjust"})})})]}),t.jsxs(E.div,{className:"p-4 space-y-5 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-950 rounded-b-lg shadow-inner",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.4},children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Zoom"}),t.jsxs("div",{className:"ml-2 text-xs px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full",children:[Math.round(o*100),"%"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{variant:"outline",size:"icon",className:"h-7 w-7 border-purple-200 dark:border-purple-800 hover:bg-purple-50 dark:hover:bg-purple-900/20",onClick:()=>l(Math.max(1,o-.1)),disabled:o<=1,children:t.jsx(zG,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),t.jsx(de,{variant:"outline",size:"icon",className:"h-7 w-7 border-purple-200 dark:border-purple-800 hover:bg-purple-50 dark:hover:bg-purple-900/20",onClick:()=>l(Math.min(3,o+.1)),disabled:o>=3,children:t.jsx(VG,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})})]})]}),t.jsx(Qp,{value:[o*50],min:50,max:150,step:1,onValueChange:N=>l(N[0]/50),"aria-label":"Zoom",className:"[&>span]:bg-purple-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Rotation"}),t.jsxs("div",{className:"ml-2 text-xs px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full",children:[c,""]})]}),t.jsxs(de,{variant:"outline",size:"sm",className:"h-7 px-2 border-purple-200 dark:border-purple-800 hover:bg-purple-50 dark:hover:bg-purple-900/20",onClick:()=>d((c+90)%360),children:[t.jsx(_G,{className:"h-4 w-4 mr-1 text-purple-600 dark:text-purple-400"}),t.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300",children:"Rotate 90"})]})]}),t.jsx(Qp,{value:[c],min:0,max:360,step:1,onValueChange:N=>d(N[0]),"aria-label":"Rotation",className:"[&>span]:bg-purple-500"})]}),t.jsxs("div",{className:"flex flex-col space-y-3 pt-2",children:[a&&t.jsxs(de,{variant:"outline",className:"w-full relative overflow-hidden border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300 hover:text-purple-800 dark:hover:text-purple-200 hover:bg-purple-50 dark:hover:bg-purple-900/30",onClick:()=>r(a),disabled:p,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[t.jsx(Xt,{children:x&&t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-100/50 to-pink-100/50 dark:from-purple-900/20 dark:to-pink-900/20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}})}),t.jsx(Ad,{className:"h-4 w-4 mr-2 text-purple-500"}),"Reset to Original"]}),t.jsxs("div",{className:"flex justify-between space-x-3",children:[t.jsxs(de,{variant:"outline",className:"flex-1 border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-900/50",onClick:n,children:[t.jsx(mt,{className:"h-4 w-4 mr-1"}),"Cancel"]}),t.jsxs(de,{variant:"default",className:"flex-1 relative overflow-hidden",onClick:S,disabled:p,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition-colors"}),t.jsx("div",{className:"relative flex items-center justify-center",children:p?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{className:"h-4 w-4 border-2 border-t-transparent border-white rounded-full mr-1",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),t.jsx("span",{children:"Saving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.2},children:t.jsx(At,{className:"h-4 w-4 mr-1"})}),t.jsx("span",{children:"Save Photo"})]})})]})]})]})]})]})};async function yce(e,r){try{const n=await ze("/api/profile/photo",{method:"POST",data:{photoData:e,photoId:r}});if(!n.ok){const a=await n.text();throw new Error(`Error uploading profile photo: ${a}`)}return await n.json()}catch(n){throw console.error("Error in uploadProfilePhoto:",n),n}}async function vce(e){try{const r=await ze(`/api/photos/single/${e}`,{method:"GET"});if(!r.ok){const n=await r.text();throw new Error(`Error getting photo: ${n}`)}return await r.json()}catch(r){throw console.error("Error in getPhotoById:",r),r}}function bce(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB","TB"],a=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,a)).toFixed(2))+" "+n[a]}const dj=5,wce=dj*1024*1024,jce=["image/jpeg","image/png","image/jpg","image/webp"];function Nce({open:e,onOpenChange:r,currentImageUrl:n,onImageSave:a,userId:s,skipToEdit:i=!1,photoId:o}){const{toast:l}=Wr(),{translate:c}=tn(),[d,m]=u.useState(null),[h,p]=u.useState(!1),[f,x]=u.useState(i),[g,v]=u.useState(!1),[y,b]=u.useState(null),[w,S]=u.useState(!1),{data:N}=dt({queryKey:[`/api/photos/single/${o}`],queryFn:()=>o?vce(o):Promise.resolve(null),enabled:!!o&&e&&i,staleTime:1/0});u.useEffect(()=>{N&&N.photoUrl&&b(N.photoUrl)},[N]);const P=k=>{k?k&&i&&x(!0):(m(null),i||x(!1)),r(k)};u.useEffect(()=>{e&&i&&n&&!d&&m(n)},[e,i,n,d]);const C=k=>{var V;const A=(V=k.target.files)==null?void 0:V[0];if(!A)return;if(A.size>wce){l({title:"File too large",description:`Maximum file size is ${dj}MB. Your file is ${bce(A.size)}.`,variant:"destructive"});return}if(!jce.includes(A.type)){l({title:"Invalid file type",description:"Please upload a JPEG, PNG, or WebP image.",variant:"destructive"});return}p(!0);const F=new FileReader;F.onload=J=>{var M;m((M=J.target)==null?void 0:M.result),x(!0),p(!1)},F.onerror=()=>{l({title:"Error reading file",description:"Please try again with a different image.",variant:"destructive"}),p(!1)},F.readAsDataURL(A),k.target.value=""},I=async k=>{try{v(!0),await a(k),m(null),i||x(!1),P(!1),l({title:"Profile picture updated",description:"Your new profile picture has been saved.",variant:"default"})}catch(A){console.error("Error saving cropped image:",A),l({title:"Error saving image",description:"Please try again.",variant:"destructive"})}finally{v(!1)}},T=()=>{m(null),i?P(!1):x(!1)},_=Array.from({length:8},()=>({x:Math.random()*100,y:Math.random()*100,delay:Math.random()*3,size:.5+Math.random()*1.5}));return t.jsx(Or,{open:e,onOpenChange:P,children:t.jsxs(Dr,{className:"sm:max-w-md max-h-[92vh] rounded-xl overflow-hidden border-0 shadow-2xl p-0 backdrop-blur-sm bg-white/95 dark:bg-gray-950/95",children:[t.jsx(E.button,{className:"absolute right-3 top-3 z-50 rounded-full w-7 h-7 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800 hover:bg-purple-200 dark:hover:bg-purple-800/60 flex items-center justify-center transition-all duration-200",onClick:()=>P(!1),whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Close dialog",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"relative w-full",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-fuchsia-500/10 to-pink-500/5 dark:from-purple-900/20 dark:via-fuchsia-900/30 dark:to-pink-900/20 -z-10 opacity-80"}),t.jsx(Xt,{children:_.map((k,A)=>t.jsx(E.div,{className:"absolute z-10 text-yellow-400 opacity-70 dark:opacity-50",style:{top:`${k.y}%`,left:`${k.x}%`,fontSize:`${k.size}rem`},initial:{opacity:0,scale:.5},animate:{opacity:[.2,.8,.2],scale:[.7,1.2,.7],rotate:[0,180,360]},transition:{duration:3,delay:k.delay,repeat:1/0,repeatType:"mirror"},children:t.jsx(xn,{className:"h-3 w-3"})},A))}),t.jsx(pn,{className:"pt-6 px-6 relative z-10",children:t.jsxs(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsx(Jr,{className:"text-2xl font-bold text-center bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:f?"Perfect Your Photo":"Your Profile Image"}),!f&&t.jsx(Gs,{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Make a great first impression with your best photo"}),f&&t.jsx(Gs,{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-1 hidden",children:"Adjust your photo"})]})})]}),f&&d?t.jsx(xce,{image:d,onSave:I,onCancel:T,originalImage:i&&y?y:void 0}):t.jsxs(E.div,{className:"flex flex-col items-center space-y-6 p-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[t.jsx(E.div,{whileHover:{scale:1.03},transition:{type:"spring",stiffness:300,damping:15},className:"relative",onHoverStart:()=>S(!0),onHoverEnd:()=>S(!1),children:t.jsxs("div",{className:"relative",children:[t.jsx(qs,{imageUrl:n||void 0,className:"border-2 border-purple-300 dark:border-purple-700 shadow-xl",size:"xl"}),t.jsx(Xt,{children:w&&t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute inset-0 -m-2 rounded-full bg-gradient-to-r from-purple-400 via-pink-500 to-purple-600 dark:from-purple-700 dark:via-pink-700 dark:to-purple-800 p-0.5 animate-pulse",style:{zIndex:-1}})}),t.jsx("div",{className:"absolute -inset-1 rounded-full blur-md bg-gradient-to-br from-purple-500/20 to-pink-500/20 dark:from-purple-700/20 dark:to-pink-700/20",style:{zIndex:-2}})]})}),t.jsxs("div",{className:"flex flex-col space-y-4 w-full",children:[t.jsx("label",{htmlFor:"profile-photo-upload",className:"w-full relative",children:t.jsx(de,{variant:"default",className:"w-full h-12 relative overflow-hidden",disabled:h,asChild:!0,children:t.jsxs("div",{children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 transition-all duration-300"}),t.jsx("div",{className:"absolute inset-0 bg-white/10 dark:bg-black/10"}),t.jsx(E.div,{className:"absolute inset-y-0 w-20 bg-white/20 -skew-x-30 opacity-50 h-full",animate:{x:["-100%","300%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut",repeatDelay:5}}),t.jsx("div",{className:"relative flex items-center justify-center",children:h?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{className:"h-5 w-5 border-2 border-t-transparent border-white rounded-full mr-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),t.jsx("span",{className:"font-medium",children:c("common.processing")})]}):t.jsxs(t.Fragment,{children:[t.jsx(E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.2},children:t.jsx(UN,{className:"h-5 w-5 mr-2"})}),t.jsx("span",{className:"font-medium",children:"Upload New Photo"})]})})]})})}),t.jsx("input",{id:"profile-photo-upload",type:"file",accept:"image/jpeg, image/png, image/webp",onChange:C,className:"hidden",disabled:h}),n&&t.jsxs(de,{variant:"outline",onClick:P.bind(null,!1),className:"relative overflow-hidden border-purple-200 dark:border-purple-800 hover:bg-purple-50 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100/30 to-pink-100/30 dark:from-purple-900/10 dark:to-pink-900/10 opacity-0 hover:opacity-100 transition-opacity duration-300"}),t.jsx("span",{className:"relative",children:"Keep Current Photo"})]})]}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 bg-gray-100/50 dark:bg-gray-800/50 px-3 py-2 rounded-full backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50",children:t.jsxs(E.span,{animate:{opacity:[.7,1,.7]},transition:{duration:3,repeat:1/0},children:["Max size: ",dj,"MB  Formats: JPEG, PNG, WebP"]})})})]})]})})}function QL({userId:e,photoId:r,currentPhotoUrl:n,variant:a="outline",size:s="default",className:i="",children:o,skipInitialDialog:l=!1}){const[c,d]=u.useState(!1),{toast:m}=Wr(),h=Ma(),p=async f=>{try{return await yce(f,r),h.invalidateQueries({queryKey:["/api/user"]}),h.invalidateQueries({queryKey:[`/api/profile/${e}`]}),h.invalidateQueries({queryKey:[`/api/photos/${e}`]}),Promise.resolve()}catch(x){return console.error("Error saving profile photo:",x),m({title:"Error saving profile photo",description:x instanceof Error?x.message:"Please try again later.",variant:"destructive"}),Promise.reject(x)}};return t.jsxs(t.Fragment,{children:[t.jsx(de,{variant:a,size:s,onClick:()=>d(!0),className:i,"aria-label":"Edit profile photo",children:o||t.jsxs(t.Fragment,{children:[t.jsx(Ln,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"Change Photo"})]})}),t.jsx(Nce,{open:c,onOpenChange:d,currentImageUrl:n,onImageSave:p,userId:e,skipToEdit:l,photoId:r})]})}function uj({userId:e,photoId:r,currentPhotoUrl:n,className:a="",useCamera:s=!1}){return t.jsx(QL,{userId:e,photoId:r,currentPhotoUrl:n,variant:"ghost",size:"icon",className:`absolute bottom-0 right-0 rounded-full bg-white/90 dark:bg-gray-800/90 p-1.5 shadow-md border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700 z-30 ${a}`,skipInitialDialog:!0,children:s?t.jsx(Ln,{className:"h-4 w-4 text-white"}):t.jsx(Na,{className:"h-4 w-4 text-gray-700 dark:text-gray-300"})})}function JL(e,r=null){try{return JSON.parse(e)}catch(n){return console.error("Failed to parse JSON:",n),console.warn("Text that failed to parse:",e.substring(0,200)),r}}async function Vn(e){if(!e.ok)return kce(e);const r=e.headers.get("content-type");if(r&&r.includes("application/json"))try{return await e.json()}catch(n){throw console.error("Error parsing JSON response:",n),new Error("Failed to parse server response")}try{const n=await e.text();if(n.includes("<!DOCTYPE html>")||n.includes("<html>"))return console.warn("Server returned HTML instead of JSON:",n.substring(0,200)),{success:!0,message:"Operation completed",warning:"Server returned HTML response"};const a=JL(n);return a?(console.warn("Successfully parsed response as JSON despite content-type:",r),a):{success:!0,message:"Operation completed",rawResponse:n.substring(0,300)}}catch(n){throw console.error("Error processing non-JSON response:",n),new Error("Failed to process server response")}}async function kce(e){const r=e.headers.get("content-type");try{if(r&&r.includes("application/json")){const a=await e.json();throw new Error(a.message||`API error: ${e.status}`)}const n=await e.text();throw n.includes("<!DOCTYPE html>")||n.includes("<html>")?(console.error(`Server error HTML response: ${e.url}`,n.substring(0,200)),new Error(`Server error (${e.status}). Please try again later.`)):new Error(`${e.status}: ${n.substring(0,100)}`)}catch(n){throw n instanceof Error?n:new Error(`Request failed with status: ${e.status}`)}}async function TP(e,r="GET",n){try{const a={method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"};n&&(r==="POST"||r==="PUT"||r==="PATCH")&&(a.body=JSON.stringify(n));const s=await fetch(e,a);return await Vn(s)}catch(a){throw console.error(`API request failed (${r} ${e}):`,a),a instanceof Error?a:new Error("Network request failed")}}function Sce(e){const r=async()=>{if(!e)return[];try{const h=await ze(`/api/interests/${e}`,{method:"GET"}),p=await Vn(h);if(Array.isArray(p))return p;if(p&&typeof p=="string"){const f=JL(p,[]);if(Array.isArray(f))return f}return console.warn("[useUserInterests] Unexpected response format:",p),[]}catch(h){return console.error("[useUserInterests] Error fetching interests:",h),[]}},{data:n=[],isLoading:a,error:s,refetch:i}=dt({queryKey:["/api/interests",e],queryFn:r,enabled:!!e,staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,retry:1}),o=Array.isArray(n)?n:[],l=o.filter(h=>h.showOnProfile===!0),c=o,d=l.map(h=>h.interest),m=c.map(h=>h.interest);return{visibleInterests:l,allInterests:c,visibleInterestStrings:d,allInterestStrings:m,isLoading:a,error:s,refetch:i}}function Cce(e,r){const{isPremium:n}=r,a=e.hasActivatedProfile||!1;return!n&&!a?!0:!n&&a?!1:!!e.hideAge}function Ece(e,r){return Cce(e,{isPremium:r})}var IP=1,Pce=.9,Ace=.8,Mce=.17,Cb=.1,Eb=.999,Tce=.9999,Ice=.99,_ce=/[\\\/_+.#"@\[\(\{&]/,Dce=/[\\\/_+.#"@\[\(\{&]/g,Rce=/[\s-]/,XL=/[\s-]/g;function mj(e,r,n,a,s,i,o){if(i===r.length)return s===e.length?IP:Ice;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=a.charAt(i),d=n.indexOf(c,s),m=0,h,p,f,x;d>=0;)h=mj(e,r,n,a,d+1,i+1,o),h>m&&(d===s?h*=IP:_ce.test(e.charAt(d-1))?(h*=Ace,f=e.slice(s,d-1).match(Dce),f&&s>0&&(h*=Math.pow(Eb,f.length))):Rce.test(e.charAt(d-1))?(h*=Pce,x=e.slice(s,d-1).match(XL),x&&s>0&&(h*=Math.pow(Eb,x.length))):(h*=Mce,s>0&&(h*=Math.pow(Eb,d-s))),e.charAt(d)!==r.charAt(i)&&(h*=Tce)),(h<Cb&&n.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(d-1)!==a.charAt(i))&&(p=mj(e,r,n,a,d+1,i+2,o),p*Cb>h&&(h=p*Cb)),h>m&&(m=h),d=n.indexOf(c,d+1);return o[l]=m,m}function _P(e){return e.toLowerCase().replace(XL," ")}function Oce(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,mj(e,r,_P(e),_P(r),0,0,{})}var xh='[cmdk-group=""]',Pb='[cmdk-group-items=""]',Lce='[cmdk-group-heading=""]',Mk='[cmdk-item=""]',DP=`${Mk}:not([aria-disabled="true"])`,hj="cmdk-item-select",Kc="data-value",$ce=(e,r,n)=>Oce(e,r,n),ZL=u.createContext(void 0),Rf=()=>u.useContext(ZL),e$=u.createContext(void 0),Tk=()=>u.useContext(e$),t$=u.createContext(void 0),r$=u.forwardRef((e,r)=>{let n=iu(()=>{var $,re;return{search:"",value:(re=($=e.value)!=null?$:e.defaultValue)!=null?re:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=iu(()=>new Set),s=iu(()=>new Map),i=iu(()=>new Map),o=iu(()=>new Set),l=n$(e),{label:c,children:d,value:m,onValueChange:h,filter:p,shouldFilter:f,loop:x,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,b=Aa(),w=Aa(),S=Aa(),N=u.useRef(null),P=Yce();Od(()=>{if(m!==void 0){let $=m.trim();n.current.value=$,C.emit()}},[m]),Od(()=>{P(6,F)},[]);let C=u.useMemo(()=>({subscribe:$=>(o.current.add($),()=>o.current.delete($)),snapshot:()=>n.current,setState:($,re,le)=>{var ce,ue,ee;if(!Object.is(n.current[$],re)){if(n.current[$]=re,$==="search")A(),_(),P(1,k);else if($==="value"&&(le||P(5,F),((ce=l.current)==null?void 0:ce.value)!==void 0)){let Z=re??"";(ee=(ue=l.current).onValueChange)==null||ee.call(ue,Z);return}C.emit()}},emit:()=>{o.current.forEach($=>$())}}),[]),I=u.useMemo(()=>({value:($,re,le)=>{var ce;re!==((ce=i.current.get($))==null?void 0:ce.value)&&(i.current.set($,{value:re,keywords:le}),n.current.filtered.items.set($,T(re,le)),P(2,()=>{_(),C.emit()}))},item:($,re)=>(a.current.add($),re&&(s.current.has(re)?s.current.get(re).add($):s.current.set(re,new Set([$]))),P(3,()=>{A(),_(),n.current.value||k(),C.emit()}),()=>{i.current.delete($),a.current.delete($),n.current.filtered.items.delete($);let le=V();P(4,()=>{A(),(le==null?void 0:le.getAttribute("id"))===$&&k(),C.emit()})}),group:$=>(s.current.has($)||s.current.set($,new Set),()=>{i.current.delete($),s.current.delete($)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:S,labelId:w,listInnerRef:N}),[]);function T($,re){var le,ce;let ue=(ce=(le=l.current)==null?void 0:le.filter)!=null?ce:$ce;return $?ue($,n.current.search,re):0}function _(){if(!n.current.search||l.current.shouldFilter===!1)return;let $=n.current.filtered.items,re=[];n.current.filtered.groups.forEach(ce=>{let ue=s.current.get(ce),ee=0;ue.forEach(Z=>{let Se=$.get(Z);ee=Math.max(Se,ee)}),re.push([ce,ee])});let le=N.current;J().sort((ce,ue)=>{var ee,Z;let Se=ce.getAttribute("id"),Ue=ue.getAttribute("id");return((ee=$.get(Ue))!=null?ee:0)-((Z=$.get(Se))!=null?Z:0)}).forEach(ce=>{let ue=ce.closest(Pb);ue?ue.appendChild(ce.parentElement===ue?ce:ce.closest(`${Pb} > *`)):le.appendChild(ce.parentElement===le?ce:ce.closest(`${Pb} > *`))}),re.sort((ce,ue)=>ue[1]-ce[1]).forEach(ce=>{var ue;let ee=(ue=N.current)==null?void 0:ue.querySelector(`${xh}[${Kc}="${encodeURIComponent(ce[0])}"]`);ee==null||ee.parentElement.appendChild(ee)})}function k(){let $=J().find(le=>le.getAttribute("aria-disabled")!=="true"),re=$==null?void 0:$.getAttribute(Kc);C.setState("value",re||void 0)}function A(){var $,re,le,ce;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ue=0;for(let ee of a.current){let Z=(re=($=i.current.get(ee))==null?void 0:$.value)!=null?re:"",Se=(ce=(le=i.current.get(ee))==null?void 0:le.keywords)!=null?ce:[],Ue=T(Z,Se);n.current.filtered.items.set(ee,Ue),Ue>0&&ue++}for(let[ee,Z]of s.current)for(let Se of Z)if(n.current.filtered.items.get(Se)>0){n.current.filtered.groups.add(ee);break}n.current.filtered.count=ue}function F(){var $,re,le;let ce=V();ce&&((($=ce.parentElement)==null?void 0:$.firstChild)===ce&&((le=(re=ce.closest(xh))==null?void 0:re.querySelector(Lce))==null||le.scrollIntoView({block:"nearest"})),ce.scrollIntoView({block:"nearest"}))}function V(){var $;return($=N.current)==null?void 0:$.querySelector(`${Mk}[aria-selected="true"]`)}function J(){var $;return Array.from((($=N.current)==null?void 0:$.querySelectorAll(DP))||[])}function M($){let re=J()[$];re&&C.setState("value",re.getAttribute(Kc))}function R($){var re;let le=V(),ce=J(),ue=ce.findIndex(Z=>Z===le),ee=ce[ue+$];(re=l.current)!=null&&re.loop&&(ee=ue+$<0?ce[ce.length-1]:ue+$===ce.length?ce[0]:ce[ue+$]),ee&&C.setState("value",ee.getAttribute(Kc))}function B($){let re=V(),le=re==null?void 0:re.closest(xh),ce;for(;le&&!ce;)le=$>0?Kce(le,xh):qce(le,xh),ce=le==null?void 0:le.querySelector(DP);ce?C.setState("value",ce.getAttribute(Kc)):R($)}let O=()=>M(J().length-1),X=$=>{$.preventDefault(),$.metaKey?O():$.altKey?B(1):R(1)},ae=$=>{$.preventDefault(),$.metaKey?M(0):$.altKey?B(-1):R(-1)};return u.createElement(bt.div,{ref:r,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:$=>{var re;if((re=y.onKeyDown)==null||re.call(y,$),!$.defaultPrevented)switch($.key){case"n":case"j":{v&&$.ctrlKey&&X($);break}case"ArrowDown":{X($);break}case"p":case"k":{v&&$.ctrlKey&&ae($);break}case"ArrowUp":{ae($);break}case"Home":{$.preventDefault(),M(0);break}case"End":{$.preventDefault(),O();break}case"Enter":if(!$.nativeEvent.isComposing&&$.keyCode!==229){$.preventDefault();let le=V();if(le){let ce=new Event(hj);le.dispatchEvent(ce)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:Jce},c),zy(e,$=>u.createElement(e$.Provider,{value:C},u.createElement(ZL.Provider,{value:I},$))))}),Fce=u.forwardRef((e,r)=>{var n,a;let s=Aa(),i=u.useRef(null),o=u.useContext(t$),l=Rf(),c=n$(e),d=(a=(n=c.current)==null?void 0:n.forceMount)!=null?a:o==null?void 0:o.forceMount;Od(()=>{if(!d)return l.item(s,o==null?void 0:o.id)},[d]);let m=a$(s,i,[e.value,e.children,i],e.keywords),h=Tk(),p=Ld(P=>P.value&&P.value===m.current),f=Ld(P=>d||l.filter()===!1?!0:P.search?P.filtered.items.get(s)>0:!0);u.useEffect(()=>{let P=i.current;if(!(!P||e.disabled))return P.addEventListener(hj,x),()=>P.removeEventListener(hj,x)},[f,e.onSelect,e.disabled]);function x(){var P,C;g(),(C=(P=c.current).onSelect)==null||C.call(P,m.current)}function g(){h.setState("value",m.current,!0)}if(!f)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:S,...N}=e;return u.createElement(bt.div,{ref:Jp([i,r]),...N,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!p,"data-disabled":!!v,"data-selected":!!p,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:x},e.children)}),Uce=u.forwardRef((e,r)=>{let{heading:n,children:a,forceMount:s,...i}=e,o=Aa(),l=u.useRef(null),c=u.useRef(null),d=Aa(),m=Rf(),h=Ld(f=>s||m.filter()===!1?!0:f.search?f.filtered.groups.has(o):!0);Od(()=>m.group(o),[]),a$(o,l,[e.value,e.heading,c]);let p=u.useMemo(()=>({id:o,forceMount:s}),[s]);return u.createElement(bt.div,{ref:Jp([l,r]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&u.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),zy(e,f=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},u.createElement(t$.Provider,{value:p},f))))}),Bce=u.forwardRef((e,r)=>{let{alwaysRender:n,...a}=e,s=u.useRef(null),i=Ld(o=>!o.search);return!n&&!i?null:u.createElement(bt.div,{ref:Jp([s,r]),...a,"cmdk-separator":"",role:"separator"})}),Gce=u.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,s=e.value!=null,i=Tk(),o=Ld(m=>m.search),l=Ld(m=>m.value),c=Rf(),d=u.useMemo(()=>{var m;let h=(m=c.listInnerRef.current)==null?void 0:m.querySelector(`${Mk}[${Kc}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return u.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),u.createElement(bt.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:s?e.value:o,onChange:m=>{s||i.setState("search",m.target.value),n==null||n(m.target.value)}})}),Vce=u.forwardRef((e,r)=>{let{children:n,label:a="Suggestions",...s}=e,i=u.useRef(null),o=u.useRef(null),l=Rf();return u.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=c.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(m),h.unobserve(c)}}},[]),u.createElement(bt.div,{ref:Jp([i,r]),...s,"cmdk-list":"",role:"listbox","aria-label":a,id:l.listId},zy(e,c=>u.createElement("div",{ref:Jp([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),zce=u.forwardRef((e,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:i,container:o,...l}=e;return u.createElement(Z2,{open:n,onOpenChange:a},u.createElement(ek,{container:o},u.createElement(Py,{"cmdk-overlay":"",className:s}),u.createElement(Ay,{"aria-label":e.label,"cmdk-dialog":"",className:i},u.createElement(r$,{ref:r,...l}))))}),Wce=u.forwardRef((e,r)=>Ld(n=>n.filtered.count===0)?u.createElement(bt.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Hce=u.forwardRef((e,r)=>{let{progress:n,children:a,label:s="Loading...",...i}=e;return u.createElement(bt.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},zy(e,o=>u.createElement("div",{"aria-hidden":!0},o)))}),Ys=Object.assign(r$,{List:Vce,Item:Fce,Input:Gce,Group:Uce,Separator:Bce,Dialog:zce,Empty:Wce,Loading:Hce});function Kce(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function qce(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function n$(e){let r=u.useRef(e);return Od(()=>{r.current=e}),r}var Od=typeof window>"u"?u.useEffect:u.useLayoutEffect;function iu(e){let r=u.useRef();return r.current===void 0&&(r.current=e()),r}function Jp(e){return r=>{e.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}function Ld(e){let r=Tk(),n=()=>e(r.snapshot());return NN.useSyncExternalStore(r.subscribe,n,n)}function a$(e,r,n,a=[]){let s=u.useRef(),i=Rf();return Od(()=>{var o;let l=(()=>{var d;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(d=m.current.textContent)==null?void 0:d.trim():s.current}})(),c=a.map(d=>d.trim());i.value(e,l,c),(o=r.current)==null||o.setAttribute(Kc,l),s.current=l}),s}var Yce=()=>{let[e,r]=u.useState(),n=iu(()=>new Map);return Od(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,s)=>{n.current.set(a,s),r({})}};function Qce(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function zy({asChild:e,children:r},n){return e&&u.isValidElement(r)?u.cloneElement(Qce(r),{ref:r.ref},n(r.props.children)):n(r)}var Jce={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ik=u.forwardRef(({className:e,...r},n)=>t.jsx(Ys,{ref:n,className:We("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Ik.displayName=Ys.displayName;const _k=u.forwardRef(({className:e,...r},n)=>t.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[t.jsx(so,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),t.jsx(Ys.Input,{ref:n,className:We("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));_k.displayName=Ys.Input.displayName;const Dk=u.forwardRef(({className:e,...r},n)=>t.jsx(Ys.List,{ref:n,className:We("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Dk.displayName=Ys.List.displayName;const Rk=u.forwardRef((e,r)=>t.jsx(Ys.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Rk.displayName=Ys.Empty.displayName;const Jh=u.forwardRef(({className:e,...r},n)=>t.jsx(Ys.Group,{ref:n,className:We("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Jh.displayName=Ys.Group.displayName;const Mx=u.forwardRef(({className:e,...r},n)=>t.jsx(Ys.Separator,{ref:n,className:We("-mx-1 h-px bg-border",e),...r}));Mx.displayName=Ys.Separator.displayName;const Vu=u.forwardRef(({className:e,...r},n)=>t.jsx(Ys.Item,{ref:n,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...r}));Vu.displayName=Ys.Item.displayName;var Ok="Popover",[s$,vye]=ps(Ok,[Wm]),Of=Wm(),[Xce,Dc]=s$(Ok),i$=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=Of(r),c=u.useRef(null),[d,m]=u.useState(!1),[h=!1,p]=Es({prop:a,defaultProp:s,onChange:i});return t.jsx(R2,{...l,children:t.jsx(Xce,{scope:r,contentId:Aa(),triggerRef:c,open:h,onOpenChange:p,onOpenToggle:u.useCallback(()=>p(f=>!f),[p]),hasCustomAnchor:d,onCustomAnchorAdd:u.useCallback(()=>m(!0),[]),onCustomAnchorRemove:u.useCallback(()=>m(!1),[]),modal:o,children:n})})};i$.displayName=Ok;var o$="PopoverAnchor",Zce=u.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Dc(o$,n),i=Of(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return u.useEffect(()=>(o(),()=>l()),[o,l]),t.jsx(wy,{...i,...a,ref:r})});Zce.displayName=o$;var l$="PopoverTrigger",c$=u.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Dc(l$,n),i=Of(n),o=sr(r,s.triggerRef),l=t.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":p$(s.open),...a,ref:o,onClick:it(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:t.jsx(wy,{asChild:!0,...i,children:l})});c$.displayName=l$;var Lk="PopoverPortal",[ede,tde]=s$(Lk,{forceMount:void 0}),d$=e=>{const{__scopePopover:r,forceMount:n,children:a,container:s}=e,i=Dc(Lk,r);return t.jsx(ede,{scope:r,forceMount:n,children:t.jsx(Ta,{present:n||i.open,children:t.jsx(Fm,{asChild:!0,container:s,children:a})})})};d$.displayName=Lk;var Em="PopoverContent",u$=u.forwardRef((e,r)=>{const n=tde(Em,e.__scopePopover),{forceMount:a=n.forceMount,...s}=e,i=Dc(Em,e.__scopePopover);return t.jsx(Ta,{present:a||i.open,children:i.modal?t.jsx(rde,{...s,ref:r}):t.jsx(nde,{...s,ref:r})})});u$.displayName=Em;var rde=u.forwardRef((e,r)=>{const n=Dc(Em,e.__scopePopover),a=u.useRef(null),s=sr(r,a),i=u.useRef(!1);return u.useEffect(()=>{const o=a.current;if(o)return Ny(o)},[]),t.jsx(Cf,{as:_o,allowPinchZoom:!0,children:t.jsx(m$,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:it(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:it(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:it(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),nde=u.forwardRef((e,r)=>{const n=Dc(Em,e.__scopePopover),a=u.useRef(!1),s=u.useRef(!1);return t.jsx(m$,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),m$=u.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:m,...h}=e,p=Dc(Em,n),f=Of(n);return xy(),t.jsx(Nf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:t.jsx($m,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:t.jsx(O2,{"data-state":p$(p.open),role:"dialog",id:p.contentId,...f,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),h$="PopoverClose",ade=u.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Dc(h$,n);return t.jsx(bt.button,{type:"button",...a,ref:r,onClick:it(e.onClick,()=>s.onOpenChange(!1))})});ade.displayName=h$;var sde="PopoverArrow",ide=u.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Of(n);return t.jsx(L2,{...s,...a,ref:r})});ide.displayName=sde;function p$(e){return e?"open":"closed"}var ode=i$,lde=c$,cde=d$,f$=u$;const g$=ode,x$=lde,$k=u.forwardRef(({className:e,align:r="center",sideOffset:n=4,...a},s)=>t.jsx(cde,{children:t.jsx(f$,{ref:s,align:r,sideOffset:n,className:We("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));$k.displayName=f$.displayName;function dde({value:e,onValueChange:r,placeholder:n="Select religion and denomination",disabled:a=!1,allowClear:s=!0,allowCustom:i=!0}){var P,C,I;const[o,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState(!1),[p,f]=u.useState(""),[x,g]=u.useState(!1),[v,y]=u.useState(!1),b="__clear__";u.useEffect(()=>{async function T(){if(!c){l(!0);try{await Gq(),d(!0)}catch(_){console.error("Error loading global religions:",_)}finally{l(!1)}}}T()},[c]);const w=T=>{T===b?(r(""),y(!1)):(r(T),y(!1))},S=async()=>{if(p.trim())try{g(!0);const T=await Vq(p.trim());T?(r(T.value),console.log("Added and selected global religion:",T)):console.error("Failed to add religion to global database")}catch(T){console.error("Error adding global religion:",T)}finally{g(!1),f(""),h(!1),y(!1)}},N=e?e.startsWith("global-")?((C=(P=ai.find(T=>T.value==="global"))==null?void 0:P.denominations.find(T=>T.value===e))==null?void 0:C.name)||e:((I=ai.flatMap(T=>T.denominations).find(T=>T.value===e))==null?void 0:I.name)||e:"";return t.jsxs(g$,{open:v,onOpenChange:y,children:[t.jsx(x$,{asChild:!0,children:t.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":v,disabled:a,className:We("w-full justify-between border-purple-200 dark:border-purple-800/50 bg-white dark:bg-gray-800 shadow-sm hover:border-purple-300 dark:hover:border-purple-700 transition-colors",a&&"opacity-50 cursor-not-allowed"),children:[e?t.jsx("span",{className:"text-left line-clamp-1",children:N}):t.jsx("span",{className:"text-muted-foreground",children:n}),t.jsx(hT,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx($k,{className:"p-0 w-[300px] bg-gradient-to-b from-gray-900/95 via-purple-950/90 to-gray-900/95 border border-purple-500/40 shadow-[0_0_15px_rgba(168,85,247,0.2)] backdrop-blur-xl rounded-xl",children:t.jsxs(Ik,{className:"bg-transparent border-none",children:[t.jsxs(Rk,{children:[t.jsx("p",{className:"py-2 px-3 text-sm text-gray-400",children:"No religion found."}),i&&!m&&t.jsxs(de,{variant:"ghost",className:"w-full justify-start px-3 py-1.5 text-sm text-left text-gray-300 hover:text-white hover:bg-white/10",onClick:()=>h(!0),children:[t.jsx(Na,{className:"w-3.5 h-3.5 mr-2 text-purple-400"}),"Add custom religion"]})]}),t.jsx(_k,{placeholder:"Search religions...",className:"border-none focus:ring-0 text-white bg-black/20 placeholder:text-gray-400"}),m&&t.jsxs("div",{className:"p-2 border-t border-gray-700/50",children:[t.jsx(Je,{value:p,onChange:T=>f(T.target.value),placeholder:"Type custom religion name",className:"mb-2 bg-black/30 border-purple-500/50 text-white placeholder:text-gray-500"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(de,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white hover:bg-white/10",onClick:()=>h(!1),children:"Cancel"}),t.jsx(de,{variant:"default",size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",onClick:S,disabled:x||!p.trim(),children:x?t.jsxs(t.Fragment,{children:[t.jsx(Ad,{className:"h-3.5 w-3.5 mr-2 animate-spin"}),"Adding..."]}):"Add & Select"})]})]}),t.jsx(Dk,{children:t.jsxs(to,{className:"h-[300px]",style:{scrollbarWidth:"thin"},children:[o&&t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(Ad,{className:"h-4 w-4 mr-2 animate-spin text-purple-400"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Loading religions..."})]}),s&&e&&t.jsxs(t.Fragment,{children:[t.jsxs(Vu,{value:b,onSelect:()=>w(b),className:"text-gray-300 italic flex items-center hover:bg-white/10 focus:bg-white/10 rounded-lg my-1",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-2 text-gray-400"}),"Clear selection"]},b),t.jsx(Mx,{className:"my-1 bg-white/10"})]}),ai.map(T=>t.jsx(Jh,{heading:T.name,className:We("text-xs font-semibold",T.value==="global"?"text-pink-400":"text-purple-400"),children:T.denominations.map(_=>t.jsxs(Vu,{value:_.value,onSelect:()=>w(_.value),className:"flex items-center justify-between group transition-colors duration-150",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(At,{className:We("mr-2 h-4 w-4",e===_.value?"opacity-100 text-purple-400":"opacity-0")}),t.jsx("span",{className:"text-gray-200",children:_.name})]}),e===_.value&&t.jsx("span",{className:"text-xs text-white bg-gradient-to-r from-purple-500 to-pink-600 px-1.5 py-0.5 rounded-full font-bold border border-purple-400/30 shadow-sm",children:"Selected"})]},_.value))},T.value))]})})]})})]})}function pj(e,r){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pj(e,r)}function y$(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,pj(e,r)}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},er.apply(null,arguments)}function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xp(e)}function ude(e,r){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Xp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mde(e){var r=ude(e,"string");return Xp(r)=="symbol"?r:r+""}function hde(e,r,n){return(r=mde(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function RP(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function OP(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RP(Object(n),!0).forEach(function(a){hde(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ds(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var LP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ab=function(){return Math.random().toString(36).substring(7).split("").join(".")},$P={INIT:"@@redux/INIT"+Ab(),REPLACE:"@@redux/REPLACE"+Ab(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ab()}};function pde(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function v$(e,r,n){var a;if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ds(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ds(1));return n(v$)(e,r)}if(typeof e!="function")throw new Error(Ds(2));var s=e,i=r,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function m(){if(c)throw new Error(Ds(3));return i}function h(g){if(typeof g!="function")throw new Error(Ds(4));if(c)throw new Error(Ds(5));var v=!0;return d(),l.push(g),function(){if(v){if(c)throw new Error(Ds(6));v=!1,d();var b=l.indexOf(g);l.splice(b,1),o=null}}}function p(g){if(!pde(g))throw new Error(Ds(7));if(typeof g.type>"u")throw new Error(Ds(8));if(c)throw new Error(Ds(9));try{c=!0,i=s(i,g)}finally{c=!1}for(var v=o=l,y=0;y<v.length;y++){var b=v[y];b()}return g}function f(g){if(typeof g!="function")throw new Error(Ds(10));s=g,p({type:$P.REPLACE})}function x(){var g,v=h;return g={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Ds(11));function w(){b.next&&b.next(m())}w();var S=v(w);return{unsubscribe:S}}},g[LP]=function(){return this},g}return p({type:$P.INIT}),a={dispatch:p,subscribe:h,getState:m,replaceReducer:f},a[LP]=x,a}function FP(e,r){return function(){return r(e.apply(this,arguments))}}function UP(e,r){if(typeof e=="function")return FP(e,r);if(typeof e!="object"||e===null)throw new Error(Ds(16));var n={};for(var a in e){var s=e[a];typeof s=="function"&&(n[a]=FP(s,r))}return n}function b$(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length===0?function(a){return a}:r.length===1?r[0]:r.reduce(function(a,s){return function(){return a(s.apply(void 0,arguments))}})}function fde(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(a){return function(){var s=a.apply(void 0,arguments),i=function(){throw new Error(Ds(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=r.map(function(c){return c(o)});return i=b$.apply(void 0,l)(s.dispatch),OP(OP({},s),{},{dispatch:i})}}}var w$={exports:{}},gde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xde=gde,yde=xde;function j$(){}function N$(){}N$.resetWarningCache=j$;var vde=function(){function e(a,s,i,o,l,c){if(c!==yde){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:N$,resetWarningCache:j$};return n.PropTypes=n,n};w$.exports=vde();var bde=w$.exports;const Un=cf(bde);var k$=tt.createContext(null);function wde(e){e()}var S$=wde,jde=function(r){return S$=r},Nde=function(){return S$};function kde(){var e=Nde(),r=null,n=null;return{clear:function(){r=null,n=null},notify:function(){e(function(){for(var s=r;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=r;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,o=n={callback:s,next:null,prev:n};return o.prev?o.prev.next=o:r=o,function(){!i||r===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var BP={notify:function(){},get:function(){return[]}};function C$(e,r){var n,a=BP;function s(h){return c(),a.subscribe(h)}function i(){a.notify()}function o(){m.onStateChange&&m.onStateChange()}function l(){return!!n}function c(){n||(n=r?r.addNestedSub(o):e.subscribe(o),a=kde())}function d(){n&&(n(),n=void 0,a.clear(),a=BP)}var m={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return a}};return m}var E$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect;function Sde(e){var r=e.store,n=e.context,a=e.children,s=u.useMemo(function(){var l=C$(r);return{store:r,subscription:l}},[r]),i=u.useMemo(function(){return r.getState()},[r]);E$(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==r.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var o=n||k$;return tt.createElement(o.Provider,{value:s},a)}function Tx(e,r){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.includes(a))continue;n[a]=e[a]}return n}var P$={exports:{}},ln={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=typeof Symbol=="function"&&Symbol.for,Fk=Ba?Symbol.for("react.element"):60103,Uk=Ba?Symbol.for("react.portal"):60106,Wy=Ba?Symbol.for("react.fragment"):60107,Hy=Ba?Symbol.for("react.strict_mode"):60108,Ky=Ba?Symbol.for("react.profiler"):60114,qy=Ba?Symbol.for("react.provider"):60109,Yy=Ba?Symbol.for("react.context"):60110,Bk=Ba?Symbol.for("react.async_mode"):60111,Qy=Ba?Symbol.for("react.concurrent_mode"):60111,Jy=Ba?Symbol.for("react.forward_ref"):60112,Xy=Ba?Symbol.for("react.suspense"):60113,Cde=Ba?Symbol.for("react.suspense_list"):60120,Zy=Ba?Symbol.for("react.memo"):60115,ev=Ba?Symbol.for("react.lazy"):60116,Ede=Ba?Symbol.for("react.block"):60121,Pde=Ba?Symbol.for("react.fundamental"):60117,Ade=Ba?Symbol.for("react.responder"):60118,Mde=Ba?Symbol.for("react.scope"):60119;function fi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case Fk:switch(e=e.type,e){case Bk:case Qy:case Wy:case Ky:case Hy:case Xy:return e;default:switch(e=e&&e.$$typeof,e){case Yy:case Jy:case ev:case Zy:case qy:return e;default:return r}}case Uk:return r}}}function A$(e){return fi(e)===Qy}ln.AsyncMode=Bk;ln.ConcurrentMode=Qy;ln.ContextConsumer=Yy;ln.ContextProvider=qy;ln.Element=Fk;ln.ForwardRef=Jy;ln.Fragment=Wy;ln.Lazy=ev;ln.Memo=Zy;ln.Portal=Uk;ln.Profiler=Ky;ln.StrictMode=Hy;ln.Suspense=Xy;ln.isAsyncMode=function(e){return A$(e)||fi(e)===Bk};ln.isConcurrentMode=A$;ln.isContextConsumer=function(e){return fi(e)===Yy};ln.isContextProvider=function(e){return fi(e)===qy};ln.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fk};ln.isForwardRef=function(e){return fi(e)===Jy};ln.isFragment=function(e){return fi(e)===Wy};ln.isLazy=function(e){return fi(e)===ev};ln.isMemo=function(e){return fi(e)===Zy};ln.isPortal=function(e){return fi(e)===Uk};ln.isProfiler=function(e){return fi(e)===Ky};ln.isStrictMode=function(e){return fi(e)===Hy};ln.isSuspense=function(e){return fi(e)===Xy};ln.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wy||e===Qy||e===Ky||e===Hy||e===Xy||e===Cde||typeof e=="object"&&e!==null&&(e.$$typeof===ev||e.$$typeof===Zy||e.$$typeof===qy||e.$$typeof===Yy||e.$$typeof===Jy||e.$$typeof===Pde||e.$$typeof===Ade||e.$$typeof===Mde||e.$$typeof===Ede)};ln.typeOf=fi;P$.exports=ln;var Tde=P$.exports,Gk=Tde,Ide={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_de={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Dde={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vk={};Vk[Gk.ForwardRef]=Dde;Vk[Gk.Memo]=M$;function GP(e){return Gk.isMemo(e)?M$:Vk[e.$$typeof]||Ide}var Rde=Object.defineProperty,Ode=Object.getOwnPropertyNames,VP=Object.getOwnPropertySymbols,Lde=Object.getOwnPropertyDescriptor,$de=Object.getPrototypeOf,zP=Object.prototype;function T$(e,r,n){if(typeof r!="string"){if(zP){var a=$de(r);a&&a!==zP&&T$(e,a,n)}var s=Ode(r);VP&&(s=s.concat(VP(r)));for(var i=GP(e),o=GP(r),l=0;l<s.length;++l){var c=s[l];if(!_de[c]&&!(n&&n[c])&&!(o&&o[c])&&!(i&&i[c])){var d=Lde(r,c);try{Rde(e,c,d)}catch{}}}}return e}var Fde=T$;const WP=cf(Fde);var I$={exports:{}},yn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=60103,rv=60106,Lf=60107,$f=60108,Ff=60114,Uf=60109,Bf=60110,Gf=60112,Vf=60113,zk=60120,zf=60115,Wf=60116,_$=60121,D$=60122,R$=60117,O$=60129,L$=60131;if(typeof Symbol=="function"&&Symbol.for){var Wa=Symbol.for;tv=Wa("react.element"),rv=Wa("react.portal"),Lf=Wa("react.fragment"),$f=Wa("react.strict_mode"),Ff=Wa("react.profiler"),Uf=Wa("react.provider"),Bf=Wa("react.context"),Gf=Wa("react.forward_ref"),Vf=Wa("react.suspense"),zk=Wa("react.suspense_list"),zf=Wa("react.memo"),Wf=Wa("react.lazy"),_$=Wa("react.block"),D$=Wa("react.server.block"),R$=Wa("react.fundamental"),O$=Wa("react.debug_trace_mode"),L$=Wa("react.legacy_hidden")}function uo(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case tv:switch(e=e.type,e){case Lf:case Ff:case $f:case Vf:case zk:return e;default:switch(e=e&&e.$$typeof,e){case Bf:case Gf:case Wf:case zf:case Uf:return e;default:return r}}case rv:return r}}}var Ude=Uf,Bde=tv,Gde=Gf,Vde=Lf,zde=Wf,Wde=zf,Hde=rv,Kde=Ff,qde=$f,Yde=Vf;yn.ContextConsumer=Bf;yn.ContextProvider=Ude;yn.Element=Bde;yn.ForwardRef=Gde;yn.Fragment=Vde;yn.Lazy=zde;yn.Memo=Wde;yn.Portal=Hde;yn.Profiler=Kde;yn.StrictMode=qde;yn.Suspense=Yde;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return uo(e)===Bf};yn.isContextProvider=function(e){return uo(e)===Uf};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tv};yn.isForwardRef=function(e){return uo(e)===Gf};yn.isFragment=function(e){return uo(e)===Lf};yn.isLazy=function(e){return uo(e)===Wf};yn.isMemo=function(e){return uo(e)===zf};yn.isPortal=function(e){return uo(e)===rv};yn.isProfiler=function(e){return uo(e)===Ff};yn.isStrictMode=function(e){return uo(e)===$f};yn.isSuspense=function(e){return uo(e)===Vf};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lf||e===Ff||e===O$||e===$f||e===Vf||e===zk||e===L$||typeof e=="object"&&e!==null&&(e.$$typeof===Wf||e.$$typeof===zf||e.$$typeof===Uf||e.$$typeof===Bf||e.$$typeof===Gf||e.$$typeof===R$||e.$$typeof===_$||e[0]===D$)};yn.typeOf=uo;I$.exports=yn;var Qde=I$.exports,Jde=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Xde=["reactReduxForwardedRef"],Zde=[],eue=[null,null];function tue(e,r){var n=e[1];return[r.payload,n+1]}function HP(e,r,n){E$(function(){return e.apply(void 0,r)},n)}function rue(e,r,n,a,s,i,o){e.current=a,r.current=s,n.current=!1,i.current&&(i.current=null,o())}function nue(e,r,n,a,s,i,o,l,c,d){if(e){var m=!1,h=null,p=function(){if(!m){var g=r.getState(),v,y;try{v=a(g,s.current)}catch(b){y=b,h=b}y||(h=null),v===i.current?o.current||c():(i.current=v,l.current=v,o.current=!0,d({type:"STORE_UPDATED",payload:{error:y}}))}};n.onStateChange=p,n.trySubscribe(),p();var f=function(){if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h};return f}}var aue=function(){return[null,0]};function sue(e,r){r===void 0&&(r={});var n=r,a=n.getDisplayName,s=a===void 0?function(w){return"ConnectAdvanced("+w+")"}:a,i=n.methodName,o=i===void 0?"connectAdvanced":i,l=n.renderCountProp,c=l===void 0?void 0:l,d=n.shouldHandleStateChanges,m=d===void 0?!0:d,h=n.storeKey,p=h===void 0?"store":h;n.withRef;var f=n.forwardRef,x=f===void 0?!1:f,g=n.context,v=g===void 0?k$:g,y=Tx(n,Jde),b=v;return function(S){var N=S.displayName||S.name||"Component",P=s(N),C=er({},y,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:m,storeKey:p,displayName:P,wrappedComponentName:N,WrappedComponent:S}),I=y.pure;function T(V){return e(V.dispatch,C)}var _=I?u.useMemo:function(V){return V()};function k(V){var J=u.useMemo(function(){var ie=V.reactReduxForwardedRef,pe=Tx(V,Xde);return[V.context,ie,pe]},[V]),M=J[0],R=J[1],B=J[2],O=u.useMemo(function(){return M&&M.Consumer&&Qde.isContextConsumer(tt.createElement(M.Consumer,null))?M:b},[M,b]),X=u.useContext(O),ae=!!V.store&&!!V.store.getState&&!!V.store.dispatch;X&&X.store;var $=ae?V.store:X.store,re=u.useMemo(function(){return T($)},[$]),le=u.useMemo(function(){if(!m)return eue;var ie=C$($,ae?null:X.subscription),pe=ie.notifyNestedSubs.bind(ie);return[ie,pe]},[$,ae,X]),ce=le[0],ue=le[1],ee=u.useMemo(function(){return ae?X:er({},X,{subscription:ce})},[ae,X,ce]),Z=u.useReducer(tue,Zde,aue),Se=Z[0],Ue=Se[0],De=Z[1];if(Ue&&Ue.error)throw Ue.error;var se=u.useRef(),L=u.useRef(B),q=u.useRef(),H=u.useRef(!1),ge=_(function(){return q.current&&B===L.current?q.current:re($.getState(),B)},[$,Ue,B]);HP(rue,[L,se,H,B,ge,q,ue]),HP(nue,[m,$,ce,re,L,se,H,q,ue,De],[$,ce,re]);var ke=u.useMemo(function(){return tt.createElement(S,er({},ge,{ref:R}))},[R,S,ge]),z=u.useMemo(function(){return m?tt.createElement(O.Provider,{value:ee},ke):ke},[O,ke,ee]);return z}var A=I?tt.memo(k):k;if(A.WrappedComponent=S,A.displayName=k.displayName=P,x){var F=tt.forwardRef(function(J,M){return tt.createElement(A,er({},J,{reactReduxForwardedRef:M}))});return F.displayName=P,F.WrappedComponent=S,WP(F,S)}return WP(A,S)}}function KP(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function Mb(e,r){if(KP(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(r,n[s])||!KP(e[n[s]],r[n[s]]))return!1;return!0}function iue(e,r){var n={},a=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return r(l.apply(void 0,arguments))})};for(var s in e)a(s);return n}function Wk(e){return function(n,a){var s=e(n,a);function i(){return s}return i.dependsOnOwnProps=!1,i}}function qP(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function $$(e,r){return function(a,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=qP(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=qP(d),d=i(l,c)),d},i}}function oue(e){return typeof e=="function"?$$(e):void 0}function lue(e){return e?void 0:Wk(function(r){return{dispatch:r}})}function cue(e){return e&&typeof e=="object"?Wk(function(r){return iue(e,r)}):void 0}const due=[oue,lue,cue];function uue(e){return typeof e=="function"?$$(e):void 0}function mue(e){return e?void 0:Wk(function(){return{}})}const hue=[uue,mue];function pue(e,r,n){return er({},n,e,r)}function fue(e){return function(n,a){a.displayName;var s=a.pure,i=a.areMergedPropsEqual,o=!1,l;return function(d,m,h){var p=e(d,m,h);return o?(!s||!i(p,l))&&(l=p):(o=!0,l=p),l}}}function gue(e){return typeof e=="function"?fue(e):void 0}function xue(e){return e?void 0:function(){return pue}}const yue=[gue,xue];var vue=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function bue(e,r,n,a){return function(i,o){return n(e(i,o),r(a,o),o)}}function wue(e,r,n,a,s){var i=s.areStatesEqual,o=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,d,m,h,p,f;function x(w,S){return d=w,m=S,h=e(d,m),p=r(a,m),f=n(h,p,m),c=!0,f}function g(){return h=e(d,m),r.dependsOnOwnProps&&(p=r(a,m)),f=n(h,p,m),f}function v(){return e.dependsOnOwnProps&&(h=e(d,m)),r.dependsOnOwnProps&&(p=r(a,m)),f=n(h,p,m),f}function y(){var w=e(d,m),S=!l(w,h);return h=w,S&&(f=n(h,p,m)),f}function b(w,S){var N=!o(S,m),P=!i(w,d,S,m);return d=w,m=S,N&&P?g():N?v():P?y():f}return function(S,N){return c?b(S,N):x(S,N)}}function jue(e,r){var n=r.initMapStateToProps,a=r.initMapDispatchToProps,s=r.initMergeProps,i=Tx(r,vue),o=n(e,i),l=a(e,i),c=s(e,i),d=i.pure?wue:bue;return d(o,l,c,e,i)}var Nue=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Tb(e,r,n){for(var a=r.length-1;a>=0;a--){var s=r[a](e);if(s)return s}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function kue(e,r){return e===r}function Sue(e){var r=e===void 0?{}:e,n=r.connectHOC,a=n===void 0?sue:n,s=r.mapStateToPropsFactories,i=s===void 0?hue:s,o=r.mapDispatchToPropsFactories,l=o===void 0?due:o,c=r.mergePropsFactories,d=c===void 0?yue:c,m=r.selectorFactory,h=m===void 0?jue:m;return function(f,x,g,v){v===void 0&&(v={});var y=v,b=y.pure,w=b===void 0?!0:b,S=y.areStatesEqual,N=S===void 0?kue:S,P=y.areOwnPropsEqual,C=P===void 0?Mb:P,I=y.areStatePropsEqual,T=I===void 0?Mb:I,_=y.areMergedPropsEqual,k=_===void 0?Mb:_,A=Tx(y,Nue),F=Tb(f,i,"mapStateToProps"),V=Tb(x,l,"mapDispatchToProps"),J=Tb(g,d,"mergeProps");return a(h,er({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!f,initMapStateToProps:F,initMapDispatchToProps:V,initMergeProps:J,pure:w,areStatesEqual:N,areOwnPropsEqual:C,areStatePropsEqual:T,areMergedPropsEqual:k},A))}}const F$=Sue();jde(bl.unstable_batchedUpdates);function Cue(e,r){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}function U$(e,r){var n=u.useState(function(){return{inputs:r,result:e()}})[0],a=u.useRef(!0),s=u.useRef(n),i=a.current||!!(r&&s.current.inputs&&Cue(r,s.current.inputs)),o=i?s.current:{inputs:r,result:e()};return u.useEffect(function(){a.current=!1,s.current=o},[o]),o.result}function Eue(e,r){return U$(function(){return e},r)}var Kr=U$,Kt=Eue,Pue="Invariant failed";function Aue(e,r){throw new Error(Pue)}var Xi=function(r){var n=r.top,a=r.right,s=r.bottom,i=r.left,o=a-i,l=s-n,c={top:n,right:a,bottom:s,left:i,width:o,height:l,x:i,y:n,center:{x:(a+i)/2,y:(s+n)/2}};return c},Hk=function(r,n){return{top:r.top-n.top,left:r.left-n.left,bottom:r.bottom+n.bottom,right:r.right+n.right}},YP=function(r,n){return{top:r.top+n.top,left:r.left+n.left,bottom:r.bottom-n.bottom,right:r.right-n.right}},Mue=function(r,n){return{top:r.top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x}},Ib={top:0,right:0,bottom:0,left:0},Kk=function(r){var n=r.borderBox,a=r.margin,s=a===void 0?Ib:a,i=r.border,o=i===void 0?Ib:i,l=r.padding,c=l===void 0?Ib:l,d=Xi(Hk(n,s)),m=Xi(YP(n,o)),h=Xi(YP(m,c));return{marginBox:d,borderBox:Xi(n),paddingBox:m,contentBox:h,margin:s,border:o,padding:c}},vi=function(r){var n=r.slice(0,-2),a=r.slice(-2);if(a!=="px")return 0;var s=Number(n);return isNaN(s)&&Aue(),s},Tue=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ix=function(r,n){var a=r.borderBox,s=r.border,i=r.margin,o=r.padding,l=Mue(a,n);return Kk({borderBox:l,border:s,margin:i,padding:o})},_x=function(r,n){return n===void 0&&(n=Tue()),Ix(r,n)},B$=function(r,n){var a={top:vi(n.marginTop),right:vi(n.marginRight),bottom:vi(n.marginBottom),left:vi(n.marginLeft)},s={top:vi(n.paddingTop),right:vi(n.paddingRight),bottom:vi(n.paddingBottom),left:vi(n.paddingLeft)},i={top:vi(n.borderTopWidth),right:vi(n.borderRightWidth),bottom:vi(n.borderBottomWidth),left:vi(n.borderLeftWidth)};return Kk({borderBox:r,margin:a,padding:s,border:i})},G$=function(r){var n=r.getBoundingClientRect(),a=window.getComputedStyle(r);return B$(n,a)},QP=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function Iue(e,r){return!!(e===r||QP(e)&&QP(r))}function _ue(e,r){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!Iue(e[n],r[n]))return!1;return!0}function $a(e,r){r===void 0&&(r=_ue);var n,a=[],s,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&r(l,a)||(s=e.apply(this,l),i=!0,n=this,a=l),s}return o}var Zp=function(r){var n=[],a=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!a&&(a=requestAnimationFrame(function(){a=null,r.apply(void 0,n)}))};return s.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},s};function V$(e,r){}V$.bind(null,"warn");V$.bind(null,"error");function cc(){}function Due(e,r){return er({},e,{},r)}function Ii(e,r,n){var a=r.map(function(s){var i=Due(n,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){a.forEach(function(i){i()})}}var Rue="Invariant failed";function Dx(e){this.message=e}Dx.prototype.toString=function(){return this.message};function gt(e,r){throw new Dx(Rue)}var Oue=function(e){y$(r,e);function r(){for(var a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.callbacks=null,a.unbind=cc,a.onWindowError=function(l){var c=a.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Dx&&l.preventDefault()},a.getCallbacks=function(){if(!a.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return a.callbacks},a.setCallbacks=function(l){a.callbacks=l},a}var n=r.prototype;return n.componentDidMount=function(){this.unbind=Ii(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(s){if(s instanceof Dx){this.setState({});return}throw s},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},r}(tt.Component),Lue=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Rx=function(r){return r+1},$ue=function(r){return`
  You have lifted an item in position `+Rx(r.source.index)+`
`},z$=function(r,n){var a=r.droppableId===n.droppableId,s=Rx(r.index),i=Rx(n.index);return a?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+r.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},W$=function(r,n,a){var s=n.droppableId===a.droppableId;return s?`
      The item `+r+`
      has been combined with `+a.draggableId:`
      The item `+r+`
      in list `+n.droppableId+`
      has been combined with `+a.draggableId+`
      in list `+a.droppableId+`
    `},Fue=function(r){var n=r.destination;if(n)return z$(r.source,n);var a=r.combine;return a?W$(r.draggableId,r.source,a):"You are over an area that cannot be dropped on"},JP=function(r){return`
  The item has returned to its starting position
  of `+Rx(r.index)+`
`},Uue=function(r){if(r.reason==="CANCEL")return`
      Movement cancelled.
      `+JP(r.source)+`
    `;var n=r.destination,a=r.combine;return n?`
      You have dropped the item.
      `+z$(r.source,n)+`
    `:a?`
      You have dropped the item.
      `+W$(r.draggableId,r.source,a)+`
    `:`
    The item has been dropped while not over a drop area.
    `+JP(r.source)+`
  `},gg={dragHandleUsageInstructions:Lue,onDragStart:$ue,onDragUpdate:Fue,onDragEnd:Uue},Ua={x:0,y:0},Ya=function(r,n){return{x:r.x+n.x,y:r.y+n.y}},si=function(r,n){return{x:r.x-n.x,y:r.y-n.y}},dc=function(r,n){return r.x===n.x&&r.y===n.y},Ym=function(r){return{x:r.x!==0?-r.x:0,y:r.y!==0?-r.y:0}},$d=function(r,n,a){var s;return a===void 0&&(a=0),s={},s[r]=n,s[r==="x"?"y":"x"]=a,s},ef=function(r,n){return Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2))},XP=function(r,n){return Math.min.apply(Math,n.map(function(a){return ef(r,a)}))},H$=function(r){return function(n){return{x:r(n.x),y:r(n.y)}}},Bue=function(e,r){var n=Xi({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return n.width<=0||n.height<=0?null:n},Hf=function(r,n){return{top:r.top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x}},ZP=function(r){return[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.bottom}]},Gue={top:0,right:0,bottom:0,left:0},Vue=function(r,n){return n?Hf(r,n.scroll.diff.displacement):r},zue=function(r,n,a){if(a&&a.increasedBy){var s;return er({},r,(s={},s[n.end]=r[n.end]+a.increasedBy[n.line],s))}return r},Wue=function(r,n){return n&&n.shouldClipSubject?Bue(n.pageMarginBox,r):Xi(r)},Pm=function(e){var r=e.page,n=e.withPlaceholder,a=e.axis,s=e.frame,i=Vue(r.marginBox,s),o=zue(i,a,n),l=Wue(o,s);return{page:r,withPlaceholder:n,active:l}},qk=function(e,r){e.frame||gt();var n=e.frame,a=si(r,n.scroll.initial),s=Ym(a),i=er({},n,{scroll:{initial:n.scroll.initial,current:r,diff:{value:a,displacement:s},max:n.scroll.max}}),o=Pm({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=er({},e,{frame:i,subject:o});return l};function Ox(e){return Object.values?Object.values(e):Object.keys(e).map(function(r){return e[r]})}function Yk(e,r){if(e.findIndex)return e.findIndex(r);for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1}function Rc(e,r){if(e.find)return e.find(r);var n=Yk(e,r);if(n!==-1)return e[n]}function K$(e){return Array.prototype.slice.call(e)}var q$=$a(function(e){return e.reduce(function(r,n){return r[n.descriptor.id]=n,r},{})}),Y$=$a(function(e){return e.reduce(function(r,n){return r[n.descriptor.id]=n,r},{})}),nv=$a(function(e){return Ox(e)}),Hue=$a(function(e){return Ox(e)}),Qm=$a(function(e,r){var n=Hue(r).filter(function(a){return e===a.descriptor.droppableId}).sort(function(a,s){return a.descriptor.index-s.descriptor.index});return n});function Qk(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function av(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var sv=$a(function(e,r){return r.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),Kue=function(e){var r=e.isMovingForward,n=e.draggable,a=e.destination,s=e.insideDestination,i=e.previousImpact;if(!a.isCombineEnabled)return null;var o=Qk(i);if(!o)return null;function l(g){var v={type:"COMBINE",combine:{draggableId:g,droppableId:a.descriptor.id}};return er({},i,{at:v})}var c=i.displaced.all,d=c.length?c[0]:null;if(r)return d?l(d):null;var m=sv(n,s);if(!d){if(!m.length)return null;var h=m[m.length-1];return l(h.descriptor.id)}var p=Yk(m,function(g){return g.descriptor.id===d});p===-1&&gt();var f=p-1;if(f<0)return null;var x=m[f];return l(x.descriptor.id)},Jm=function(e,r){return e.descriptor.droppableId===r.descriptor.id},Q$={point:Ua,value:0},tf={invisible:{},visible:{},all:[]},que={displaced:tf,displacedBy:Q$,at:null},Li=function(e,r){return function(n){return e<=n&&n<=r}},J$=function(e){var r=Li(e.top,e.bottom),n=Li(e.left,e.right);return function(a){var s=r(a.top)&&r(a.bottom)&&n(a.left)&&n(a.right);if(s)return!0;var i=r(a.top)||r(a.bottom),o=n(a.left)||n(a.right),l=i&&o;if(l)return!0;var c=a.top<e.top&&a.bottom>e.bottom,d=a.left<e.left&&a.right>e.right,m=c&&d;if(m)return!0;var h=c&&o||d&&i;return h}},Yue=function(e){var r=Li(e.top,e.bottom),n=Li(e.left,e.right);return function(a){var s=r(a.top)&&r(a.bottom)&&n(a.left)&&n(a.right);return s}},Jk={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},X$={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Que=function(e){return function(r){var n=Li(r.top,r.bottom),a=Li(r.left,r.right);return function(s){return e===Jk?n(s.top)&&n(s.bottom):a(s.left)&&a(s.right)}}},Jue=function(r,n){var a=n.frame?n.frame.scroll.diff.displacement:Ua;return Hf(r,a)},Xue=function(r,n,a){return n.subject.active?a(n.subject.active)(r):!1},Zue=function(r,n,a){return a(n)(r)},Xk=function(r){var n=r.target,a=r.destination,s=r.viewport,i=r.withDroppableDisplacement,o=r.isVisibleThroughFrameFn,l=i?Jue(n,a):n;return Xue(l,a,o)&&Zue(l,s,o)},eme=function(r){return Xk(er({},r,{isVisibleThroughFrameFn:J$}))},Z$=function(r){return Xk(er({},r,{isVisibleThroughFrameFn:Yue}))},tme=function(r){return Xk(er({},r,{isVisibleThroughFrameFn:Que(r.destination.axis)}))},rme=function(r,n,a){if(typeof a=="boolean")return a;if(!n)return!0;var s=n.invisible,i=n.visible;if(s[r])return!1;var o=i[r];return o?o.shouldAnimate:!0};function nme(e,r){var n=e.page.marginBox,a={top:r.point.y,right:0,bottom:0,left:r.point.x};return Xi(Hk(n,a))}function rf(e){var r=e.afterDragging,n=e.destination,a=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,o=e.last;return r.reduce(function(c,d){var m=nme(d,a),h=d.descriptor.id;c.all.push(h);var p=eme({target:m,destination:n,viewport:s,withDroppableDisplacement:!0});if(!p)return c.invisible[d.descriptor.id]=!0,c;var f=rme(h,o,i),x={draggableId:h,shouldAnimate:f};return c.visible[h]=x,c},{all:[],visible:{},invisible:{}})}function ame(e,r){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return r.inHomeList?n:n+1}function e4(e){var r=e.insideDestination,n=e.inHomeList,a=e.displacedBy,s=e.destination,i=ame(r,{inHomeList:n});return{displaced:tf,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function Lx(e){var r=e.draggable,n=e.insideDestination,a=e.destination,s=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Jm(r,a);if(l==null)return e4({insideDestination:n,inHomeList:d,displacedBy:i,destination:a});var m=Rc(n,function(g){return g.descriptor.index===l});if(!m)return e4({insideDestination:n,inHomeList:d,displacedBy:i,destination:a});var h=sv(r,n),p=n.indexOf(m),f=h.slice(p),x=rf({afterDragging:f,destination:a,displacedBy:i,last:o,viewport:s.frame,forceShouldAnimate:c});return{displaced:x,displacedBy:i,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:l}}}}function kc(e,r){return!!r.effected[e]}var sme=function(e){var r=e.isMovingForward,n=e.destination,a=e.draggables,s=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=s.draggableId,l=a[o],c=l.descriptor.index,d=kc(o,i);return d?r?c:c-1:r?c+1:c},ime=function(e){var r=e.isMovingForward,n=e.isInHomeList,a=e.insideDestination,s=e.location;if(!a.length)return null;var i=s.index,o=r?i+1:i-1,l=a[0].descriptor.index,c=a[a.length-1].descriptor.index,d=n?c:c+1;return o<l||o>d?null:o},ome=function(e){var r=e.isMovingForward,n=e.isInHomeList,a=e.draggable,s=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,m=l.at;if(m||gt(),m.type==="REORDER"){var h=ime({isMovingForward:r,isInHomeList:n,location:m.destination,insideDestination:o});return h==null?null:Lx({draggable:a,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})}var p=sme({isMovingForward:r,destination:i,displaced:l.displaced,draggables:s,combine:m.combine,afterCritical:d});return p==null?null:Lx({draggable:a,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})},lme=function(e){var r=e.displaced,n=e.afterCritical,a=e.combineWith,s=e.displacedBy,i=!!(r.visible[a]||r.invisible[a]);return kc(a,n)?i?Ua:Ym(s.point):i?s.point:Ua},cme=function(e){var r=e.afterCritical,n=e.impact,a=e.draggables,s=av(n);s||gt();var i=s.draggableId,o=a[i].page.borderBox.center,l=lme({displaced:n.displaced,afterCritical:r,combineWith:i,displacedBy:n.displacedBy});return Ya(o,l)},e8=function(r,n){return n.margin[r.start]+n.borderBox[r.size]/2},dme=function(r,n){return n.margin[r.end]+n.borderBox[r.size]/2},Zk=function(r,n,a){return n[r.crossAxisStart]+a.margin[r.crossAxisStart]+a.borderBox[r.crossAxisSize]/2},t4=function(r){var n=r.axis,a=r.moveRelativeTo,s=r.isMoving;return $d(n.line,a.marginBox[n.end]+e8(n,s),Zk(n,a.marginBox,s))},r4=function(r){var n=r.axis,a=r.moveRelativeTo,s=r.isMoving;return $d(n.line,a.marginBox[n.start]-dme(n,s),Zk(n,a.marginBox,s))},ume=function(r){var n=r.axis,a=r.moveInto,s=r.isMoving;return $d(n.line,a.contentBox[n.start]+e8(n,s),Zk(n,a.contentBox,s))},mme=function(e){var r=e.impact,n=e.draggable,a=e.draggables,s=e.droppable,i=e.afterCritical,o=Qm(s.descriptor.id,a),l=n.page,c=s.axis;if(!o.length)return ume({axis:c,moveInto:s.page,isMoving:l});var d=r.displaced,m=r.displacedBy,h=d.all[0];if(h){var p=a[h];if(kc(h,i))return r4({axis:c,moveRelativeTo:p.page,isMoving:l});var f=Ix(p.page,m.point);return r4({axis:c,moveRelativeTo:f,isMoving:l})}var x=o[o.length-1];if(x.descriptor.id===n.descriptor.id)return l.borderBox.center;if(kc(x.descriptor.id,i)){var g=Ix(x.page,Ym(i.displacedBy.point));return t4({axis:c,moveRelativeTo:g,isMoving:l})}return t4({axis:c,moveRelativeTo:x.page,isMoving:l})},fj=function(e,r){var n=e.frame;return n?Ya(r,n.scroll.diff.displacement):r},hme=function(r){var n=r.impact,a=r.draggable,s=r.droppable,i=r.draggables,o=r.afterCritical,l=a.page.borderBox.center,c=n.at;return!s||!c?l:c.type==="REORDER"?mme({impact:n,draggable:a,draggables:i,droppable:s,afterCritical:o}):cme({impact:n,draggables:i,afterCritical:o})},iv=function(e){var r=hme(e),n=e.droppable,a=n?fj(n,r):r;return a},t8=function(e,r){var n=si(r,e.scroll.initial),a=Ym(n),s=Xi({top:r.y,bottom:r.y+e.frame.height,left:r.x,right:r.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:r,diff:{value:n,displacement:a}}};return i};function n4(e,r){return e.map(function(n){return r[n]})}function pme(e,r){for(var n=0;n<r.length;n++){var a=r[n].visible[e];if(a)return a}return null}var fme=function(e){var r=e.impact,n=e.viewport,a=e.destination,s=e.draggables,i=e.maxScrollChange,o=t8(n,Ya(n.scroll.current,i)),l=a.frame?qk(a,Ya(a.frame.scroll.current,i)):a,c=r.displaced,d=rf({afterDragging:n4(c.all,s),destination:a,displacedBy:r.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),m=rf({afterDragging:n4(c.all,s),destination:l,displacedBy:r.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),h={},p={},f=[c,d,m];c.all.forEach(function(g){var v=pme(g,f);if(v){p[g]=v;return}h[g]=!0});var x=er({},r,{displaced:{all:c.all,invisible:h,visible:p}});return x},gme=function(e,r){return Ya(e.scroll.diff.displacement,r)},eS=function(e){var r=e.pageBorderBoxCenter,n=e.draggable,a=e.viewport,s=gme(a,r),i=si(s,n.page.borderBox.center);return Ya(n.client.borderBox.center,i)},r8=function(e){var r=e.draggable,n=e.destination,a=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=si(a,r.page.borderBox.center),d=Hf(r.page.borderBox,c),m={target:d,destination:n,withDroppableDisplacement:i,viewport:s};return l?tme(m):Z$(m)},xme=function(e){var r=e.isMovingForward,n=e.draggable,a=e.destination,s=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!a.isEnabled)return null;var m=Qm(a.descriptor.id,s),h=Jm(n,a),p=Kue({isMovingForward:r,draggable:n,destination:a,insideDestination:m,previousImpact:i})||ome({isMovingForward:r,isInHomeList:h,draggable:n,draggables:s,destination:a,insideDestination:m,previousImpact:i,viewport:o,afterCritical:d});if(!p)return null;var f=iv({impact:p,draggable:n,droppable:a,draggables:s,afterCritical:d}),x=r8({draggable:n,destination:a,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(x){var g=eS({pageBorderBoxCenter:f,draggable:n,viewport:o});return{clientSelection:g,impact:p,scrollJumpRequest:null}}var v=si(f,l),y=fme({impact:p,viewport:o,destination:a,draggables:s,maxScrollChange:v});return{clientSelection:c,impact:y,scrollJumpRequest:v}},gs=function(r){var n=r.subject.active;return n||gt(),n},yme=function(e){var r=e.isMovingForward,n=e.pageBorderBoxCenter,a=e.source,s=e.droppables,i=e.viewport,o=a.subject.active;if(!o)return null;var l=a.axis,c=Li(o[l.start],o[l.end]),d=nv(s).filter(function(h){return h!==a}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return J$(i.frame)(gs(h))}).filter(function(h){var p=gs(h);return r?o[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(h){var p=gs(h),f=Li(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||f(o[l.start])||f(o[l.end])}).sort(function(h,p){var f=gs(h)[l.crossAxisStart],x=gs(p)[l.crossAxisStart];return r?f-x:x-f}).filter(function(h,p,f){return gs(h)[l.crossAxisStart]===gs(f[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var m=d.filter(function(h){var p=Li(gs(h)[l.start],gs(h)[l.end]);return p(n[l.line])});return m.length===1?m[0]:m.length>1?m.sort(function(h,p){return gs(h)[l.start]-gs(p)[l.start]})[0]:d.sort(function(h,p){var f=XP(n,ZP(gs(h))),x=XP(n,ZP(gs(p)));return f!==x?f-x:gs(h)[l.start]-gs(p)[l.start]})[0]},a4=function(r,n){var a=r.page.borderBox.center;return kc(r.descriptor.id,n)?si(a,n.displacedBy.point):a},vme=function(r,n){var a=r.page.borderBox;return kc(r.descriptor.id,n)?Hf(a,Ym(n.displacedBy.point)):a},bme=function(e){var r=e.pageBorderBoxCenter,n=e.viewport,a=e.destination,s=e.insideDestination,i=e.afterCritical,o=s.filter(function(l){return Z$({target:vme(l,i),destination:a,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=ef(r,fj(a,a4(l,i))),m=ef(r,fj(a,a4(c,i)));return d<m?-1:m<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Kf=$a(function(r,n){var a=n[r.line];return{value:a,point:$d(r.line,a)}}),wme=function(r,n,a){var s=r.axis;if(r.descriptor.mode==="virtual")return $d(s.line,n[s.line]);var i=r.subject.page.contentBox[s.size],o=Qm(r.descriptor.id,a),l=o.reduce(function(m,h){return m+h.client.marginBox[s.size]},0),c=l+n[s.line],d=c-i;return d<=0?null:$d(s.line,d)},n8=function(r,n){return er({},r,{scroll:er({},r.scroll,{max:n})})},a8=function(r,n,a){var s=r.frame;Jm(n,r)&&gt(),r.subject.withPlaceholder&&gt();var i=Kf(r.axis,n.displaceBy).point,o=wme(r,i,a),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:r.frame?r.frame.scroll.max:null};if(!s){var c=Pm({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:r.frame});return er({},r,{subject:c})}var d=o?Ya(s.scroll.max,o):s.scroll.max,m=n8(s,d),h=Pm({page:r.subject.page,withPlaceholder:l,axis:r.axis,frame:m});return er({},r,{subject:h,frame:m})},jme=function(r){var n=r.subject.withPlaceholder;n||gt();var a=r.frame;if(!a){var s=Pm({page:r.subject.page,axis:r.axis,frame:null,withPlaceholder:null});return er({},r,{subject:s})}var i=n.oldFrameMaxScroll;i||gt();var o=n8(a,i),l=Pm({page:r.subject.page,axis:r.axis,frame:o,withPlaceholder:null});return er({},r,{subject:l,frame:o})},Nme=function(e){var r=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,a=e.insideDestination,s=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(a.length)return null;var d={displaced:tf,displacedBy:Q$,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},m=iv({impact:d,draggable:s,droppable:o,draggables:i,afterCritical:c}),h=Jm(s,o)?o:a8(o,s,i),p=r8({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?d:null}var f=r[o.axis.line]<=n.page.borderBox.center[o.axis.line],x=function(){var v=n.descriptor.index;return n.descriptor.id===s.descriptor.id||f?v:v+1}(),g=Kf(o.axis,s.displaceBy);return Lx({draggable:s,insideDestination:a,destination:o,viewport:l,displacedBy:g,last:tf,index:x})},kme=function(e){var r=e.isMovingForward,n=e.previousPageBorderBoxCenter,a=e.draggable,s=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=yme({isMovingForward:r,pageBorderBoxCenter:n,source:s,droppables:o,viewport:l});if(!d)return null;var m=Qm(d.descriptor.id,i),h=bme({pageBorderBoxCenter:n,viewport:l,destination:d,insideDestination:m,afterCritical:c}),p=Nme({previousPageBorderBoxCenter:n,destination:d,draggable:a,draggables:i,moveRelativeTo:h,insideDestination:m,viewport:l,afterCritical:c});if(!p)return null;var f=iv({impact:p,draggable:a,droppable:d,draggables:i,afterCritical:c}),x=eS({pageBorderBoxCenter:f,draggable:a,viewport:l});return{clientSelection:x,impact:p,scrollJumpRequest:null}},ci=function(e){var r=e.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null},Sme=function(r,n){var a=ci(r);return a?n[a]:null},Cme=function(e){var r=e.state,n=e.type,a=Sme(r.impact,r.dimensions.droppables),s=!!a,i=r.dimensions.droppables[r.critical.droppable.id],o=a||i,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!s)return null;var d=n==="MOVE_DOWN"||n==="MOVE_RIGHT",m=r.dimensions.draggables[r.critical.draggable.id],h=r.current.page.borderBoxCenter,p=r.dimensions,f=p.draggables,x=p.droppables;return c?xme({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:m,destination:o,draggables:f,viewport:r.viewport,previousClientSelection:r.current.client.selection,previousImpact:r.impact,afterCritical:r.afterCritical}):kme({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:m,isOver:o,draggables:f,droppables:x,viewport:r.viewport,afterCritical:r.afterCritical})};function Wc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function s8(e){var r=Li(e.top,e.bottom),n=Li(e.left,e.right);return function(s){return r(s.y)&&n(s.x)}}function Eme(e,r){return e.left<r.right&&e.right>r.left&&e.top<r.bottom&&e.bottom>r.top}function Pme(e){var r=e.pageBorderBox,n=e.draggable,a=e.candidates,s=n.page.borderBox.center,i=a.map(function(o){var l=o.axis,c=$d(o.axis.line,r.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:ef(s,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function Ame(e){var r=e.pageBorderBox,n=e.draggable,a=e.droppables,s=nv(a).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!Eme(r,o))return!1;if(s8(o)(r.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=r[l.crossAxisStart],m=r[l.crossAxisEnd],h=Li(o[l.crossAxisStart],o[l.crossAxisEnd]),p=h(d),f=h(m);return!p&&!f?!0:p?d<c:m>c});return s.length?s.length===1?s[0].descriptor.id:Pme({pageBorderBox:r,draggable:n,candidates:s}):null}var i8=function(r,n){return Xi(Hf(r,n))},Mme=function(e,r){var n=e.frame;return n?i8(r,n.scroll.diff.value):r};function o8(e){var r=e.displaced,n=e.id;return!!(r.visible[n]||r.invisible[n])}function Tme(e){var r=e.draggable,n=e.closest,a=e.inHomeList;return n?a&&n.descriptor.index>r.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Ime=function(e){var r=e.pageBorderBoxWithDroppableScroll,n=e.draggable,a=e.destination,s=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=a.axis,d=Kf(a.axis,n.displaceBy),m=d.value,h=r[c.start],p=r[c.end],f=sv(n,s),x=Rc(f,function(v){var y=v.descriptor.id,b=v.page.borderBox.center[c.line],w=kc(y,l),S=o8({displaced:i,id:y});return w?S?p<=b:h<b-m:S?p<=b+m:h<b}),g=Tme({draggable:n,closest:x,inHomeList:Jm(n,a)});return Lx({draggable:n,insideDestination:s,destination:a,viewport:o,last:i,displacedBy:d,index:g})},_me=4,Dme=function(e){var r=e.draggable,n=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,s=e.destination,i=e.insideDestination,o=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Kf(s.axis,r.displaceBy),d=c.value,m=n[l.start],h=n[l.end],p=sv(r,i),f=Rc(p,function(g){var v=g.descriptor.id,y=g.page.borderBox,b=y[l.size],w=b/_me,S=kc(v,o),N=o8({displaced:a.displaced,id:v});return S?N?h>y[l.start]+w&&h<y[l.end]-w:m>y[l.start]-d+w&&m<y[l.end]-d-w:N?h>y[l.start]+d+w&&h<y[l.end]+d-w:m>y[l.start]+w&&m<y[l.end]-w});if(!f)return null;var x={displacedBy:c,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:s.descriptor.id}}};return x},l8=function(e){var r=e.pageOffset,n=e.draggable,a=e.draggables,s=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=i8(n.page.borderBox,r),d=Ame({pageBorderBox:c,draggable:n,droppables:s});if(!d)return que;var m=s[d],h=Qm(m.descriptor.id,a),p=Mme(m,c);return Dme({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:m,insideDestination:h,afterCritical:l})||Ime({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:m,insideDestination:h,last:i.displaced,viewport:o,afterCritical:l})},tS=function(e,r){var n;return er({},e,(n={},n[r.descriptor.id]=r,n))},Rme=function(r){var n=r.previousImpact,a=r.impact,s=r.droppables,i=ci(n),o=ci(a);if(!i||i===o)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=jme(l);return tS(s,c)},Ome=function(e){var r=e.draggable,n=e.draggables,a=e.droppables,s=e.previousImpact,i=e.impact,o=Rme({previousImpact:s,impact:i,droppables:a}),l=ci(i);if(!l)return o;var c=a[l];if(Jm(r,c)||c.subject.withPlaceholder)return o;var d=a8(c,r,n);return tS(o,d)},Xh=function(e){var r=e.state,n=e.clientSelection,a=e.dimensions,s=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=s||r.viewport,c=a||r.dimensions,d=n||r.current.client.selection,m=si(d,r.initial.client.selection),h={offset:m,selection:d,borderBoxCenter:Ya(r.initial.client.borderBoxCenter,m)},p={selection:Ya(h.selection,l.scroll.current),borderBoxCenter:Ya(h.borderBoxCenter,l.scroll.current),offset:Ya(h.offset,l.scroll.diff.value)},f={client:h,page:p};if(r.phase==="COLLECTING")return er({phase:"COLLECTING"},r,{dimensions:c,viewport:l,current:f});var x=c.draggables[r.critical.draggable.id],g=i||l8({pageOffset:p.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:r.impact,viewport:l,afterCritical:r.afterCritical}),v=Ome({draggable:x,impact:g,previousImpact:r.impact,draggables:c.draggables,droppables:c.droppables}),y=er({},r,{current:f,dimensions:{draggables:c.draggables,droppables:v},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return y};function Lme(e,r){return e.map(function(n){return r[n]})}var c8=function(e){var r=e.impact,n=e.viewport,a=e.draggables,s=e.destination,i=e.forceShouldAnimate,o=r.displaced,l=Lme(o.all,a),c=rf({afterDragging:l,destination:s,displacedBy:r.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return er({},r,{displaced:c})},d8=function(e){var r=e.impact,n=e.draggable,a=e.droppable,s=e.draggables,i=e.viewport,o=e.afterCritical,l=iv({impact:r,draggable:n,draggables:s,droppable:a,afterCritical:o});return eS({pageBorderBoxCenter:l,draggable:n,viewport:i})},u8=function(e){var r=e.state,n=e.dimensions,a=e.viewport;r.movementMode!=="SNAP"&&gt();var s=r.impact,i=a||r.viewport,o=n||r.dimensions,l=o.draggables,c=o.droppables,d=l[r.critical.draggable.id],m=ci(s);m||gt();var h=c[m],p=c8({impact:s,viewport:i,destination:h,draggables:l}),f=d8({impact:p,draggable:d,droppable:h,draggables:l,viewport:i,afterCritical:r.afterCritical});return Xh({impact:p,clientSelection:f,state:r,dimensions:o,viewport:i})},$me=function(e){return{index:e.index,droppableId:e.droppableId}},m8=function(e){var r=e.draggable,n=e.home,a=e.draggables,s=e.viewport,i=Kf(n.axis,r.displaceBy),o=Qm(n.descriptor.id,a),l=o.indexOf(r);l===-1&&gt();var c=o.slice(l+1),d=c.reduce(function(f,x){return f[x.descriptor.id]=!0,f},{}),m={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:d},h=rf({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),p={displaced:h,displacedBy:i,at:{type:"REORDER",destination:$me(r.descriptor)}};return{impact:p,afterCritical:m}},Fme=function(e,r){return{draggables:e.draggables,droppables:tS(e.droppables,r)}},Ume=function(e){var r=e.draggable,n=e.offset,a=e.initialWindowScroll,s=Ix(r.client,n),i=_x(s,a),o=er({},r,{placeholder:er({},r.placeholder,{client:s}),client:s,page:i});return o},Bme=function(e){var r=e.frame;return r||gt(),r},Gme=function(e){var r=e.additions,n=e.updatedDroppables,a=e.viewport,s=a.scroll.diff.value;return r.map(function(i){var o=i.descriptor.droppableId,l=n[o],c=Bme(l),d=c.scroll.diff.value,m=Ya(s,d),h=Ume({draggable:i,offset:m,initialWindowScroll:a.scroll.initial});return h})},Vme=function(e){var r=e.state,n=e.published,a=n.modified.map(function(w){var S=r.dimensions.droppables[w.droppableId],N=qk(S,w.scroll);return N}),s=er({},r.dimensions.droppables,{},q$(a)),i=Y$(Gme({additions:n.additions,updatedDroppables:s,viewport:r.viewport})),o=er({},r.dimensions.draggables,{},i);n.removals.forEach(function(w){delete o[w]});var l={droppables:s,draggables:o},c=ci(r.impact),d=c?l.droppables[c]:null,m=l.draggables[r.critical.draggable.id],h=l.droppables[r.critical.droppable.id],p=m8({draggable:m,home:h,draggables:o,viewport:r.viewport}),f=p.impact,x=p.afterCritical,g=d&&d.isCombineEnabled?r.impact:f,v=l8({pageOffset:r.current.page.offset,draggable:l.draggables[r.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:r.viewport,afterCritical:x}),y=er({phase:"DRAGGING"},r,{phase:"DRAGGING",impact:v,onLiftImpact:f,dimensions:l,afterCritical:x,forceShouldAnimate:!1});if(r.phase==="COLLECTING")return y;var b=er({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:r.reason,isWaiting:!1});return b},gj=function(r){return r.movementMode==="SNAP"},_b=function(r,n,a){var s=Fme(r.dimensions,n);return!gj(r)||a?Xh({state:r,dimensions:s}):u8({state:r,dimensions:s})};function Db(e){return e.isDragging&&e.movementMode==="SNAP"?er({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var s4={phase:"IDLE",completed:null,shouldFlush:!1},zme=function(e,r){if(e===void 0&&(e=s4),r.type==="FLUSH")return er({},s4,{shouldFlush:!0});if(r.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&gt();var n=r.payload,a=n.critical,s=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[a.draggable.id],d=o.droppables[a.droppable.id],m={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ua},h={client:m,page:{selection:Ya(m.selection,i.scroll.initial),borderBoxCenter:Ya(m.selection,i.scroll.initial),offset:Ya(m.selection,i.scroll.diff.value)}},p=nv(o.droppables).every(function(De){return!De.isFixedOnPage}),f=m8({draggable:c,home:d,draggables:o.draggables,viewport:i}),x=f.impact,g=f.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:a,movementMode:l,dimensions:o,initial:h,current:h,isWindowScrollAllowed:p,impact:x,afterCritical:g,onLiftImpact:x,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(r.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&gt();var y=er({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(r.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||gt(),Vme({state:e,published:r.payload});if(r.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Wc(e)||gt();var b=r.payload.client;return dc(b,e.current.client.selection)?e:Xh({state:e,clientSelection:b,impact:gj(e)?e.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Db(e);Wc(e)||gt();var w=r.payload,S=w.id,N=w.newScroll,P=e.dimensions.droppables[S];if(!P)return e;var C=qk(P,N);return _b(e,C,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Wc(e)||gt();var I=r.payload,T=I.id,_=I.isEnabled,k=e.dimensions.droppables[T];k||gt(),k.isEnabled===_&&gt();var A=er({},k,{isEnabled:_});return _b(e,A,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Wc(e)||gt();var F=r.payload,V=F.id,J=F.isCombineEnabled,M=e.dimensions.droppables[V];M||gt(),M.isCombineEnabled===J&&gt();var R=er({},M,{isCombineEnabled:J});return _b(e,R,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Wc(e)||gt(),e.isWindowScrollAllowed||gt();var B=r.payload.newScroll;if(dc(e.viewport.scroll.current,B))return Db(e);var O=t8(e.viewport,B);return gj(e)?u8({state:e,viewport:O}):Xh({state:e,viewport:O})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Wc(e))return e;var X=r.payload.maxScroll;if(dc(X,e.viewport.scroll.max))return e;var ae=er({},e.viewport,{scroll:er({},e.viewport.scroll,{max:X})});return er({phase:"DRAGGING"},e,{viewport:ae})}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&gt();var $=Cme({state:e,type:r.type});return $?Xh({state:e,impact:$.impact,clientSelection:$.clientSelection,scrollJumpRequest:$.scrollJumpRequest}):e}if(r.type==="DROP_PENDING"){var re=r.payload.reason;e.phase!=="COLLECTING"&&gt();var le=er({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:re});return le}if(r.type==="DROP_ANIMATE"){var ce=r.payload,ue=ce.completed,ee=ce.dropDuration,Z=ce.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||gt();var Se={phase:"DROP_ANIMATING",completed:ue,dropDuration:ee,newHomeClientOffset:Z,dimensions:e.dimensions};return Se}if(r.type==="DROP_COMPLETE"){var Ue=r.payload.completed;return{phase:"IDLE",completed:Ue,shouldFlush:!1}}return e},Wme=function(r){return{type:"BEFORE_INITIAL_CAPTURE",payload:r}},Hme=function(r){return{type:"LIFT",payload:r}},Kme=function(r){return{type:"INITIAL_PUBLISH",payload:r}},qme=function(r){return{type:"PUBLISH_WHILE_DRAGGING",payload:r}},Yme=function(){return{type:"COLLECTION_STARTING",payload:null}},Qme=function(r){return{type:"UPDATE_DROPPABLE_SCROLL",payload:r}},Jme=function(r){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:r}},Xme=function(r){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:r}},h8=function(r){return{type:"MOVE",payload:r}},Zme=function(r){return{type:"MOVE_BY_WINDOW_SCROLL",payload:r}},ehe=function(r){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:r}},the=function(){return{type:"MOVE_UP",payload:null}},rhe=function(){return{type:"MOVE_DOWN",payload:null}},nhe=function(){return{type:"MOVE_RIGHT",payload:null}},ahe=function(){return{type:"MOVE_LEFT",payload:null}},rS=function(){return{type:"FLUSH",payload:null}},she=function(r){return{type:"DROP_ANIMATE",payload:r}},nS=function(r){return{type:"DROP_COMPLETE",payload:r}},p8=function(r){return{type:"DROP",payload:r}},ihe=function(r){return{type:"DROP_PENDING",payload:r}},f8=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},ohe=function(e){return function(r){var n=r.getState,a=r.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,m=n();m.phase==="DROP_ANIMATING"&&a(nS({completed:m.completed})),n().phase!=="IDLE"&&gt(),a(rS()),a(Wme({draggableId:l,movementMode:d}));var h={shouldPublishImmediately:d==="SNAP"},p={draggableId:l,scrollOptions:h},f=e.startPublishing(p),x=f.critical,g=f.dimensions,v=f.viewport;a(Kme({critical:x,dimensions:g,clientSelection:c,movementMode:d,viewport:v}))}}}},lhe=function(e){return function(){return function(r){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),r(n)}}}},aS={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},nf={opacity:{drop:0,combining:.7},scale:{drop:.75}},sS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fc=sS.outOfTheWay+"s "+aS.outOfTheWay,Zh={fluid:"opacity "+Fc,snap:"transform "+Fc+", opacity "+Fc,drop:function(r){var n=r+"s "+aS.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Fc,placeholder:"height "+Fc+", width "+Fc+", margin "+Fc},i4=function(r){return dc(r,Ua)?null:"translate("+r.x+"px, "+r.y+"px)"},xj={moveTo:i4,drop:function(r,n){var a=i4(r);return a?n?a+" scale("+nf.scale.drop+")":a:null}},yj=sS.minDropTime,g8=sS.maxDropTime,che=g8-yj,o4=1500,dhe=.6,uhe=function(e){var r=e.current,n=e.destination,a=e.reason,s=ef(r,n);if(s<=0)return yj;if(s>=o4)return g8;var i=s/o4,o=yj+che*i,l=a==="CANCEL"?o*dhe:o;return Number(l.toFixed(2))},mhe=function(e){var r=e.impact,n=e.draggable,a=e.dimensions,s=e.viewport,i=e.afterCritical,o=a.draggables,l=a.droppables,c=ci(r),d=c?l[c]:null,m=l[n.descriptor.droppableId],h=d8({impact:r,draggable:n,draggables:o,afterCritical:i,droppable:d||m,viewport:s}),p=si(h,n.client.borderBox.center);return p},hhe=function(e){var r=e.draggables,n=e.reason,a=e.lastImpact,s=e.home,i=e.viewport,o=e.onLiftImpact;if(!a.at||n!=="DROP"){var l=c8({draggables:r,impact:o,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(a.at.type==="REORDER")return{impact:a,didDropInsideDroppable:!0};var c=er({},a,{displaced:tf});return{impact:c,didDropInsideDroppable:!0}},phe=function(e){var r=e.getState,n=e.dispatch;return function(a){return function(s){if(s.type!=="DROP"){a(s);return}var i=r(),o=s.payload.reason;if(i.phase==="COLLECTING"){n(ihe({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&gt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||gt();var c=i.critical,d=i.dimensions,m=d.draggables[i.critical.draggable.id],h=hhe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h.impact,f=h.didDropInsideDroppable,x=f?Qk(p):null,g=f?av(p):null,v={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:m.descriptor.id,type:m.descriptor.type,source:v,reason:o,mode:i.movementMode,destination:x,combine:g},b=mhe({impact:p,draggable:m,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),w={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:p},S=!dc(i.current.client.offset,b)||!!y.combine;if(!S){n(nS({completed:w}));return}var N=uhe({current:i.current.client.offset,destination:b,reason:o}),P={newHomeClientOffset:b,dropDuration:N,completed:w};n(she(P))}}}},x8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function fhe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function ghe(e){var r=e.onWindowScroll;function n(){r(x8())}var a=Zp(n),s=fhe(a),i=cc;function o(){return i!==cc}function l(){o()&&gt(),i=Ii(window,[s])}function c(){o()||gt(),a.cancel(),i(),i=cc}return{start:l,stop:c,isActive:o}}var xhe=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},yhe=function(e){var r=ghe({onWindowScroll:function(a){e.dispatch(Zme({newScroll:a}))}});return function(n){return function(a){!r.isActive()&&a.type==="INITIAL_PUBLISH"&&r.start(),r.isActive()&&xhe(a)&&r.stop(),n(a)}}},vhe=function(e){var r=!1,n=!1,a=setTimeout(function(){n=!0}),s=function(o){r||n||(r=!0,e(o),clearTimeout(a))};return s.wasCalled=function(){return r},s},bhe=function(){var e=[],r=function(i){var o=Yk(e,function(d){return d.timerId===i});o===-1&&gt();var l=e.splice(o,1),c=l[0];c.callback()},n=function(i){var o=setTimeout(function(){return r(o)}),l={timerId:o,callback:i};e.push(l)},a=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:a}},whe=function(r,n){return r==null&&n==null?!0:r==null||n==null?!1:r.droppableId===n.droppableId&&r.index===n.index},jhe=function(r,n){return r==null&&n==null?!0:r==null||n==null?!1:r.draggableId===n.draggableId&&r.droppableId===n.droppableId},Nhe=function(r,n){if(r===n)return!0;var a=r.draggable.id===n.draggable.id&&r.draggable.droppableId===n.draggable.droppableId&&r.draggable.type===n.draggable.type&&r.draggable.index===n.draggable.index,s=r.droppable.id===n.droppable.id&&r.droppable.type===n.droppable.type;return a&&s},yh=function(r,n){n()},R0=function(r,n){return{draggableId:r.draggable.id,type:r.droppable.type,source:{droppableId:r.droppable.id,index:r.draggable.index},mode:n}},Rb=function(r,n,a,s){if(!r){a(s(n));return}var i=vhe(a),o={announce:i};r(n,o),i.wasCalled()||a(s(n))},khe=function(e,r){var n=bhe(),a=null,s=function(p,f){a&&gt(),yh("onBeforeCapture",function(){var x=e().onBeforeCapture;if(x){var g={draggableId:p,mode:f};x(g)}})},i=function(p,f){a&&gt(),yh("onBeforeDragStart",function(){var x=e().onBeforeDragStart;x&&x(R0(p,f))})},o=function(p,f){a&&gt();var x=R0(p,f);a={mode:f,lastCritical:p,lastLocation:x.source,lastCombine:null},n.add(function(){yh("onDragStart",function(){return Rb(e().onDragStart,x,r,gg.onDragStart)})})},l=function(p,f){var x=Qk(f),g=av(f);a||gt();var v=!Nhe(p,a.lastCritical);v&&(a.lastCritical=p);var y=!whe(a.lastLocation,x);y&&(a.lastLocation=x);var b=!jhe(a.lastCombine,g);if(b&&(a.lastCombine=g),!(!v&&!y&&!b)){var w=er({},R0(p,a.mode),{combine:g,destination:x});n.add(function(){yh("onDragUpdate",function(){return Rb(e().onDragUpdate,w,r,gg.onDragUpdate)})})}},c=function(){a||gt(),n.flush()},d=function(p){a||gt(),a=null,yh("onDragEnd",function(){return Rb(e().onDragEnd,p,r,gg.onDragEnd)})},m=function(){if(a){var p=er({},R0(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});d(p)}};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:m}},She=function(e,r){var n=khe(e,r);return function(a){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),s(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),i.type==="FLUSH"){n.abort();return}var c=a.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},Che=function(e){return function(r){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){r(n);return}var a=e.getState();a.phase!=="DROP_ANIMATING"&&gt(),e.dispatch(nS({completed:a.completed}))}}},Ehe=function(e){var r=null,n=null;function a(){n&&(cancelAnimationFrame(n),n=null),r&&(r(),r=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&a(),s(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(f8())}};n=requestAnimationFrame(function(){n=null,r=Ii(window,[o])})}}}},Phe=function(e){return function(){return function(r){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),r(n)}}}},Ahe=function(e){var r=!1;return function(){return function(n){return function(a){if(a.type==="INITIAL_PUBLISH"){r=!0,e.tryRecordFocus(a.payload.critical.draggable.id),n(a),e.tryRestoreFocusRecorded();return}if(n(a),!!r){if(a.type==="FLUSH"){r=!1,e.tryRestoreFocusRecorded();return}if(a.type==="DROP_COMPLETE"){r=!1;var s=a.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Mhe=function(r){return r.type==="DROP_COMPLETE"||r.type==="DROP_ANIMATE"||r.type==="FLUSH"},The=function(e){return function(r){return function(n){return function(a){if(Mhe(a)){e.stop(),n(a);return}if(a.type==="INITIAL_PUBLISH"){n(a);var s=r.getState();s.phase!=="DRAGGING"&&gt(),e.start(s);return}n(a),e.scroll(r.getState())}}}},Ihe=function(e){return function(r){return function(n){if(r(n),n.type==="PUBLISH_WHILE_DRAGGING"){var a=e.getState();a.phase==="DROP_PENDING"&&(a.isWaiting||e.dispatch(p8({reason:a.reason})))}}}},_he=b$,Dhe=function(e){var r=e.dimensionMarshal,n=e.focusMarshal,a=e.styleMarshal,s=e.getResponders,i=e.announce,o=e.autoScroller;return v$(zme,_he(fde(lhe(a),Phe(r),ohe(r),phe,Che,Ehe,Ihe,The(o),yhe,Ahe(n),She(s,i))))},Ob=function(){return{additions:{},removals:{},modified:{}}};function Rhe(e){var r=e.registry,n=e.callbacks,a=Ob(),s=null,i=function(){s||(n.collectionStarting(),s=requestAnimationFrame(function(){s=null;var m=a,h=m.additions,p=m.removals,f=m.modified,x=Object.keys(h).map(function(y){return r.draggable.getById(y).getDimension(Ua)}).sort(function(y,b){return y.descriptor.index-b.descriptor.index}),g=Object.keys(f).map(function(y){var b=r.droppable.getById(y),w=b.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:w}}),v={additions:x,removals:Object.keys(p),modified:g};a=Ob(),n.publish(v)}))},o=function(m){var h=m.descriptor.id;a.additions[h]=m,a.modified[m.descriptor.droppableId]=!0,a.removals[h]&&delete a.removals[h],i()},l=function(m){var h=m.descriptor;a.removals[h.id]=!0,a.modified[h.droppableId]=!0,a.additions[h.id]&&delete a.additions[h.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,a=Ob())};return{add:o,remove:l,stop:c}}var y8=function(e){var r=e.scrollHeight,n=e.scrollWidth,a=e.height,s=e.width,i=si({x:n,y:r},{x:s,y:a}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},v8=function(){var e=document.documentElement;return e||gt(),e},b8=function(){var e=v8(),r=y8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return r},Ohe=function(){var e=x8(),r=b8(),n=e.y,a=e.x,s=v8(),i=s.clientWidth,o=s.clientHeight,l=a+i,c=n+o,d=Xi({top:n,left:a,right:l,bottom:c}),m={frame:d,scroll:{initial:e,current:e,max:r,diff:{value:Ua,displacement:Ua}}};return m},Lhe=function(e){var r=e.critical,n=e.scrollOptions,a=e.registry,s=Ohe(),i=s.scroll.current,o=r.droppable,l=a.droppable.getAllByType(o.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(i,n)}),c=a.draggable.getAllByType(r.draggable.type).map(function(h){return h.getDimension(i)}),d={draggables:Y$(c),droppables:q$(l)},m={dimensions:d,critical:r,viewport:s};return m};function l4(e,r,n){if(n.descriptor.id===r.id||n.descriptor.type!==r.type)return!1;var a=e.droppable.getById(n.descriptor.droppableId);return a.descriptor.mode==="virtual"}var $he=function(e,r){var n=null,a=Rhe({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:e}),s=function(f,x){e.droppable.exists(f)||gt(),n&&r.updateDroppableIsEnabled({id:f,isEnabled:x})},i=function(f,x){n&&(e.droppable.exists(f)||gt(),r.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:x}))},o=function(f,x){n&&(e.droppable.exists(f)||gt(),r.updateDroppableScroll({id:f,newScroll:x}))},l=function(f,x){n&&e.droppable.getById(f).callbacks.scroll(x)},c=function(){if(n){a.stop();var f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(x){return x.callbacks.dragStopped()}),n.unsubscribe(),n=null}},d=function(f){n||gt();var x=n.critical.draggable;f.type==="ADDITION"&&l4(e,x,f.value)&&a.add(f.value),f.type==="REMOVAL"&&l4(e,x,f.value)&&a.remove(f.value)},m=function(f){n&&gt();var x=e.draggable.getById(f.draggableId),g=e.droppable.getById(x.descriptor.droppableId),v={draggable:x.descriptor,droppable:g.descriptor},y=e.subscribe(d);return n={critical:v,unsubscribe:y},Lhe({critical:v,registry:e,scrollOptions:f.scrollOptions})},h={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m,stopPublishing:c};return h},w8=function(e,r){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===r?!1:e.completed.result.reason==="DROP"},Fhe=function(e){window.scrollBy(e.x,e.y)},Uhe=$a(function(e){return nv(e).filter(function(r){return!(!r.isEnabled||!r.frame)})}),Bhe=function(r,n){var a=Rc(Uhe(n),function(s){return s.frame||gt(),s8(s.frame.pageMarginBox)(r)});return a},Ghe=function(e){var r=e.center,n=e.destination,a=e.droppables;if(n){var s=a[n];return s.frame?s:null}var i=Bhe(r,a);return i},uc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(r){return Math.pow(r,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Vhe=function(e,r){var n=e[r.size]*uc.startFromPercentage,a=e[r.size]*uc.maxScrollAtPercentage,s={startScrollingFrom:n,maxScrollValueAt:a};return s},j8=function(e){var r=e.startOfRange,n=e.endOfRange,a=e.current,s=n-r;if(s===0)return 0;var i=a-r,o=i/s;return o},iS=1,zhe=function(e,r){if(e>r.startScrollingFrom)return 0;if(e<=r.maxScrollValueAt)return uc.maxPixelScroll;if(e===r.startScrollingFrom)return iS;var n=j8({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:e}),a=1-n,s=uc.maxPixelScroll*uc.ease(a);return Math.ceil(s)},c4=uc.durationDampening.accelerateAt,d4=uc.durationDampening.stopDampeningAt,Whe=function(e,r){var n=r,a=d4,s=Date.now(),i=s-n;if(i>=d4)return e;if(i<c4)return iS;var o=j8({startOfRange:c4,endOfRange:a,current:i}),l=e*uc.ease(o);return Math.ceil(l)},u4=function(e){var r=e.distanceToEdge,n=e.thresholds,a=e.dragStartTime,s=e.shouldUseTimeDampening,i=zhe(r,n);return i===0?0:s?Math.max(Whe(i,a),iS):i},m4=function(e){var r=e.container,n=e.distanceToEdges,a=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,o=Vhe(r,s),l=n[s.end]<n[s.start];return l?u4({distanceToEdge:n[s.end],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i}):-1*u4({distanceToEdge:n[s.start],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i})},Hhe=function(e){var r=e.container,n=e.subject,a=e.proposedScroll,s=n.height>r.height,i=n.width>r.width;return!i&&!s?a:i&&s?null:{x:i?0:a.x,y:s?0:a.y}},Khe=H$(function(e){return e===0?0:e}),N8=function(e){var r=e.dragStartTime,n=e.container,a=e.subject,s=e.center,i=e.shouldUseTimeDampening,o={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},l=m4({container:n,distanceToEdges:o,dragStartTime:r,axis:Jk,shouldUseTimeDampening:i}),c=m4({container:n,distanceToEdges:o,dragStartTime:r,axis:X$,shouldUseTimeDampening:i}),d=Khe({x:c,y:l});if(dc(d,Ua))return null;var m=Hhe({container:n,subject:a,proposedScroll:d});return m?dc(m,Ua)?null:m:null},qhe=H$(function(e){return e===0?0:e>0?1:-1}),oS=function(){var e=function(n,a){return n<0?n:n>a?n-a:0};return function(r){var n=r.current,a=r.max,s=r.change,i=Ya(n,s),o={x:e(i.x,a.x),y:e(i.y,a.y)};return dc(o,Ua)?null:o}}(),k8=function(r){var n=r.max,a=r.current,s=r.change,i={x:Math.max(a.x,n.x),y:Math.max(a.y,n.y)},o=qhe(s),l=oS({max:i,current:a,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},lS=function(r,n){return k8({current:r.scroll.current,max:r.scroll.max,change:n})},Yhe=function(r,n){if(!lS(r,n))return null;var a=r.scroll.max,s=r.scroll.current;return oS({current:s,max:a,change:n})},cS=function(r,n){var a=r.frame;return a?k8({current:a.scroll.current,max:a.scroll.max,change:n}):!1},Qhe=function(r,n){var a=r.frame;return!a||!cS(r,n)?null:oS({current:a.scroll.current,max:a.scroll.max,change:n})},Jhe=function(e){var r=e.viewport,n=e.subject,a=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=N8({dragStartTime:s,container:r.frame,subject:n,center:a,shouldUseTimeDampening:i});return o&&lS(r,o)?o:null},Xhe=function(e){var r=e.droppable,n=e.subject,a=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=r.frame;if(!o)return null;var l=N8({dragStartTime:s,container:o.pageMarginBox,subject:n,center:a,shouldUseTimeDampening:i});return l&&cS(r,l)?l:null},h4=function(e){var r=e.state,n=e.dragStartTime,a=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,o=r.current.page.borderBoxCenter,l=r.dimensions.draggables[r.critical.draggable.id],c=l.page.marginBox;if(r.isWindowScrollAllowed){var d=r.viewport,m=Jhe({dragStartTime:n,viewport:d,subject:c,center:o,shouldUseTimeDampening:a});if(m){s(m);return}}var h=Ghe({center:o,destination:ci(r.impact),droppables:r.dimensions.droppables});if(h){var p=Xhe({dragStartTime:n,droppable:h,subject:c,center:o,shouldUseTimeDampening:a});p&&i(h.descriptor.id,p)}},Zhe=function(e){var r=e.scrollWindow,n=e.scrollDroppable,a=Zp(r),s=Zp(n),i=null,o=function(m){i||gt();var h=i,p=h.shouldUseTimeDampening,f=h.dragStartTime;h4({state:m,scrollWindow:a,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:p})},l=function(m){i&&gt();var h=Date.now(),p=!1,f=function(){p=!0};h4({state:m,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:h,shouldUseTimeDampening:p},p&&o(m)},c=function(){i&&(a.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:o}},epe=function(e){var r=e.move,n=e.scrollDroppable,a=e.scrollWindow,s=function(d,m){var h=Ya(d.current.client.selection,m);r({client:h})},i=function(d,m){if(!cS(d,m))return m;var h=Qhe(d,m);if(!h)return n(d.descriptor.id,m),null;var p=si(m,h);n(d.descriptor.id,p);var f=si(m,p);return f},o=function(d,m,h){if(!d||!lS(m,h))return h;var p=Yhe(m,h);if(!p)return a(h),null;var f=si(h,p);a(f);var x=si(h,f);return x},l=function(d){var m=d.scrollJumpRequest;if(m){var h=ci(d.impact);h||gt();var p=i(d.dimensions.droppables[h],m);if(p){var f=d.viewport,x=o(d.isWindowScrollAllowed,f,p);x&&s(d,x)}}};return l},tpe=function(e){var r=e.scrollDroppable,n=e.scrollWindow,a=e.move,s=Zhe({scrollWindow:n,scrollDroppable:r}),i=epe({move:a,scrollWindow:n,scrollDroppable:r}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){s.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:s.start,stop:s.stop};return l},Am="data-rbd",Mm=function(){var e=Am+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),vj=function(){var e=Am+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),rpe=function(){var e=Am+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),p4={contextId:Am+"-scroll-container-context-id"},npe=function(r){return function(n){return"["+n+'="'+r+'"]'}},vh=function(r,n){return r.map(function(a){var s=a.styles[n];return s?a.selector+" { "+s+" }":""}).join(" ")},ape="pointer-events: none;",spe=function(e){var r=npe(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Mm.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:ape,dropAnimating:l}}}(),a=function(){var l=`
      transition: `+Zh.outOfTheWay+`;
    `;return{selector:r(vj.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:r(rpe.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[a,n,s,i];return{always:vh(o,"always"),resting:vh(o,"resting"),dragging:vh(o,"dragging"),dropAnimating:vh(o,"dropAnimating"),userCancel:vh(o,"userCancel")}},di=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?u.useLayoutEffect:u.useEffect,Lb=function(){var r=document.querySelector("head");return r||gt(),r},f4=function(r){var n=document.createElement("style");return r&&n.setAttribute("nonce",r),n.type="text/css",n};function ipe(e,r){var n=Kr(function(){return spe(e)},[e]),a=u.useRef(null),s=u.useRef(null),i=Kt($a(function(h){var p=s.current;p||gt(),p.textContent=h}),[]),o=Kt(function(h){var p=a.current;p||gt(),p.textContent=h},[]);di(function(){!a.current&&!s.current||gt();var h=f4(r),p=f4(r);return a.current=h,s.current=p,h.setAttribute(Am+"-always",e),p.setAttribute(Am+"-dynamic",e),Lb().appendChild(h),Lb().appendChild(p),o(n.always),i(n.resting),function(){var f=function(g){var v=g.current;v||gt(),Lb().removeChild(v),g.current=null};f(a),f(s)}},[r,o,i,n.always,n.resting,e]);var l=Kt(function(){return i(n.dragging)},[i,n.dragging]),c=Kt(function(h){if(h==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=Kt(function(){s.current&&i(n.resting)},[i,n.resting]),m=Kr(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return m}var S8=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ov(e){return e instanceof S8(e).HTMLElement}function ope(e,r){var n="["+Mm.contextId+'="'+e+'"]',a=K$(document.querySelectorAll(n));if(!a.length)return null;var s=Rc(a,function(i){return i.getAttribute(Mm.draggableId)===r});return!s||!ov(s)?null:s}function lpe(e){var r=u.useRef({}),n=u.useRef(null),a=u.useRef(null),s=u.useRef(!1),i=Kt(function(p,f){var x={id:p,focus:f};return r.current[p]=x,function(){var v=r.current,y=v[p];y!==x&&delete v[p]}},[]),o=Kt(function(p){var f=ope(e,p);f&&f!==document.activeElement&&f.focus()},[e]),l=Kt(function(p,f){n.current===p&&(n.current=f)},[]),c=Kt(function(){a.current||s.current&&(a.current=requestAnimationFrame(function(){a.current=null;var p=n.current;p&&o(p)}))},[o]),d=Kt(function(p){n.current=null;var f=document.activeElement;f&&f.getAttribute(Mm.draggableId)===p&&(n.current=p)},[]);di(function(){return s.current=!0,function(){s.current=!1;var p=a.current;p&&cancelAnimationFrame(p)}},[]);var m=Kr(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return m}function cpe(){var e={draggables:{},droppables:{}},r=[];function n(h){return r.push(h),function(){var f=r.indexOf(h);f!==-1&&r.splice(f,1)}}function a(h){r.length&&r.forEach(function(p){return p(h)})}function s(h){return e.draggables[h]||null}function i(h){var p=s(h);return p||gt(),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,a({type:"ADDITION",value:p})},update:function(p,f){var x=e.draggables[f.descriptor.id];x&&x.uniqueId===p.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var f=p.descriptor.id,x=s(f);x&&p.uniqueId===x.uniqueId&&(delete e.draggables[f],a({type:"REMOVAL",value:p}))},getById:i,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return Ox(e.draggables).filter(function(f){return f.descriptor.type===p})}};function l(h){return e.droppables[h]||null}function c(h){var p=l(h);return p||gt(),p}var d={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var f=l(p.descriptor.id);f&&p.uniqueId===f.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return Ox(e.droppables).filter(function(f){return f.descriptor.type===p})}};function m(){e.draggables={},e.droppables={},r.length=0}return{draggable:o,droppable:d,subscribe:n,clean:m}}function dpe(){var e=Kr(cpe,[]);return u.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var dS=tt.createContext(null),$x=function(){var e=document.body;return e||gt(),e},upe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},mpe=function(r){return"rbd-announcement-"+r};function hpe(e){var r=Kr(function(){return mpe(e)},[e]),n=u.useRef(null);u.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=r,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),er(i.style,upe),$x().appendChild(i),function(){setTimeout(function(){var c=$x();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[r]);var a=Kt(function(s){var i=n.current;if(i){i.textContent=s;return}},[]);return a}var ppe=0,fpe={separator:"::"};function uS(e,r){return r===void 0&&(r=fpe),Kr(function(){return""+e+r.separator+ppe++},[r.separator,e])}function gpe(e){var r=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+r+"-"+n}function xpe(e){var r=e.contextId,n=e.text,a=uS("hidden-text",{separator:"-"}),s=Kr(function(){return gpe({contextId:r,uniqueId:a})},[a,r]);return u.useEffect(function(){var o=document.createElement("div");return o.id=s,o.textContent=n,o.style.display="none",$x().appendChild(o),function(){var c=$x();c.contains(o)&&c.removeChild(o)}},[s,n]),s}var lv=tt.createContext(null);function C8(e){var r=u.useRef(e);return u.useEffect(function(){r.current=e}),r}function ype(){var e=null;function r(){return!!e}function n(o){return o===e}function a(o){e&&gt();var l={abandon:o};return e=l,l}function s(){e||gt(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:r,isActive:n,claim:a,release:s,tryAbandon:i}}var vpe=9,bpe=13,mS=27,E8=32,wpe=33,jpe=34,Npe=35,kpe=36,Spe=37,Cpe=38,Epe=39,Ppe=40,O0,Ape=(O0={},O0[bpe]=!0,O0[vpe]=!0,O0),P8=function(e){Ape[e.keyCode]&&e.preventDefault()},cv=function(){var e="visibilitychange";if(typeof document>"u")return e;var r=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Rc(r,function(a){return"on"+a in document});return n||e}(),A8=0,g4=5;function Mpe(e,r){return Math.abs(r.x-e.x)>=g4||Math.abs(r.y-e.y)>=g4}var x4={type:"IDLE"};function Tpe(e){var r=e.cancel,n=e.completed,a=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===A8){var m={x:c,y:d},h=a();if(h.type==="DRAGGING"){o.preventDefault(),h.actions.move(m);return}h.type!=="PENDING"&&gt();var p=h.point;if(Mpe(p,m)){o.preventDefault();var f=h.actions.fluidLift(m);s({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var l=a();if(l.type!=="DRAGGING"){r();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){a().type==="DRAGGING"&&o.preventDefault(),r()}},{eventName:"keydown",fn:function(o){var l=a();if(l.type==="PENDING"){r();return}if(o.keyCode===mS){o.preventDefault(),r();return}P8(o)}},{eventName:"resize",fn:r},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){a().type==="PENDING"&&r()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=a();if(l.type==="IDLE"&&gt(),l.actions.shouldRespectForcePress()){r();return}o.preventDefault()}},{eventName:cv,fn:r}]}function Ipe(e){var r=u.useRef(x4),n=u.useRef(cc),a=Kr(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===A8&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var p=e.findClosestDraggableId(h);if(p){var f=e.tryGetLock(p,o,{sourceEvent:h});if(f){h.preventDefault();var x={x:h.clientX,y:h.clientY};n.current(),d(f,x)}}}}}},[e]),s=Kr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var p=e.findClosestDraggableId(h);if(p){var f=e.findOptionsForDraggable(p);f&&(f.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}}}},[e]),i=Kt(function(){var h={passive:!1,capture:!0};n.current=Ii(window,[s,a],h)},[s,a]),o=Kt(function(){var m=r.current;m.type!=="IDLE"&&(r.current=x4,n.current(),i())},[i]),l=Kt(function(){var m=r.current;o(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[o]),c=Kt(function(){var h={capture:!0,passive:!1},p=Tpe({cancel:l,completed:o,getPhase:function(){return r.current},setPhase:function(x){r.current=x}});n.current=Ii(window,p,h)},[l,o]),d=Kt(function(h,p){r.current.type!=="IDLE"&&gt(),r.current={type:"PENDING",point:p,actions:h},c()},[c]);di(function(){return i(),function(){n.current()}},[i])}var nu;function _pe(){}var Dpe=(nu={},nu[jpe]=!0,nu[wpe]=!0,nu[kpe]=!0,nu[Npe]=!0,nu);function Rpe(e,r){function n(){r(),e.cancel()}function a(){r(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===mS){i.preventDefault(),n();return}if(i.keyCode===E8){i.preventDefault(),a();return}if(i.keyCode===Ppe){i.preventDefault(),e.moveDown();return}if(i.keyCode===Cpe){i.preventDefault(),e.moveUp();return}if(i.keyCode===Epe){i.preventDefault(),e.moveRight();return}if(i.keyCode===Spe){i.preventDefault(),e.moveLeft();return}if(Dpe[i.keyCode]){i.preventDefault();return}P8(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:cv,fn:n}]}function Ope(e){var r=u.useRef(_pe),n=Kr(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==E8)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,m,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();r.current();function m(){c||gt(),c=!1,r.current(),a()}r.current=Ii(window,Rpe(d,m),{capture:!0,passive:!1})}}},[e]),a=Kt(function(){var i={passive:!1,capture:!0};r.current=Ii(window,[n],i)},[n]);di(function(){return a(),function(){r.current()}},[a])}var $b={type:"IDLE"},Lpe=120,$pe=.15;function Fpe(e){var r=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:r},{eventName:"resize",fn:r},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(n().type!=="DRAGGING"){r();return}s.keyCode===mS&&s.preventDefault(),r()}},{eventName:cv,fn:r}]}function Upe(e){var r=e.cancel,n=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=a();if(o.type!=="DRAGGING"){r();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,m={x:c,y:d};i.preventDefault(),o.actions.move(m)}},{eventName:"touchend",fn:function(i){var o=a();if(o.type!=="DRAGGING"){r();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(a().type!=="DRAGGING"){r();return}i.preventDefault(),r()}},{eventName:"touchforcechange",fn:function(i){var o=a();o.type==="IDLE"&&gt();var l=i.touches[0];if(l){var c=l.force>=$pe;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&r();return}if(d){if(o.hasMoved){i.preventDefault();return}r();return}i.preventDefault()}}}},{eventName:cv,fn:r}]}function Bpe(e){var r=u.useRef($b),n=u.useRef(cc),a=Kt(function(){return r.current},[]),s=Kt(function(f){r.current=f},[]),i=Kr(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var x=e.findClosestDraggableId(f);if(x){var g=e.tryGetLock(x,l,{sourceEvent:f});if(g){var v=f.touches[0],y=v.clientX,b=v.clientY,w={x:y,y:b};n.current(),h(g,w)}}}}}},[e]),o=Kt(function(){var f={capture:!0,passive:!1};n.current=Ii(window,[i],f)},[i]),l=Kt(function(){var p=r.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s($b),n.current(),o())},[o,s]),c=Kt(function(){var p=r.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=Kt(function(){var f={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:a},g=Ii(window,Upe(x),f),v=Ii(window,Fpe(x),f);n.current=function(){g(),v()}},[c,a,l]),m=Kt(function(){var f=a();f.type!=="PENDING"&&gt();var x=f.actions.fluidLift(f.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[a,s]),h=Kt(function(f,x){a().type!=="IDLE"&&gt();var g=setTimeout(m,Lpe);s({type:"PENDING",point:x,actions:f,longPressTimerId:g}),d()},[d,a,s,m]);di(function(){return o(),function(){n.current();var x=a();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s($b))}},[a,o,s]),di(function(){var f=Ii(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var Gpe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function M8(e,r){if(r==null)return!1;var n=!!Gpe[r.tagName.toLowerCase()];if(n)return!0;var a=r.getAttribute("contenteditable");return a==="true"||a===""?!0:r===e?!1:M8(e,r.parentElement)}function Vpe(e,r){var n=r.target;return ov(n)?M8(e,n):!1}var zpe=function(e){return Xi(e.getBoundingClientRect()).center};function Wpe(e){return e instanceof S8(e).Element}var Hpe=function(){var e="matches";if(typeof document>"u")return e;var r=[e,"msMatchesSelector","webkitMatchesSelector"],n=Rc(r,function(a){return a in Element.prototype});return n||e}();function T8(e,r){return e==null?null:e[Hpe](r)?e:T8(e.parentElement,r)}function Kpe(e,r){return e.closest?e.closest(r):T8(e,r)}function qpe(e){return"["+Mm.contextId+'="'+e+'"]'}function Ype(e,r){var n=r.target;if(!Wpe(n))return null;var a=qpe(e),s=Kpe(n,a);return!s||!ov(s)?null:s}function Qpe(e,r){var n=Ype(e,r);return n?n.getAttribute(Mm.draggableId):null}function Jpe(e,r){var n="["+vj.contextId+'="'+e+'"]',a=K$(document.querySelectorAll(n)),s=Rc(a,function(i){return i.getAttribute(vj.id)===r});return!s||!ov(s)?null:s}function Xpe(e){e.preventDefault()}function L0(e){var r=e.expected,n=e.phase,a=e.isLockActive;return e.shouldWarn,!(!a()||r!==n)}function I8(e){var r=e.lockAPI,n=e.store,a=e.registry,s=e.draggableId;if(r.isClaimed())return!1;var i=a.draggable.findById(s);return!(!i||!i.options.isEnabled||!w8(n.getState(),s))}function Zpe(e){var r=e.lockAPI,n=e.contextId,a=e.store,s=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=I8({lockAPI:r,store:a,registry:s,draggableId:i});if(!c)return null;var d=s.draggable.getById(i),m=Jpe(n,d.descriptor.id);if(!m||l&&!d.options.canDragInteractiveElements&&Vpe(m,l))return null;var h=r.claim(o||cc),p="PRE_DRAG";function f(){return d.options.shouldRespectForcePress}function x(){return r.isActive(h)}function g(P,C){L0({expected:P,phase:p,isLockActive:x,shouldWarn:!0})&&a.dispatch(C())}var v=g.bind(null,"DRAGGING");function y(P){function C(){r.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(C(),p!=="PRE_DRAG"&&gt()),a.dispatch(Hme(P.liftActionArgs)),p="DRAGGING";function I(T,_){if(_===void 0&&(_={shouldBlockNextClick:!1}),P.cleanup(),_.shouldBlockNextClick){var k=Ii(window,[{eventName:"click",fn:Xpe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}C(),a.dispatch(p8({reason:T}))}return er({isActive:function(){return L0({expected:"DRAGGING",phase:p,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(_){return I("DROP",_)},cancel:function(_){return I("CANCEL",_)}},P.actions)}function b(P){var C=Zp(function(T){v(function(){return h8({client:T})})}),I=y({liftActionArgs:{id:i,clientSelection:P,movementMode:"FLUID"},cleanup:function(){return C.cancel()},actions:{move:C}});return er({},I,{move:C})}function w(){var P={moveUp:function(){return v(the)},moveRight:function(){return v(nhe)},moveDown:function(){return v(rhe)},moveLeft:function(){return v(ahe)}};return y({liftActionArgs:{id:i,clientSelection:zpe(m),movementMode:"SNAP"},cleanup:cc,actions:P})}function S(){var P=L0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!0});P&&r.release()}var N={isActive:function(){return L0({expected:"PRE_DRAG",phase:p,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:b,snapLift:w,abort:S};return N}var efe=[Ipe,Ope,Bpe];function tfe(e){var r=e.contextId,n=e.store,a=e.registry,s=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?efe:[],s||[]),l=u.useState(function(){return ype()})[0],c=Kt(function(b,w){b.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);di(function(){var b=n.getState(),w=n.subscribe(function(){var S=n.getState();c(b,S),b=S});return w},[l,n,c]),di(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=Kt(function(y){return I8({lockAPI:l,registry:a,store:n,draggableId:y})},[l,a,n]),m=Kt(function(y,b,w){return Zpe({lockAPI:l,registry:a,contextId:r,store:n,draggableId:y,forceSensorStop:b,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[r,l,a,n]),h=Kt(function(y){return Qpe(r,y)},[r]),p=Kt(function(y){var b=a.draggable.findById(y);return b?b.options:null},[a.draggable]),f=Kt(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(rS()))},[l,n]),x=Kt(l.isClaimed,[l]),g=Kr(function(){return{canGetLock:d,tryGetLock:m,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:x}},[d,m,h,p,f,x]),v=0;v<o.length;v++)o[v](g)}var rfe=function(r){return{onBeforeCapture:r.onBeforeCapture,onBeforeDragStart:r.onBeforeDragStart,onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onDragUpdate:r.onDragUpdate}};function bh(e){return e.current||gt(),e.current}function nfe(e){var r=e.contextId,n=e.setCallbacks,a=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,o=u.useRef(null),l=C8(e),c=Kt(function(){return rfe(l.current)},[l]),d=hpe(r),m=xpe({contextId:r,text:i}),h=ipe(r,s),p=Kt(function(T){bh(o).dispatch(T)},[]),f=Kr(function(){return UP({publishWhileDragging:qme,updateDroppableScroll:Qme,updateDroppableIsEnabled:Jme,updateDroppableIsCombineEnabled:Xme,collectionStarting:Yme},p)},[p]),x=dpe(),g=Kr(function(){return $he(x,f)},[x,f]),v=Kr(function(){return tpe(er({scrollWindow:Fhe,scrollDroppable:g.scrollDroppable},UP({move:h8},p)))},[g.scrollDroppable,p]),y=lpe(r),b=Kr(function(){return Dhe({announce:d,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h})},[d,v,g,y,c,h]);o.current=b;var w=Kt(function(){var T=bh(o),_=T.getState();_.phase!=="IDLE"&&T.dispatch(rS())},[]),S=Kt(function(){var T=bh(o).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),N=Kr(function(){return{isDragging:S,tryAbort:w}},[S,w]);n(N);var P=Kt(function(T){return w8(bh(o).getState(),T)},[]),C=Kt(function(){return Wc(bh(o).getState())},[]),I=Kr(function(){return{marshal:g,focus:y,contextId:r,canLift:P,isMovementAllowed:C,dragHandleUsageInstructionsId:m,registry:x}},[r,g,m,y,P,C,x]);return tfe({contextId:r,store:b,registry:x,customSensors:a,enableDefaultSensors:e.enableDefaultSensors!==!1}),u.useEffect(function(){return w},[w]),tt.createElement(lv.Provider,{value:I},tt.createElement(Sde,{context:dS,store:b},e.children))}var afe=0;function sfe(){return Kr(function(){return""+afe++},[])}function ife(e){var r=sfe(),n=e.dragHandleUsageInstructions||gg.dragHandleUsageInstructions;return tt.createElement(Oue,null,function(a){return tt.createElement(nfe,{nonce:e.nonce,contextId:r,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var _8=function(r){return function(n){return r===n}},ofe=_8("scroll"),lfe=_8("auto"),y4=function(r,n){return n(r.overflowX)||n(r.overflowY)},cfe=function(r){var n=window.getComputedStyle(r),a={overflowX:n.overflowX,overflowY:n.overflowY};return y4(a,ofe)||y4(a,lfe)},dfe=function(){return!1},ufe=function e(r){return r==null?null:r===document.body?dfe()?r:null:r===document.documentElement?null:cfe(r)?r:e(r.parentElement)},bj=function(e){return{x:e.scrollLeft,y:e.scrollTop}},mfe=function e(r){if(!r)return!1;var n=window.getComputedStyle(r);return n.position==="fixed"?!0:e(r.parentElement)},hfe=function(e){var r=ufe(e),n=mfe(e);return{closestScrollable:r,isFixedOnPage:n}},pfe=function(e){var r=e.descriptor,n=e.isEnabled,a=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var f=c.scrollSize,x=c.client,g=y8({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:f,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Ua,displacement:Ua}}}}(),m=i==="vertical"?Jk:X$,h=Pm({page:l,withPlaceholder:null,axis:m,frame:d}),p={descriptor:r,isCombineEnabled:a,isFixedOnPage:s,axis:m,isEnabled:n,client:o,page:l,frame:d,subject:h};return p},ffe=function(r,n){var a=G$(r);if(!n||r!==n)return a;var s=a.paddingBox.top-n.scrollTop,i=a.paddingBox.left-n.scrollLeft,o=s+n.scrollHeight,l=i+n.scrollWidth,c={top:s,right:l,bottom:o,left:i},d=Hk(c,a.border),m=Kk({borderBox:d,margin:a.margin,border:a.border,padding:a.padding});return m},gfe=function(e){var r=e.ref,n=e.descriptor,a=e.env,s=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=a.closestScrollable,m=ffe(r,d),h=_x(m,s),p=function(){if(!d)return null;var x=G$(d),g={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:x,page:_x(x,s),scroll:bj(d),scrollSize:g,shouldClipSubject:c}}(),f=pfe({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:a.isFixedOnPage,direction:i,client:m,page:h,closest:p});return f},xfe={passive:!1},yfe={passive:!0},v4=function(e){return e.shouldPublishImmediately?xfe:yfe};function Fx(e){var r=u.useContext(e);return r||gt(),r}var $0=function(r){return r&&r.env.closestScrollable||null};function vfe(e){var r=u.useRef(null),n=Fx(lv),a=uS("droppable"),s=n.registry,i=n.marshal,o=C8(e),l=Kr(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=u.useRef(l),d=Kr(function(){return $a(function(S,N){r.current||gt();var P={x:S,y:N};i.updateDroppableScroll(l.id,P)})},[l.id,i]),m=Kt(function(){var S=r.current;return!S||!S.env.closestScrollable?Ua:bj(S.env.closestScrollable)},[]),h=Kt(function(){var S=m();d(S.x,S.y)},[m,d]),p=Kr(function(){return Zp(h)},[h]),f=Kt(function(){var S=r.current,N=$0(S);S&&N||gt();var P=S.scrollOptions;if(P.shouldPublishImmediately){h();return}p()},[p,h]),x=Kt(function(S,N){r.current&&gt();var P=o.current,C=P.getDroppableRef();C||gt();var I=hfe(C),T={ref:C,descriptor:l,env:I,scrollOptions:N};r.current=T;var _=gfe({ref:C,descriptor:l,env:I,windowScroll:S,direction:P.direction,isDropDisabled:P.isDropDisabled,isCombineEnabled:P.isCombineEnabled,shouldClipSubject:!P.ignoreContainerClipping}),k=I.closestScrollable;return k&&(k.setAttribute(p4.contextId,n.contextId),k.addEventListener("scroll",f,v4(T.scrollOptions))),_},[n.contextId,l,f,o]),g=Kt(function(){var S=r.current,N=$0(S);return S&&N||gt(),bj(N)},[]),v=Kt(function(){var S=r.current;S||gt();var N=$0(S);r.current=null,N&&(p.cancel(),N.removeAttribute(p4.contextId),N.removeEventListener("scroll",f,v4(S.scrollOptions)))},[f,p]),y=Kt(function(S){var N=r.current;N||gt();var P=$0(N);P||gt(),P.scrollTop+=S.y,P.scrollLeft+=S.x},[]),b=Kr(function(){return{getDimensionAndWatchScroll:x,getScrollWhileDragging:g,dragStopped:v,scroll:y}},[v,x,g,y]),w=Kr(function(){return{uniqueId:a,descriptor:l,callbacks:b}},[b,l,a]);di(function(){return c.current=w.descriptor,s.droppable.register(w),function(){r.current&&v(),s.droppable.unregister(w)}},[b,l,v,w,i,s.droppable]),di(function(){r.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),di(function(){r.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Fb(){}var b4={width:0,height:0,margin:Gue},bfe=function(r){var n=r.isAnimatingOpenOnMount,a=r.placeholder,s=r.animate;return n||s==="close"?b4:{height:a.client.borderBox.height,width:a.client.borderBox.width,margin:a.client.margin}},wfe=function(r){var n=r.isAnimatingOpenOnMount,a=r.placeholder,s=r.animate,i=bfe({isAnimatingOpenOnMount:n,placeholder:a,animate:s});return{display:a.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Zh.placeholder:null}};function jfe(e){var r=u.useRef(null),n=Kt(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),a=e.animate,s=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=u.useState(e.animate==="open"),c=l[0],d=l[1];u.useEffect(function(){return c?a!=="open"?(n(),d(!1),Fb):r.current?Fb:(r.current=setTimeout(function(){r.current=null,d(!1)}),n):Fb},[a,c,n]);var m=Kt(function(p){p.propertyName==="height"&&(s(),a==="close"&&i())},[a,i,s]),h=wfe({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return tt.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":o,onTransitionEnd:m,ref:e.innerRef})}var Nfe=tt.memo(jfe),hS=tt.createContext(null),kfe=function(e){y$(r,e);function r(){for(var a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.state={isVisible:!!a.props.on,data:a.props.on,animate:a.props.shouldAnimate&&a.props.on?"open":"none"},a.onClose=function(){a.state.animate==="close"&&a.setState({isVisible:!1})},a}r.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var n=r.prototype;return n.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},r}(tt.PureComponent),w4={dragging:5e3,dropAnimating:4500},Sfe=function(r,n){return n?Zh.drop(n.duration):r?Zh.snap:Zh.fluid},Cfe=function(r,n){return r?n?nf.opacity.drop:nf.opacity.combining:null},Efe=function(r){return r.forceShouldAnimate!=null?r.forceShouldAnimate:r.mode==="SNAP"};function Pfe(e){var r=e.dimension,n=r.client,a=e.offset,s=e.combineWith,i=e.dropping,o=!!s,l=Efe(e),c=!!i,d=c?xj.drop(a,o):xj.moveTo(a),m={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Sfe(l,i),transform:d,opacity:Cfe(o,c),zIndex:c?w4.dropAnimating:w4.dragging,pointerEvents:"none"};return m}function Afe(e){return{transform:xj.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Mfe(e){return e.type==="DRAGGING"?Pfe(e):Afe(e)}function Tfe(e,r,n){n===void 0&&(n=Ua);var a=window.getComputedStyle(r),s=r.getBoundingClientRect(),i=B$(s,a),o=_x(i,n),l={client:i,tagName:r.tagName.toLowerCase(),display:a.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function Ife(e){var r=uS("draggable"),n=e.descriptor,a=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Kr(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=Kt(function(f){var x=s();return x||gt(),Tfe(n,x,f)},[n,s]),m=Kr(function(){return{uniqueId:r,descriptor:n,options:c,getDimension:d}},[n,d,c,r]),h=u.useRef(m),p=u.useRef(!0);di(function(){return a.draggable.register(h.current),function(){return a.draggable.unregister(h.current)}},[a.draggable]),di(function(){if(p.current){p.current=!1;return}var f=h.current;h.current=m,a.draggable.update(m,f)},[m,a.draggable])}function _fe(e){e.preventDefault()}function Dfe(e){var r=u.useRef(null),n=Kt(function(T){r.current=T},[]),a=Kt(function(){return r.current},[]),s=Fx(lv),i=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=Fx(hS),d=c.type,m=c.droppableId,h=Kr(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:m}},[e.draggableId,e.index,d,m]),p=e.children,f=e.draggableId,x=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,w=e.dropAnimationFinished;if(!y){var S=Kr(function(){return{descriptor:h,registry:l,getDraggableRef:a,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:x}},[h,l,a,v,g,x]);Ife(S)}var N=Kr(function(){return x?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:_fe}:null},[i,o,f,x]),P=Kt(function(T){b.type==="DRAGGING"&&b.dropping&&T.propertyName==="transform"&&w()},[w,b]),C=Kr(function(){var T=Mfe(b),_=b.type==="DRAGGING"&&b.dropping?P:null,k={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:T,onTransitionEnd:_},dragHandleProps:N};return k},[i,N,f,b,P,n]),I=Kr(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return p(C,b.snapshot,I)}var D8=function(e,r){return e===r},R8=function(e){var r=e.combine,n=e.destination;return n?n.droppableId:r?r.droppableId:null},Rfe=function(r){return r.combine?r.combine.draggableId:null},Ofe=function(r){return r.at&&r.at.type==="COMBINE"?r.at.combine.draggableId:null};function Lfe(){var e=$a(function(s,i){return{x:s,y:i}}),r=$a(function(s,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=$a(function(s,i,o,l,c,d,m){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:s,dimension:o,forceShouldAnimate:m,snapshot:r(i,l,c,d,null)}}}),a=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=ci(i.impact),m=Ofe(i.impact),h=i.forceShouldAnimate;return n(e(l.x,l.y),i.movementMode,c,o.isClone,d,m,h)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==o.draggableId)return null;var f=o.isClone,x=i.dimensions.draggables[o.draggableId],g=p.result,v=g.mode,y=R8(g),b=Rfe(g),w=i.dropDuration,S={duration:w,curve:aS.drop,moveTo:i.newHomeClientOffset,opacity:b?nf.opacity.drop:null,scale:b?nf.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:x,dropping:S,draggingOver:y,combineWith:b,mode:v,forceShouldAnimate:null,snapshot:r(v,f,y,b,S)}}}return null};return a}function O8(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var $fe={mapped:{type:"SECONDARY",offset:Ua,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:O8(null)}};function Ffe(){var e=$a(function(o,l){return{x:o,y:l}}),r=$a(O8),n=$a(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:r(l)}}}),a=function(l){return l?n(Ua,l,!0):null},s=function(l,c,d,m){var h=d.displaced.visible[l],p=!!(m.inVirtualList&&m.effected[l]),f=av(d),x=f&&f.draggableId===l?c:null;if(!h){if(!p)return a(x);if(d.displaced.invisible[l])return null;var g=Ym(m.displacedBy.point),v=e(g.x,g.y);return n(v,x,!0)}if(p)return a(x);var y=d.displacedBy.point,b=e(y.x,y.y);return n(b,x,h.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:s(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Ufe=function(){var r=Lfe(),n=Ffe(),a=function(i,o){return r(i,o)||n(i,o)||$fe};return a},Bfe={dropAnimationFinished:f8},Gfe=F$(Ufe,Bfe,null,{context:dS,pure:!0,areStatePropsEqual:D8})(Dfe);function L8(e){var r=Fx(hS),n=r.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:tt.createElement(Gfe,e)}function Vfe(e){var r=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,a=!!e.shouldRespectForcePress;return tt.createElement(L8,er({},e,{isClone:!1,isEnabled:r,canDragInteractiveElements:n,shouldRespectForcePress:a}))}function zfe(e){var r=u.useContext(lv);r||gt();var n=r.contextId,a=r.isMovementAllowed,s=u.useRef(null),i=u.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,m=e.direction,h=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,x=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,b=Kt(function(){return s.current},[]),w=Kt(function(k){s.current=k},[]);Kt(function(){return i.current},[]);var S=Kt(function(k){i.current=k},[]),N=Kt(function(){a()&&v({maxScroll:b8()})},[a,v]);vfe({droppableId:l,type:c,mode:d,direction:m,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:h,getDroppableRef:b});var P=tt.createElement(kfe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(k){var A=k.onClose,F=k.data,V=k.animate;return tt.createElement(Nfe,{placeholder:F,onClose:A,innerRef:S,animate:V,contextId:n,onTransitionEnd:N})}),C=Kr(function(){return{innerRef:w,placeholder:P,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,P,w]),I=g?g.dragging.draggableId:null,T=Kr(function(){return{droppableId:l,type:c,isUsingCloneFor:I}},[l,I,c]);function _(){if(!g)return null;var k=g.dragging,A=g.render,F=tt.createElement(L8,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(V,J){return A(V,J,k)});return mM.createPortal(F,y())}return tt.createElement(hS.Provider,{value:T},o(C,x),_())}var Ub=function(r,n){return r===n.droppable.type},j4=function(r,n){return n.draggables[r.draggable.id]},Wfe=function(){var r={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=er({},r,{shouldAnimatePlaceholder:!1}),a=$a(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),s=$a(function(o,l,c,d,m,h){var p=m.descriptor.id,f=m.descriptor.droppableId===o;if(f){var x=h?{render:h,dragging:a(m.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:x}}if(!l)return n;if(!d)return r;var v={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:m.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),i=function(l,c){var d=c.droppableId,m=c.type,h=!c.isDropDisabled,p=c.renderClone;if(l.isDragging){var f=l.critical;if(!Ub(m,f))return n;var x=j4(f,l.dimensions),g=ci(l.impact)===d;return s(d,h,g,g,x,p)}if(l.phase==="DROP_ANIMATING"){var v=l.completed;if(!Ub(m,v.critical))return n;var y=j4(v.critical,l.dimensions);return s(d,h,R8(v.result)===d,ci(v.impact)===d,y,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!Ub(m,b.critical))return n;var w=ci(b.impact)===d,S=!!(b.impact.at&&b.impact.at.type==="COMBINE"),N=b.critical.droppable.id===d;return w?S?r:n:N?r:n}return n};return i},Hfe={updateViewportMaxScroll:ehe};function Kfe(){return document.body||gt(),document.body}var qfe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Kfe},$8=F$(Wfe,Hfe,null,{context:dS,pure:!0,areStatePropsEqual:D8})(zfe);$8.defaultProps=qfe;function Yfe(){const{toast:e}=Wr(),{user:r}=Sr(),[n,a]=u.useState(""),[s,i]=u.useState(null),{data:o=[],isLoading:l,error:c}=dt({queryKey:["/api/global-interests"],staleTime:5*60*1e3,queryFn:async()=>{try{const f=await ze("/api/global-interests",{method:"GET"});return await Vn(f)}catch(f){return console.error("Error fetching global interests:",f),[]}}}),d=wt({mutationFn:async f=>{if(!f.interest||!f.category)throw new Error("Interest and category are required");if(!(r!=null&&r.id))throw new Error("Authentication required. Please log in again.");try{const x=await ze("/api/global-interests",{method:"POST",data:f});return await Vn(x)}catch(x){throw console.error("Error adding global interest:",x),x instanceof Error?x:new Error("Unknown error adding interest")}},onSuccess:f=>{console.log("Interest added successfully:",f),me.invalidateQueries({queryKey:["/api/global-interests"]})},onError:f=>{e({title:"Failed to add interest",description:f.message||"There was an error adding your interest. Please try again.",variant:"destructive"}),console.error("Interest mutation error details:",f)}}),m=o.filter(f=>{const x=!n||f.interest.toLowerCase().includes(n.toLowerCase()),g=!s||f.category===s;return x&&g}).sort((f,x)=>f.interest.localeCompare(x.interest)),h=o.reduce((f,x)=>{const g=x.category||"Other";return f[g]||(f[g]=[]),f[g].push(x),f},{});Object.keys(h).forEach(f=>{h[f].sort((x,g)=>x.interest.localeCompare(g.interest))});const p=Object.keys(h).sort();return{globalInterests:o,filteredInterests:m,interestsByCategory:h,categories:p,isLoading:l,error:c,addInterest:d.mutate,isPending:d.isPending,searchTerm:n,setSearchTerm:a,selectedCategory:s,setSelectedCategory:i}}function Qfe({className:e,...r}){return t.jsx("div",{className:We("animate-pulse rounded-md bg-muted",e),...r})}const Jfe=gf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),F8=u.forwardRef(({className:e,variant:r,...n},a)=>t.jsx("div",{ref:a,role:"alert",className:We(Jfe({variant:r}),e),...n}));F8.displayName="Alert";const Xfe=u.forwardRef(({className:e,...r},n)=>t.jsx("h5",{ref:n,className:We("mb-1 font-medium leading-none tracking-tight",e),...r}));Xfe.displayName="AlertTitle";const U8=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{ref:n,className:We("text-sm [&_p]:leading-relaxed",e),...r}));U8.displayName="AlertDescription";const N4=e=>e.trim().toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ");function B8({selectedInterests:e,onSelectInterest:r,onRemoveInterest:n,maxInterests:a=10,horizontalCategories:s=!1,darkMode:i=!1,compactLayout:o=!1}){const{globalInterests:l,categories:c,isLoading:d,searchTerm:m,setSearchTerm:h,selectedCategory:p,setSelectedCategory:f,addInterest:x,isPending:g}=Yfe(),[v,y]=u.useState("all"),[b,w]=u.useState([]),[S,N]=u.useState(!1),{toast:P}=Wr(),[C,I]=u.useState(null),T=A=>e.some(F=>F.toLowerCase()===A.toLowerCase()),_=e.length<a;u.useEffect(()=>{let A=[...l];m&&(A=A.filter(J=>J.interest.toLowerCase().includes(m.toLowerCase()))),v!=="all"&&(A=A.filter(J=>J.category===v)),A.sort((J,M)=>J.interest.localeCompare(M.interest)),w(A);const F=N4(m),V=l.some(J=>J.interest.toLowerCase()===F.toLowerCase());N(m.trim().length>=2&&m.trim().length<=30&&!V&&_)},[l,m,v,_]);const k=()=>{if(I(null),!m.trim())return;if(m.length<2){I("Interest must be at least 2 characters long");return}if(m.length>30){I("Interest must be less than 30 characters long");return}const A=N4(m);if(l.some(V=>V.interest.toLowerCase()===A.toLowerCase())){const V=l.find(J=>J.interest.toLowerCase()===A.toLowerCase());r((V==null?void 0:V.interest)||A),h("")}else try{console.log(`Adding new interest to global database: ${A}`),r(A),h(""),x({interest:A,category:p||v==="all"?"Other":v})}catch(V){console.error("Error in handleAddCustomInterest:",V),P({title:"Warning",description:"Interest was added to your selection but may not be available to others",variant:"destructive"}),I(V instanceof Error?V.message:"Unknown error adding interest")}};return t.jsxs("div",{className:"w-full space-y-3",children:[t.jsxs("div",{className:`${s?"mb-2":"mb-3"}`,children:[t.jsxs("h3",{className:`text-sm font-medium mb-1.5 ${i?"text-white":""}`,children:["Selected Interests (",e.length,"/",a,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2 max-w-[350px]",children:e.length===0?t.jsx("p",{className:`text-sm ${i?"text-gray-200":"text-muted-foreground"}`,children:"No interests selected yet"}):e.map(A=>t.jsxs(St,{variant:i?"outline":"secondary",className:`py-1 px-2.5 gap-1.5 text-xs ${i?"bg-purple-500/60 border-purple-400/40 text-white":""}`,children:[A,t.jsx("button",{onClick:()=>n(A),className:`ml-1 w-3.5 h-3.5 rounded-full inline-flex items-center justify-center ${i?"hover:bg-purple-600/70 text-gray-100":"hover:bg-muted"}`,children:""})]},A))})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(so,{className:`absolute left-2.5 top-2.5 h-3.5 w-3.5 ${i?"text-gray-400":"text-muted-foreground"}`}),t.jsx(Je,{type:"search",placeholder:"Search interests...",className:`pl-8 ${i?"bg-black/30 border-white/10 text-white placeholder:text-gray-400":""} ${o?"h-8 text-xs rounded-md":""}`,value:m,onChange:A=>h(A.target.value),onKeyDown:A=>{A.key==="Enter"&&S&&k()}})]}),S&&t.jsxs(de,{onClick:k,disabled:g,size:o?"sm":"default",className:`${i?"bg-purple-600 hover:bg-purple-700 text-white":""} gap-1`,children:[t.jsx(ka,{className:"h-3.5 w-3.5"}),g?"Adding...":"Add"]})]}),C&&t.jsxs(F8,{variant:"destructive",className:"py-2 mt-2",children:[t.jsx(Ed,{className:"h-4 w-4"}),t.jsx(U8,{className:"text-xs ml-2",children:C})]}),t.jsxs(Wd,{defaultValue:"all",value:v,onValueChange:y,children:[t.jsx("div",{className:"overflow-x-auto custom-scrollbar-horizontal pb-1.5 max-w-[350px] mx-auto",children:t.jsxs(Hd,{className:`flex min-w-max ${i?"bg-black/20 border border-white/5":""}`,children:[t.jsx(da,{value:"all",className:`${i?"text-white data-[state=active]:bg-purple-500/50 data-[state=active]:text-white":""} 
                ${o?"text-xs py-1 px-2":""}`,children:"All"}),c.map(A=>t.jsx(da,{value:A,className:`${i?"text-white data-[state=active]:bg-purple-500/50 data-[state=active]:text-white":""}
                  ${o?"text-xs py-1 px-2":""}`,children:A},A))]})}),t.jsx(Kn,{value:v,className:"mt-2",children:t.jsx(to,{className:`${o||s?"h-56":"h-72"} w-full rounded-md ${i?"border-0":"border"} ${i?"bg-black/20 backdrop-blur-md":"p-2"}`,children:d?t.jsx("div",{className:"space-y-2 p-2",children:Array.from({length:3}).map((A,F)=>t.jsx(Qfe,{className:"h-6 w-full"},F))}):b.length===0?t.jsx("div",{className:`text-center py-4 ${i?"text-gray-300":"text-muted-foreground"} ${o?"text-xs":"text-sm"}`,children:m?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{children:['No interests found matching "',m,'"']}),S&&t.jsx("p",{className:"text-xs opacity-75",children:"Press Enter or click Add to create it"})]}):t.jsx("p",{children:"No interests in this category yet"})}):t.jsx("div",{className:"flex flex-wrap gap-1.5 p-2",children:b.map(A=>t.jsx(St,{variant:T(A.interest)?i?"secondary":"default":"outline",className:`${o?"py-1 px-2 text-xs":"py-1.5 px-3"} cursor-pointer transition-colors ${i&&T(A.interest)?"bg-purple-500/80 hover:bg-purple-500 text-white":i?"border-purple-500/30 bg-black/20 text-gray-200 hover:bg-purple-500/50 hover:text-white":"hover:bg-primary hover:text-primary-foreground"} ${!_&&!T(A.interest)?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{T(A.interest)?n(A.interest):_&&r(A.interest)},children:A.interest},A.id))})})})]})]})}function Zfe({userId:e,onToggleVisibility:r,isVisible:n=!0}){const{toast:a}=Wr(),{translate:s}=tn(),[i,o]=u.useState(!1),[l,c]=u.useState(n);u.useEffect(()=>{c(n),console.log(`[InterestsSection] Toggle state synchronized: ${n}`)},[n]);const{data:d=[],isLoading:m,refetch:h}=dt({queryKey:["/api/interests",e],enabled:!!e,queryFn:async()=>{try{const _=await ze(`/api/interests/${e}`,{method:"GET"}),k=await Vn(_);if(Array.isArray(k))return k;if(k&&typeof k=="string")try{const A=JSON.parse(k);if(Array.isArray(A))return A}catch(A){console.error("Failed to parse interests response as JSON:",A)}return console.warn("[InterestsSection] Unexpected response format:",k),[]}catch(_){return console.error("[InterestsSection] Error fetching interests:",_),[]}}});d.map(_=>_.interest);const[p,f]=u.useState([]),[x,g]=u.useState([]);u.useEffect(()=>{d&&d.length>0&&g([...d])},[d]);const v=wt({mutationFn:async _=>{const k=_.map(A=>({userId:e,interest:A}));try{const A=await ze(`/api/interests/${e}`,{method:"DELETE"});await Vn(A);for(const F of k){const V=await ze("/api/interests",{method:"POST",data:F});await Vn(V)}return _}catch(A){throw console.error("Failed to save interests:",A),A instanceof Error?A:new Error("Failed to save interests")}},onSuccess:()=>{h(),me.invalidateQueries({queryKey:["/api/interests",e]})},onError:_=>{a({title:"Error saving interests",description:_.message||"There was an error saving your interests. Please try again.",variant:"destructive"})}}),y=_=>{if(!p.includes(_)){const k=[...p,_];f(k);const A=k.map(F=>({userId:e,interest:F,id:Math.random()*1e6}));me.setQueryData(["/api/interests",e],A)}},b=_=>{const k=p.filter(F=>F!==_);f(k);const A=k.map(F=>({userId:e,interest:F,id:Math.random()*1e6}));me.setQueryData(["/api/interests",e],A)},w=()=>{h().then(()=>{f(d.map(_=>_.interest)),o(!0)})},S=()=>{v.mutate(p,{onSuccess:()=>{const _=p.map(k=>({userId:e,interest:k,id:Math.random()*1e6}));me.setQueryData(["/api/interests",e],_),o(!1),h()}})},N=_=>{o(_),_||h()},P=wt({mutationFn:async _=>{console.log(`[InterestsSection] Setting all interests visibility to: ${_}`);try{const k=await ze(`/api/interests/${e}/visibility`,{method:"PATCH",data:{showOnProfile:_}});return await Vn(k)}catch(k){throw console.error("[InterestsSection] API request error:",k),k instanceof Error?k:new Error("Failed to update interest visibility. Please try again.")}},onSuccess:()=>{console.log("[InterestsSection] Successfully updated interests visibility"),me.invalidateQueries({queryKey:["/api/interests",e]}),me.invalidateQueries({queryKey:["/api/interests"]}),h()},onError:_=>{console.error("[InterestsSection] Error updating visibility:",_),a({title:"Error updating visibility",description:_.message||"There was an error updating your interests visibility",variant:"destructive"}),c(!l)}}),C=_=>{if(!_.destination)return;const k=_.source.index,A=_.destination.index;if(k===A)return;const F=Array.from(x),[V]=F.splice(k,1);F.splice(A,0,V),g(F),me.setQueryData(["/api/interests",e],F),I.mutate(F.map(J=>J.interest))},I=wt({mutationFn:async _=>{try{const k=await ze(`/api/interests/${e}`,{method:"DELETE"});await Vn(k);for(const A of _){const F=await ze("/api/interests",{method:"POST",data:{userId:e,interest:A}});await Vn(F)}return _}catch(k){throw console.error("Failed to save interest order:",k),k instanceof Error?k:new Error("Failed to save interest order")}},onSuccess:()=>{a({title:"Interest Order Saved",description:"The first three interests will appear on your profile card",variant:"default"}),h()},onError:_=>{a({title:"Error Saving Order",description:_.message||"Failed to save your interest order. Please try again.",variant:"destructive"}),g([...d])}}),T=()=>{const _=!l;c(_),P.mutate(_),r&&r("interests",_)};return t.jsxs("div",{children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-pink-100 dark:border-pink-900/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"flex-1"})," ",t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:w,className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s("profile.showOnCard")}),t.jsx(Ye,{checked:l,onCheckedChange:T,className:"data-[state=checked]:bg-purple-500"})]})]})]}),m?t.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:5}).map((_,k)=>t.jsx(St,{variant:"outline",className:"bg-muted h-6 w-20 animate-pulse"},k))}):d.length===0?t.jsx("p",{className:"text-gray-500 text-sm text-center italic",children:s("profile.addInterestsToProfile")}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("p",{className:"text-xs text-gray-500 italic mb-2 flex items-center",children:[t.jsx(MG,{className:"h-3 w-3 mr-1"})," Drag to reorder - first 3 interests appear on your profile card"]}),t.jsx(ife,{onDragEnd:C,children:t.jsx($8,{droppableId:"interests-list",direction:"horizontal",children:_=>t.jsxs("div",{..._.droppableProps,ref:_.innerRef,className:"flex flex-wrap gap-2 min-h-[40px] p-2 border border-dashed border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50/50 dark:bg-gray-800/50",children:[x.map((k,A)=>{const F=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90","from-teal-500/90 to-cyan-500/90"],V=F[A%F.length],J=A<3,M=J?"ring-2 ring-yellow-400 dark:ring-yellow-500 ring-offset-1 dark:ring-offset-gray-900":"";return t.jsx(Vfe,{draggableId:`${k.interest}-${A}`,index:A,children:(R,B)=>t.jsx("div",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:`relative group cursor-move transition-all duration-200 ${B.isDragging?"z-50 scale-105 opacity-90":""}`,children:t.jsx(St,{className:`bg-gradient-to-r ${V} text-white shadow-md text-xs py-1 px-3 border-0 transition-all ${M} ${B.isDragging?"shadow-lg":""}`,children:t.jsxs("span",{className:"flex items-center",children:[J&&t.jsx("span",{className:"w-4 h-4 rounded-full bg-yellow-400/80 text-[9px] flex items-center justify-center text-black mr-1 font-bold",children:A+1}),k.interest,t.jsx(jG,{className:"h-3 w-3 ml-1 text-white/70 opacity-0 group-hover:opacity-100 transition-opacity"})]})})})},`${k.interest}-${A}`)}),_.placeholder]})})})]}),!l&&t.jsx("p",{className:"text-xs text-gray-500 italic mt-2",children:"Note: Interests are hidden from your SwipeCard preview"})]})]}),t.jsx(Or,{open:i,onOpenChange:N,children:t.jsxs(Dr,{className:"sm:max-w-[380px] rounded-3xl bg-gradient-to-b from-gray-900/95 via-purple-950/90 to-gray-900/95 border border-purple-500/40 shadow-[0_0_25px_rgba(168,85,247,0.25)] overflow-hidden backdrop-blur-xl","aria-describedby":"interest-selector-description",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-fuchsia-500 to-purple-600 dark:from-fuchsia-600 dark:to-purple-700 rounded-full animate-pulse blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-tr from-cyan-500 to-blue-600 dark:from-cyan-600 dark:to-blue-700 rounded-full animate-pulse animation-delay-2000 blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -right-16 w-48 h-48 bg-gradient-to-tr from-pink-500 to-rose-600 dark:from-pink-600 dark:to-rose-700 rounded-full animate-pulse animation-delay-4000 blur-3xl mix-blend-overlay"})]}),t.jsxs(ud,{className:"absolute top-4 right-4 rounded-full w-8 h-8 bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors shadow-md border border-white/20 z-50",children:[t.jsx(mt,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"absolute inset-0 border border-purple-500/40 rounded-3xl glow-effect"}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md pt-4 pr-4 pb-4 pl-0",children:[t.jsxs(pn,{className:"pb-0",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mx-auto mb-3 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-white text-base tracking-wider",children:"Select Your Interests"})]}),t.jsxs("div",{className:"relative py-3 px-1 flex flex-col items-center animate-in fade-in duration-300",children:[t.jsxs("p",{id:"interest-selector-description",className:"text-xs text-center text-gray-200 mb-2 px-2",children:["Add interests to express your personality.",t.jsx("br",{}),"Click the Save button when you're done."]}),t.jsx("div",{className:"relative rounded-xl p-2 bg-black/30 backdrop-blur-xl border border-purple-500/20 shadow-inner max-w-[350px] animate-in slide-in-from-bottom-4 duration-300",children:t.jsx("div",{className:"max-h-[450px] overflow-y-auto pr-1 custom-scrollbar",children:t.jsx(B8,{selectedInterests:p,onSelectInterest:y,onRemoveInterest:b,maxInterests:10,horizontalCategories:!1,darkMode:!0,compactLayout:!0})})}),t.jsx("div",{className:"flex justify-center mt-4",children:t.jsx(de,{onClick:S,className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white border-0 shadow-md transition-all duration-300 text-sm px-6 py-2 rounded-full",disabled:v.isPending,"aria-label":"Save Interests",title:"Save your selected interests","aria-describedby":"interest-selector-description",children:v.isPending?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-4 w-4 border-2 border-t-transparent border-white rounded-full animate-spin mr-2"}),t.jsx("span",{children:"Saving..."})]}):t.jsx("span",{children:"Save Interests"})})})]})]})]})})]})}const Qo=[{value:"Akan-Ashanti",label:"Akan - Ashanti"},{value:"Akan-Fante",label:"Akan - Fante"},{value:"Akan-Akuapem",label:"Akan - Akuapem"},{value:"Akan-Akyem",label:"Akan - Akyem"},{value:"Akan-Kwahu",label:"Akan - Kwahu"},{value:"Akan-Bono",label:"Akan - Bono"},{value:"Akan-Assin",label:"Akan - Assin"},{value:"Akan-Denkyira",label:"Akan - Denkyira"},{value:"Akan-Adansi",label:"Akan - Adansi"},{value:"Ewe",label:"Ewe"},{value:"Ga",label:"Ga"},{value:"Adangbe",label:"Adangbe"},{value:"Dagomba",label:"Dagomba"},{value:"Dagaaba",label:"Dagaaba"},{value:"Frafra",label:"Frafra"},{value:"Gonja",label:"Gonja"},{value:"Mamprusi",label:"Mamprusi"},{value:"Wala",label:"Wala"},{value:"Sisaala",label:"Sisaala"},{value:"Kasena",label:"Kasena"},{value:"Kusasi",label:"Kusasi"},{value:"Konkomba",label:"Konkomba"},{value:"Bimoba",label:"Bimoba"},{value:"Gurma",label:"Gurma"},{value:"Nzema",label:"Nzema"},{value:"Ahanta",label:"Ahanta"},{value:"Guan",label:"Guan"},{value:"Efutu",label:"Efutu"},{value:"Aowin",label:"Aowin"},{value:"Sefwi",label:"Sefwi"},{value:"Birifor",label:"Birifor"},{value:"Mo",label:"Mo"},{value:"Vagala",label:"Vagala"},{value:"Lobi",label:"Lobi"},{value:"Basari",label:"Basari"},{value:"Chokosi",label:"Chokosi"},{value:"Kotokoli",label:"Kotokoli"},{value:"Hausa",label:"Hausa"},{value:"Other-Ghanaian",label:"Other Ghanaian Tribe"},{value:"Mixed-Heritage",label:"Mixed Heritage"}];let _i=[...Qo];function e0e(e){return e.map(r=>({value:`global-${r.id}`,label:r.tribe}))}async function t0e(){try{const e=await fetch("/api/global-tribes");if(!e.ok)throw new Error("Failed to fetch global tribes");const r=await e.json(),n=e0e(r);_i=[...Qo,...n],console.log("Global tribes loaded successfully:",r.length)}catch(e){console.error("Error loading global tribes:",e),_i=[...Qo]}}async function r0e(e){try{const r=await fetch("/api/global-tribes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tribe:e})});if(!r.ok)throw new Error("Failed to add global tribe");const n=await r.json(),a={value:`global-${n.id}`,label:n.tribe};return _i.some(s=>s.value===a.value)||(_i=[..._i,a]),a}catch(r){console.error("Error adding global tribe:",r);return}}function n0e(){return[{label:"Akan Groups",options:Qo.filter(e=>e.value.startsWith("Akan-"))},{label:"Ga-Adangbe Groups",options:Qo.filter(e=>e.value==="Ga"||e.value==="Adangbe")},{label:"Northern Groups",options:["Dagomba","Dagaaba","Frafra","Gonja","Mamprusi","Wala","Sisaala","Kasena","Kusasi","Konkomba","Bimoba","Gurma","Birifor","Lobi"].map(e=>Qo.find(r=>r.value===e)).filter(Boolean)},{label:"Other Standard Groups",options:Qo.filter(e=>!e.value.startsWith("Akan-")&&e.value!=="Ga"&&e.value!=="Adangbe"&&!["Dagomba","Dagaaba","Frafra","Gonja","Mamprusi","Wala","Sisaala","Kasena","Kusasi","Konkomba","Bimoba","Gurma","Birifor","Lobi"].includes(e.value)&&!["Other-Ghanaian","Mixed-Heritage"].includes(e.value))},{label:"Other",options:Qo.filter(e=>e.value==="Other-Ghanaian"||e.value==="Mixed-Heritage")},..._i.some(e=>e.value.startsWith("global-"))?[{label:"Community Added",options:_i.filter(e=>e.value.startsWith("global-"))}]:[]]}const a0e=n0e();function s0e({value:e=[],onChange:r,maxSelections:n=2,disabled:a=!1,className:s,placeholder:i="Select your tribe(s)"}){console.log("TribeSelect rendering with value:",e),console.log("TribeSelect max selections:",n);const[o,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState(""),[p,f]=u.useState(e),[x,g]=u.useState(!1),[v,y]=u.useState(!1),[b,w]=u.useState(!1);u.useEffect(()=>{f(e)},[e]),u.useEffect(()=>{async function C(){if(!b){g(!0);try{await t0e(),w(!0)}catch(I){console.error("Error loading global tribes:",I)}finally{g(!1)}}}C()},[b]);const S=C=>{if(console.log("handleSelect called with:",C),console.log("Current value array:",p),p.includes(C)){const I=p.filter(T=>T!==C);console.log("Removing tribe, new array:",I),f(I),r(I)}else if(p.length<n){const I=[...p,C];console.log("Adding tribe, new array:",I),f(I),r(I),l(!0)}else console.log("Max selections reached:",n)},N=async()=>{if(m.trim()&&p.length<n){const C=m.trim();try{y(!0);const I=await r0e(C);if(I){const T=[...p,I.value];f(T),r(T),console.log("Added and selected global tribe:",I)}else{const T=`custom-${C}`;if(!p.some(_=>_===T)){const _=[...p,T];f(_),r(_),console.log("Selected custom tribe (API failed):",T)}}}catch(I){console.error("Error adding global tribe:",I);const T=`custom-${C}`;if(!p.some(_=>_===T)){const _=[...p,T];f(_),r(_),console.log("Selected custom tribe (after error):",T)}}finally{y(!1),h(""),d(!1),l(!0)}}};e.map(C=>{if(C.startsWith("custom-"))return C.substring(7);const I=_i.find(T=>T.value===C);return I?I.label:C});const P=C=>{const I=p.filter(T=>T!==C);f(I),r(I),console.log("Selected tribes:",I)};return t.jsxs("div",{className:We("space-y-2",s),children:[t.jsxs(g$,{open:o,onOpenChange:l,children:[t.jsx(x$,{asChild:!0,children:t.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":o,disabled:a,className:We("w-full justify-between auth-input border-indigo-200 dark:border-indigo-800/50 bg-white dark:bg-gray-800 shadow-sm hover:border-indigo-300 dark:hover:border-indigo-700 transition-colors focus:border-indigo-500",p.length>0?"h-auto min-h-10 py-2":"h-10",a&&"opacity-50 cursor-not-allowed"),children:[p.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(C=>{var I;return t.jsxs(St,{className:"mr-1 mb-1 pr-1 bg-gradient-to-r from-indigo-500 to-blue-500 text-white hover:from-indigo-600 hover:to-blue-600 shadow-sm border-0 transition-all",children:[C.startsWith("custom-")?C.substring(7):((I=_i.find(T=>T.value===C))==null?void 0:I.label)||C,t.jsx("span",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 inline-flex items-center justify-center",onKeyDown:T=>{T.key==="Enter"&&P(C)},onMouseDown:T=>{T.preventDefault(),T.stopPropagation()},onClick:T=>{T.stopPropagation(),P(C)},children:t.jsx(mt,{className:"h-3 w-3 text-white"})})]},C)})}):t.jsx("span",{className:"text-muted-foreground",children:i}),t.jsx(hT,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),t.jsx($k,{className:"p-0 w-[220px] bg-gradient-to-b from-gray-900/95 via-indigo-950/90 to-gray-900/95 border border-indigo-500/40 shadow-[0_0_15px_rgba(79,70,229,0.2)] backdrop-blur-xl rounded-xl",children:t.jsxs(Ik,{className:"bg-transparent border-none",children:[t.jsxs(Rk,{children:[t.jsx("p",{className:"py-2 px-3 text-sm text-gray-400",children:"No tribe found."}),!c&&t.jsxs(de,{variant:"ghost",className:"w-full justify-start px-3 py-1.5 text-sm text-left text-gray-300 hover:text-white hover:bg-white/10",onClick:()=>d(!0),children:[t.jsx(Na,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"}),"Create custom tribe"]})]}),t.jsx(_k,{placeholder:"Search tribes...",className:"border-none focus:ring-0 text-white bg-black/20 placeholder:text-gray-400"}),t.jsx(Dk,{children:t.jsxs(to,{className:"h-[280px]",style:{scrollbarWidth:"thin"},children:[x&&t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(Ad,{className:"h-4 w-4 mr-2 animate-spin text-indigo-400"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Loading global tribes..."})]}),t.jsx(Jh,{heading:"Standard Tribes",className:"text-indigo-400 text-xs font-semibold",children:Qo.sort((C,I)=>C.label.localeCompare(I.label)).map(C=>t.jsxs(Vu,{value:C.label,onSelect:()=>{S(C.value),l(!0)},disabled:p.length>=n&&!p.includes(C.value),className:"flex items-center justify-between group transition-colors duration-150",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(At,{className:We("mr-2 h-4 w-4",p.includes(C.value)?"opacity-100 text-indigo-400":"opacity-0")}),t.jsx("span",{className:"text-gray-200",children:C.label})]}),p.includes(C.value)&&t.jsx("span",{className:"text-xs text-white bg-gradient-to-r from-indigo-500 to-blue-600 px-1.5 py-0.5 rounded-full font-bold border border-indigo-400/30 shadow-sm",children:"Selected"})]},C.value))}),_i.some(C=>C.value.startsWith("global-"))&&t.jsxs(t.Fragment,{children:[t.jsx(Mx,{className:"bg-white/10 my-1"}),t.jsx(Jh,{heading:"Community Tribes",className:"text-purple-400 text-xs font-semibold",children:_i.filter(C=>C.value.startsWith("global-")).sort((C,I)=>C.label.localeCompare(I.label)).map(C=>t.jsxs(Vu,{value:C.label,onSelect:()=>{S(C.value),l(!0)},disabled:p.length>=n&&!p.includes(C.value),className:"flex items-center justify-between group transition-colors duration-150",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(At,{className:We("mr-2 h-4 w-4",p.includes(C.value)?"opacity-100 text-purple-400":"opacity-0")}),t.jsx("span",{className:"text-gray-200",children:C.label})]}),p.includes(C.value)&&t.jsx("span",{className:"text-xs text-white bg-gradient-to-r from-purple-500 to-pink-500 px-1.5 py-0.5 rounded-full font-bold border border-purple-400/30 shadow-sm",children:"Selected"})]},C.value))})]}),t.jsx(Mx,{className:"bg-white/10"}),t.jsxs(Jh,{heading:"Custom Tribe",className:"text-indigo-400 text-xs font-semibold",children:[c?t.jsxs("div",{className:"flex items-center p-2",children:[t.jsx(Je,{value:m,onChange:C=>h(C.target.value),placeholder:"Enter your tribe name",className:"flex-1 mr-2 h-8 text-sm bg-black/30 border-indigo-500/30 placeholder:text-gray-500 text-white focus-visible:ring-indigo-500/50",disabled:p.length>=n||v,onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),N())},autoFocus:!0}),t.jsx(de,{type:"button",size:"sm",className:"h-8 bg-gradient-to-r from-indigo-600 to-blue-600 text-white border-none hover:from-indigo-500 hover:to-blue-500",disabled:!m.trim()||p.length>=n||v,onClick:N,children:v?t.jsx(Ad,{className:"h-3 w-3 mr-1 animate-spin"}):"Add"})]}):t.jsxs(de,{variant:"ghost",className:"w-full justify-start px-3 py-1.5 text-sm text-left text-gray-300 hover:text-white hover:bg-white/10",onClick:()=>d(!0),disabled:p.length>=n,children:[t.jsx(Na,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"}),"Create custom tribe"]}),p.filter(C=>C.startsWith("custom-")).map(C=>t.jsxs(Vu,{value:C.substring(7),onSelect:()=>P(C),className:"flex items-center justify-between group transition-colors duration-150",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(At,{className:"mr-2 h-4 w-4 opacity-100 text-indigo-400"}),t.jsx("span",{className:"text-gray-200",children:C.substring(7)})]}),t.jsx("span",{className:"text-xs text-white bg-gradient-to-r from-indigo-500 to-blue-600 px-1.5 py-0.5 rounded-full font-bold border border-indigo-400/30 shadow-sm",children:"Selected"})]},C))]})]})})]})})]}),p.length===0&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1 mb-3",children:["You can select up to ",n," tribes. For mixed heritage, create a custom tribe."]})]})}function k4({className:e="",value:r="",onChange:n,placeholder:a="Select a country",darkMode:s=!1,showNationality:i=!0}){const[o,l]=u.useState(!1),[c,d]=u.useState(""),[m,h]=u.useState(null),p=u.useRef(null),f=u.useRef(null);u.useEffect(()=>{if(r){let v=No.find(y=>y.name===r||y.code===r);v||(v=No.find(y=>sc(y.name)===r)),v&&h(v)}else h(null)},[r]),u.useEffect(()=>{function v(y){p.current&&!p.current.contains(y.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[p]),u.useEffect(()=>{o&&f.current&&f.current.focus()},[o]);const x=v=>{h(v),l(!1),d("");const y=i?sc(v.name):v.name;n(y)},g=c?No.filter(v=>v.name.toLowerCase().includes(c.toLowerCase())||v.code.toLowerCase().includes(c.toLowerCase())||sc(v.name).toLowerCase().includes(c.toLowerCase())):No;return t.jsxs("div",{className:`relative ${e}`,children:[t.jsx("div",{className:`flex items-center border rounded-lg overflow-hidden
          ${s?"bg-white/10 text-white border-0 focus-within:ring-2 focus-within:ring-purple-500/40":"bg-white text-gray-900 border-gray-200 focus-within:ring-2 focus-within:ring-purple-500/40"}
        `,children:t.jsxs("button",{type:"button",className:`flex items-center justify-between w-full px-3 py-2
            ${s?"text-white":"text-gray-700"}
          `,onClick:()=>l(!o),children:[m?t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-lg mr-2",children:m.flag}),t.jsx("span",{children:m.name})]}):t.jsx("span",{className:`${s?"text-gray-400":"text-gray-500"}`,children:a}),t.jsx(ls,{className:`h-4 w-4 transition-transform duration-200 ${o?"rotate-180":""}`})]})}),o&&t.jsxs("div",{ref:p,className:`absolute z-50 w-full mt-1 max-h-64 overflow-y-auto rounded-lg shadow-lg border
            ${s?"bg-gray-900 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}
          `,children:[t.jsx("div",{className:`sticky top-0 p-2 border-b ${s?"border-gray-700 bg-gray-900":"border-gray-100 bg-white"}`,children:t.jsxs("div",{className:"relative",children:[t.jsx(so,{className:`absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 ${s?"text-gray-400":"text-gray-500"}`}),t.jsx("input",{ref:f,className:`w-full pl-8 py-2 text-sm rounded-md 
                  ${s?"bg-gray-800 text-white border-0 placeholder:text-gray-500":"bg-gray-50 text-gray-900 border border-gray-100 placeholder:text-gray-400"}
                `,placeholder:"Search countries",value:c,onChange:v=>d(v.target.value)})]})}),t.jsxs("div",{className:"p-1",children:[g.map(v=>t.jsxs("button",{className:`flex items-center justify-between w-full px-3 py-2 text-sm rounded-md transition-colors
                  ${(m==null?void 0:m.code)===v.code?s?"bg-purple-800/50 text-white":"bg-purple-50 text-purple-700":s?"hover:bg-gray-800 text-gray-200":"hover:bg-gray-50 text-gray-800"}
                `,onClick:()=>x(v),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-lg mr-2",children:v.flag}),t.jsx("span",{children:v.name})]}),(m==null?void 0:m.code)===v.code&&t.jsx(At,{className:`h-4 w-4 ${s?"text-purple-400":"text-purple-600"}`})]},v.code)),g.length===0&&t.jsxs("div",{className:`px-3 py-4 text-center ${s?"text-gray-400":"text-gray-500"}`,children:['No countries found matching "',c,'"']})]})]})]})}const i0e=["Single","Dating","In a Relationship","Engaged","Married","Divorced","Widowed","Separated","Complicated","Open Relationship","Prefer not to say"];function o0e({className:e="",value:r="",onChange:n,placeholder:a="Select relationship status",darkMode:s=!1}){const[i,o]=u.useState(!1),l=u.useRef(null);u.useEffect(()=>{function d(m){l.current&&!l.current.contains(m.target)&&o(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[l]);const c=d=>{n(d),o(!1)};return t.jsxs("div",{className:`relative ${e}`,children:[t.jsx("div",{className:`flex items-center border rounded-lg overflow-hidden
          ${s?"bg-white/10 text-white border-0 focus-within:ring-2 focus-within:ring-purple-500/40":"bg-white text-gray-900 border-gray-200 focus-within:ring-2 focus-within:ring-purple-500/40"}
        `,children:t.jsxs("button",{type:"button",className:`flex items-center justify-between w-full px-3 py-2
            ${s?"text-white":"text-gray-700"}
          `,onClick:()=>o(!i),children:[r?t.jsx("span",{children:r}):t.jsx("span",{className:`${s?"text-gray-400":"text-gray-500"}`,children:a}),t.jsx(ls,{className:`h-4 w-4 transition-transform duration-200 ${i?"rotate-180":""}`})]})}),i&&t.jsx("div",{ref:l,className:`absolute z-50 w-full mt-1 max-h-64 overflow-y-auto rounded-lg shadow-lg border
            ${s?"bg-gray-900 border-gray-700 text-white":"bg-white border-gray-200 text-gray-900"}
          `,children:t.jsx("div",{className:"p-1",children:i0e.map(d=>t.jsxs("button",{className:`flex items-center justify-between w-full px-3 py-2 text-sm rounded-md transition-colors
                  ${r===d?s?"bg-purple-800/50 text-white":"bg-purple-50 text-purple-700":s?"hover:bg-gray-800 text-gray-200":"hover:bg-gray-50 text-gray-800"}
                `,onClick:()=>c(d),children:[t.jsx("span",{children:d}),r===d&&t.jsx(At,{className:`h-4 w-4 ${s?"text-purple-400":"text-purple-600"}`})]},d))})})]})}const l0e=e=>{const r=e/2.54,n=Math.floor(r/12),a=Math.round(r%12);return{feet:n,inches:a}},S4=e=>{const{feet:r,inches:n}=l0e(e);return`${r}'${n}"`};function C4({user:e}){var Ae,st,Pt,Nt,Ce,qe,Qe,Mt,Ut,Ct,ht,tr,we,pt,ot,qt,bn,Cn,dn,Ga,D,Ve,Ke,Ot,Nr,Fr,Br,ra,fs,Va,gi,qd,Fo,Oc,Y,he,W,xe,fe,Ee,ve,Ie,Fe,j,ne,oe,Me,Be;lr();const{toast:r}=Wr(),{translate:n}=tn(),[a,s]=u.useState(!1),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState(!1),[f,x]=u.useState(e.location||""),[g,v]=u.useState(e.countryOfOrigin||""),[y,b]=u.useState(e.secondaryCountryOfOrigin||""),[w,S]=u.useState(e.profession||""),[N,P]=u.useState(e.religion||""),[C,I]=u.useState(e.bio||""),[T,_]=u.useState(e.relationshipStatus||""),[k,A]=u.useState(e.relationshipGoal||""),[F,V]=u.useState(e.highSchool||""),[J,M]=u.useState(e.collegeUniversity||""),[R,B]=u.useState(e.bodyType||""),[O,X]=u.useState(()=>{const Re=e.height?e.height:170;return[Math.min(Math.max(Re,122),213)]}),[ae,$]=u.useState(e.hasChildren||""),[re,le]=u.useState(e.wantsChildren||""),[ce,ue]=u.useState(()=>{const Q=e.smoking||"";return Q==="occasionally"?"yes":Q}),[ee,Z]=u.useState(()=>{const Q=e.drinking||"";return Q==="socially"||Q==="occasionally"?"yes":Q}),[Se,Ue]=u.useState(e.educationLevel||""),[De,se]=u.useState(()=>{try{return e.matchingPriorities?Array.isArray(e.matchingPriorities)?e.matchingPriorities:typeof e.matchingPriorities=="string"?JSON.parse(e.matchingPriorities||"[]"):[]:[]}catch(Q){return console.error("Failed to parse matching priorities:",Q),[]}}),L=e.hasActivatedProfile||!1,[q,H]=u.useState(bu(e,L)),[ge,ke]=u.useState(()=>{const Q=[];return e.ethnicity&&Q.push(e.ethnicity),e.secondaryTribe&&Q.push(e.secondaryTribe),Q}),[z,ie]=u.useState(()=>{try{return e.interests?Array.isArray(e.interests)?e.interests:typeof e.interests=="string"?JSON.parse(e.interests||"[]"):[]:[]}catch(Q){return console.error("Failed to parse user interests:",Q),[]}}),{data:pe}=dt({queryKey:["/api/user"],enabled:!!(e!=null&&e.id),staleTime:0}),ye=pe&&Object.keys(pe).length>0?pe:e,[$e,Le]=u.useState(!1);u.useEffect(()=>{if(!ye)return;const Q=bu(ye,ye.hasActivatedProfile||!1);if(H(Q),ye.visibilityPreferences&&!$e)try{const Re=JSON.parse(ye.visibilityPreferences);jt(Re),console.log("Updated fieldVisibility from fresh data (user hasn't modified):",Re)}catch(Re){console.error("Error parsing fresh visibility preferences:",Re)}else $e&&console.log("Skipping visibility sync - user has made explicit changes during this session");x(ye.location||""),v(ye.countryOfOrigin||""),S(ye.profession||""),P(ye.religion||""),I(ye.bio||""),_(ye.relationshipStatus||""),A(ye.relationshipGoal||""),V(ye.highSchool||""),M(ye.collegeUniversity||""),B(ye.bodyType||""),$(ye.hasChildren||""),le(ye.wantsChildren||""),ue(ye.smoking||""),Z(ye.drinking||""),Ue(ye.educationLevel||"");try{ye.matchingPriorities?Array.isArray(ye.matchingPriorities)?se(ye.matchingPriorities):typeof ye.matchingPriorities=="string"&&se(JSON.parse(ye.matchingPriorities||"[]")):se([])}catch(Re){console.error("Failed to parse fresh matching priorities:",Re),se([])}const Pe=[];ye.ethnicity&&Pe.push(ye.ethnicity),ye.secondaryTribe&&Pe.push(ye.secondaryTribe),ke(Pe);try{ye.interests?Array.isArray(ye.interests)?ie(ye.interests):typeof ye.interests=="string"&&ie(JSON.parse(ye.interests||"[]")):ie([])}catch(Re){console.error("Failed to parse fresh interests:",Re),ie([])}console.log("Synchronized field values with fresh backend data")},[ye,$e]);const{visibleInterestStrings:Oe=[],allInterestStrings:Ze=[],isLoading:te}=Sce(e==null?void 0:e.id),Ne=wt({mutationFn:async Q=>await ze(`/api/profile/${e.id}`,{method:"PATCH",data:Q}),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/user"]})}}),rt=async Q=>{try{console.log("[PROFILE-UPDATE] Sending update data:",Q),await Ne.mutateAsync(Q),console.log("[PROFILE-UPDATE] Update successful")}catch(Pe){console.error("Failed to update profile:",Pe),r({title:"Update Failed",description:"Failed to save changes. Please try again.",variant:"destructive"})}},[at,jt]=u.useState(()=>{try{if(e.visibilityPreferences){const Q=JSON.parse(e.visibilityPreferences);return console.log("Loaded visibility preferences:",Q),Q}}catch(Q){console.error("Error parsing visibility preferences:",Q)}return{residence:!0,countryOfOrigin:!0,tribe:!0,profession:!0,religion:!0,bio:!0,relationshipStatus:!0,relationshipGoal:!0,highSchool:!0,collegeUniversity:!0,interests:!0,photos:!!((e==null?void 0:e.showProfilePhoto)??!1)}});u.useEffect(()=>{if(pe&&"visibilityPreferences"in pe&&pe.visibilityPreferences&&!$e)try{const Q=JSON.parse(pe.visibilityPreferences);console.log("Updated visibility preferences from fresh data (user hasn't modified):",Q),jt(Q)}catch(Q){console.error("Error parsing fresh visibility preferences:",Q)}else $e&&(pe!=null&&pe.visibilityPreferences)&&console.log("Skipping visibility preferences update - user has made explicit changes during this session")},[pe,$e]),u.useEffect(()=>{V(e.highSchool||"")},[e.highSchool]),u.useEffect(()=>{M(e.collegeUniversity||"")},[e.collegeUniversity]);const{data:xt,isLoading:jr}=dt({queryKey:[`/api/photos/${e==null?void 0:e.id}`],enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),zt=u.useRef(null),Wt=Q=>{var Dt;const Pe=(Dt=Q.target.files)==null?void 0:Dt[0];if(!Pe)return;if(!["image/jpeg","image/png","image/webp","image/gif","image/heic","image/heif"].includes(Pe.type)){r({title:n("profile.invalidFileType"),description:n("profile.selectValidImage"),variant:"destructive"}),Q.target&&(Q.target.value="");return}const _e=Gr=>{const Qt=new Image,Cr=()=>{if(Qt.width<200||Qt.height<200){r({title:n("profile.imageTooSmall"),description:n("profile.imageMinSize"),variant:"destructive"}),Q.target&&(Q.target.value="");return}if(Qt.width/Qt.height,xt&&xt.length>=8){r({title:n("profile.maxPhotosReached"),description:n("profile.maxPhotosDescription"),variant:"destructive"}),Q.target&&(Q.target.value="");return}Et.mutate(Gr)},Hr=()=>{r({title:n("profile.invalidImage"),description:n("profile.corruptedImage"),variant:"destructive"}),Q.target&&(Q.target.value="")},na=setTimeout(()=>{r({title:n("profile.imageLoadTimeout"),description:n("profile.imageTookTooLong"),variant:"destructive"}),Q.target&&(Q.target.value=""),Qt.src=""},2e4);Qt.onload=()=>{clearTimeout(na),Cr()},Qt.onerror=()=>{clearTimeout(na),Hr()},Qt.src=Gr},{dismiss:et}=r({title:n("profile.processingPhoto"),description:n("profile.photoBeingPrepared"),duration:6e4}),Gt=new FileReader;Gt.onload=Gr=>{var Cr;const Qt=(Cr=Gr.target)==null?void 0:Cr.result;if(et(),Qt){if(!Qt.startsWith("data:image/")){r({title:"Invalid image format",description:"The file appears to be corrupted or is not a valid image.",variant:"destructive"}),Q.target&&(Q.target.value="");return}_e(Qt)}else r({title:"Empty image data",description:"The file couldn't be read correctly. Please try another image.",variant:"destructive"}),Q.target&&(Q.target.value="")},Gt.onerror=()=>{et(),r({title:"Upload failed",description:"Failed to process image. The file may be corrupted. Please try another image.",variant:"destructive"}),Q.target&&(Q.target.value="")},Gt.readAsDataURL(Pe)},Et=wt({mutationFn:async Q=>{const Pe={id:Date.now(),userId:e.id,photoUrl:Q,isPrimary:!xt||xt.length===0,createdAt:new Date().toISOString()};me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Re=>[...Re||[],Pe]);try{const Re=await ze("/api/photos",{method:"POST",data:{photoUrl:Q,isPrimary:!xt||xt.length===0}}),_e=Re.headers.get("content-type");if(_e&&_e.includes("application/json"))return await Re.json();if((await Re.text()).includes("<!DOCTYPE html>"))throw new Error("Server error. Please try again later.");return{success:!0}}catch(Re){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],_e=>(_e||[]).filter(et=>et.id!==Pe.id)),r({title:n("toast.errorAddingPhoto"),description:Re instanceof Error?Re.message:n("toast.unknownError"),variant:"destructive"}),Re}finally{zt.current&&(zt.current.value="")}},onSuccess:()=>{me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]})}}),ut=wt({mutationFn:async Q=>{const Pe=me.getQueryData([`/api/photos/${e==null?void 0:e.id}`]);me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Re=>(Re||[]).filter(_e=>_e.id!==Q));try{const Re=await ze(`/api/photos/${Q}`,{method:"DELETE"}),_e=Re.headers.get("content-type");if(_e&&_e.includes("application/json"))return await Re.json();if((await Re.text()).includes("<!DOCTYPE html>"))throw new Error("Server error. Please try again later.");return Q}catch(Re){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Pe),r({title:n("toast.errorDeletingPhoto"),description:Re instanceof Error?Re.message:n("toast.unknownError"),variant:"destructive"}),Re}},onSuccess:Q=>{var Re;((Re=xt==null?void 0:xt.find(_e=>_e.id===Q))==null?void 0:Re.isPrimary)&&me.invalidateQueries({queryKey:["/api/user"]}),me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]})},onError:()=>{}}),cr=wt({mutationFn:async Q=>{var _e;const Pe=me.getQueryData([`/api/photos/${e==null?void 0:e.id}`]),Re=me.getQueryData(["/api/user"]);if(xt){const et=(_e=xt.find(Dt=>Dt.id===Q))==null?void 0:_e.photoUrl,Gt=xt.map(Dt=>({...Dt,isPrimary:Dt.id===Q}));me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Gt),et&&Re&&me.setQueryData(["/api/user"],{...Re,photoUrl:et})}try{const et=await ze(`/api/photos/${Q}/primary`,{method:"PATCH"}),Gt=et.headers.get("content-type");if(Gt&&Gt.includes("application/json"))return await et.json();if((await et.text()).includes("<!DOCTYPE html>"))throw new Error("Server error. Please try again later.");return{success:!0}}catch(et){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Pe),me.setQueryData(["/api/user"],Re),r({title:n("toast.errorUpdatingPrimaryPhoto"),description:et instanceof Error?et.message:n("toast.unknownError"),variant:"destructive"}),et}},onSuccess:()=>{me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]}),me.invalidateQueries({queryKey:["/api/user"]})},onError:()=>{}}),Ir=Q=>{if(!Q)return 0;const Pe=Q instanceof Date?Q:new Date(Q),Re=new Date;let _e=Re.getFullYear()-Pe.getFullYear();const et=Re.getMonth()-Pe.getMonth();return(et<0||et===0&&Re.getDate()<Pe.getDate())&&_e--,_e},Bt=Q=>{o(i===Q?null:Q)},vt=Q=>{Le(!0),jt(Pe=>{const Re={...Pe,[Q]:!Pe[Q]};return console.log(`User explicitly toggling visibility for ${Q} to ${!Pe[Q]}`),console.log("Updated visibility preferences:",Re),Ft.mutate({visibilityPreferences:JSON.stringify(Re)}),Re})},Ft=wt({mutationFn:async Q=>{try{const Pe=await ze(`/api/profile/${e.id}`,{method:"PATCH",data:Q}),Re=Pe.headers.get("content-type");if(Re&&Re.includes("application/json"))return await Pe.json();if((await Pe.text()).includes("<!DOCTYPE html>"))throw new Error("Server error. Please try again later.");return{message:"Profile updated successfully"}}catch(Pe){throw console.error("Profile update error:",Pe),Pe}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/user"]})},onError:Q=>{console.error("Profile update error:",Q),r({title:n("toast.errorUpdatingProfile"),description:(Q==null?void 0:Q.message)||"Unknown error updating profile",variant:"destructive"})}}),$t=(Q,Pe=!1)=>{var Dt,Gr;let Re="",_e={},et=Pe;switch(Q){case"residence":Pe&&x(""),et=Pe||!f||f.trim()==="",Re=et?null:f.trim(),_e={location:Re};break;case"countryOfOrigin":Pe&&v(""),et=Pe||!g||g.trim()==="",Re=et?null:g.trim(),_e={countryOfOrigin:Re};break;case"secondaryCountryOfOrigin":Pe&&b(""),et=Pe||!y||y.trim()==="",Re=et?null:y.trim(),_e={secondaryCountryOfOrigin:Re};break;case"profession":Pe&&S(""),et=Pe||!w||w.trim()==="",Re=et?null:w.trim(),_e={profession:Re};break;case"religion":Pe&&P(""),et=Pe||!N||N.trim()==="",Re=et?null:N.trim(),_e={religion:Re};break;case"bio":Pe&&I(""),et=Pe||!C||C.trim()==="",Re=et?null:C.trim(),_e={bio:Re};break;case"relationshipStatus":Pe&&_(""),et=Pe||!T||T.trim()==="",Re=et?null:T.trim(),_e={relationshipStatus:Re};break;case"relationshipGoal":Pe&&A(""),et=Pe||!k||k.trim()==="",Re=et?null:k.trim(),_e={relationshipGoal:Re};break;case"highSchool":Pe&&V(""),et=Pe||!F||F.trim()==="",Re=et?null:F.trim(),_e={highSchool:Re};break;case"collegeUniversity":Pe&&M(""),et=Pe||!J||J.trim()==="",Re=et?null:J.trim(),_e={collegeUniversity:Re};break;case"bodyType":Pe&&B(""),et=Pe||!R||R.trim()==="",Re=et?null:R.trim(),_e={bodyType:Re};break;case"height":et=Pe;const Qt=et?null:O[0];console.log("[HEIGHT-DEBUG] Saving height:",O,"-> cm:",Qt,"isClearing:",et,"userHadHeight:",!!e.height),_e={height:Qt};break;case"hasChildren":Pe&&$(""),et=Pe||!ae||ae.trim()==="",Re=et?null:ae.trim(),_e={hasChildren:Re};break;case"wantsChildren":Pe&&le(""),et=Pe||!re||re.trim()==="",Re=et?null:re.trim(),_e={wantsChildren:Re};break;case"smoking":Pe&&ue(""),et=Pe||!ce||ce.trim()==="",Re=et?null:ce.trim(),_e={smoking:Re};break;case"drinking":Pe&&Z(""),et=Pe||!ee||ee.trim()==="",Re=et?null:ee.trim(),_e={drinking:Re};break;case"educationLevel":Pe&&Ue(""),et=Pe||!Se||Se.trim()==="",Re=et?null:Se.trim(),_e={educationLevel:Re};break;case"matchingPriorities":Pe&&se([]),et=Pe||De.length===0,_e={matchingPriorities:De.length>0?JSON.stringify(De):null};break;case"interests":Pe&&ie([]),et=Pe||z.length===0,_e={interests:z.length>0?JSON.stringify(z):null};break;case"tribe":Pe?(ke([]),_e={ethnicity:null,secondaryTribe:null},et=!0):(et=!ge[0]||ge[0].trim()==="",_e={ethnicity:((Dt=ge[0])==null?void 0:Dt.trim())||null,secondaryTribe:((Gr=ge[1])==null?void 0:Gr.trim())||null}),et?Pe&&r({title:"Clearing tribe",description:"Removing tribe information...",duration:1500}):r({title:"Updating tribe",description:"Saving your tribe information...",duration:2e3});break}et&&(console.log(`Clearing field ${Q} with null value`),_e.clearingFields=!0);const Gt={...e};"location"in _e&&(Gt.location=_e.location),"countryOfOrigin"in _e&&(Gt.countryOfOrigin=_e.countryOfOrigin),"profession"in _e&&(Gt.profession=_e.profession),"religion"in _e&&(Gt.religion=_e.religion),"bio"in _e&&(Gt.bio=_e.bio),"ethnicity"in _e&&(Gt.ethnicity=_e.ethnicity),"secondaryTribe"in _e&&(Gt.secondaryTribe=_e.secondaryTribe),"relationshipStatus"in _e&&(Gt.relationshipStatus=_e.relationshipStatus),"relationshipGoal"in _e&&(Gt.relationshipGoal=_e.relationshipGoal),"highSchool"in _e&&(Gt.highSchool=_e.highSchool),"collegeUniversity"in _e&&(Gt.collegeUniversity=_e.collegeUniversity),"interests"in _e&&(Gt.interests=_e.interests),me.setQueryData(["/api/user"],Gt),Q==="tribe"&&Pe&&console.log("Force clearing tribe - ensuring immediate visual update"),console.log(`Optimistically updating ${Q} with data:`,_e),Ft.mutate({..._e,visibilityPreferences:JSON.stringify(at)}),(Q==="highSchool"||Q==="collegeUniversity")&&(console.log(` UNIFIED-EDUCATION: Education field ${Q} updated in MEET Profile, syncing to SUITE profiles`),(async()=>{try{const Cr=["networking","mentorship","job"];for(const Hr of Cr)try{(await fetch(`/api/suite/${Hr}-profile`,{credentials:"include"})).ok&&(await ze(`/api/suite/${Hr}-profile`,{method:"PATCH",data:_e}),console.log(` UNIFIED-EDUCATION: Synced ${Q} to ${Hr} profile`))}catch{console.log(` UNIFIED-EDUCATION: No ${Hr} profile to sync (this is normal)`)}}catch(Cr){console.error(" UNIFIED-EDUCATION: Error syncing education fields to SUITE profiles:",Cr)}})().then(()=>{["networking","mentorship","job"].forEach(Cr=>{me.invalidateQueries({queryKey:[`/api/suite/${Cr}-profile`]})}),console.log(" UNIFIED-EDUCATION: Invalidated SUITE profile caches for education field sync")})),jt(Qt=>(console.log("Saving visibility preferences:",Qt),Qt)),o(null)},dr=(Q,Pe=[])=>{if(!Q)return Pe;try{const Re=JSON.parse(Q);return Array.isArray(Re)?Re:Pe}catch(Re){return console.error("Error parsing JSON:",Re),Pe}},{data:Vt,isLoading:vn}=dt({queryKey:[`/api/preferences/${e==null?void 0:e.id}`],queryFn:async()=>{if(!(e!=null&&e.id))return null;try{const Q=await ze(`/api/preferences/${e==null?void 0:e.id}`,{method:"GET"});if(Q.status===404)return console.log("No dating preferences found for user"),null;if(!Q.ok)throw new Error("Failed to fetch user preferences");const Pe=await Q.json();return console.log("Fetched user preferences from API:",Pe),Pe}catch(Q){return console.error("Error fetching user preferences:",Q),null}},enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1}),Sn=wt({mutationFn:async()=>{const Q=await ze("/api/user/deactivate-profile",{method:"POST"});if(!Q.ok)throw new Error("Failed to deactivate profile");return Q.json()},onSuccess:()=>{if(me.invalidateQueries({queryKey:["/api/user"]}),e!=null&&e.id){const Q=e.id;["ageRange","height","bodyType","distance","religion","tribes","educationLevel","hasChildren","wantsChildren","lookingFor","dealBreakers","matchingPriorities","interests","relationshipGoalPreference"].forEach(Re=>{const _e=`dating_preferences_${Q}_${Re}`;try{localStorage.removeItem(_e)}catch(et){console.error(`Error removing ${_e} from localStorage:`,et)}}),console.log(`Cleared dating preferences localStorage cache for user ${Q}`)}me.invalidateQueries({queryKey:[`/api/preferences/${e==null?void 0:e.id}`]}),m(!1)},onError:Q=>{r({title:"Error",description:Q instanceof Error?Q.message:"Failed to deactivate profile",variant:"destructive"})}}),Rt={...e,datingPreferences:Vt?{ageRange:Vt.minAge&&Vt.maxAge?[Vt.minAge,Vt.maxAge]:void 0,height:Vt.minHeightPreference&&Vt.maxHeightPreference?[Vt.minHeightPreference,Vt.maxHeightPreference]:void 0,distance:Vt.distancePreference,religiousImportance:Vt.religiousImportance,lookingFor:Vt.relationshipGoalPreference,hasChildren:Vt.hasChildrenPreference==="true"?!0:Vt.hasChildrenPreference==="false"?!1:null,wantsChildren:Vt.wantsChildrenPreference==="true"?!0:Vt.wantsChildrenPreference==="false"?!1:null,religion:Vt.religionPreference?dr(Vt.religionPreference):[],tribes:Vt.ethnicityPreference?dr(Vt.ethnicityPreference):[],educationLevel:Vt.educationLevelPreference?dr(Vt.educationLevelPreference):[],bodyType:Vt.bodyTypePreference?dr(Vt.bodyTypePreference):[],dealBreakers:Vt.dealBreakers?dr(Vt.dealBreakers):[],interests:Vt.interestPreferences?dr(Vt.interestPreferences):[],matchingPriorities:Vt.matchingPriorities?dr(Vt.matchingPriorities):[]}:void 0},Te=Oe.length>0||Ze.length>0,Xe=[xt&&xt.length>0,!!e.fullName,!!e.dateOfBirth,!!e.phoneNumber,!!e.bio,!!e.location,!!e.countryOfOrigin,!!e.profession,...e.countryOfOrigin==="Ghana"||e.countryOfOrigin==="Ghanaian"?[!!e.ethnicity]:[],!!e.religion,!!e.educationLevel,...xr(e.dateOfBirth)?[!!e.highSchool,!!e.collegeUniversity]:[!!e.relationshipStatus,!!e.relationshipGoal],Te,...xr(e.dateOfBirth)?[]:[e.hasChildren!==void 0&&e.hasChildren!==null,e.wantsChildren!==void 0&&e.wantsChildren!==null,e.smoking!==void 0&&e.smoking!==null,e.drinking!==void 0&&e.drinking!==null,!!e.bodyType,!!e.height]],nt=[!!((Ae=Rt.datingPreferences)!=null&&Ae.ageRange),!!((st=Rt.datingPreferences)!=null&&st.religiousImportance)!==void 0,!!((Nt=(Pt=Rt.datingPreferences)==null?void 0:Pt.religion)!=null&&Nt.length),!!((Ce=Rt.datingPreferences)!=null&&Ce.distance),!!((qe=Rt.datingPreferences)!=null&&qe.lookingFor),...e.countryOfOrigin==="Ghana"||e.countryOfOrigin==="Ghanaian"?[!!((Mt=(Qe=Rt.datingPreferences)==null?void 0:Qe.tribes)!=null&&Mt.length)]:[],...xr(e.dateOfBirth)?[]:[!!((Ut=Rt.datingPreferences)!=null&&Ut.height),((Ct=Rt.datingPreferences)==null?void 0:Ct.hasChildren)!==void 0&&((ht=Rt.datingPreferences)==null?void 0:ht.hasChildren)!==null,((tr=Rt.datingPreferences)==null?void 0:tr.wantsChildren)!==void 0&&((we=Rt.datingPreferences)==null?void 0:we.wantsChildren)!==null,!!((ot=(pt=Rt.datingPreferences)==null?void 0:pt.dealBreakers)!=null&&ot.length),!!((bn=(qt=Rt.datingPreferences)==null?void 0:qt.bodyType)!=null&&bn.length)],!!((dn=(Cn=Rt.datingPreferences)==null?void 0:Cn.educationLevel)!=null&&dn.length),!!((D=(Ga=Rt.datingPreferences)==null?void 0:Ga.interests)!=null&&D.length),!!((Ke=(Ve=Rt.datingPreferences)==null?void 0:Ve.matchingPriorities)!=null&&Ke.length)],K=(()=>{var Gt,Dt,Gr,Qt,Cr,Hr,na,Ia,rr,ft,un,aa,rn,Rr,ya,ma,wn,Fn,va;const Q=Oe.length>0||Ze.length>0,Pe=[...Xe,...nt],Re=Pe.filter(Boolean).length,_e=Pe.length;return xr(e.dateOfBirth)&&console.log(" DETAILED COMPLETION DEBUG (Under 18):",{userId:e.id,age:e.dateOfBirth?new Date().getFullYear()-new Date(e.dateOfBirth).getFullYear():0,profileFieldsDetailed:{hasPhotos:!!(xt&&xt.length>0),fullName:!!e.fullName,dateOfBirth:!!e.dateOfBirth,phoneNumber:!!e.phoneNumber,bio:!!e.bio,location:!!e.location,countryOfOrigin:!!e.countryOfOrigin,profession:!!e.profession,ethnicity:!!e.ethnicity,religion:!!e.religion,educationLevel:!!e.educationLevel,relationshipStatus:!!e.relationshipStatus,relationshipGoal:!!e.relationshipGoal,highSchool:!!e.highSchool,collegeUniversity:!!e.collegeUniversity,hasInterests:Q,hasChildren:e.hasChildren!==void 0&&e.hasChildren!==null,wantsChildren:e.wantsChildren!==void 0&&e.wantsChildren!==null,smoking:e.smoking!==void 0&&e.smoking!==null,drinking:e.drinking!==void 0&&e.drinking!==null,bodyType:!!e.bodyType,height:!!e.height},rawProfileData:{hasPhotos:xt?xt.length:0,fullName:e.fullName,dateOfBirth:e.dateOfBirth,phoneNumber:e.phoneNumber,bio:e.bio,location:e.location,countryOfOrigin:e.countryOfOrigin,profession:e.profession,ethnicity:e.ethnicity,religion:e.religion,educationLevel:e.educationLevel,relationshipStatus:e.relationshipStatus,relationshipGoal:e.relationshipGoal,highSchool:e.highSchool,collegeUniversity:e.collegeUniversity,interestsCount:Oe.length+Ze.length,hasChildren:e.hasChildren,wantsChildren:e.wantsChildren,smoking:e.smoking,drinking:e.drinking,bodyType:e.bodyType,height:e.height},datingPreferenceFieldsDetailed:{ageRange:!!((Gt=Rt.datingPreferences)!=null&&Gt.ageRange),height:!!((Dt=Rt.datingPreferences)!=null&&Dt.height),religiousImportance:!!((Gr=Rt.datingPreferences)!=null&&Gr.religiousImportance)!==void 0,religionPreference:!!((Cr=(Qt=Rt.datingPreferences)==null?void 0:Qt.religion)!=null&&Cr.length),preferredDistance:!!((Hr=Rt.datingPreferences)!=null&&Hr.distance),relationshipGoals:!!((na=Rt.datingPreferences)!=null&&na.lookingFor),ghanaianTribes:!!((rr=(Ia=Rt.datingPreferences)==null?void 0:Ia.tribes)!=null&&rr.length),educationLevel:!!((un=(ft=Rt.datingPreferences)==null?void 0:ft.educationLevel)!=null&&un.length),dealBreakers:!!((rn=(aa=Rt.datingPreferences)==null?void 0:aa.dealBreakers)!=null&&rn.length),interestsPreference:!!((ya=(Rr=Rt.datingPreferences)==null?void 0:Rr.interests)!=null&&ya.length),bodyType:!!((wn=(ma=Rt.datingPreferences)==null?void 0:ma.bodyType)!=null&&wn.length),matchingPriorities:!!((va=(Fn=Rt.datingPreferences)==null?void 0:Fn.matchingPriorities)!=null&&va.length)},summary:{profileFieldsCount:Xe.length,profileFieldsCompleted:Xe.filter(Boolean).length,datingPreferenceFieldsCount:nt.length,datingPreferenceFieldsCompleted:nt.filter(Boolean).length,totalFields:_e,completedFields:Re,percentage:Math.round(Re/_e*100)}}),Math.round(Re/_e*100)})(),je=Q=>Q<20?"#cc0000":Q<40?"#ff4500":Q<60?"#ffc107":Q<80?"#90ee90":Q<100?"#32cd32":"#006400";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pb-0 relative",children:[t.jsxs("div",{className:"w-full flex flex-col items-center relative",children:[t.jsxs("div",{className:"relative w-full h-20",children:[t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-purple-600 to-pink-500",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"cover",backgroundPosition:"center"}}),t.jsx("div",{className:"absolute bottom-6 left-4 z-40",children:e.profileHidden?t.jsxs(St,{className:"flex items-center gap-1.5 bg-gradient-to-r from-gray-500 to-slate-500 hover:from-gray-600 hover:to-slate-600 text-white border-0 shadow-lg transition-all duration-200 rounded-full px-3 py-1.5",children:[t.jsx("div",{className:"w-2 h-2 bg-white/70 rounded-full"}),t.jsx("span",{className:"text-xs font-medium",children:n("profile.inactive")||"Inactive"})]}):t.jsxs(St,{className:"flex items-center gap-1.5 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white border-0 shadow-lg transition-all duration-200 rounded-full px-3 py-1.5",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),t.jsx("span",{className:"text-xs font-medium",children:n("profile.active")||"Active"})]})}),!e.profileHidden&&t.jsx("div",{className:"absolute bottom--1 right-4 z-50",children:t.jsxs(de,{variant:"outline",size:"sm",className:"flex items-center gap-1 border border-red-300 dark:border-red-700 bg-white/95 hover:bg-red-50/100 dark:bg-gray-800/95 dark:hover:bg-red-900/20 shadow-md transition-colors pointer-events-auto rounded-full px-2 py-1",onClick:()=>m(!0),children:[t.jsx(Zn,{className:"h-3 w-3 text-red-500 dark:text-red-400"}),t.jsx("span",{className:"text-[10px] font-medium text-red-600 dark:text-red-400",children:"Delete"})]})}),t.jsx("div",{className:"absolute bottom-6 right-4 z-40",children:t.jsx(de,{variant:"outline",size:"sm",className:"flex items-center gap-1.5 border-2 border-pink-300 dark:border-pink-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-3",onClick:()=>c(!l),children:l?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-3.5 w-3.5 text-pink-500 dark:text-pink-400"}),t.jsx("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:n("profile.hidePreview")})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:n("profile.showPreview")}),t.jsx(At,{className:"h-3.5 w-3.5 ml-1 text-purple-500 dark:text-purple-400"})]})})}),t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(8)].map((Q,Pe)=>t.jsx(E.div,{className:"absolute text-white opacity-30",initial:{x:`${Math.random()*100}%`,y:"100%",scale:.3+Math.random()*.7},animate:{y:"-20%",rotate:Math.random()*360,transition:{repeat:1/0,duration:10+Math.random()*20,delay:Math.random()*5,ease:"linear"}},children:t.jsx(Yt,{fill:Math.random()>.5?"#fff":"none",size:20+Math.random()*20})},Pe))})]}),!l&&t.jsxs("div",{className:"relative -mt-14",children:[t.jsx(E.div,{whileHover:{scale:1.05},onClick:()=>s(!a),className:"cursor-pointer",children:bu(e,L)&&e.photoUrl?t.jsx("div",{className:"relative",children:t.jsx(qs,{imageUrl:e.photoUrl||void 0,size:"xl",allowRotate:!0,fallbackInitials:((Ot=e.fullName)==null?void 0:Ot.substring(0,2))||"",className:"w-28 h-28 border-4 border-white dark:border-gray-800 shadow-lg"})}):t.jsx("div",{className:"w-28 h-28 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center border-4 border-white dark:border-gray-800 shadow-lg",children:bu(e,L)?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-14 w-14 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"12",cy:"7",r:"4"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-14 w-14 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2",ry:"2"}),t.jsx("circle",{cx:"12",cy:"16",r:"1"}),t.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})}),t.jsx("div",{className:"absolute bottom-1 right-1 z-30",children:t.jsx(uj,{userId:e.id,photoId:(Nr=xt==null?void 0:xt.find(Q=>Q.isPrimary))==null?void 0:Nr.id,currentPhotoUrl:e.photoUrl,className:"bg-purple-500 hover:bg-purple-600 text-white border-white",useCamera:!0})})]})]}),l&&t.jsx("div",{className:"mt-0 mb-6 px-4 block relative z-40 bg-white dark:bg-gray-900 pt-4 pb-2 rounded-lg",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex flex-col gap-0 mt-[-8px]",children:[t.jsx("h3",{className:"text-center text-sm font-semibold text-purple-800 dark:text-purple-300 mt-0 mb-0 leading-none",children:n("profile.profilePreview")}),t.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-0 mb-1 leading-none pt-1",children:n("profile.previewDescription")})]}),t.jsx("div",{className:"w-full h-[480px] mx-auto border-2 border-white dark:border-gray-700 rounded-2xl shadow-lg overflow-hidden",children:t.jsx("div",{className:"h-full flex flex-col relative",children:t.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[q&&ye.photoUrl?t.jsx("img",{src:ye.photoUrl,className:"w-full h-full object-cover",alt:`${ye.fullName}'s profile`}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/50 dark:to-pink-900/50",children:t.jsxs("div",{className:"p-6 text-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md",children:[t.jsx("span",{className:"text-4xl font-bold text-purple-300 dark:text-purple-200 block mb-2",children:((Fr=ye.fullName)==null?void 0:Fr.charAt(0))||"?"}),t.jsx("span",{className:"text-purple-500 dark:text-purple-300 font-medium",children:q?"No Photo Available":"Photo Hidden"})]})}),(ye==null?void 0:ye.isVerified)&&t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[8px] font-bold shadow-[0_2px_8px_rgba(34,197,94,0.3),0_1px_4px_rgba(34,197,94,0.2),inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)] overflow-hidden border border-emerald-300/40 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2 w-2 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 via-black/40 to-transparent px-4 pt-14 pb-3 flex flex-col",children:[t.jsxs("div",{className:"flex flex-col mb-1",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient",children:[t.jsx("span",{className:"text-4xl",children:ye.fullName.split(" ")[0].charAt(0)}),ye.fullName.split(" ")[0].slice(1),!Ece(ye,ye.premiumAccess||!1)&&`, ${Ir(ye.dateOfBirth)}`]})}),ye.countryOfOrigin&&at.countryOfOrigin&&t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($n,{className:"h-3 w-3 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[t.jsx("span",{className:"font-medium text-xs text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:sc(ye.countryOfOrigin)}),ye.secondaryCountryOfOrigin&&t.jsxs("span",{className:"font-medium text-xs text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] opacity-90",children:["/ ",sc(ye.secondaryCountryOfOrigin)]})]})]})]}),ye.ethnicity&&at.tribe&&!ye.secondaryTribe&&t.jsx("div",{className:"flex justify-end mb-1",children:t.jsx(St,{className:"bg-gradient-to-r from-purple-600/90 to-fuchsia-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient",children:ye.ethnicity})}),ye.ethnicity&&at.tribe&&ye.secondaryTribe&&t.jsx("div",{className:"flex justify-end mb-1",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(St,{className:"bg-gradient-to-r from-purple-600/90 to-fuchsia-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient",children:ye.ethnicity}),t.jsx(St,{className:"bg-gradient-to-r from-fuchsia-600/90 to-purple-600/90 text-white shadow-md text-xs py-0.5 px-2 border-0 static-gradient",children:ye.secondaryTribe})]})})]}),ye.location&&at.residence&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{className:"font-medium text-sm text-orange-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:ye.location})]}),ye.profession&&at.profession&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(zr,{className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-sky-400 to-teal-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:ye.profession})]}),ye.religion&&at.religion&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx("span",{className:"text-pink-500 mr-1.5 text-sm drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",children:""}),t.jsx("span",{className:"font-medium text-sm text-pink-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:(()=>{const Q=Yg(ye.religion);return ye.religion.startsWith("islam-")?Q:Q.includes(" - ")?Q.split(" - ")[1]:Q})()})]}),ye.relationshipStatus&&at.relationshipStatus&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm text-rose-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:["Status: ",ye.relationshipStatus]})]}),ye.relationshipGoal&&at.relationshipGoal&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ng,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"bg-gradient-to-r from-rose-300 to-red-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient no-animation",children:["Looking for: ",ye.relationshipGoal]})]}),ye.bio&&at.bio&&t.jsx("div",{className:"mb-2 rounded-md overflow-hidden",children:t.jsx("p",{className:"text-white/95 leading-tight text-xs font-medium bg-gradient-to-r from-black/15 to-purple-900/15 p-2 rounded-md drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:ye.bio})}),ye.highSchool&&at.highSchool&&t.jsxs("div",{className:"flex items-center mb-1.5","data-field":"highSchool",children:[t.jsx(vu,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:["High School: ",ye.highSchool]})]}),ye.collegeUniversity&&at.collegeUniversity&&t.jsxs("div",{className:"flex items-center mb-1.5","data-field":"collegeUniversity",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"font-medium text-sm bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:["Education: ",ye.collegeUniversity]})]}),at.interests&&(te?t.jsxs("div",{className:"mb-2",children:[t.jsxs("span",{className:"font-semibold text-white text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:[n("app.topInterests"),":"]}),t.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:[t.jsx("div",{className:"h-5 w-16 rounded bg-white/20 animate-pulse"}),t.jsx("div",{className:"h-5 w-20 rounded bg-white/20 animate-pulse"}),t.jsx("div",{className:"h-5 w-14 rounded bg-white/20 animate-pulse"})]})]}):Array.isArray(Oe)&&Oe.length>0?t.jsxs("div",{className:"mb-2",children:[t.jsxs("span",{className:"font-semibold text-white text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:[n("app.topInterests"),":"]}),t.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:Oe.slice(0,3).map((Q,Pe)=>{const Re=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90","from-teal-500/90 to-cyan-500/90"],_e=Re[Pe%Re.length];return t.jsx(St,{className:`bg-gradient-to-r ${_e} text-white shadow-lg text-xs py-0 px-2.5 border-0 static-gradient no-animation`,children:Q},`${e.id}-${Pe}`)})})]}):null)]})]})})})]})}),t.jsxs("div",{className:"mt-1 px-5 text-center",children:[t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1}}),t.jsxs("div",{className:"mt-2 mb-3",children:[t.jsxs("div",{className:"relative h-5 w-72 bg-gray-200 rounded-full mx-auto border border-gray-300 dark:border-gray-600 overflow-hidden",children:[t.jsx(E.div,{initial:{width:"0%"},animate:{width:`${K}%`},transition:{duration:.5,ease:"easeOut",delay:.1},className:"h-full rounded-full transition-all duration-500 ease-out",style:{backgroundColor:je(K),boxShadow:K>0?`0 0 10px ${je(K)}`:"none"},children:t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-white/20 rounded-t-full"})}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("span",{className:"text-xs font-bold drop-shadow-[0_0px_2px_rgba(0,0,0,0.7)]",style:{color:"#ffffff",textShadow:"0px 0px 3px rgba(0,0,0,0.9), 0px 0px 6px rgba(255,255,255,0.5)"},children:[K,"% complete"]})})]}),t.jsx("div",{className:"flex flex-col items-center mt-1",children:K<100?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 italic",children:"Complete your profile to improve matches"}),K<100&&t.jsxs("div",{className:"mt-1 text-xs flex flex-wrap justify-center gap-1 max-w-md",children:[(!xt||xt.length===0)&&t.jsxs("span",{onClick:()=>{var Q;return(Q=document.getElementById("photos-section"))==null?void 0:Q.scrollIntoView({behavior:"smooth"})},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(Ln,{className:"inline-block h-2 w-2 mr-0.5"}),"Photos"]}),!e.location&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("residence-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("residence"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(ta,{className:"inline-block h-2 w-2 mr-0.5"}),"Residence"]}),!e.relationshipGoal&&!xr(e.dateOfBirth)&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("relationship-goals-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("relationshipGoal"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(ng,{className:"inline-block h-2 w-2 mr-0.5"}),"Relationship Goals"]}),!e.bio&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("bio-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("bio"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(vu,{className:"inline-block h-2 w-2 mr-0.5"}),"Bio"]}),!e.countryOfOrigin&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("countryOfOrigin-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("countryOfOrigin"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx($n,{className:"inline-block h-2 w-2 mr-0.5"}),"Nationality"]}),!e.profession&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("profession-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("profession"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(zr,{className:"inline-block h-2 w-2 mr-0.5"}),"Profession"]}),!e.ethnicity&&(e.countryOfOrigin==="Ghana"||e.countryOfOrigin==="Ghanaian")&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("tribe-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("tribe"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(jp,{className:"inline-block h-2 w-2 mr-0.5"}),"Tribe"]}),!e.religion&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("religion-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("religion"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx("span",{className:"inline-block mr-0.5",children:""}),"Religion"]}),!Te&&t.jsxs("span",{onClick:()=>{var Q;return(Q=document.getElementById("interests-section"))==null?void 0:Q.scrollIntoView({behavior:"smooth"})},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(Yt,{className:"inline-block h-2 w-2 mr-0.5"}),"Interests"]}),!e.relationshipStatus&&!xr(e.dateOfBirth)&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("relationship-goals-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("relationshipStatus"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(Yt,{className:"inline-block h-2 w-2 mr-0.5"}),"Relationship Status"]}),!e.educationLevel&&t.jsxs("span",{onClick:()=>{var Q;(Q=document.getElementById("education-section"))==null||Q.scrollIntoView({behavior:"smooth"}),setTimeout(()=>Bt("educationLevel"),800)},className:"px-1.5 py-0.5 bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-300 rounded-full text-[10px] border border-orange-200 dark:border-orange-700 cursor-pointer hover:bg-orange-200 dark:hover:bg-orange-800/40 transition-colors",children:[t.jsx(Qr,{className:"inline-block h-2 w-2 mr-0.5"}),"Education Level"]}),!xr(e.dateOfBirth)&&(e.hasChildren===void 0||e.hasChildren===null)&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(o1,{className:"inline-block h-2 w-2 mr-0.5"}),"Have Children"]}),!xr(e.dateOfBirth)&&(e.wantsChildren===void 0||e.wantsChildren===null)&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(lC,{className:"inline-block h-2 w-2 mr-0.5"}),"Want Children"]}),!xr(e.dateOfBirth)&&(e.smoking===void 0||e.smoking===null)&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(gn,{className:"inline-block h-2 w-2 mr-0.5"}),"Smoking"]}),!xr(e.dateOfBirth)&&(e.drinking===void 0||e.drinking===null)&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(gn,{className:"inline-block h-2 w-2 mr-0.5"}),"Drinking"]}),!xr(e.dateOfBirth)&&!e.bodyType&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(u1,{className:"inline-block h-2 w-2 mr-0.5"}),"Body Type"]}),!xr(e.dateOfBirth)&&!e.height&&t.jsxs("span",{onClick:()=>{p(!0),setTimeout(()=>{var Q;(Q=document.getElementById("optional-section"))==null||Q.scrollIntoView({behavior:"smooth"})},100)},className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 rounded-full text-[10px] border border-blue-200 dark:border-blue-700 cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",children:[t.jsx(d1,{className:"inline-block h-2 w-2 mr-0.5"}),"Height"]}),!((Br=Rt.datingPreferences)!=null&&Br.ageRange)&&t.jsx(as,{to:"/dating-preferences?section=basics&field=ageRange",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Age Range"]})}),!xr(e.dateOfBirth)&&!((ra=Rt.datingPreferences)!=null&&ra.height)&&t.jsx(as,{to:"/dating-preferences?section=basics&field=height",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Height Range"]})}),!((Va=(fs=Rt.datingPreferences)==null?void 0:fs.religion)!=null&&Va.length)&&t.jsx(as,{to:"/dating-preferences?section=background&field=religion",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Religion Preferences"]})}),!xr(e.dateOfBirth)&&(((gi=Rt.datingPreferences)==null?void 0:gi.hasChildren)===void 0||((qd=Rt.datingPreferences)==null?void 0:qd.hasChildren)===null)&&t.jsx(as,{to:"/dating-preferences?section=lifestyle&field=hasChildren",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(BG,{className:"inline-block h-2 w-2 mr-0.5"}),"Has Children"]})}),!xr(e.dateOfBirth)&&(((Fo=Rt.datingPreferences)==null?void 0:Fo.wantsChildren)===void 0||((Oc=Rt.datingPreferences)==null?void 0:Oc.wantsChildren)===null)&&t.jsx(as,{to:"/dating-preferences?section=lifestyle&field=wantsChildren",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Yt,{className:"inline-block h-2 w-2 mr-0.5"}),"Wants Children"]})}),!((he=(Y=Rt.datingPreferences)==null?void 0:Y.educationLevel)!=null&&he.length)&&t.jsx(as,{to:"/dating-preferences?section=background&field=educationLevel",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Education Level"]})}),!xr(e.dateOfBirth)&&!((xe=(W=Rt.datingPreferences)==null?void 0:W.dealBreakers)!=null&&xe.length)&&t.jsx(as,{to:"/dating-preferences?section=dealbreakers&field=dealBreakers",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Deal Breakers"]})}),!xr(e.dateOfBirth)&&!((Ee=(fe=Rt.datingPreferences)==null?void 0:fe.bodyType)!=null&&Ee.length)&&t.jsx(as,{to:"/dating-preferences?section=basics&field=bodyType",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Body Type"]})}),!((Ie=(ve=Rt.datingPreferences)==null?void 0:ve.interests)!=null&&Ie.length)&&t.jsx(as,{to:"/dating-preferences?section=lifestyle&field=interests",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Interest Preferences"]})}),!((j=(Fe=Rt.datingPreferences)==null?void 0:Fe.matchingPriorities)!=null&&j.length)&&t.jsx(as,{to:"/dating-preferences?section=lifestyle&field=matchingPriorities",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Matching Priorities"]})}),!((ne=Rt.datingPreferences)!=null&&ne.distance)&&t.jsx(as,{to:"/dating-preferences?section=basics&field=distance",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Preferred Distance"]})}),!((oe=Rt.datingPreferences)!=null&&oe.lookingFor)&&t.jsx(as,{to:"/dating-preferences?section=dealbreakers&field=lookingFor",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Relationship Goals"]})}),(e.countryOfOrigin==="Ghana"||e.countryOfOrigin==="Ghanaian")&&!((Be=(Me=Rt.datingPreferences)==null?void 0:Me.tribes)!=null&&Be.length)&&t.jsx(as,{to:"/dating-preferences?section=background&field=tribes",children:t.jsxs("span",{className:"px-1.5 py-0.5 bg-pink-100 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300 rounded-full text-[10px] border border-pink-200 dark:border-pink-700 cursor-pointer hover:bg-pink-200 dark:hover:bg-pink-800/40 transition-colors",children:[t.jsx(Mn,{className:"inline-block h-2 w-2 mr-0.5"}),"Ghanaian Tribes"]})})]})]}):t.jsx("p",{className:"text-xs font-medium italic",style:{color:"#006400",textShadow:"0px 0px 5px rgba(255,255,255,0.7)",background:"rgba(255,255,255,0.3)",padding:"1px 8px",borderRadius:"8px",border:"1px solid rgba(0,100,0,0.3)"},children:"Your profile is complete! "})})]})]}),t.jsxs("div",{className:"px-5 mb-6",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wide",children:n("profile.myInfo")}),t.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.jsxs("div",{id:"residence-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(ta,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.residence")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("residence"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.residence,onCheckedChange:()=>vt("residence"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="residence"?t.jsxs("div",{className:"mt-2",children:[t.jsx(km,{initialValue:f,onLocationSelect:x,placeholder:n("profile.enterCityCountry"),className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("residence",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("residence"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.location||n("profile.notSpecified")})]}),t.jsxs("div",{id:"nationality-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx($n,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.nationality")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("countryOfOrigin"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.countryOfOrigin,onCheckedChange:()=>vt("countryOfOrigin"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="countryOfOrigin"?t.jsxs("div",{className:"mt-2 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:"Primary Nationality"}),t.jsx(k4,{value:g,onChange:v,placeholder:"Select your primary nationality",className:"text-xs border-pink-200"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:["Secondary Nationality ",t.jsx("span",{className:"text-gray-500",children:"(Optional - for dual citizenship)"})]}),t.jsx(k4,{value:y,onChange:b,placeholder:"Select your secondary nationality",className:"text-xs border-pink-200"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>{$t("countryOfOrigin",!0),$t("secondaryCountryOfOrigin",!0)},className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>{$t("countryOfOrigin"),y.trim()?$t("secondaryCountryOfOrigin"):$t("secondaryCountryOfOrigin",!0)},className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("div",{className:"mt-1",children:e.countryOfOrigin?t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(St,{className:"bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white shadow-sm text-xs py-0.5 px-2 border-0",children:e.countryOfOrigin}),e.secondaryCountryOfOrigin&&t.jsx(St,{className:"bg-gradient-to-r from-fuchsia-500 to-purple-500 text-white shadow-sm text-xs py-0.5 px-2 border-0",children:e.secondaryCountryOfOrigin})]}):t.jsx("p",{className:"text-sm",children:n("profile.notSpecified")})})]}),(g==="Ghana"||g==="Ghanaian"||e.countryOfOrigin==="Ghana"||e.countryOfOrigin==="Ghanaian")&&t.jsxs("div",{id:"tribe-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(jp,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.tribe")]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>Bt("tribe"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.tribe,onCheckedChange:()=>vt("tribe"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="tribe"?t.jsxs("div",{className:"mt-2",children:[t.jsx(s0e,{value:ge,onChange:ke,maxSelections:2,className:"text-xs",placeholder:n("profile.selectTribes")}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("tribe",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("tribe"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("div",{className:"flex flex-col gap-1 mt-1",children:t.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.jsx(St,{className:"bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white shadow-sm text-xs py-0.5 px-2 border-0",children:e.ethnicity||n("profile.notSpecified")}),e.secondaryTribe&&t.jsx(St,{className:"bg-gradient-to-r from-fuchsia-500 to-purple-500 text-white shadow-sm text-xs py-0.5 px-2 border-0",children:e.secondaryTribe})]})})]}),t.jsxs("div",{id:"profession-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(zr,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.profession")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("profession"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.profession,onCheckedChange:()=>vt("profession"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="profession"?t.jsxs("div",{className:"mt-2",children:[t.jsx(Je,{value:w,onChange:Q=>S(Q.target.value),placeholder:n("profile.enterProfession"),className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("profession",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("profession"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.profession||n("profile.notSpecified")})]}),t.jsxs("div",{id:"religion-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx("span",{className:"text-pink-500 mr-1.5 text-sm",children:""}),n("profile.religion")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("religion"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.religion,onCheckedChange:()=>vt("religion"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="religion"?t.jsxs("div",{className:"mt-2",children:[t.jsx(dde,{value:N,onValueChange:Q=>P(Q),placeholder:n("profile.selectReligion"),allowClear:!1}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("religion",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("religion"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.religion?Yg(e.religion):n("profile.notSpecified")})]}),t.jsxs("div",{id:"bio-section",className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(hn,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.aboutMe")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("bio"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.bio,onCheckedChange:()=>vt("bio"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="bio"?t.jsxs("div",{className:"mt-2",children:[t.jsx(Je,{value:C,onChange:Q=>I(Q.target.value),placeholder:n("profile.tellAboutYourself"),className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("bio",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("bio"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.bio||n("profile.notSpecified")})]})]})]}),t.jsxs("div",{className:"px-5 mb-6",id:"photos-section",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide flex items-center",children:[t.jsx(Ln,{className:"h-4 w-4 mr-2 text-pink-500"}),n("profile.myPhotosHeader")]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:n("profile.showPhoto")}),t.jsx(Ye,{checked:q,className:"scale-75 origin-left data-[state=checked]:bg-purple-500",onCheckedChange:Q=>{H(Q);const Pe={...e,showProfilePhoto:Q};me.setQueryData(["/api/user"],Pe);const Re={...at,photos:Q};jt(Re),Ft.mutate({showProfilePhoto:Q,visibilityPreferences:JSON.stringify(Re)})},"aria-label":"Toggle profile photo visibility"})]})]}),t.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:jr?t.jsx("div",{className:"col-span-3 flex justify-center py-4",children:t.jsx(sn,{className:"h-6 w-6 animate-spin text-purple-500"})}):t.jsx(t.Fragment,{children:!xt||xt.length===0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center cursor-pointer bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-dashed border-purple-300 dark:border-purple-600",children:t.jsxs(QL,{userId:e.id,currentPhotoUrl:e.photoUrl,variant:"ghost",className:"w-full h-full flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500 flex items-center justify-center mb-1",children:t.jsx("span",{className:"text-white text-2xl font-light",children:"+"})}),t.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:n("profile.addPhoto")})]})}),t.jsx("div",{className:"col-span-2 flex items-center justify-center",children:t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:n("profile.noPhotosYet")})})]}):t.jsxs(t.Fragment,{children:[xt.map(Q=>t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden group",children:[t.jsx("img",{src:Q.photoUrl,alt:n("profile.userPhoto"),className:"w-full h-full object-cover",loading:"eager"}),Q.isPrimary&&t.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg z-10",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:t.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})})}),Q.isPrimary&&t.jsx("div",{className:"absolute bottom-2 right-2 z-20",children:t.jsx(uj,{userId:e.id,photoId:Q.id,currentPhotoUrl:Q.photoUrl})}),!Q.isPrimary&&t.jsxs("div",{className:"absolute top-2 right-2 flex flex-col space-y-1 z-10",children:[t.jsx("button",{className:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg hover:bg-red-600 transition-colors",onClick:()=>ut.mutate(Q.id),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})}),t.jsx("button",{className:"bg-gray-100 text-gray-600 rounded-full w-6 h-6 flex items-center justify-center shadow-lg hover:bg-yellow-100 hover:text-yellow-600 transition-colors",onClick:()=>cr.mutate(Q.id),children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]})]},Q.id)),t.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center cursor-pointer bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20 border-2 border-dashed border-purple-300 dark:border-purple-600",children:[t.jsxs(de,{variant:"ghost",className:"w-full h-full flex flex-col items-center justify-center",onClick:()=>{var Q;return(Q=zt.current)==null?void 0:Q.click()},children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500 flex items-center justify-center mb-1",children:t.jsx("span",{className:"text-white text-2xl font-light",children:"+"})}),t.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:n("profile.addPhoto")})]}),t.jsx("input",{type:"file",ref:zt,className:"hidden",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:Wt})]})]})})})]}),t.jsxs("div",{className:"px-5 mb-6",id:"interests-section",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wide flex items-center",children:[t.jsx(vu,{className:"h-4 w-4 mr-2 text-pink-500"}),n("profile.myInterests")]}),t.jsx(Zfe,{userId:e.id,onToggleVisibility:vt,isVisible:at.interests})]}),!xr(e.dateOfBirth)&&t.jsxs("div",{id:"relationship-goals-section",className:"px-5 mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wide flex items-center",children:[t.jsx(ng,{className:"h-4 w-4 mr-2 text-pink-500"}),"MY ",n("profile.relationshipGoalsSection")]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4 mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(Yt,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.myRelationshipStatus")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("relationshipStatus"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.relationshipStatus,onCheckedChange:()=>vt("relationshipStatus"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="relationshipStatus"?t.jsxs("div",{className:"mt-2",children:[t.jsx(o0e,{value:T,onChange:_,placeholder:"Select your relationship status",className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("relationshipStatus",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("relationshipStatus"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.relationshipStatus||n("profile.notSpecified")})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4 mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(lC,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.whatImLookingFor")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("relationshipGoal"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.relationshipGoal,onCheckedChange:()=>vt("relationshipGoal"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="relationshipGoal"?t.jsxs("div",{className:"mt-2",children:[t.jsx(Je,{value:k,onChange:Q=>A(Q.target.value),placeholder:n("profile.whatAreYouLookingFor"),className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("relationshipGoal",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("relationshipGoal"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.relationshipGoal||n("profile.notSpecified")})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(FN,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),"Matching Priorities"]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{onClick:()=>Bt("matchingPriorities"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})})})]}),i==="matchingPriorities"?t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2",children:["values","personality","looks","career","religion","tribe","intellect"].map(Q=>{const Pe={values:"Values",personality:"Personality",looks:"Attraction",career:"Career",religion:"Religion",tribe:"Culture",intellect:"Intelligence"},Re=De.includes(Q);return t.jsx("div",{className:`p-2 rounded-md border cursor-pointer transition-all duration-150 text-center ${Re?"bg-amber-50 border-amber-300 text-amber-800 dark:bg-amber-900/30 dark:border-amber-600 dark:text-amber-300":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-gray-800/50 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700/50"}`,onClick:()=>{se(Re?De.filter(_e=>_e!==Q):[...De,Q])},children:t.jsxs("div",{className:"flex items-center justify-center space-x-1.5",children:[t.jsx("div",{className:`w-3 h-3 rounded-full border flex items-center justify-center ${Re?"bg-amber-500 border-amber-500":"border-gray-300 dark:border-gray-500"}`,children:Re&&t.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),t.jsx("span",{className:"text-xs font-medium",children:Pe[Q]})]})},Q)})}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("matchingPriorities",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("matchingPriorities"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("div",{className:"mt-1",children:De.length>0?t.jsxs("div",{className:"flex flex-wrap gap-1",children:[De.slice(0,4).map(Q=>{const Pe={values:"Values",personality:"Personality",looks:"Attraction",career:"Career",religion:"Religion",tribe:"Culture",intellect:"Intelligence"};return t.jsx("span",{className:"inline-block bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300 text-xs px-2 py-0.5 rounded-full font-medium",children:Pe[Q]},Q)}),De.length>4&&t.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",De.length-4]})]}):t.jsx("p",{className:"text-sm mt-1",children:n("profile.notSpecified")})})]})]}),t.jsxs("div",{id:"education-section",className:"px-5 mb-6",children:[t.jsxs("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wide flex items-center",children:[t.jsx(Qr,{className:"h-4 w-4 mr-2 text-pink-500"}),"MY ",n("profile.educationSection")," ",t.jsxs("span",{className:"text-[10px] normal-case font-normal ml-1 opacity-70",children:["(",n("profile.optional")," - Your Information)"]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4 mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(Qr,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),"Education Level"]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{onClick:()=>Bt("educationLevel"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})})})]}),i==="educationLevel"?t.jsxs("div",{className:"mt-2",children:[t.jsxs(fr,{value:Se,onValueChange:Ue,children:[t.jsx(hr,{className:"text-xs border-pink-200",children:t.jsx(gr,{placeholder:"Select level"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"high_school",children:"High School"}),t.jsx(G,{value:"vocational",children:"Vocational"}),t.jsx(G,{value:"bachelors",children:"Bachelor's"}),t.jsx(G,{value:"masters",children:"Master's"}),t.jsx(G,{value:"doctorate",children:"Doctorate+"})]})]}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("educationLevel",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("educationLevel"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:Se==="high_school"?"High School":Se==="vocational"?"Vocational":Se==="bachelors"?"Bachelor's":Se==="masters"?"Master's":Se==="doctorate"?"Doctorate+":n("profile.notSpecified")})]}),Se&&t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4 mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(vu,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.highSchool")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("highSchool"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.highSchool,onCheckedChange:()=>vt("highSchool"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="highSchool"?t.jsxs("div",{className:"mt-2",children:[t.jsx(Je,{value:F,onChange:Q=>V(Q.target.value),placeholder:"Enter your high school name",className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("highSchool",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("highSchool"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.highSchool||n("profile.notSpecified")})]}),Se&&Se!=="high_school"&&t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(Qr,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.vocationalCollegeUniversity")]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Bt("collegeUniversity"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n("profile.show")}),t.jsx(Ye,{checked:at.collegeUniversity,onCheckedChange:()=>vt("collegeUniversity"),className:"data-[state=checked]:bg-purple-500"})]})]})]}),i==="collegeUniversity"?t.jsxs("div",{className:"mt-2",children:[t.jsx(Je,{value:J,onChange:Q=>M(Q.target.value),placeholder:"Enter your vocational school, college, or university name",className:"text-xs border-pink-200"}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("collegeUniversity",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("collegeUniversity"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.collegeUniversity||n("profile.notSpecified")})]})]}),!xr(e.dateOfBirth)&&!h&&t.jsx("div",{className:"mt-6 mb-4",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>p(!0),className:"w-full h-10 text-sm text-gray-600 hover:text-purple-600 border-gray-200 hover:border-purple-300 dark:text-gray-400 dark:hover:text-purple-400 dark:border-gray-700 dark:hover:border-purple-600",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),n("profile.showOptionalFields")]})}),!xr(e.dateOfBirth)&&h&&t.jsxs("div",{id:"optional-section",className:"mt-6 mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2 text-pink-500"}),n("profile.optionalSection"),t.jsx("span",{className:"text-xs font-normal ml-2 opacity-70",children:"- Your Personal Details"})]}),t.jsx(de,{size:"sm",variant:"ghost",onClick:()=>p(!1),className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:t.jsx(ON,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mb-4",children:t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"These are your personal details, not your preferences for others"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-3",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("h3",{className:"text-xs font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(o1,{className:"h-3 w-3 mr-1 text-pink-500"}),n("profile.haveChildren")]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(de,{size:"sm",variant:ae==="yes"?"default":"outline",onClick:async()=>{ae==="yes"?($(""),await rt({hasChildren:null})):($("yes"),await rt({hasChildren:"yes"}))},className:`flex-1 h-7 text-xs px-2 ${ae==="yes"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Yes"}),t.jsx(de,{size:"sm",variant:ae==="no"?"default":"outline",onClick:async()=>{ae==="no"?($(""),await rt({hasChildren:null})):($("no"),await rt({hasChildren:"no"}))},className:`flex-1 h-7 text-xs px-2 ${ae==="no"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"No"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-3",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("h3",{className:"text-xs font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(Yt,{className:"h-3 w-3 mr-1 text-pink-500"}),n("profile.wantChildren")]})}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(de,{size:"sm",variant:re==="yes"?"default":"outline",onClick:async()=>{re==="yes"?(le(""),await rt({wantsChildren:null})):(le("yes"),await rt({wantsChildren:"yes"}))},className:`flex-1 h-7 text-xs px-2 ${re==="yes"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Yes"}),t.jsx(de,{size:"sm",variant:re==="no"?"default":"outline",onClick:async()=>{re==="no"?(le(""),await rt({wantsChildren:null})):(le("no"),await rt({wantsChildren:"no"}))},className:`flex-1 h-7 text-xs px-2 ${re==="no"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"No"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-3",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("h3",{className:"text-xs font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(mm,{className:"h-3 w-3 mr-1 text-pink-500"}),"Smoking"]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(de,{size:"sm",variant:ce==="yes"?"default":"outline",onClick:async()=>{ce==="yes"?(ue(""),await rt({smoking:null})):(ue("yes"),await rt({smoking:"yes"}))},className:`flex-1 h-7 text-xs px-2 ${ce==="yes"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Yes"}),t.jsx(de,{size:"sm",variant:ce==="no"?"default":"outline",onClick:async()=>{ce==="no"?(ue(""),await rt({smoking:null})):(ue("no"),await rt({smoking:"no"}))},className:`flex-1 h-7 text-xs px-2 ${ce==="no"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"No"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-3",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("h3",{className:"text-xs font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(mm,{className:"h-3 w-3 mr-1 text-pink-500"}),"Drinking"]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(de,{size:"sm",variant:ee==="yes"?"default":"outline",onClick:async()=>{ee==="yes"?(Z(""),await rt({drinking:null})):(Z("yes"),await rt({drinking:"yes"}))},className:`flex-1 h-7 text-xs px-2 ${ee==="yes"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"Yes"}),t.jsx(de,{size:"sm",variant:ee==="no"?"default":"outline",onClick:async()=>{ee==="no"?(Z(""),await rt({drinking:null})):(Z("no"),await rt({drinking:"no"}))},className:`flex-1 h-7 text-xs px-2 ${ee==="no"?"bg-purple-500 hover:bg-purple-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:"No"})]})]})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(u1,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.bodyType")]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{onClick:()=>Bt("bodyType"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})})})]}),i==="bodyType"?t.jsxs("div",{className:"mt-2",children:[t.jsxs(fr,{value:R,onValueChange:B,children:[t.jsx(hr,{className:"text-xs border-pink-200",children:t.jsx(gr,{placeholder:"Select body type"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"slim",children:"Slim"}),t.jsx(G,{value:"athletic",children:"Athletic"}),t.jsx(G,{value:"average",children:"Average"}),t.jsx(G,{value:"curvy",children:"Curvy"}),t.jsx(G,{value:"plus_sized",children:"Plus Sized"})]})]}),t.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("bodyType",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("bodyType"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:R?R.replace("_"," ").replace(/\b\w/g,Q=>Q.toUpperCase()):n("profile.notSpecified")})]}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-pink-100 dark:border-pink-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center",children:[t.jsx(d1,{className:"h-3.5 w-3.5 mr-1.5 text-pink-500"}),n("profile.height")]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{onClick:()=>Bt("height"),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",children:t.jsx(Na,{size:14})})})]}),i==="height"?t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-lg font-medium text-purple-600",children:S4(O[0])}),t.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",O[0]," cm)"]})]}),t.jsx(Qp,{value:O,onValueChange:X,min:122,max:213,step:1,className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-400",children:[t.jsx("span",{children:`4'0"`}),t.jsx("span",{children:`7'0"`})]})]}),t.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>$t("height",!0),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),n("profile.clear")]}),t.jsx(de,{size:"sm",onClick:()=>$t("height"),className:"h-7 bg-purple-500 hover:bg-purple-600 text-xs",children:n("profile.save")})]})]}):t.jsx("p",{className:"text-sm mt-1",children:e.height?S4(e.height):n("profile.notSpecified")})]})]})]})]}),t.jsx(Or,{open:d,onOpenChange:m,children:t.jsxs(Dr,{className:"w-[80vw] max-w-[280px] p-4 bg-gradient-to-br from-white/98 via-red-50/95 to-pink-50/98 dark:from-slate-900/98 dark:via-red-950/95 dark:to-pink-950/98 backdrop-blur-2xl border-2 border-red-300/40 dark:border-red-700/40 shadow-2xl rounded-2xl overflow-hidden",hideCloseButton:!0,children:[t.jsx("div",{className:"absolute -top-12 -left-12 w-20 h-20 bg-gradient-to-r from-red-400 via-pink-400 to-rose-500 rounded-full opacity-25 blur-2xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-8 -right-8 w-16 h-16 bg-gradient-to-r from-orange-400 via-red-500 to-pink-500 rounded-full opacity-30 blur-xl animate-pulse",style:{animationDelay:"1.5s"}}),t.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-r from-yellow-300 to-orange-400 rounded-full opacity-20 blur-lg animate-pulse",style:{animationDelay:"3s"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse opacity-50",style:{animationDuration:"3s"}}),t.jsxs("div",{className:"relative z-10",children:[t.jsx(pn,{className:"pb-2 text-center",children:t.jsxs(Jr,{className:"text-base font-bold bg-gradient-to-r from-red-600 via-red-700 to-pink-600 dark:from-red-400 dark:via-red-500 dark:to-pink-400 bg-clip-text text-transparent flex items-center justify-center gap-1.5",children:[t.jsx("div",{className:"p-1 rounded-full bg-gradient-to-r from-red-200 to-pink-200 dark:from-red-800/60 dark:to-pink-800/60 shadow-inner",children:t.jsx(Zn,{className:"h-3.5 w-3.5 text-red-700 dark:text-red-300"})}),"Deactivate Profile"]})}),t.jsxs("div",{className:"space-y-2.5",children:[t.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 text-center font-medium",children:"This action will:"}),t.jsxs("div",{className:"bg-gradient-to-r from-red-100/80 via-red-50/90 to-pink-50/80 dark:from-red-900/40 dark:via-red-950/50 dark:to-pink-950/40 border border-red-300/50 dark:border-red-700/40 rounded-xl p-2.5 space-y-1 shadow-inner",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-red-800 dark:text-red-200 font-medium",children:[t.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full shadow-sm"}),"Remove from discovery"]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-red-800 dark:text-red-200 font-medium",children:[t.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full shadow-sm"}),"Hide from other users"]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-red-800 dark:text-red-200 font-medium",children:[t.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full shadow-sm"}),"Disable account features"]})]}),t.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 text-center font-medium opacity-80",children:"Reactivate anytime by logging back in"})]}),t.jsxs(Tc,{className:"flex gap-1.5 pt-3 mt-1",children:[t.jsx(de,{variant:"outline",onClick:()=>m(!1),className:"flex-1 h-8 bg-white/90 hover:bg-white dark:bg-slate-800/90 dark:hover:bg-slate-800 border-gray-400/60 dark:border-gray-500/60 text-gray-700 dark:text-gray-300 text-xs font-semibold shadow-md hover:shadow-lg transition-all duration-200",children:"Cancel"}),t.jsxs(de,{onClick:()=>{Sn.mutate(),m(!1)},className:"flex-1 h-8 bg-gradient-to-r from-red-500 via-red-600 to-red-700 hover:from-red-600 hover:via-red-700 hover:to-red-800 text-white border-none shadow-lg hover:shadow-xl transition-all duration-200 text-xs font-semibold flex items-center justify-center gap-1",children:[t.jsx(Zn,{className:"h-3 w-3"}),"Deactivate"]})]})]})]})})]})}function c0e({user:e}){var p;const[,r]=lr();Wr();const[n,a]=u.useState(!1),{data:s,isLoading:i}=dt({queryKey:["/api/interests",e==null?void 0:e.id],enabled:!!e}),o=s||[],l=o.length>0?o.map(f=>f.interest):[],c=()=>{r("/settings")},d=Math.floor(Math.random()*700)+200,m=Math.floor(Math.random()*300)+100,h=Math.floor(Math.random()*50)+5;return t.jsxs("div",{className:"h-full overflow-y-auto pb-20",children:[t.jsxs("div",{className:"relative h-36",children:[t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-orange-500 to-amber-400",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E")`,backgroundSize:"cover",backgroundPosition:"center"}}),t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(5)].map((f,x)=>t.jsx(E.div,{className:"absolute text-white opacity-30",initial:{x:Math.random()*100+"%",y:"100%",scale:.3+Math.random()*.7},animate:{y:"-20%",rotate:Math.random()*60-30,transition:{repeat:1/0,duration:8+Math.random()*15,delay:Math.random()*5,ease:"easeInOut"}},children:t.jsx(Hs,{fill:"currentColor",size:20+Math.random()*20})},x))}),t.jsx("div",{className:"absolute -bottom-10 left-1/2 transform -translate-x-1/2",children:t.jsx(E.div,{whileHover:{scale:1.05},className:"cursor-pointer",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,className:"w-28 h-28 rounded-full object-cover border-4 border-white shadow-lg",alt:"User profile"}):t.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-r from-orange-300 to-amber-300 border-4 border-white shadow-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white text-4xl font-light",children:((p=e.fullName)==null?void 0:p.charAt(0))||"U"})})})})]}),t.jsxs("div",{className:"mt-8 px-5",children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:t.jsxs("h2",{className:"font-heading text-2xl font-bold text-orange-600",children:[e.fullName||"User",e.verifiedByPhone&&t.jsx(St,{className:"ml-2 bg-blue-500 text-white",children:t.jsx("span",{className:"text-xs",children:""})})]})}),t.jsxs("div",{className:"flex justify-center space-x-8 mt-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xl font-bold text-gray-800",children:h}),t.jsx("p",{className:"text-xs text-gray-500",children:"Posts"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xl font-bold text-gray-800",children:d}),t.jsx("p",{className:"text-xs text-gray-500",children:"Followers"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xl font-bold text-gray-800",children:m}),t.jsx("p",{className:"text-xs text-gray-500",children:"Following"})]})]})]}),e.bio&&t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"relative",children:t.jsx("div",{className:"p-4 bg-white border border-orange-100 rounded-lg shadow-sm",children:t.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.bio})})})}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[t.jsxs(de,{variant:"ghost",className:"flex flex-col items-center justify-center p-3 h-auto",children:[t.jsx(kG,{className:"h-5 w-5 mb-1 text-orange-500"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Photos"})]}),t.jsxs(de,{variant:"ghost",className:"flex flex-col items-center justify-center p-3 h-auto",children:[t.jsx(bp,{className:"h-5 w-5 mb-1 text-orange-500"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Stories"})]}),t.jsxs(de,{variant:"ghost",className:"flex flex-col items-center justify-center p-3 h-auto",children:[t.jsx(mG,{className:"h-5 w-5 mb-1 text-orange-500"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Saved"})]}),t.jsxs(de,{variant:"ghost",className:"flex flex-col items-center justify-center p-3 h-auto",children:[t.jsx(RG,{className:"h-5 w-5 mb-1 text-orange-500"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Share"})]})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h3",{className:"font-medium text-gray-800 flex items-center",children:[t.jsx(Ln,{className:"h-4 w-4 mr-2 text-orange-500"}),"My Photos"]}),t.jsx(de,{variant:"ghost",size:"sm",className:"text-orange-500 text-xs h-8",onClick:()=>a(!n),children:n?"Show less":"View all"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.photoUrl?t.jsxs(E.div,{className:"relative aspect-square rounded-lg overflow-hidden",whileHover:{scale:1.02},children:[t.jsx("img",{src:e.photoUrl||"",className:"w-full h-full object-cover",alt:"User gallery"}),t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-end justify-between p-2",children:[t.jsxs("div",{className:"flex items-center text-white text-xs",children:[t.jsx(Hs,{className:"h-3 w-3 mr-1",fill:"currentColor"}),t.jsx("span",{children:"42"})]}),t.jsxs("div",{className:"flex items-center text-white text-xs",children:[t.jsx(hn,{className:"h-3 w-3 mr-1"}),t.jsx("span",{children:"6"})]})]})]}):null,[...Array(5)].map((f,x)=>t.jsx("div",{className:`aspect-square rounded-lg bg-gray-100 flex items-center justify-center ${!n&&x>1?"hidden":""}`,children:t.jsxs(de,{variant:"ghost",size:"sm",className:"h-full w-full rounded-lg text-orange-500 flex flex-col",children:[t.jsx(Ln,{className:"h-5 w-5 mb-1"}),t.jsx("span",{className:"text-xs",children:"Add"})]})},x))]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("h3",{className:"font-medium text-gray-800 flex items-center",children:[t.jsx(Hs,{className:"h-4 w-4 mr-2 text-orange-500"}),"Interests"]})}),t.jsx("div",{className:"bg-white border border-orange-100 rounded-lg p-4 shadow-sm",children:i?t.jsx("div",{className:"w-full py-2 flex justify-center",children:t.jsx(sn,{className:"h-4 w-4 animate-spin text-orange-500"})}):l.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((f,x)=>t.jsxs(St,{variant:"outline",className:"bg-gradient-to-r from-orange-50 to-amber-50 text-orange-700 border-orange-200 px-3 py-1",children:["#",f.toLowerCase().replace(/\s+/g,"")]},x))}):t.jsxs("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"No interests added yet"}),t.jsx(de,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200",onClick:c,children:"Add Interests"})]})})]}),t.jsx("div",{className:"mb-8",children:t.jsxs(wr,{className:"overflow-hidden border-orange-100 shadow-sm",children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-amber-50 px-4 py-3 border-b border-orange-100",children:t.jsxs("h3",{className:"font-medium text-orange-800 flex items-center",children:[t.jsx(Jt,{className:"h-4 w-4 mr-2 text-orange-500"}),"People You May Know"]})}),t.jsx($r,{className:"p-4",children:t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 -mx-2 px-2",children:[...Array(4)].map((f,x)=>t.jsxs("div",{className:"flex-shrink-0 w-20",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 mx-auto flex items-center justify-center",children:t.jsx(Po,{className:"h-6 w-6 text-gray-400"})}),t.jsxs("p",{className:"text-xs text-center mt-1 font-medium",children:["User ",x+1]}),t.jsx(de,{variant:"ghost",size:"sm",className:"w-full mt-1 text-orange-500 h-7 text-xs",children:"Follow"})]},x))})})]})}),t.jsx("div",{className:"px-0 mb-10",children:t.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600 to-amber-500 opacity-90"}),t.jsxs("div",{className:"relative p-6 text-white",children:[t.jsx("h3",{className:"font-bold text-xl mb-2",children:"Get More Visibility"}),t.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Boost your content and reach more followers"}),t.jsxs(de,{className:"w-full bg-white text-orange-600 hover:bg-gray-100 font-semibold",children:[t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Get Featured"]})]}),t.jsx("div",{className:"absolute top-3 right-3 w-16 h-16 rounded-full bg-white opacity-10"}),t.jsx("div",{className:"absolute bottom-2 left-2 w-6 h-6 rounded-full bg-white opacity-10"})]})})]})]})}function d0e({userId:e,onBack:r}){const[n,a]=u.useState("job"),[s,i]=u.useState({}),[o,l]=u.useState(!1);u.useState(!1);const{toast:c}=Wr(),[d,m]=u.useState(()=>({showProfilePhoto:!1,jobTitle:!0,company:!0,description:!0,compensation:!0,requirements:!1,location:!0,workType:!0,jobType:!0,experienceLevel:!0,whyItMatters:!0,whoShouldApply:!0,culturalFit:!1,industryTags:!0,skillTags:!0,applicationUrl:!1,applicationEmail:!1,applicationInstructions:!1})),[h,p]=u.useState(()=>({showProfilePhoto:!1,role:!0,areasOfExpertise:!0,learningGoals:!0,currentLevel:!0,mentorshipStyle:!1,preferredFormat:!0,communicationStyle:!0,availability:!1,timeCommitment:!0,location:!0,successStories:!1,whyMentor:!0,whySeekMentorship:!0,preferredMenteeLevel:!1,preferredMentorExperience:!1,preferredIndustries:!1,highSchool:!0,collegeUniversity:!0,maxMentees:!0})),[f,x]=u.useState(()=>({showProfilePhoto:!1,professionalTagline:!0,currentRole:!0,industry:!0,experienceYears:!0,networkingGoals:!1,lookingFor:!0,canOffer:!0,professionalInterests:!0,causesIPassionate:!0,collaborationTypes:!1,workingStyle:!0,lightUpWhenTalking:!0,wantToMeetSomeone:!0,currentProjects:!1,dreamCollaboration:!0,preferredMeetingStyle:!1,openToRemote:!0,preferredLocations:!1,highSchool:!0,collegeUniversity:!0,lookingForOpportunities:!0})),{data:g}=dt({queryKey:["/api/suite/profile-settings"],queryFn:async()=>{try{return await(await ze("/api/suite/profile-settings")).json()}catch(R){return console.warn("No SUITE profile settings found",R),null}}}),{data:v}=dt({queryKey:["/api/user"],queryFn:async()=>await(await ze("/api/user")).json()}),{data:y,isLoading:b}=dt({queryKey:[`/api/suite/${n}-profile`],queryFn:async()=>{try{return await(await ze(`/api/suite/${n}-profile`)).json()}catch(R){return console.warn(`No ${n} profile found`,R),null}}}),{data:w}=dt({queryKey:[`/api/suite/field-visibility/${n}`],queryFn:async()=>{try{return await(await ze(`/api/suite/field-visibility/${n}`)).json()}catch(R){return console.warn(`No field visibility settings found for ${n}`,R),{}}}}),S=wt({mutationFn:async R=>(console.log("Save profile mutation called with data:",R),await(await ze(`/api/suite/${n}-profile`,{method:"POST",data:R})).json()),onSuccess:(R,B)=>{c({title:"Profile Saved!",description:`Your ${n} profile has been updated successfully.`}),l(!1),me.invalidateQueries({queryKey:[`/api/suite/${n}-profile`]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]}),(B.highSchool!==void 0||B.collegeUniversity!==void 0)&&(console.log(" [EDUCATION-SYNC] Invalidating all SUITE profile caches for cross-profile education synchronization"),["networking","mentorship","job"].forEach(O=>{me.invalidateQueries({queryKey:[`/api/suite/${O}-profile`]})}),me.invalidateQueries({queryKey:["/api/user"]}))},onError:R=>{c({title:"Error",description:R.message||"Failed to save profile",variant:"destructive"})}});wt({mutationFn:async R=>await(await ze(`/api/suite/field-visibility/${n}`,{method:"POST",data:R})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:[`/api/suite/field-visibility/${n}`]})},onError:R=>{console.error("Error saving field visibility:",R),c({title:"Error saving field visibility",description:"Please try again.",variant:"destructive"})}});const N=wt({mutationFn:async R=>(console.log("Saving networking visibility preferences:",R),await(await ze("/api/suite/networking-profile",{method:"PATCH",data:R})).json()),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/networking-profile"]}),console.log("Networking visibility preferences saved successfully")},onError:R=>{console.error("Error saving networking visibility:",R),c({title:"Error saving visibility preferences",description:"Please try again.",variant:"destructive"})}}),P=wt({mutationFn:async R=>(console.log("Saving job visibility preferences:",R),await(await ze("/api/suite/job-profile",{method:"PATCH",data:R})).json()),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/job-profile"]}),console.log("Job visibility preferences saved successfully")},onError:R=>{console.error("Error saving job visibility:",R),c({title:"Error saving visibility preferences",description:"Please try again.",variant:"destructive"})}});u.useEffect(()=>{if(y){const R={...y};!R.location&&(v!=null&&v.location)&&(R.location=v.location),i(R)}else if(v){console.log(" [EDUCATION-SYNC] Pre-populating education fields from user data for new",n,"profile"),console.log(" [EDUCATION-SYNC] User education data:",{highSchool:v.highSchool,collegeUniversity:v.collegeUniversity});const R={};v.highSchool&&(R.highSchool=v.highSchool,console.log(" [EDUCATION-SYNC] Pre-populated highSchool:",v.highSchool)),v.collegeUniversity&&(R.collegeUniversity=v.collegeUniversity,console.log(" [EDUCATION-SYNC] Pre-populated collegeUniversity:",v.collegeUniversity)),v.location&&(R.location=v.location),i(R)}if(n==="networking"&&y)if(console.log("Loading networking profile data:",y),console.log("visibilityPreferences field:",y.visibilityPreferences),y.visibilityPreferences)try{const R=JSON.parse(y.visibilityPreferences);console.log("Parsed visibility preferences:",R),x(R)}catch(R){console.error("Error parsing networking visibility preferences:",R),x({showProfilePhoto:!1,professionalTagline:!0,currentRole:!0,currentCompany:!0,industry:!0,experienceYears:!0,networkingGoals:!1,lookingFor:!0,canOffer:!0,professionalInterests:!0,causesIPassionate:!0,collaborationTypes:!1,workingStyle:!0,lightUpWhenTalking:!0,wantToMeetSomeone:!0,currentProjects:!1,dreamCollaboration:!0,preferredMeetingStyle:!1,openToRemote:!0,preferredLocations:!1,highSchool:!0,collegeUniversity:!0,lookingForOpportunities:!0})}else x({showProfilePhoto:!1,professionalTagline:!0,currentRole:!0,industry:!0,experienceYears:!0,networkingGoals:!1,lookingFor:!0,canOffer:!0,professionalInterests:!0,causesIPassionate:!0,collaborationTypes:!1,workingStyle:!0,lightUpWhenTalking:!0,wantToMeetSomeone:!0,currentProjects:!1,dreamCollaboration:!0,preferredMeetingStyle:!1,openToRemote:!0,preferredLocations:!1,highSchool:!0,collegeUniversity:!0,lookingForOpportunities:!0});if(n==="mentorship"&&y)if(console.log("Loading mentorship profile data:",y),console.log("visibilityPreferences field:",y.visibilityPreferences),y.visibilityPreferences)try{const R=JSON.parse(y.visibilityPreferences);console.log("Parsed mentorship visibility preferences:",R),p(R)}catch(R){console.error("Error parsing mentorship visibility preferences:",R),p({showProfilePhoto:!1,role:!0,areasOfExpertise:!0,learningGoals:!0,currentLevel:!0,mentorshipStyle:!1,preferredFormat:!0,communicationStyle:!0,availability:!1,timeCommitment:!0,location:!0,successStories:!1,whyMentor:!0,whySeekMentorship:!0,preferredMenteeLevel:!1,preferredMentorExperience:!1,preferredIndustries:!1,highSchool:!0,collegeUniversity:!0,maxMentees:!0})}else p({showProfilePhoto:!1,role:!0,areasOfExpertise:!0,learningGoals:!0,currentLevel:!0,mentorshipStyle:!1,preferredFormat:!0,communicationStyle:!0,availability:!1,timeCommitment:!0,location:!0,successStories:!1,whyMentor:!0,whySeekMentorship:!0,preferredMenteeLevel:!1,preferredMentorExperience:!1,preferredIndustries:!1,highSchool:!0,collegeUniversity:!0,maxMentees:!0});if(n==="job"&&y)if(console.log("Loading job profile data:",y),console.log("visibilityPreferences field:",y.visibilityPreferences),y.visibilityPreferences)try{const R=JSON.parse(y.visibilityPreferences);console.log("Parsed job visibility preferences:",R),m(R)}catch(R){console.error("Error parsing job visibility preferences:",R),m({showProfilePhoto:!1,jobTitle:!0,company:!0,description:!0,compensation:!0,requirements:!0,location:!0,workType:!0,jobType:!0,experienceLevel:!0,whyItMatters:!0,whoShouldApply:!0,culturalFit:!0,industryTags:!0,skillTags:!0,applicationUrl:!0,applicationEmail:!0,applicationInstructions:!0})}else m({showProfilePhoto:!1,jobTitle:!0,company:!0,description:!0,compensation:!0,requirements:!0,location:!0,workType:!0,jobType:!0,experienceLevel:!0,whyItMatters:!0,whoShouldApply:!0,culturalFit:!0,industryTags:!0,skillTags:!0,applicationUrl:!0,applicationEmail:!0,applicationInstructions:!0})},[y,n,v]),u.useEffect(()=>{w&&Object.keys(w).length>0},[w,n]);const C=(R,B)=>{i(O=>({...O,[R]:B}))},I=(R,B)=>{const O=B.split(",").map(X=>X.trim()).filter(Boolean);i(X=>({...X,[R]:O}))},T=()=>{if(n==="networking"){const R={...s,visibilityPreferences:JSON.stringify(f)};S.mutate(R)}else if(n==="mentorship"){const R={...s,visibilityPreferences:JSON.stringify(h)};S.mutate(R)}else if(n==="job"){const R={...s,visibilityPreferences:JSON.stringify(d)};S.mutate(R)}else S.mutate(s)},_=R=>{m(B=>{const O={...B,[R]:!B[R]};if(n==="job"){console.log("SUITE-PROFILE-BUILDER: Saving job visibility preferences:",O),console.log("SUITE-PROFILE-BUILDER: Data to save:",JSON.stringify(O));try{P.mutate({visibilityPreferences:JSON.stringify(O)}),console.log("SUITE-PROFILE-BUILDER: Job visibility mutation triggered successfully")}catch(X){console.error("SUITE-PROFILE-BUILDER: Error triggering job visibility mutation:",X)}}return O})},k=R=>{p(B=>{const O={...B,[R]:!B[R]};return n==="mentorship"&&console.log("SUITE-PROFILE-BUILDER: Saving mentorship visibility preferences:",O),O})},A=R=>{console.log("SUITE-PROFILE-BUILDER: toggleNetworkingFieldVisibility function called with field:",R),x(B=>{const O={...B,[R]:!B[R]};return console.log(`SUITE-PROFILE-BUILDER: Toggling networking field visibility for ${R} to ${!B[R]}`),console.log("SUITE-PROFILE-BUILDER: Updated networking visibility preferences:",O),console.log("SUITE-PROFILE-BUILDER: About to trigger saveNetworkingVisibilityMutation"),console.log("SUITE-PROFILE-BUILDER: Mutation function exists:",typeof N),N.mutate({visibilityPreferences:JSON.stringify(O)}),O})},F=[{id:"job",title:"Job Opportunities",icon:zr,description:"Post jobs or seek opportunities",color:"from-blue-500 to-blue-600",active:(g==null?void 0:g.jobProfileActive)||!1},{id:"mentorship",title:"Mentorship",icon:Jt,description:"Find mentors or become one",color:"from-green-500 to-green-600",active:(g==null?void 0:g.mentorshipProfileActive)||!1},{id:"networking",title:"Networking",icon:Eo,description:"Connect and collaborate",color:"from-purple-500 to-purple-600",active:(g==null?void 0:g.networkingProfileActive)||!1}],V=()=>{var R,B,O;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ln,{className:"h-4 w-4 text-gray-600"}),t.jsx("label",{className:"block text-sm font-medium",children:"Show Profile Photo"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.showProfilePhoto,onCheckedChange:()=>_("showProfilePhoto")})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Control whether your profile photo appears on your job profile card"}),v&&d.showProfilePhoto&&t.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[v.photoUrl?t.jsx("img",{src:v.photoUrl,alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center border-2 border-gray-300",children:t.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((R=v.fullName)==null?void 0:R.charAt(0))||"U"})}),t.jsx("span",{className:"text-xs text-gray-600",children:"Preview of your profile photo"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Job Title *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.jobTitle,onCheckedChange:()=>_("jobTitle")})]})]}),t.jsx(Je,{value:s.jobTitle||"",onChange:X=>C("jobTitle",X.target.value),placeholder:"e.g., Senior Software Engineer",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.company,onCheckedChange:()=>_("company")})]})]}),t.jsx(Je,{value:s.company||"",onChange:X=>C("company",X.target.value),placeholder:"e.g., TechCorp Ghana",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Job Description *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.description,onCheckedChange:()=>_("description")})]})]}),t.jsx(oa,{value:s.description||"",onChange:X=>C("description",X.target.value),placeholder:"Describe what this role involves...",rows:4,disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Work Type *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.workType,onCheckedChange:()=>_("workType")})]})]}),t.jsxs(fr,{value:s.workType||"",onValueChange:X=>C("workType",X),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select work type"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Remote",children:"Remote"}),t.jsx(G,{value:"In-person",children:"In-person"}),t.jsx(G,{value:"Hybrid",children:"Hybrid"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Job Type *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.jobType,onCheckedChange:()=>_("jobType")})]})]}),t.jsxs(fr,{value:s.jobType||"",onValueChange:X=>C("jobType",X),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select job type"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Full-time",children:"Full-time"}),t.jsx(G,{value:"Part-time",children:"Part-time"}),t.jsx(G,{value:"Contract",children:"Contract"}),t.jsx(G,{value:"Internship",children:"Internship"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Experience Level"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.experienceLevel,onCheckedChange:()=>_("experienceLevel")})]})]}),t.jsxs(fr,{value:s.experienceLevel||"",onValueChange:X=>C("experienceLevel",X),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select level"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Entry",children:"Entry"}),t.jsx(G,{value:"Mid",children:"Mid"}),t.jsx(G,{value:"Senior",children:"Senior"}),t.jsx(G,{value:"Executive",children:"Executive"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.location,onCheckedChange:()=>_("location")})]})]}),t.jsx(km,{value:s.location||"",onLocationSelect:X=>C("location",X),initialValue:s.location||"",placeholder:"e.g., Accra, Ghana",disabled:!o,showIcon:!1})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Compensation"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.compensation,onCheckedChange:()=>_("compensation")})]})]}),t.jsx(Je,{value:s.compensation||"",onChange:X=>C("compensation",X.target.value),placeholder:"e.g., GHS 5,000 - 8,000/month",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why This Job Matters"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.whyItMatters,onCheckedChange:()=>_("whyItMatters")})]})]}),t.jsx(oa,{value:s.whyItMatters||"",onChange:X=>C("whyItMatters",X.target.value),placeholder:"Explain the impact and importance of this role...",rows:3,disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Who Should Apply"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.whoShouldApply,onCheckedChange:()=>_("whoShouldApply")})]})]}),t.jsx(oa,{value:s.whoShouldApply||"",onChange:X=>C("whoShouldApply",X.target.value),placeholder:"Describe your ideal candidate...",rows:3,disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Industry Tags (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.industryTags,onCheckedChange:()=>_("industryTags")})]})]}),t.jsx(Je,{value:((B=s.industryTags)==null?void 0:B.join(", "))||"",onChange:X=>I("industryTags",X.target.value),placeholder:"e.g., Technology, Finance, Healthcare",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Skill Tags (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.skillTags,onCheckedChange:()=>_("skillTags")})]})]}),t.jsx(Je,{value:((O=s.skillTags)==null?void 0:O.join(", "))||"",onChange:X=>I("skillTags",X.target.value),placeholder:"e.g., React, Node.js, Python",disabled:!o})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Application URL"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.applicationUrl,onCheckedChange:()=>_("applicationUrl")})]})]}),t.jsx(Je,{value:s.applicationUrl||"",onChange:X=>C("applicationUrl",X.target.value),placeholder:"https://company.com/apply",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Application Email"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:d.applicationEmail,onCheckedChange:()=>_("applicationEmail")})]})]}),t.jsx(Je,{value:s.applicationEmail||"",onChange:X=>C("applicationEmail",X.target.value),placeholder:"careers@company.com",disabled:!o})]})]})]})},J=()=>{var R,B,O,X,ae,$;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ln,{className:"h-4 w-4 text-gray-600"}),t.jsx("label",{className:"block text-sm font-medium",children:"Show Profile Photo"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.showProfilePhoto,onCheckedChange:()=>k("showProfilePhoto")})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Control whether your profile photo appears on your mentorship profile card"}),v&&h.showProfilePhoto&&t.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[v.photoUrl?t.jsx("img",{src:v.photoUrl,alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center border-2 border-gray-300",children:t.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((R=v.fullName)==null?void 0:R.charAt(0))||"U"})}),t.jsx("span",{className:"text-xs text-gray-600",children:"Preview of your profile photo"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.role,onCheckedChange:()=>k("role")})]})]}),t.jsxs(fr,{value:s.role||"",onValueChange:re=>C("role",re),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select role"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"mentor",children:"Mentor"}),t.jsx(G,{value:"mentee",children:"Mentee"})]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mentorship Style"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.mentorshipStyle,onCheckedChange:()=>k("mentorshipStyle")})]})]}),t.jsx(Je,{value:s.mentorshipStyle||"",onChange:re=>C("mentorshipStyle",re.target.value),placeholder:"e.g., Hands-on, Advisory, Structured",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Availability"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.availability,onCheckedChange:()=>k("availability")})]})]}),t.jsxs(fr,{value:s.availability||"",onValueChange:re=>{if(re==="custom"){const le=prompt("Enter your availability:");le&&C("availability",le)}else C("availability",re)},disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select availability"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Prefer not to say",children:"Prefer not to say"}),t.jsx(G,{value:"Weekday Mornings",children:"Weekday Mornings"}),t.jsx(G,{value:"Weekday Afternoons",children:"Weekday Afternoons"}),t.jsx(G,{value:"Weekday Evenings",children:"Weekday Evenings"}),t.jsx(G,{value:"Weekend Mornings",children:"Weekend Mornings"}),t.jsx(G,{value:"Weekend Afternoons",children:"Weekend Afternoons"}),t.jsx(G,{value:"Weekend Evenings",children:"Weekend Evenings"}),t.jsx(G,{value:"Flexible Weekdays",children:"Flexible Weekdays"}),t.jsx(G,{value:"Flexible Weekends",children:"Flexible Weekends"}),t.jsx(G,{value:"Very Flexible",children:"Very Flexible"}),t.jsx(G,{value:"Business Hours Only",children:"Business Hours Only"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.location,onCheckedChange:()=>k("location")})]})]}),t.jsx(km,{value:s.location||"",onLocationSelect:re=>C("location",re),initialValue:s.location||"",placeholder:"e.g., Accra, Ghana",disabled:!o,showIcon:!1})]}),s.role==="mentor"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Areas of Expertise (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.areasOfExpertise,onCheckedChange:()=>k("areasOfExpertise")})]})]}),t.jsx(Je,{value:((B=s.areasOfExpertise)==null?void 0:B.join(", "))||"",onChange:re=>I("areasOfExpertise",re.target.value),placeholder:"e.g., Software Development, Leadership, Entrepreneurship",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why I Want to Mentor"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.whyMentor,onCheckedChange:()=>k("whyMentor")})]})]}),t.jsx(oa,{value:s.whyMentor||"",onChange:re=>C("whyMentor",re.target.value),placeholder:"Share your motivation for mentoring...",rows:3,disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center space-x-2",children:[t.jsx(ao,{className:"h-4 w-4"}),t.jsx("span",{children:"High School"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.highSchool,onCheckedChange:()=>k("highSchool")})]})]}),t.jsx(Je,{value:s.highSchool||"",onChange:re=>C("highSchool",re.target.value),placeholder:"Enter your high school",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center space-x-2",children:[t.jsx(Qr,{className:"h-4 w-4"}),t.jsx("span",{children:"Vocational/College/University"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.collegeUniversity,onCheckedChange:()=>k("collegeUniversity")})]})]}),t.jsx(Je,{value:s.collegeUniversity||"",onChange:re=>C("collegeUniversity",re.target.value),placeholder:"Enter your vocational school, college, or university",disabled:!o})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Maximum Mentees"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.maxMentees,onCheckedChange:()=>k("maxMentees")})]})]}),t.jsx(Je,{type:"number",value:s.maxMentees||"",onChange:re=>C("maxMentees",parseInt(re.target.value)),placeholder:"e.g., 3",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Mentee Level"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.preferredMenteeLevel,onCheckedChange:()=>k("preferredMenteeLevel")})]})]}),t.jsx(Je,{value:s.preferredMenteeLevel||"",onChange:re=>C("preferredMenteeLevel",re.target.value),placeholder:"e.g., Beginner, Intermediate",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Industries (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.preferredIndustries,onCheckedChange:()=>k("preferredIndustries")})]})]}),t.jsx(Je,{value:((O=s.preferredIndustries)==null?void 0:O.join(", "))||"",onChange:re=>I("preferredIndustries",re.target.value),placeholder:"e.g., Technology, Finance, Healthcare",disabled:!o})]})]}),s.role==="mentee"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Learning Goals (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.learningGoals,onCheckedChange:()=>k("learningGoals")})]})]}),t.jsx(Je,{value:((X=s.learningGoals)==null?void 0:X.join(", "))||"",onChange:re=>I("learningGoals",re.target.value),placeholder:"e.g., Career advancement, Technical skills, Leadership",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Why I Seek Mentorship"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.whySeekMentorship,onCheckedChange:()=>k("whySeekMentorship")})]})]}),t.jsx(oa,{value:s.whySeekMentorship||"",onChange:re=>C("whySeekMentorship",re.target.value),placeholder:"Explain what you hope to gain from mentorship...",rows:3,disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Mentor Experience"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.preferredMentorExperience,onCheckedChange:()=>k("preferredMentorExperience")})]})]}),t.jsx(Je,{value:s.preferredMentorExperience||"",onChange:re=>C("preferredMentorExperience",re.target.value),placeholder:"e.g., 5+ years in industry, C-level executive",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time Commitment"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.timeCommitment,onCheckedChange:()=>k("timeCommitment")})]})]}),t.jsxs(fr,{value:s.timeCommitment||"",onValueChange:re=>C("timeCommitment",re),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select commitment level"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Light (1-2 hrs/month)",children:"Light (1-2 hrs/month)"}),t.jsx(G,{value:"Regular (3-5 hrs/month)",children:"Regular (3-5 hrs/month)"}),t.jsx(G,{value:"Intensive (5+ hrs/month)",children:"Intensive (5+ hrs/month)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Format (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.preferredFormat,onCheckedChange:()=>k("preferredFormat")})]})]}),t.jsx(Je,{value:((ae=s.preferredFormat)==null?void 0:ae.join(", "))||"",onChange:re=>I("preferredFormat",re.target.value),placeholder:"e.g., 1-on-1, Group, Workshop",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Communication Style (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.communicationStyle,onCheckedChange:()=>k("communicationStyle")})]})]}),t.jsx(Je,{value:(($=s.communicationStyle)==null?void 0:$.join(", "))||"",onChange:re=>I("communicationStyle",re.target.value),placeholder:"e.g., Chat, Video, In-person",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Success Stories"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Show"}),t.jsx(Ye,{checked:h.successStories,onCheckedChange:()=>k("successStories")})]})]}),t.jsx(oa,{value:s.successStories||"",onChange:re=>C("successStories",re.target.value),placeholder:"Share your mentorship experiences or achievements...",rows:3,disabled:!o})]})]})},M=()=>{var R,B,O,X,ae,$,re,le;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ln,{className:"h-4 w-4 text-gray-600"}),t.jsx("label",{className:"block text-sm font-medium",children:"Show Profile Photo"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.showProfilePhoto,onCheckedChange:()=>A("showProfilePhoto"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"Control whether your profile photo appears on your networking profile card"}),v&&f.showProfilePhoto&&t.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[v.photoUrl?t.jsx("img",{src:v.photoUrl,alt:"Profile preview",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center border-2 border-gray-300",children:t.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((R=v.fullName)==null?void 0:R.charAt(0))||"U"})}),t.jsx("span",{className:"text-xs text-gray-600",children:"Preview of your profile photo"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Professional Tagline"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.professionalTagline,onCheckedChange:()=>A("professionalTagline"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.professionalTagline||"",onChange:ce=>C("professionalTagline",ce.target.value),placeholder:"e.g., Passionate about connecting African talent globally",disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Current Role"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.currentRole,onCheckedChange:()=>A("currentRole"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.currentRole||"",onChange:ce=>C("currentRole",ce.target.value),placeholder:"e.g., Product Manager",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Current Company"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.currentCompany,onCheckedChange:()=>A("currentCompany"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.currentCompany||"",onChange:ce=>C("currentCompany",ce.target.value),placeholder:"e.g., Apple, Microsoft, Startups Inc.",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Industry"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.industry,onCheckedChange:()=>A("industry"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.industry||"",onChange:ce=>C("industry",ce.target.value),placeholder:"e.g., Technology",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Years of Experience"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.experienceYears,onCheckedChange:()=>A("experienceYears"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{type:"number",value:s.experienceYears||"",onChange:ce=>C("experienceYears",parseInt(ce.target.value)),placeholder:"e.g., 5",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Networking Goals (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.networkingGoals,onCheckedChange:()=>A("networkingGoals"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((B=s.networkingGoals)==null?void 0:B.join(", "))||"",onChange:ce=>I("networkingGoals",ce.target.value),placeholder:"e.g., Find collaborators, Expand network, Learn new skills",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"What I'm Looking For"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.lookingFor,onCheckedChange:()=>A("lookingFor"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(oa,{value:s.lookingFor||"",onChange:ce=>C("lookingFor",ce.target.value),placeholder:"Describe what kind of connections or collaborations you're seeking...",rows:3,disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"What I Can Offer"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.canOffer,onCheckedChange:()=>A("canOffer"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(oa,{value:s.canOffer||"",onChange:ce=>C("canOffer",ce.target.value),placeholder:"Describe what value you can provide to others...",rows:3,disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Collaboration Types (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.collaborationTypes,onCheckedChange:()=>A("collaborationTypes"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((O=s.collaborationTypes)==null?void 0:O.join(", "))||"",onChange:ce=>I("collaborationTypes",ce.target.value),placeholder:"e.g., Joint ventures, Knowledge sharing, Research",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Current Projects (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.currentProjects,onCheckedChange:()=>A("currentProjects"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((X=s.currentProjects)==null?void 0:X.join(", "))||"",onChange:ce=>I("currentProjects",ce.target.value),placeholder:"e.g., Mobile app development, Community initiative",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"I Light Up When Talking About"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.lightUpWhenTalking,onCheckedChange:()=>A("lightUpWhenTalking"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.lightUpWhenTalking||"",onChange:ce=>C("lightUpWhenTalking",ce.target.value),placeholder:"e.g., Sustainable technology for Africa",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"I'd Love to Meet Someone Who"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.wantToMeetSomeone,onCheckedChange:()=>A("wantToMeetSomeone"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.wantToMeetSomeone||"",onChange:ce=>C("wantToMeetSomeone",ce.target.value),placeholder:"e.g., Shares my passion for education reform",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Dream Collaboration"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.dreamCollaboration,onCheckedChange:()=>A("dreamCollaboration"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(oa,{value:s.dreamCollaboration||"",onChange:ce=>C("dreamCollaboration",ce.target.value),placeholder:"Describe your ideal collaboration project...",rows:3,disabled:!o})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center space-x-2 text-emerald-800",children:[t.jsx(ao,{className:"h-4 w-4"}),t.jsx("span",{children:"High School"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.highSchool,onCheckedChange:()=>A("highSchool"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.highSchool||"",onChange:ce=>C("highSchool",ce.target.value),placeholder:"Enter your high school",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center space-x-2 text-emerald-800",children:[t.jsx(Qr,{className:"h-4 w-4"}),t.jsx("span",{children:"Vocational/College/University"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.collegeUniversity,onCheckedChange:()=>A("collegeUniversity"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:s.collegeUniversity||"",onChange:ce=>C("collegeUniversity",ce.target.value),placeholder:"Enter your vocational school, college, or university",disabled:!o})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Working Style"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.workingStyle,onCheckedChange:()=>A("workingStyle"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsxs(fr,{value:s.workingStyle||"",onValueChange:ce=>C("workingStyle",ce),disabled:!o,children:[t.jsx(hr,{children:t.jsx(gr,{placeholder:"Select working style"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"Remote-first",children:"Remote-first"}),t.jsx(G,{value:"In-person",children:"In-person"}),t.jsx(G,{value:"Flexible",children:"Flexible"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Preferred Meeting Style (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.preferredMeetingStyle,onCheckedChange:()=>A("preferredMeetingStyle"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((ae=s.preferredMeetingStyle)==null?void 0:ae.join(", "))||"",onChange:ce=>I("preferredMeetingStyle",ce.target.value),placeholder:"e.g., Coffee chats, Virtual calls, Events",disabled:!o})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-emerald-800",children:"Open to Remote Collaboration"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.openToRemote,onCheckedChange:()=>A("openToRemote"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ye,{checked:s.openToRemote||!1,onCheckedChange:ce=>C("openToRemote",ce),disabled:!o,className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"}),t.jsx("span",{className:"text-sm text-emerald-700",children:"Yes, I'm open to remote collaboration"})]})]}),t.jsxs("div",{className:"pt-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-emerald-800",children:"Looking for Opportunities"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.lookingForOpportunities,onCheckedChange:()=>A("lookingForOpportunities"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ye,{checked:s.lookingForOpportunities||!1,onCheckedChange:ce=>C("lookingForOpportunities",ce),disabled:!o,className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"}),t.jsx("span",{className:"text-sm text-emerald-700",children:"Yes, I'm actively looking for opportunities"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Professional Interests (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.professionalInterests,onCheckedChange:()=>A("professionalInterests"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:(($=s.professionalInterests)==null?void 0:$.join(", "))||"",onChange:ce=>I("professionalInterests",ce.target.value),placeholder:"e.g., AI, Sustainability, EdTech",disabled:!o})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Causes I'm Passionate About (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.causesIPassionate,onCheckedChange:()=>A("causesIPassionate"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((re=s.causesIPassionate)==null?void 0:re.join(", "))||"",onChange:ce=>I("causesIPassionate",ce.target.value),placeholder:"e.g., Education, Climate change, Youth empowerment",disabled:!o})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-emerald-800",children:"Preferred Locations (comma-separated)"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-600",children:"Show"}),t.jsx(Ye,{checked:f.preferredLocations,onCheckedChange:()=>A("preferredLocations"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:((le=s.preferredLocations)==null?void 0:le.join(", "))||"",onChange:ce=>I("preferredLocations",ce.target.value),placeholder:"e.g., Accra, Lagos, Nairobi, Remote",disabled:!o})]})]})};return b?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[r&&t.jsx(de,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"SUITE Profile Builder"}),t.jsx("p",{className:"text-gray-600",children:"Create your professional identity across three dimensions"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[o&&t.jsxs(t.Fragment,{children:[t.jsx(de,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),t.jsx(de,{onClick:T,disabled:S.isPending,children:S.isPending?"Saving...":"Save Profile"})]}),!o&&y&&t.jsxs(de,{onClick:()=>l(!0),children:[t.jsx(ag,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map(R=>{const B=R.icon;return t.jsx(E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:t.jsx(wr,{className:`cursor-pointer transition-all duration-200 ${n===R.id?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}`,onClick:()=>a(R.id),children:t.jsx($r,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-r ${R.color}`,children:t.jsx(B,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold",children:R.title}),t.jsx("p",{className:"text-xs text-gray-600",children:R.description})]}),R.active&&t.jsx(ds,{className:"h-5 w-5 text-green-500"})]})})})},R.id)})}),t.jsxs(wr,{children:[t.jsx(On,{children:t.jsxs(ca,{className:"flex items-center space-x-2",children:[n==="job"&&t.jsx(zr,{className:"h-5 w-5"}),n==="mentorship"&&t.jsx(Jt,{className:"h-5 w-5"}),n==="networking"&&t.jsx(Eo,{className:"h-5 w-5"}),t.jsxs("span",{className:"capitalize",children:[n," Profile"]}),!o&&!y&&t.jsxs(de,{size:"sm",onClick:()=>l(!0),className:"ml-auto",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"}),"Create Profile"]})]})}),t.jsx($r,{children:!y&&!o?t.jsxs("div",{className:"text-center py-8",children:[t.jsxs("div",{className:"text-gray-500 mb-4",children:["You haven't created a ",n," profile yet."]}),t.jsxs(de,{onClick:()=>l(!0),children:[t.jsx(ka,{className:"h-4 w-4 mr-2"}),"Create"," ",n.charAt(0).toUpperCase()+n.slice(1)," ","Profile"]})]}):t.jsxs(t.Fragment,{children:[n==="job"&&V(),n==="mentorship"&&J(),n==="networking"&&M()]})})]}),y&&!o&&t.jsx(wr,{className:"border-green-200 bg-green-50",children:t.jsx($r,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2 text-green-700",children:[t.jsx(ds,{className:"h-5 w-5"}),t.jsxs("span",{className:"font-medium",children:["Your ",n," profile is active and visible to others!"]})]})})})]})}async function u0e(e,r){const n=await fetch(`/api/profile/photo/${e}/primary/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!n.ok){const a=await n.json();throw new Error(a.message||`Failed to set primary photo for ${r}`)}return await n.json()}async function m0e(e){const r=await fetch(`/api/profile/photos/section/${e}`);if(!r.ok){const n=await r.json();throw new Error(n.message||`Failed to fetch photos for ${e}`)}return await r.json()}function h0e(e,r,n){const a=n.find(o=>o.id===e);if(!a)return!1;const i={meet:"isPrimaryForMeet",job:"isPrimaryForJob",mentorship:"isPrimaryForMentorship",networking:"isPrimaryForNetworking"}[r];return a[i]===!0}function G8(e,r){const a={meet:"isPrimaryForMeet",job:"isPrimaryForJob",mentorship:"isPrimaryForMentorship",networking:"isPrimaryForNetworking"}[e];return r.find(s=>s[a]===!0)||null}function Bb({photos:e,section:r,onPhotosUpdate:n,className:a="",userId:s,hideTitle:i=!1}){const[o,l]=u.useState(null),[c,d]=u.useState(!1),[m,h]=u.useState(!1),p=u.useRef(null),{toast:f}=Wr();u.useEffect(()=>{if(!e||e.length===0||m)return;if(e.filter(N=>!N||!N.id?!1:N.isPrimaryForJob&&r==="job"||N.isPrimaryForMentorship&&r==="mentorship"||N.isPrimaryForNetworking&&r==="networking"||N.isPrimaryForMeet&&r==="meet").length===0&&e.length>0){const N=e[0];N!=null&&N.id&&(console.log(`[AUTO-PRIMARY] Setting first photo (${N.id}) as primary for ${r} section`),ze(`/api/profile/photo/${N.id}/primary/${r}`,{method:"PATCH"}).then(()=>{n&&n([]),me.invalidateQueries({queryKey:[`/api/profile/photos/section/${r}`]})}).catch(P=>{console.error(`Failed to auto-set primary photo for ${r}:`,P)}))}h(!0)},[e,r,m,n,f]);const x=wt({mutationFn:async S=>new Promise((N,P)=>{const C=new FileReader;C.onload=async I=>{var T;try{const _=(T=I.target)==null?void 0:T.result;if(!_)throw new Error("Failed to read file");const A=await(await ze("/api/profile/photo",{method:"POST",data:{photoData:_}})).json();N(A)}catch(_){P(_)}},C.onerror=()=>P(new Error("Failed to read file")),C.readAsDataURL(S)}),onSuccess:async S=>{if(d(!1),(e||[]).filter(C=>!C||!C.id?!1:C.isPrimaryForJob&&r==="job"||C.isPrimaryForMentorship&&r==="mentorship"||C.isPrimaryForNetworking&&r==="networking"||C.isPrimaryForMeet&&r==="meet").length===0&&(S!=null&&S.id))try{await ze(`/api/profile/photo/${S.id}/primary/${r}`,{method:"PATCH"})}catch(C){console.error(`Failed to set primary photo for ${r}:`,C)}p.current&&(p.current.value=""),me.invalidateQueries({queryKey:["/api/photos"]}),me.invalidateQueries({queryKey:[`/api/profile/photos/section/${r}`]}),n&&n([])},onError:S=>{console.error("Photo upload error:",S),f({title:"Upload failed",description:S instanceof Error?S.message:"Failed to upload photo",variant:"destructive",duration:5e3})}}),g=wt({mutationFn:async S=>await ze(`/api/photos/${S}`,{method:"DELETE"}),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/photos"]}),me.invalidateQueries({queryKey:[`/api/profile/photos/section/${r}`]}),n&&n([])},onError:S=>{console.error("Photo deletion error:",S),f({title:"Delete failed",description:S instanceof Error?S.message:"Failed to delete photo",variant:"destructive",duration:5e3})}}),v=async S=>{l(S);try{const N=await u0e(S,r);n&&n(N.photos),me.invalidateQueries({queryKey:[`/api/profile/photos/section/${r}`]}),me.invalidateQueries({queryKey:["/api/profile/photos/section"]})}catch(N){console.error("Error setting primary photo:",N),f({title:"Error",description:N instanceof Error?N.message:"Failed to update primary photo",variant:"destructive",duration:5e3})}finally{l(null)}},y=S=>{var C;const N=(C=S.target.files)==null?void 0:C[0];if(!N)return;if(!N.type.startsWith("image/")){f({title:"Invalid file type",description:"Please select an image file",variant:"destructive",duration:3e3});return}const P=5*1024*1024;if(N.size>P){f({title:"File too large",description:"Please select an image under 5MB",variant:"destructive",duration:3e3});return}d(!0),x.mutate(N)},b=S=>{window.confirm("Are you sure you want to delete this photo?")&&g.mutate(S)},w=S=>({meet:"MEET Dating",job:"Jobs",mentorship:"Mentorship",networking:"Networking"})[S];return t.jsxs("div",{className:`section-photo-manager ${a}`,children:[!i&&t.jsx("div",{className:"mb-4",children:t.jsxs("h3",{className:"text-lg font-semibold text-white",children:[w(r)," Photos"]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.map(S=>{const N=h0e(S.id,r,e),P=o===S.id,C=g.isPending&&g.variables===S.id;return t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-200 dark:bg-gray-700",children:t.jsx("img",{src:S.photoUrl,alt:"Profile photo",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("button",{onClick:()=>v(S.id),disabled:P||C,className:`
                    p-2 rounded-full shadow-sm
                    ${N?"bg-yellow-500 text-white":"bg-white text-gray-700"}
                    ${P?"opacity-50 cursor-not-allowed":""}
                  `,children:P?t.jsx(sn,{className:"w-4 h-4 animate-spin"}):N?t.jsx(Rn,{className:"w-4 h-4 fill-current"}):t.jsx(LG,{className:"w-4 h-4"})})}),t.jsx("div",{className:"absolute bottom-2 right-2",children:N?t.jsx(uj,{userId:s||S.userId,photoId:S.id,currentPhotoUrl:S.photoUrl,className:"!static !bg-white/90 hover:!bg-gray-100 !shadow-lg !border !border-gray-200"}):t.jsx("button",{onClick:()=>b(S.id),disabled:C||P,className:"p-2 rounded-full bg-red-500 text-white shadow-sm",children:C?t.jsx(sn,{className:"w-4 h-4 animate-spin"}):t.jsx(Zn,{className:"w-4 h-4"})})}),N&&t.jsx("div",{className:"absolute bottom-2 left-2",children:t.jsx("div",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"Primary"})})]},S.id)}),e.length<6&&t.jsx("div",{className:"aspect-square rounded-lg border border-gray-300 bg-gray-50 cursor-pointer flex flex-col items-center justify-center",onClick:()=>{var S;return(S=p.current)==null?void 0:S.click()},children:x.isPending?t.jsxs(t.Fragment,{children:[t.jsx(sn,{className:"w-6 h-6 text-blue-500 animate-spin mb-2"}),t.jsx("span",{className:"text-xs text-gray-600",children:"Uploading..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center mb-2",children:t.jsx(ka,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-xs text-gray-600",children:"Add Photo"})]})}),e.length===0&&t.jsx("div",{className:"col-span-full text-center py-8",children:t.jsxs("div",{className:"text-gray-400",children:[t.jsx(UN,{className:"w-12 h-12 mx-auto mb-2"}),t.jsx("p",{className:"text-sm mb-2",children:"No photos uploaded yet"}),t.jsx("button",{onClick:()=>{var S;return(S=p.current)==null?void 0:S.click()},className:"text-blue-500 text-sm font-medium",children:"Upload your first photo"})]})})]}),t.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:y,className:"hidden",disabled:x.isPending})]})}function Gb(e,r){const{data:n,isLoading:a,error:s,refetch:i}=dt({queryKey:[`/api/profile/photos/section/${e}`],queryFn:async()=>(await m0e(e)).photos,enabled:!r,initialData:r}),o=n||[],[l,c]=u.useState(null),d=s?s.message:null;u.useEffect(()=>{const p=G8(e,o);c(p)},[o,e]);const m=u.useCallback(async p=>{await i()},[i]),h=u.useCallback(async p=>{await i()},[i]);return{photos:o,primaryPhoto:l,loading:a,error:d,refetch:i,updatePhotos:m,setPrimaryPhotoLocally:h}}function Vb(e){const[r,n]=u.useState({meet:null,job:null,mentorship:null,networking:null});return u.useEffect(()=>{const a=["meet","job","mentorship","networking"],s={meet:null,job:null,mentorship:null,networking:null};a.forEach(i=>{const o=G8(i,e);s[i]=(o==null?void 0:o.photoUrl)||null}),n(s)},[e]),r}function p0e({user:e}){var bn,Cn,dn,Ga;const r=Gb("job"),n=Gb("mentorship"),a=Gb("networking"),s=Vb(r.photos),i=Vb(n.photos),o=Vb(a.photos),l={job:s.job,mentorship:i.mentorship,networking:o.networking,meet:s.meet};console.log("SUITE-PROFILE: Section photos debug:",{jobPhotos:r.photos,mentorshipPhotos:n.photos,networkingPhotos:a.photos,primaryUrls:l,jobPrimaryUrl:l.job,mentorshipPrimaryUrl:l.mentorship,networkingPrimaryUrl:l.networking});const{darkMode:c}=Za();lr();const[d,m]=u.useState(!1),[h,p]=u.useState(!1),[f,x]=u.useState({}),[g,v]=u.useState("USD"),[y,b]=u.useState("/year"),w=[{value:"/hour",label:"/hour"},{value:"/day",label:"/day"},{value:"/month",label:"/month"},{value:"/year",label:"/year"}],S=[{code:"USD",symbol:"$",flag:"",name:"US Dollar"},{code:"GHS",symbol:"",flag:"",name:"Ghana Cedi"},{code:"EUR",symbol:"",flag:"",name:"Euro"},{code:"GBP",symbol:"",flag:"",name:"British Pound"},{code:"CAD",symbol:"C$",flag:"",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",flag:"",name:"Australian Dollar"},{code:"NGN",symbol:"",flag:"",name:"Nigerian Naira"},{code:"KES",symbol:"KSh",flag:"",name:"Kenyan Shilling"},{code:"ZAR",symbol:"R",flag:"",name:"South African Rand"},{code:"JPY",symbol:"",flag:"",name:"Japanese Yen"},{code:"CHF",symbol:"CHF",flag:"",name:"Swiss Franc"},{code:"SEK",symbol:"kr",flag:"",name:"Swedish Krona"},{code:"NOK",symbol:"kr",flag:"",name:"Norwegian Krone"},{code:"DKK",symbol:"kr",flag:"",name:"Danish Krone"}],N=D=>({Ghana:"GHS",Nigeria:"NGN",Kenya:"KES","South Africa":"ZAR","United States":"USD",Canada:"CAD","United Kingdom":"GBP",Australia:"AUD",Japan:"JPY",Switzerland:"CHF",Sweden:"SEK",Norway:"NOK",Denmark:"DKK"})[D]||"USD";u.useEffect(()=>{if(e!=null&&e.countryOfOrigin){const D=N(e.countryOfOrigin);v(D),x(Ve=>({...Ve,compensationCurrency:D}))}},[e==null?void 0:e.countryOfOrigin]),u.useEffect(()=>{x(D=>({...D,compensationCurrency:g}))},[g]),u.useEffect(()=>{x(D=>({...D,compensationPeriod:y}))},[y]);const[P,C]=u.useState(()=>({showProfilePhoto:!1,role:!0,jobTitle:!0,company:!0,description:!0,compensation:!0,salary:!0,location:!0,workType:!0,jobType:!0,experienceLevel:!0,areasOfExpertise:!0,whyItMatters:!0,whoShouldApply:!0,industryTags:!0,skillTags:!0,applicationUrl:!0,applicationEmail:!0})),[I,T]=u.useState(!1),[_,k]=u.useState(!1),[A,F]=u.useState({}),[V,J]=u.useState(!1),[M,R]=u.useState(!1),[B,O]=u.useState(!1),[X,ae]=u.useState(),[$,re]=u.useState({showProfilePhoto:!1,professionalTagline:!0,role:!0,timeCommitment:!0,availability:!0,timezone:!0,location:!0,languagesSpoken:!0,areasOfExpertise:!0,mentorshipStyle:!0,whyMentor:!0,industriesOrDomains:!0,learningGoals:!0,whySeekMentorship:!0,preferredMentorshipStyle:!0,industryAspiration:!0,highSchool:!0,collegeUniversity:!0}),[le,ce]=u.useState(!1),[ue,ee]=u.useState({}),[Z,Se]=u.useState({showProfilePhoto:!1,showNetworkingPhotos:!0,professionalTagline:!0,currentRole:!0,currentCompany:!0,industry:!0,workplace:!0,experienceYears:!0,lookingFor:!0,canOffer:!0,workingStyle:!0,professionalInterests:!0,networkingGoals:!0,lightUpWhenTalking:!0,languagesSpoken:!0,openToCollaborateOn:!0,preferredNetworkingFormat:!0,signatureAchievement:!0,timezone:!0,location:!0,highSchool:!0,collegeUniversity:!0}),[Ue,De]=u.useState(!1),[se,L]=u.useState(!1),[q,H]=u.useState(!1),[ge,ke]=u.useState(!1),[z,ie]=u.useState(!1),[pe,ye]=u.useState(!1),[$e,Le]=u.useState(!1),[Oe,Ze]=u.useState(!1),[te,Ne]=u.useState(!1),[rt,at]=u.useState(""),{toast:jt}=Wr();tn();const{data:xt,isLoading:jr}=dt({queryKey:["/api/suite/profile-settings"],queryFn:async()=>{try{return await(await ze("/api/suite/profile-settings")).json()}catch(D){return console.warn("No SUITE profile settings found",D),null}}}),{data:zt}=dt({queryKey:["/api/suite/job-profile"],queryFn:async()=>{try{return await(await ze("/api/suite/job-profile")).json()}catch(D){return console.warn("No job profile found",D),null}}}),{data:Wt}=dt({queryKey:["/api/suite/mentorship-profile"],queryFn:async()=>{try{const Ve=await(await ze("/api/suite/mentorship-profile")).json();return Array.isArray(Ve)?Ve:Ve?[Ve]:[]}catch(D){return console.warn("No mentorship profile found",D),[]}}}),Et=((bn=Wt==null?void 0:Wt.sort((D,Ve)=>new Date(Ve.updatedAt||Ve.createdAt).getTime()-new Date(D.updatedAt||D.createdAt).getTime()))==null?void 0:bn[0])||null,{data:ut,isLoading:cr}=dt({queryKey:["/api/suite/networking-profile"],queryFn:async()=>{try{return await(await ze("/api/suite/networking-profile")).json()}catch(D){return console.warn("No networking profile found",D),null}}});u.useEffect(()=>{const D=new URLSearchParams(window.location.search);D.get("openNetworking")==="true"?(ut?ee(ut):e!=null&&e.photoUrl&&console.log("Auto-opening networking dialog with user photo pre-loading"),Ze(!0),window.history.replaceState({},"",window.location.pathname)):D.get("openMentorship")==="true"?(Wt&&Wt.length>0?F(Wt[0]):e!=null&&e.photoUrl&&console.log("Auto-opening mentorship dialog with user photo pre-loading"),k(!0),window.history.replaceState({},"",window.location.pathname)):D.get("openJob")==="true"&&(zt?x(zt):e!=null&&e.photoUrl&&console.log("Auto-opening job dialog with user photo pre-loading"),Le(!0),window.history.replaceState({},"",window.location.pathname))},[ut,Wt,zt,e]),dt({queryKey:["/api/suite/field-visibility/mentorship"],queryFn:async()=>{try{return await(await ze("/api/suite/field-visibility/mentorship")).json()}catch(D){return console.warn("No mentorship field visibility settings found",D),[]}}}),dt({queryKey:["/api/suite/field-visibility/networking"],queryFn:async()=>{try{return await(await ze("/api/suite/field-visibility/networking")).json()}catch(D){return console.warn("No networking field visibility settings found",D),[]}}}),u.useEffect(()=>{if(console.log("Networking profile useEffect triggered:",{hasNetworkingProfile:!!ut,hasVisibilityPreferences:!!(ut!=null&&ut.visibilityPreferences),visibilityPreferences:ut==null?void 0:ut.visibilityPreferences}),ut!=null&&ut.visibilityPreferences)try{const D=JSON.parse(ut.visibilityPreferences);console.log("Loading saved networking visibility preferences:",D),Se(D)}catch(D){console.error("Error parsing networking visibility preferences:",D)}else console.log("No networking profile visibility preferences found, using defaults")},[ut]),u.useEffect(()=>{if(zt!=null&&zt.visibilityPreferences)try{const D=JSON.parse(zt.visibilityPreferences);console.log("Loading saved job visibility preferences:",D),C(D)}catch(D){console.error("Error parsing job visibility preferences:",D)}},[zt]),u.useEffect(()=>{if(console.log("Mentorship profile useEffect triggered:",{hasMentorshipProfile:!!Et,hasVisibilityPreferences:!!(Et!=null&&Et.visibilityPreferences),visibilityPreferences:Et==null?void 0:Et.visibilityPreferences,currentVisibilityState:$}),Et!=null&&Et.visibilityPreferences)try{const D=JSON.parse(Et.visibilityPreferences);console.log("Loading saved mentorship visibility preferences:",D),console.log("Previous mentorship visibility state:",$),re(Ve=>(console.log("Functional state update - previous:",Ve),console.log("Functional state update - new:",D),D)),console.log("After setMentorshipFieldVisibility call - this should trigger re-render")}catch(D){console.error("Error parsing mentorship visibility preferences:",D)}else if(Et){const D={showProfilePhoto:!1,professionalTagline:!0,role:!0,timeCommitment:!0,availability:!0,timezone:!0,location:!0,languagesSpoken:!0,areasOfExpertise:!0,mentorshipStyle:!0,whyMentor:!0,industriesOrDomains:!0,learningGoals:!0,whySeekMentorship:!0,preferredMentorshipStyle:!0,industryAspiration:!0,highSchool:!0,collegeUniversity:!0};console.log("Using default mentorship visibility preferences (no JSON found):",D),re(D)}else console.log("No mentorship profile found, keeping current visibility state")},[Et]);const Ir=wt({mutationFn:D=>ze("/api/suite/job-profile",{method:"POST",data:D}),onSuccess:()=>{p(!1),x({}),me.invalidateQueries({queryKey:["/api/suite/job-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]})},onError:D=>{jt({title:"Error",description:D.message||"Failed to save job profile",variant:"destructive"})}}),Bt=wt({mutationFn:async D=>(console.log("SUITE-PROFILE: Saving job visibility preferences:",D),ze("/api/suite/job-profile",{method:"PATCH",data:D})),onSuccess:()=>{console.log("SUITE-PROFILE: Job visibility preferences saved successfully"),me.invalidateQueries({queryKey:["/api/suite/job-profile"]})},onError:D=>{console.error("SUITE-PROFILE: Error saving job visibility preferences:",D),jt({title:"Error",description:"Failed to save visibility preferences",variant:"destructive"})}}),vt=wt({mutationFn:D=>{console.log("SUITE-PROFILE: Saving mentorship profile with visibility preferences"),console.log("SUITE-PROFILE: Form data:",D),console.log("SUITE-PROFILE: Current visibility preferences:",$);const Ve={...D,visibilityPreferences:JSON.stringify($)};return console.log("SUITE-PROFILE: Data with visibility preferences:",Ve),ze("/api/suite/mentorship-profile",{method:"POST",data:Ve})},onSuccess:()=>{T(!1),F({}),me.invalidateQueries({queryKey:["/api/suite/mentorship-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]})},onError:D=>{jt({title:"Error",description:D.message||"Failed to save mentorship profile",variant:"destructive"})}}),Ft=wt({mutationFn:D=>ze("/api/suite/networking-profile",{method:"POST",data:D}),onSuccess:()=>{ce(!1),ee({}),me.invalidateQueries({queryKey:["/api/suite/networking-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]})},onError:D=>{jt({title:"Error",description:D.message||"Failed to save networking profile",variant:"destructive"})}});wt({mutationFn:async D=>{const Ve=await ze("/api/suite/field-visibility/job",{method:"PUT",data:D}),Ke=Ve.headers.get("content-type");return Ke&&Ke.includes("application/json")?await Ve.json():{message:"Field visibility updated successfully"}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/field-visibility/job"]}),jt({title:"Field Visibility Updated",description:"Your job profile field visibility has been saved."})},onError:D=>{jt({title:"Error",description:D.message||"Failed to save field visibility",variant:"destructive"})}});const $t=wt({mutationFn:async D=>(console.log("Saving networking visibility preferences:",D),await(await ze("/api/suite/networking-profile",{method:"PATCH",data:D})).json()),onMutate:async D=>{await me.cancelQueries({queryKey:["/api/suite/networking-profile"]});const Ve=me.getQueryData(["/api/suite/networking-profile"]);return me.setQueryData(["/api/suite/networking-profile"],Ke=>Ke&&{...Ke,visibilityPreferences:D.visibilityPreferences}),{previousProfile:Ve}},onError:(D,Ve,Ke)=>{Ke!=null&&Ke.previousProfile&&me.setQueryData(["/api/suite/networking-profile"],Ke.previousProfile),console.error("Error saving networking visibility:",D),jt({title:"Error saving visibility preferences",description:"Please try again.",variant:"destructive"})},onSettled:()=>{me.invalidateQueries({queryKey:["/api/suite/networking-profile"]}),console.log("Networking visibility preferences saved successfully")}}),dr=u.useMemo(()=>h1(D=>{$t.mutate(D)},150),[$t]),Vt=wt({mutationFn:async D=>(console.log("Saving mentorship visibility preferences:",D),await(await ze("/api/suite/mentorship-profile",{method:"PATCH",data:D})).json()),onMutate:async D=>{await me.cancelQueries({queryKey:["/api/suite/mentorship-profile"]});const Ve=me.getQueryData(["/api/suite/mentorship-profile"]);return me.setQueryData(["/api/suite/mentorship-profile"],Ke=>Ke&&(Array.isArray(Ke)?Ke.map(Ot=>({...Ot,visibilityPreferences:D.visibilityPreferences})):{...Ke,visibilityPreferences:D.visibilityPreferences})),{previousProfile:Ve}},onError:(D,Ve,Ke)=>{Ke!=null&&Ke.previousProfile&&me.setQueryData(["/api/suite/mentorship-profile"],Ke.previousProfile),console.error("Error saving mentorship visibility:",D),jt({title:"Error saving visibility preferences",description:"Please try again.",variant:"destructive"})},onSettled:()=>{me.invalidateQueries({queryKey:["/api/suite/mentorship-profile"]}),console.log("Mentorship visibility preferences saved successfully")}}),vn=u.useMemo(()=>h1(D=>{Vt.mutate(D)},150),[Vt]),Sn=wt({mutationFn:async()=>await(await ze("/api/suite/networking-profile",{method:"DELETE"})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/networking-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]}),ee({}),ce(!1),Ze(!1)},onError:D=>{jt({title:"Error",description:D.message||"Failed to delete networking profile",variant:"destructive"})}}),Rt=wt({mutationFn:async D=>{const Ve=D?`?role=${D}`:"";return await(await ze(`/api/suite/mentorship-profile${Ve}`,{method:"DELETE"})).json()},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/mentorship-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]}),F({}),T(!1),k(!1)},onError:D=>{jt({title:"Error",description:D.message||"Failed to delete mentorship profile",variant:"destructive"})}}),Te=wt({mutationFn:async()=>await(await ze("/api/suite/job-profile",{method:"DELETE"})).json(),onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/job-profile"]}),me.invalidateQueries({queryKey:["/api/suite/profile-settings"]}),x({}),p(!1),Le(!1)},onError:D=>{jt({title:"Error",description:D.message||"Failed to delete job profile",variant:"destructive"})}});wt({mutationFn:async D=>{const Ve=await ze("/api/suite/field-visibility/networking",{method:"PUT",data:D}),Ke=Ve.headers.get("content-type");return Ke&&Ke.includes("application/json")?await Ve.json():{message:"Field visibility updated successfully"}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/suite/field-visibility/networking"]}),jt({title:"Field Visibility Updated",description:"Your networking profile field visibility has been saved."})},onError:D=>{jt({title:"Error",description:D.message||"Failed to save field visibility",variant:"destructive"})}});const{data:Xe,isLoading:nt}=dt({queryKey:[`/api/photos/${e==null?void 0:e.id}`],enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),U=u.useRef(null);wt({mutationFn:async D=>{const Ve={id:Date.now(),userId:e.id,photoUrl:D,isPrimary:!Xe||Xe.length===0,createdAt:new Date().toISOString()};me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Ke=>[...Ke||[],Ve]);try{const Ke=await ze("/api/photos",{method:"POST",data:{photoUrl:D,isPrimary:!Xe||Xe.length===0}});return jt({title:"Photo added",description:"Your photo has been added to your profile"}),await Ke.json()}catch(Ke){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Ot=>(Ot||[]).filter(Nr=>Nr.id!==Ve.id)),jt({title:"Error adding photo",description:Ke instanceof Error?Ke.message:"Unknown error occurred",variant:"destructive"}),Ke}finally{U.current&&(U.current.value="")}},onSuccess:()=>{me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]})}});const K=wt({mutationFn:async D=>{const Ve=me.getQueryData([`/api/photos/${e==null?void 0:e.id}`]);me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Ke=>(Ke||[]).filter(Ot=>Ot.id!==D));try{return await ze(`/api/photos/${D}`,{method:"DELETE"}),D}catch(Ke){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Ve),jt({title:"Error deleting photo",description:Ke instanceof Error?Ke.message:"Unknown error occurred",variant:"destructive"}),Ke}},onSuccess:D=>{var Ke;((Ke=Xe==null?void 0:Xe.find(Ot=>Ot.id===D))==null?void 0:Ke.isPrimary)&&me.invalidateQueries({queryKey:["/api/user"]}),me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]})}});wt({mutationFn:async D=>{var Ot;const Ve=me.getQueryData([`/api/photos/${e==null?void 0:e.id}`]),Ke=me.getQueryData(["/api/user"]);if(Xe){const Nr=(Ot=Xe.find(Br=>Br.id===D))==null?void 0:Ot.photoUrl,Fr=Xe.map(Br=>({...Br,isPrimary:Br.id===D}));me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Fr),Nr&&Ke&&me.setQueryData(["/api/user"],{...Ke,photoUrl:Nr})}try{return await(await ze(`/api/photos/${D}/primary`,{method:"PATCH"})).json()}catch(Nr){throw me.setQueryData([`/api/photos/${e==null?void 0:e.id}`],Ve),me.setQueryData(["/api/user"],Ke),jt({title:"Error setting primary photo",description:Nr instanceof Error?Nr.message:"Unknown error occurred",variant:"destructive"}),Nr}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/user"]}),me.invalidateQueries({queryKey:[`/api/photos/${e==null?void 0:e.id}`]})}}).isPending,K.variables;const Ae=(D,Ve)=>{x(Ke=>({...Ke,[D]:Ve}))},st=()=>{Ir.mutate(f)},Pt=()=>{if(zt){const D={...zt};!D.location&&e.location&&(D.location=e.location),x(D)}else{const D={};e.location&&(D.location=e.location),x(D)}Le(!0)},Nt=D=>{console.log("SUITE-PROFILE: toggleJobFieldVisibility function called with field:",D),C(Ve=>{const Ke={...Ve,[D]:!Ve[D]};console.log(`SUITE-PROFILE: Toggling job field visibility for ${D} to ${!Ve[D]}`),console.log("SUITE-PROFILE: Updated job visibility preferences:",Ke),console.log("SUITE-PROFILE: About to trigger saveJobVisibilityMutation"),console.log("SUITE-PROFILE: Mutation function exists:",typeof Bt),console.log("SUITE-PROFILE: Data to save:",JSON.stringify(Ke));try{Bt.mutate({visibilityPreferences:JSON.stringify(Ke)}),console.log("SUITE-PROFILE: Job mutation triggered successfully")}catch(Ot){console.error("SUITE-PROFILE: Error triggering job mutation:",Ot)}return Ke})},Ce=D=>{console.log("SUITE-PROFILE: toggleMentorshipFieldVisibility function called with field:",D),re(Ve=>{const Ke={...Ve,[D]:!Ve[D]};if(console.log(`SUITE-PROFILE: Toggling mentorship field visibility for ${D} to ${!Ve[D]}`),console.log("SUITE-PROFILE: Updated mentorship visibility preferences:",Ke),Et&&Et.id){console.log("SUITE-PROFILE: Profile exists, saving visibility preferences via debounced PATCH"),console.log("SUITE-PROFILE: Data to save:",JSON.stringify(Ke));try{const Ot=(A==null?void 0:A.role)||(Et==null?void 0:Et.role)||"mentor";vn({visibilityPreferences:JSON.stringify(Ke),role:Ot}),console.log("SUITE-PROFILE: Debounced mentorship mutation triggered successfully with role:",Ot)}catch(Ot){console.error("SUITE-PROFILE: Error triggering debounced mentorship mutation:",Ot)}}else console.log("SUITE-PROFILE: No existing profile found, storing visibility preferences locally for profile creation"),console.log("SUITE-PROFILE: Preferences will be included when profile is created via POST");return Ke})},qe=D=>{console.log("SUITE-PROFILE: toggleNetworkingFieldVisibility function called with field:",D),Se(Ve=>{let Ke;if(D==="showNetworkingPhotos"){const Ot=!Ve[D];Ke={...Ve,[D]:Ot,showProfilePhoto:Ot},console.log(`SUITE-PROFILE: Networking Photos toggle controls both showNetworkingPhotos and showProfilePhoto to ${Ot}`)}else Ke={...Ve,[D]:!Ve[D]};console.log(`SUITE-PROFILE: Toggling networking field visibility for ${D} to ${!Ve[D]}`),console.log("SUITE-PROFILE: Updated networking visibility preferences:",Ke),console.log("SUITE-PROFILE: Data to save:",JSON.stringify(Ke));try{dr({visibilityPreferences:JSON.stringify(Ke)}),console.log("SUITE-PROFILE: Debounced networking mutation triggered successfully")}catch(Ot){console.error("SUITE-PROFILE: Error triggering debounced networking mutation:",Ot)}return Ke})},Qe=(D,Ve)=>{if(D==="role"&&Ve!==A.role){const Ke=Wt==null?void 0:Wt.find(Ot=>Ot.role===Ve);if(Ke){const Ot={...Ke};["languagesSpoken","areasOfExpertise","industriesOrDomains","learningGoals"].forEach(Fr=>{Ot[Fr]&&typeof Ot[Fr]=="string"&&(Ot[Fr]=Ot[Fr].split(",").map(Br=>Br.trim()).filter(Boolean))}),F(Ot)}else{const Ot={role:Ve};e.location&&(Ot.location=e.location),F(Ot)}}else F(Ke=>({...Ke,[D]:Ve}))},Mt=()=>{vt.mutate(A)},Ut=D=>{console.log("=== MENTORSHIP EDIT DEBUG ==="),console.log("mentorshipProfiles:",Wt),console.log("selectedRole:",D),console.log("user object:",e),console.log("user.location:",e.location);let Ve=null;if(D&&(Wt!=null&&Wt.length)?Ve=Wt.find(Ke=>Ke.role===D):Wt!=null&&Wt.length&&(Ve=Et||Wt[0]),console.log("Profile to load:",Ve),Ve){const Ke={...Ve};["languagesSpoken","areasOfExpertise","industriesOrDomains","learningGoals"].forEach(Nr=>{Ke[Nr]&&typeof Ke[Nr]=="string"&&(Ke[Nr]=Ke[Nr].split(",").map(Fr=>Fr.trim()).filter(Boolean))}),!Ke.location&&e.location&&(console.log("Prefilling location from user.location:",e.location),Ke.location=e.location),console.log("Form data being set:",Ke),F(Ke)}else{console.log("No profile found, starting with empty form"),console.log("Creating new profile with user.location:",e.location);const Ke={};D&&(Ke.role=D),e.location&&(console.log("Setting location for new profile:",e.location),Ke.location=e.location),console.log("Initial data for new profile:",Ke),F(Ke)}k(!0)},Ct=(D,Ve)=>{console.log(`[NETWORKING] Updating field "${D}" with value:`,Ve),ee(Ke=>{const Ot={...Ke,[D]:Ve};return console.log("[NETWORKING] Updated form data:",Ot),Ot})},ht=()=>{Ft.mutate(ue)},tr=()=>{if(console.log("SUITE-PROFILE: handleNetworkingEdit called - opening dialog"),console.log("SUITE-PROFILE: networkingProfile data:",ut),ut){const D={...ut};!D.location&&e.location&&(D.location=e.location),console.log("SUITE-PROFILE: formData being set:",D),console.log("SUITE-PROFILE: education fields in formData:",{highSchool:D.highSchool,collegeUniversity:D.collegeUniversity}),ee(D)}else{const D={};e.location&&(D.location=e.location),ee(D)}Ze(!0),console.log("SUITE-PROFILE: showNetworkingDialog set to true")};if(d)return t.jsx(d0e,{userId:e.id,onBack:()=>m(!1)});const we=[{id:"job",title:"Job Opportunities",icon:zr,description:"Post jobs or seek opportunities",color:"from-blue-500 to-blue-600",profile:zt,active:(xt==null?void 0:xt.jobProfileActive)&&zt||!1},{id:"mentorship",title:"Mentorship",icon:Jt,description:"Find mentors or become one",color:"from-purple-500 to-purple-600",profile:Et,active:(xt==null?void 0:xt.mentorshipProfileActive)&&Et||!1},{id:"networking",title:"Networking",icon:Eo,description:"Connect and collaborate",color:"from-green-500 to-green-600",profile:ut,active:(ut==null?void 0:ut.isActive)&&ut&&!jr&&!cr||!1}],pt=()=>{var Ot,Nr,Fr,Br,ra,fs;const D=zt||f;if(!D||!D.jobTitle&&!D.description&&!D.role)return t.jsx("div",{className:"w-full max-w-sm mx-auto bg-white rounded-xl shadow-xl p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No job profile data to preview"})});const Ve=D.role==="job-seeker",Ke=D.role==="recruiter";return t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"w-full max-w-sm mx-auto rounded-xl shadow-2xl overflow-hidden relative",style:{minHeight:"400px"},children:[P.showProfilePhoto&&(l.job||e.photoUrl)?t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${l.job||e.photoUrl})`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-black/20"})}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/10"})}),(e==null?void 0:e.isVerified)&&t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[8px] font-bold shadow-[0_2px_8px_rgba(34,197,94,0.3),0_1px_4px_rgba(34,197,94,0.2),inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)] overflow-hidden border border-emerald-300/40 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2 w-2 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsxs("div",{className:"relative z-10 p-4 h-full flex flex-col justify-between text-white",style:{minHeight:"400px"},children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-2xl font-bold text-orange-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:Ve?"SEEKING":"HIRING"})}),D.industryTags&&D.industryTags.length>0&&P.industryTags&&t.jsx(St,{className:`px-3 py-1.5 text-xs font-bold rounded-full shadow-xl border w-fit relative overflow-hidden ${Ke||Ve?"bg-gradient-to-br from-purple-400 via-purple-500 to-purple-600 text-white border-purple-200/50":"bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 text-white border-blue-200/50"} transform hover:scale-110 transition-all duration-300 before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:-skew-x-12 before:animate-pulse`,children:t.jsx("span",{className:"relative z-10 tracking-wider drop-shadow-sm",children:D.industryTags[0].toUpperCase()})})]})}),t.jsxs("div",{className:"mt-auto space-y-2",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient",children:[t.jsx("span",{className:"text-4xl",children:((Nr=(Ot=e.fullName)==null?void 0:Ot.split(" ")[0])==null?void 0:Nr.charAt(0))||"U"}),((Br=(Fr=e.fullName)==null?void 0:Fr.split(" ")[0])==null?void 0:Br.slice(1))||"ser"]})}),Ke&&D.salary&&P.salary&&t.jsxs("div",{className:"relative bg-gradient-to-r from-green-400 via-emerald-500 to-green-600 backdrop-blur-md rounded-xl px-4 py-2 border border-white/30 shadow-2xl transform transition-all duration-300 hover:scale-105 hover:shadow-3xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-xl opacity-80"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-white/30 rounded-xl"}),t.jsxs("div",{className:"relative flex items-center gap-1.5",children:[t.jsx(Wg,{className:"h-4 w-4 text-white drop-shadow-lg"}),t.jsxs("span",{className:"text-white text-sm font-extrabold drop-shadow-lg tracking-wide",children:[(ra=S.find(Va=>Va.code===(D.salaryCurrency||g)))==null?void 0:ra.symbol," ",D.salary,D.salaryPeriod||y]})]}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white/40 rounded-full blur-sm"}),t.jsx("div",{className:"absolute top-1 left-2 w-1 h-1 bg-white/60 rounded-full"})]}),Ve&&D.company&&D.company!=="prefer_not_to_say"&&P.company&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:D.company})})]}),D.jobTitle&&P.jobTitle&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Rn,{className:"h-4 w-4 mr-1 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Ve?"Desired Role:":"Job Title:"}),t.jsx("span",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:D.jobTitle})]})}),(D.workType&&P.workType||D.jobType&&P.jobType)&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ja,{className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Ve?"Preferred:":"Work Style:"}),t.jsx("span",{className:"text-yellow-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:[D.workType,D.jobType].filter(Boolean).join("  ")})]})}),D.experienceLevel&&P.experienceLevel&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(FN,{className:"h-4 w-4 mr-1 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Ve?"Experience:":"Required Level:"}),t.jsx("span",{className:"text-emerald-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:D.experienceLevel})]})}),Ve&&D.areasOfExpertise&&P.areasOfExpertise&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1 text-purple-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Expertise:"}),t.jsx("span",{className:"text-purple-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:D.areasOfExpertise.length>40?`${D.areasOfExpertise.substring(0,40)}...`:D.areasOfExpertise})]})}),D.description&&P.description&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(hn,{className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Ve?"Summary:":"Job Description:"})]}),t.jsx("div",{className:"text-cyan-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.description.length>80?`${D.description.substring(0,80)}...`:D.description})]}),Ke&&D.requirements&&P.requirements&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(ds,{className:"h-4 w-4 mr-1 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Requirements:"})]}),t.jsx("div",{className:"text-amber-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.requirements.length>80?`${D.requirements.substring(0,80)}...`:D.requirements})]}),D.industryTags&&D.industryTags.length>0&&P.industryTags&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(vp,{className:"h-4 w-4 mr-1 text-purple-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Industry Tags:"})]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.industryTags.slice(0,2).map((Va,gi)=>t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:Va})},gi)),D.industryTags.length>2&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden",children:t.jsxs("span",{className:"relative z-10 text-xs",children:["+",D.industryTags.length-2]})})]})]})}),D.skillTags&&D.skillTags.length>0&&P.skillTags&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(fG,{className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Skills:"})]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.skillTags.slice(0,3).map((Va,gi)=>t.jsx(St,{className:"bg-cyan-500/20 text-cyan-200 border-cyan-400/30 text-[10px] px-1 py-0.5",children:Va},gi)),D.skillTags.length>3&&t.jsxs(St,{className:"bg-cyan-500/20 text-cyan-200 border-cyan-400/30 text-[10px] px-1 py-0.5",children:["+",D.skillTags.length-3]})]})]}),Ve&&D.compensation&&P.compensation&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wg,{className:"h-4 w-4 mr-1 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Expected Compensation:"}),t.jsxs("span",{className:"text-purple-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:[(fs=S.find(Va=>Va.code===(D.compensationCurrency||g)))==null?void 0:fs.symbol," ",D.compensation,D.compensationPeriod||y]})]})}),D.whoShouldApply&&P.whoShouldApply&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Jt,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Who Should Apply:"})]}),t.jsx("div",{className:"text-indigo-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.whoShouldApply.length>80?`${D.whoShouldApply.substring(0,80)}...`:D.whoShouldApply})]}),D.applicationUrl&&P.applicationUrl&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(vT,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Apply:"}),t.jsx("span",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1 truncate",children:D.applicationUrl.length>25?`${D.applicationUrl.substring(0,25)}...`:D.applicationUrl})]})}),D.applicationEmail&&P.applicationEmail&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ks,{className:"h-4 w-4 mr-1 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Email:"}),t.jsx("span",{className:"text-pink-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1 truncate",children:D.applicationEmail.length>25?`${D.applicationEmail.substring(0,25)}...`:D.applicationEmail})]})})]})]})]})},ot=()=>{var Ve,Ke,Ot,Nr,Fr;const D=Et||A;return!D||!D.role?t.jsx("div",{className:"w-full max-w-sm mx-auto bg-white rounded-xl shadow-xl p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No mentorship profile data to preview"})}):t.jsxs(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"w-full max-w-sm mx-auto rounded-xl shadow-2xl overflow-hidden relative",style:{minHeight:"400px"},children:[$.showProfilePhoto&&l.mentorship?t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${l.mentorship})`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-black/20"})}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/10"})}),(e==null?void 0:e.isVerified)&&t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[8px] font-bold shadow-[0_2px_8px_rgba(34,197,94,0.3),0_1px_4px_rgba(34,197,94,0.2),inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)] overflow-hidden border border-emerald-300/40 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2 w-2 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsxs("div",{className:"relative z-10 p-4 h-full flex flex-col justify-between text-white",style:{minHeight:"400px"},children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsx("div",{className:"flex flex-col gap-2",children:D.role&&$.role&&t.jsx(St,{className:"bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-500 text-amber-900 font-bold shadow-lg border-0 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite] px-2 py-1 text-xs rounded-full w-fit transform hover:scale-105 transition-all duration-200",children:t.jsx("span",{className:"relative z-10 tracking-wide drop-shadow-sm",children:D.role==="mentor"?"Mentor":"Mentee"})})})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient",children:[t.jsx("span",{className:"text-4xl",children:((Ke=(Ve=e.fullName)==null?void 0:Ve.split(" ")[0])==null?void 0:Ke.charAt(0))||"U"}),((Nr=(Ot=e.fullName)==null?void 0:Ot.split(" ")[0])==null?void 0:Nr.slice(1))||"ser"]})}),D.role==="mentee"&&D.industryAspiration&&$.industryAspiration&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:D.industryAspiration})}),D.role==="mentor"&&D.industriesOrDomains&&D.industriesOrDomains.length>0&&$.industriesOrDomains&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:Array.isArray(D.industriesOrDomains)?D.industriesOrDomains[0]:(Fr=D.industriesOrDomains.split(",")[0])==null?void 0:Fr.trim()})})]}),D.location&&$.location&&t.jsxs("div",{className:"mb-1.5 flex items-center",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-indigo-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.location})]}),D.highSchool&&$.highSchool&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ao,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:D.highSchool})]}),D.collegeUniversity&&$.collegeUniversity&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:D.collegeUniversity})]}),D.professionalTagline&&$.professionalTagline&&t.jsxs("p",{className:"text-white/90 text-xs font-medium italic drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] mb-1.5",children:['"',D.professionalTagline,'"']}),D.role==="mentor"&&D.areasOfExpertise&&D.areasOfExpertise.length>0&&$.areasOfExpertise&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Rn,{className:"h-4 w-4 mr-1 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Areas of Expertise:"})]}),t.jsx("div",{className:"text-emerald-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(D.areasOfExpertise)?D.areasOfExpertise.join(", "):D.areasOfExpertise})]}),D.role==="mentee"&&D.learningGoals&&D.learningGoals.length>0&&$.learningGoals&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Nn,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Learning Goals:"})]}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(D.learningGoals)?D.learningGoals.join(", "):D.learningGoals})]}),D.timeCommitment&&$.timeCommitment&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Ja,{className:"h-4 w-4 mr-1 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Time Commitment:"})]}),t.jsx("div",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.timeCommitment})]}),D.availability&&$.availability&&t.jsxs("div",{className:"mb-1.5 flex items-center",children:[t.jsx(tl,{className:"h-4 w-4 mr-2 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-purple-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.availability})]}),D.languagesSpoken&&D.languagesSpoken.length>0&&$.languagesSpoken&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(hn,{className:"h-4 w-4 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[(Array.isArray(D.languagesSpoken)?D.languagesSpoken.slice(0,3):D.languagesSpoken.split(",").slice(0,3).map(Br=>Br.trim())).map((Br,ra)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Br},ra)),(Array.isArray(D.languagesSpoken)?D.languagesSpoken.length>3:D.languagesSpoken.split(",").length>3)&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:["+",Array.isArray(D.languagesSpoken)?D.languagesSpoken.length-3:D.languagesSpoken.split(",").length-3]})]})]})}),D.role==="mentor"&&D.mentorshipStyle&&$.mentorshipStyle&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Mentorship Style:"})]}),t.jsx("div",{className:"text-yellow-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.mentorshipStyle})]}),D.role==="mentor"&&D.whyMentor&&$.whyMentor&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Mentor:"})]}),t.jsx("div",{className:"text-pink-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.whyMentor.length>60?`${D.whyMentor.substring(0,60)}...`:D.whyMentor})]}),D.role==="mentee"&&D.whySeekMentorship&&$.whySeekMentorship&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Yt,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Seek Mentorship:"})]}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.whySeekMentorship.length>60?`${D.whySeekMentorship.substring(0,60)}...`:D.whySeekMentorship})]}),D.role==="mentee"&&D.preferredMentorshipStyle&&$.preferredMentorshipStyle&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Preferred Style:"})]}),t.jsx("div",{className:"text-teal-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.preferredMentorshipStyle})]})]})]})]})},qt=()=>{var Ve,Ke,Ot,Nr,Fr;const D=ut||ue;return!D||!D.currentRole&&!D.professionalTagline&&!D.industry&&!D.location?t.jsx("div",{className:"w-full max-w-sm mx-auto bg-white rounded-xl shadow-xl p-6 text-center",children:t.jsx("p",{className:"text-gray-500",children:"No networking profile data to preview"})}):t.jsx(E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"w-full h-[400px] mx-auto bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl shadow-xl overflow-hidden relative",children:t.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[Z.showNetworkingPhotos&&(l.networking||e.photoUrl)?t.jsx("img",{src:l.networking||e.photoUrl||"",className:"w-full h-full object-cover",alt:`${e.fullName}'s networking profile`}):Z.showNetworkingPhotos?t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-100 to-purple-200",children:t.jsx(qs,{imageUrl:e.photoUrl||void 0,fallbackInitials:(Ve=e.fullName)==null?void 0:Ve.split(" ").map(Br=>Br[0]).join("").toUpperCase(),size:"xl",className:"w-20 h-20 text-3xl"})}):t.jsx("div",{className:"w-full h-full bg-black"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),(e==null?void 0:e.isVerified)&&t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[8px] font-bold shadow-[0_2px_8px_rgba(34,197,94,0.3),0_1px_4px_rgba(34,197,94,0.2),inset_0_1px_1px_rgba(255,255,255,0.3),inset_0_-1px_1px_rgba(0,0,0,0.1)] overflow-hidden border border-emerald-300/40 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2 w-2 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsxs("div",{className:"absolute inset-0 p-4 flex flex-col justify-between",children:[t.jsx("div",{className:"text-white space-y-1"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold flex-1",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient",children:[t.jsx("span",{className:"text-4xl",children:((Ot=(Ke=e.fullName)==null?void 0:Ke.split(" ")[0])==null?void 0:Ot.charAt(0))||"U"}),((Fr=(Nr=e.fullName)==null?void 0:Nr.split(" ")[0])==null?void 0:Fr.slice(1))||"ser"]})}),(()=>{let Br={industry:!0};if(D.visibilityPreferences)try{Br=JSON.parse(D.visibilityPreferences)}catch(ra){console.warn("Failed to parse visibility preferences:",ra)}return D.industry&&Br.industry})()&&t.jsx("div",{className:"ml-3 flex-shrink-0",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg border border-white/20 backdrop-blur-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-300 rounded-full mr-1.5 animate-pulse"}),D.industry]})})]}),(()=>{let Br={location:!0};if(D.visibilityPreferences)try{Br=JSON.parse(D.visibilityPreferences)}catch(ra){console.warn("Failed to parse visibility preferences:",ra)}return D.location&&Br.location})()&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ta,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"font-medium text-sm text-rose-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.location})]}),D.currentRole&&Z.currentRole&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(zr,{className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"bg-gradient-to-r from-sky-400 to-teal-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:[D.currentRole,D.currentCompany&&Z.currentCompany&&` @ ${D.currentCompany}`]}),D.experienceYears&&Z.experienceYears&&t.jsxs("span",{className:"text-teal-100 text-sm ml-1 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:[" ",D.experienceYears]})]}),!D.currentRole&&D.currentCompany&&Z.currentCompany&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 12h.01"}),t.jsx("path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}),t.jsx("path",{d:"M22 13a18.15 18.15 0 0 1-20 0"}),t.jsx("rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"})]}),t.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:D.currentCompany})]}),D.highSchool&&Z.highSchool&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ao,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:D.highSchool})]}),D.collegeUniversity&&Z.collegeUniversity&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:D.collegeUniversity})]}),D.professionalTagline&&Z.professionalTagline&&t.jsx("div",{className:"mb-2 rounded-md overflow-hidden",children:t.jsxs("p",{className:"text-white/95 leading-tight text-xs font-medium bg-gradient-to-r from-black/15 to-purple-900/15 p-2 rounded-md drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient italic",children:['"',D.professionalTagline,'"']})}),D.workplace&&Z.workplace&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{className:"font-medium text-sm text-orange-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.workplace})]}),D.workingStyle&&Z.workingStyle&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx($n,{className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"font-medium text-sm text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:D.workingStyle})]}),D.lookingFor&&Z.lookingFor&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Looking for:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:D.lookingFor})]}),D.canOffer&&Z.canOffer&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"m2 17 10 5 10-5"}),t.jsx("path",{d:"m2 12 10 5 10-5"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Can offer:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:D.canOffer})]}),D.professionalInterests&&D.professionalInterests.length>0&&Z.professionalInterests&&t.jsxs("div",{className:"mb-2",children:[t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Interests:"}),t.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[D.professionalInterests.slice(0,2).map((Br,ra)=>{const fs=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90"],Va=fs[ra%fs.length];return t.jsx(St,{className:`bg-gradient-to-r ${Va} text-white shadow-lg text-xs py-0 px-2.5 border-0 static-gradient no-animation`,children:Br},`${e.id}-interest-${ra}`)}),D.professionalInterests.length>2&&t.jsxs(St,{className:"bg-white/20 text-white text-xs py-0 px-2.5 border-0",children:["+",D.professionalInterests.length-2]})]})]})]})]})]})})};return t.jsxs("div",{className:`${c?"bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950":"bg-gradient-to-br from-gray-50 via-white to-blue-50"} relative flex flex-col`,style:{height:"calc(90vh - 65px)",overflow:ge||z||pe?"auto":"hidden"},children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-900/20 via-transparent to-blue-900/10 pointer-events-none"}),t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500/8 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-500/8 rounded-full blur-3xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-500"})]}),t.jsx("div",{className:`relative z-10 backdrop-blur-xl ${c?"bg-slate-900/80 border-b border-slate-700/40":"bg-white/80 border-b border-gray-200/40"} shadow-2xl flex-shrink-0`,children:t.jsx("div",{className:"w-full mx-auto px-2 sm:px-4 py-1",children:t.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[t.jsxs(E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"relative flex-shrink-0",children:[t.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 p-0.5 shadow-2xl",children:t.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-200",children:e.photoUrl?t.jsx("img",{src:e.photoUrl,className:"w-full h-full object-cover",alt:"Profile"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm sm:text-lg font-bold",children:((Cn=e.fullName)==null?void 0:Cn.charAt(0))||"U"})})})}),t.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded-full border-2 border-white shadow-lg animate-pulse"})]}),t.jsx(E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.2},className:"flex-1 min-w-0",children:t.jsx("div",{className:"flex items-center gap-3 mb-2",children:t.jsx("h1",{className:`text-base sm:text-lg font-bold truncate ${c?"bg-gradient-to-r from-slate-100 to-blue-300 bg-clip-text text-transparent":"text-gray-800"}`,children:e.fullName||"Professional Name"})})})]})})}),t.jsx("div",{className:`relative z-10 w-full mx-auto px-2 sm:px-4 flex-1 flex flex-col min-h-0 ${ge||z||pe?"overflow-y-auto":"overflow-hidden"}`,children:t.jsx(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.3},className:"flex-shrink-0 mt-3 sm:mt-6",children:t.jsxs(wr,{className:`backdrop-blur-xl ${c?"bg-slate-900/80 border border-slate-700/50":"bg-white/80 border border-gray-200/50"} shadow-2xl rounded-2xl overflow-hidden w-full`,children:[t.jsx("div",{className:`${c?"bg-gradient-to-r from-blue-900/40 via-purple-900/30 to-slate-800/60":"bg-gradient-to-r from-blue-50/80 via-purple-50/60 to-indigo-50/80"} p-2 sm:p-4 border-b ${c?"border-slate-700/50":"border-gray-200/50"}`,children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx(ca,{className:`text-sm sm:text-base font-bold truncate ${c?"bg-gradient-to-r from-blue-300 via-purple-300 to-indigo-300 bg-clip-text text-transparent":"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent"}`,children:"Professional Profiles"}),t.jsx("p",{className:`mt-0.5 text-[10px] sm:text-xs truncate ${c?"text-blue-200/90":"text-blue-700/90"}`,children:"Preview how your profiles appear to others in the network"})]})})}),t.jsx($r,{className:"p-2 sm:p-4",children:t.jsx("div",{className:"space-y-2 sm:space-y-3",children:we.map((D,Ve)=>{const Ke=D.icon;return t.jsxs(E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.1*Ve},whileHover:{scale:1.01,boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},className:`group relative p-1.5 sm:p-3 backdrop-blur-xl ${c?"bg-gradient-to-r from-slate-800/80 via-slate-700/70 to-slate-800/80 border border-slate-600/40 hover:border-slate-500/60":"bg-gradient-to-r from-white/90 via-blue-50/80 to-white/90 border border-gray-200/60 hover:border-blue-300/60"} rounded-xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer overflow-hidden transform hover:-translate-y-1`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${D.color} opacity-0 group-hover:opacity-20 transition-all duration-500`}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${D.color} opacity-0 group-hover:opacity-30 blur-sm transition-all duration-500 -z-10`}),t.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[t.jsx(E.div,{whileHover:{rotate:360,scale:1.05},transition:{duration:.5},className:`p-2 rounded-xl bg-gradient-to-r ${D.color} shadow-lg group-hover:shadow-xl transition-shadow duration-300 flex-shrink-0`,children:t.jsx(Ke,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h3",{className:`font-semibold text-sm transition-colors duration-300 truncate ${c?"text-slate-200 group-hover:text-blue-300":"text-gray-800 group-hover:text-blue-600"}`,children:D.title}),D.id==="networking"?(xt==null?void 0:xt.networkingProfileActive)&&ut&&!jr&&!cr&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"flex-shrink-0",children:t.jsxs(St,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs shadow-lg",children:[t.jsx(ds,{className:"w-3 h-3 mr-1"}),"Active"]})}):D.active&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"flex-shrink-0",children:t.jsxs(St,{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs shadow-lg",children:[t.jsx(ds,{className:"w-3 h-3 mr-1"}),"Active"]})})]}),t.jsx("p",{className:`transition-colors duration-300 text-xs truncate ${c?"text-slate-400 group-hover:text-slate-300":"text-gray-600 group-hover:text-gray-800"}`,children:D.description})]})]}),D.id==="job"?t.jsxs("div",{className:"flex flex-col space-y-1.5 ml-2 flex-shrink-0",children:[t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>ie(!z),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-green-300 dark:border-green-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:z?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-3 w-3 text-pink-500 dark:text-pink-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400 hidden sm:inline",children:"Hide Preview"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Preview"}),t.jsx(At,{className:"h-3 w-3 text-green-500 dark:text-green-400 flex-shrink-0 sm:hidden"})]})})}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>Pt(),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-blue-300 dark:border-blue-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[t.jsx(ag,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 sm:hidden",children:"Edit"})]})}),D.active&&t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>{O(!0)},variant:"outline",size:"sm",disabled:Te.isPending,className:"flex items-center gap-1 border-2 border-red-300 dark:border-red-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[Te.isPending?t.jsx(sn,{className:"w-3 h-3 animate-spin text-red-600 dark:text-red-400"}):t.jsx(Zn,{className:"w-3 h-3 text-red-600 dark:text-red-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 hidden sm:inline",children:"Delete"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 sm:hidden",children:"Del"})]})})]}):D.id==="mentorship"?t.jsxs("div",{className:"flex flex-col space-y-1.5 ml-2 flex-shrink-0",children:[t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>ye(!pe),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-green-300 dark:border-green-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:pe?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-3 w-3 text-pink-500 dark:text-pink-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400 hidden sm:inline",children:"Hide Preview"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Preview"}),t.jsx(At,{className:"h-3 w-3 text-green-500 dark:text-green-400 flex-shrink-0 sm:hidden"})]})})}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>Ut(Et==null?void 0:Et.role),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-blue-300 dark:border-blue-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[t.jsx(ag,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 hidden sm:inline",children:Et!=null&&Et.role?`Edit ${Et.role==="mentor"?"Mentor":"Mentee"}`:"Edit Profile"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 sm:hidden",children:"Edit"})]})}),D.active&&t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>{ae(Et==null?void 0:Et.role),J(!0)},variant:"outline",size:"sm",disabled:Rt.isPending,className:"flex items-center gap-1 border-2 border-red-300 dark:border-red-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[Rt.isPending?t.jsx(sn,{className:"w-3 h-3 animate-spin text-red-600 dark:text-red-400"}):t.jsx(Zn,{className:"w-3 h-3 text-red-600 dark:text-red-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 hidden sm:inline",children:"Delete"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 sm:hidden",children:"Del"})]})})]}):t.jsxs("div",{className:"flex flex-col space-y-1.5 ml-2 flex-shrink-0",children:[t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>ke(!ge),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-green-300 dark:border-green-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:ge?t.jsxs(t.Fragment,{children:[t.jsx(mt,{className:"h-3 w-3 text-pink-500 dark:text-pink-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400 hidden sm:inline",children:"Hide Preview"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Preview"}),t.jsx(At,{className:"h-3 w-3 text-green-500 dark:text-green-400 flex-shrink-0 sm:hidden"})]})})}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>tr(),variant:"outline",size:"sm",className:"flex items-center gap-1 border-2 border-blue-300 dark:border-blue-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[t.jsx(ag,{className:"w-3 h-3 text-blue-600 dark:text-blue-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 hidden sm:inline",children:"Edit Profile"}),t.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 sm:hidden",children:"Edit"})]})}),D.active&&t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>{R(!0)},variant:"outline",size:"sm",disabled:Sn.isPending,className:"flex items-center gap-1 border-2 border-red-300 dark:border-red-700 bg-white/95 hover:bg-white/100 dark:bg-gray-800/95 dark:hover:bg-gray-800 shadow-lg transition-colors pointer-events-auto rounded-full px-2 sm:px-3 text-xs whitespace-nowrap min-w-fit",children:[Sn.isPending?t.jsx(sn,{className:"w-3 h-3 animate-spin text-red-600 dark:text-red-400"}):t.jsx(Zn,{className:"w-3 h-3 text-red-600 dark:text-red-400 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 hidden sm:inline",children:"Delete"}),t.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400 sm:hidden",children:"Del"})]})})]})]}),D.id==="networking"&&ge&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 mb-2 px-2 block relative z-40 bg-white dark:bg-gray-900 pt-4 pb-2 rounded-lg border border-green-200 dark:border-green-800",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex flex-col gap-0 mt-[-8px] mb-4",children:[t.jsx("h3",{className:"text-center text-sm font-semibold text-green-800 dark:text-purple-300 mt-0 mb-0 leading-none",children:"Networking Profile Preview"}),t.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-0 mb-1 leading-none pt-1",children:"This is how others see your networking profile"})]}),t.jsx("div",{className:"w-full h-[400px] mx-auto border-2 border-white dark:border-gray-700 rounded-2xl shadow-lg overflow-hidden",children:qt()})]})}),D.id==="job"&&z&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 mb-2 px-2 block relative z-40 bg-white dark:bg-gray-900 pt-4 pb-2 rounded-lg border border-blue-200 dark:border-blue-800",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex flex-col gap-0 mt-[-8px] mb-4",children:[t.jsx("h3",{className:"text-center text-sm font-semibold text-blue-800 dark:text-blue-300 mt-0 mb-0 leading-none",children:"Job Profile Preview"}),t.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-0 mb-1 leading-none pt-1",children:"This is how others see your job profile"})]}),t.jsx("div",{className:"w-full max-w-sm mx-auto border-2 border-white dark:border-gray-700 rounded-xl shadow-lg overflow-hidden",children:pt()})]})}),D.id==="mentorship"&&pe&&t.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 mb-2 px-2 block relative z-40 bg-white dark:bg-gray-900 pt-4 pb-2 rounded-lg border border-purple-200 dark:border-purple-800",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex flex-col gap-0 mt-[-8px] mb-4",children:[t.jsx("h3",{className:"text-center text-sm font-semibold text-purple-800 dark:text-purple-300 mt-0 mb-0 leading-none",children:"Mentorship Profile Preview"}),t.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-0 mb-1 leading-none pt-1",children:"This is how others see your mentorship profile"})]}),t.jsx("div",{className:"w-full max-w-sm mx-auto border-2 border-white dark:border-gray-700 rounded-xl shadow-lg overflow-hidden",children:ot()})]})})]},D.id)})})})]})})}),$e&&t.jsx(Or,{open:$e,onOpenChange:Le,children:t.jsx(Dr,{className:"w-[95vw] max-w-4xl h-[95vh] overflow-hidden p-0 bg-gradient-to-br from-slate-900 via-blue-900 to-purple-900 border-2 border-white/30 shadow-2xl rounded-2xl",children:t.jsxs("div",{className:"relative overflow-hidden h-full flex flex-col",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyan-400/10 rounded-full blur-3xl animate-pulse delay-500"})]}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-blue-600/90 to-purple-600/90 backdrop-blur-xl border-b border-white/10 p-4 flex-shrink-0",children:t.jsx(pn,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(zr,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-lg md:text-2xl font-bold text-white font-['Space_Grotesk'] mb-1",children:zt?"Edit Job Profile":"Create Job Profile"}),t.jsx("p",{className:"text-blue-100 font-['Inter'] text-xs md:text-sm",children:"Craft your perfect job opportunity profile"})]})]}),t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>Le(!1),className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors duration-200",children:t.jsx(mt,{className:"w-4 h-4 text-white"})})]})})}),t.jsx("div",{className:"relative z-10 flex-1 overflow-y-auto scrollbar-hide",children:t.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 pb-20",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(xn,{className:"w-5 h-5 text-cyan-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Your Role"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"I am here to *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.role||!0,onCheckedChange:()=>Nt("role"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.role||"",onValueChange:D=>Ae("role",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select your role"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"job-seeker",children:"Find job opportunities"}),t.jsx(G,{value:"recruiter",children:"Post job opportunities"})]})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ln,{className:"w-5 h-5 text-purple-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Professional Photo"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-blue-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:P.showProfilePhoto,onCheckedChange:()=>Nt("showProfilePhoto"),className:"data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:t.jsx(Bb,{section:"job",photos:r.photos,onPhotosUpdate:r.updatePhotos,className:"custom-job-photos",userId:e.id})})]}),f.role==="job-seeker"&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(xn,{className:"w-5 h-5 text-blue-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Your Profile"})]}),f.role==="job-seeker"?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Desired Role *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.jobTitle,onCheckedChange:()=>Nt("jobTitle"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsx(Je,{value:f.jobTitle||"",onChange:D=>Ae("jobTitle",D.target.value),placeholder:"e.g., Software Engineer at Tech Co, Recent Graduate, Career Changer",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Desired Industry *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.company,onCheckedChange:()=>Nt("company"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.company||"",onValueChange:D=>Ae("company",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select desired industry"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-700 text-white",children:[t.jsx(G,{value:"Technology",children:"Technology"}),t.jsx(G,{value:"Finance",children:"Finance"}),t.jsx(G,{value:"Healthcare",children:"Healthcare"}),t.jsx(G,{value:"Education",children:"Education"}),t.jsx(G,{value:"Manufacturing",children:"Manufacturing"}),t.jsx(G,{value:"Retail",children:"Retail"}),t.jsx(G,{value:"Government",children:"Government"}),t.jsx(G,{value:"Non-profit",children:"Non-profit"}),t.jsx(G,{value:"Media",children:"Media & Entertainment"}),t.jsx(G,{value:"Agriculture",children:"Agriculture"}),t.jsx(G,{value:"Construction",children:"Construction"}),t.jsx(G,{value:"Tourism",children:"Tourism & Hospitality"}),t.jsx(G,{value:"Consulting",children:"Consulting"}),t.jsx(G,{value:"Real Estate",children:"Real Estate"}),t.jsx(G,{value:"Energy",children:"Energy & Utilities"}),t.jsx(G,{value:"Other",children:"Other"}),t.jsx(G,{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]})]}):t.jsx("div",{className:"text-center text-blue-200/60 text-sm font-['Inter'] py-4",children:"Job Title and other details are in the sections below"}),f.role==="job-seeker"&&f.company&&f.company!=="prefer_not_to_say"&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Areas of Expertise"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.areasOfExpertise,onCheckedChange:()=>Nt("areasOfExpertise"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.areasOfExpertise||"",onValueChange:D=>Ae("areasOfExpertise",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select your area of expertise"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-700 text-white",children:[f.company==="Technology"&&t.jsxs(t.Fragment,{children:[t.jsx(G,{value:"Software Development",children:"Software Development"}),t.jsx(G,{value:"Data Science",children:"Data Science & Analytics"}),t.jsx(G,{value:"Cybersecurity",children:"Cybersecurity"}),t.jsx(G,{value:"Cloud Computing",children:"Cloud Computing"}),t.jsx(G,{value:"Mobile Development",children:"Mobile Development"}),t.jsx(G,{value:"Web Development",children:"Web Development"}),t.jsx(G,{value:"AI/ML",children:"AI/Machine Learning"}),t.jsx(G,{value:"DevOps",children:"DevOps"}),t.jsx(G,{value:"UI/UX Design",children:"UI/UX Design"}),t.jsx(G,{value:"Product Management",children:"Product Management"})]}),f.company==="Finance"&&t.jsxs(t.Fragment,{children:[t.jsx(G,{value:"Investment Banking",children:"Investment Banking"}),t.jsx(G,{value:"Financial Analysis",children:"Financial Analysis"}),t.jsx(G,{value:"Risk Management",children:"Risk Management"}),t.jsx(G,{value:"Accounting",children:"Accounting"}),t.jsx(G,{value:"Financial Planning",children:"Financial Planning"}),t.jsx(G,{value:"Corporate Finance",children:"Corporate Finance"}),t.jsx(G,{value:"Insurance",children:"Insurance"}),t.jsx(G,{value:"Fintech",children:"Fintech"})]}),f.company==="Healthcare"&&t.jsxs(t.Fragment,{children:[t.jsx(G,{value:"Medical Practice",children:"Medical Practice"}),t.jsx(G,{value:"Nursing",children:"Nursing"}),t.jsx(G,{value:"Healthcare Administration",children:"Healthcare Administration"}),t.jsx(G,{value:"Medical Research",children:"Medical Research"}),t.jsx(G,{value:"Pharmacy",children:"Pharmacy"}),t.jsx(G,{value:"Public Health",children:"Public Health"}),t.jsx(G,{value:"Mental Health",children:"Mental Health"}),t.jsx(G,{value:"Medical Technology",children:"Medical Technology"})]}),f.company==="Education"&&t.jsxs(t.Fragment,{children:[t.jsx(G,{value:"Teaching",children:"Teaching"}),t.jsx(G,{value:"Educational Administration",children:"Educational Administration"}),t.jsx(G,{value:"Curriculum Development",children:"Curriculum Development"}),t.jsx(G,{value:"Educational Technology",children:"Educational Technology"}),t.jsx(G,{value:"Student Services",children:"Student Services"}),t.jsx(G,{value:"Research",children:"Academic Research"})]}),t.jsx(G,{value:"Other",children:"Other"}),t.jsx(G,{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]}),f.role==="job-seeker"&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Professional Summary *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.description,onCheckedChange:()=>Nt("description"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsx(oa,{value:f.description||"",onChange:D=>Ae("description",D.target.value),placeholder:"Brief overview of your background, key skills, and career goals...",rows:3,className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]})]}),f.role&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Ea,{className:"w-5 h-5 text-purple-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Job Details"})]}),f.role==="job-seeker"?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Experience Level"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.experienceLevel,onCheckedChange:()=>Nt("experienceLevel"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.experienceLevel||"",onValueChange:D=>Ae("experienceLevel",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select experience level"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-700 text-white",children:[t.jsx(G,{value:"Intern",children:"Intern"}),t.jsx(G,{value:"Entry",children:"Entry Level (0-2 years)"}),t.jsx(G,{value:"Mid",children:"Mid Level (3-5 years)"}),t.jsx(G,{value:"Senior",children:"Senior (6-10 years)"}),t.jsx(G,{value:"Executive",children:"Executive (10+ years)"})]})]})]})}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Job Title *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.jobTitle,onCheckedChange:()=>Nt("jobTitle"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsx(Je,{value:f.jobTitle||"",onChange:D=>Ae("jobTitle",D.target.value),placeholder:"e.g., Senior Software Engineer, Marketing Manager",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Work Type *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.workType,onCheckedChange:()=>Nt("workType"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.workType||"",onValueChange:D=>Ae("workType",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select work type"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Remote",children:"Remote"}),t.jsx(G,{value:"In-person",children:"In-person"}),t.jsx(G,{value:"Hybrid",children:"Hybrid"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Job Type *"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.jobType,onCheckedChange:()=>Nt("jobType"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.jobType||"",onValueChange:D=>Ae("jobType",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select job type"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Full-time",children:"Full-time"}),t.jsx(G,{value:"Part-time",children:"Part-time"}),t.jsx(G,{value:"Contract",children:"Contract"}),t.jsx(G,{value:"Internship",children:"Internship"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Experience Level"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.experienceLevel,onCheckedChange:()=>Nt("experienceLevel"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.experienceLevel||"",onValueChange:D=>Ae("experienceLevel",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select level"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Entry",children:"Entry"}),t.jsx(G,{value:"Mid",children:"Mid"}),t.jsx(G,{value:"Senior",children:"Senior"}),t.jsx(G,{value:"Executive",children:"Executive"})]})]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Salary"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.salary,onCheckedChange:()=>Nt("salary"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsxs(fr,{value:f.salaryCurrency||e.countryOfOrigin||"GHS",onValueChange:D=>Ae("salaryCurrency",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-60",children:[t.jsx(G,{value:"USD",children:" USD"}),t.jsx(G,{value:"EUR",children:" EUR"}),t.jsx(G,{value:"GBP",children:" GBP"}),t.jsx(G,{value:"GHS",children:" GHS"}),t.jsx(G,{value:"NGN",children:" NGN"}),t.jsx(G,{value:"KES",children:" KES"}),t.jsx(G,{value:"ZAR",children:" ZAR"}),t.jsx(G,{value:"CAD",children:" CAD"}),t.jsx(G,{value:"AUD",children:" AUD"}),t.jsx(G,{value:"JPY",children:" JPY"}),t.jsx(G,{value:"CNY",children:" CNY"}),t.jsx(G,{value:"INR",children:" INR"})]})]}),t.jsx(Je,{value:f.salary||"",onChange:D=>Ae("salary",D.target.value),placeholder:"50,000",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"}),t.jsxs(fr,{value:f.salaryPeriod||"/year",onValueChange:D=>Ae("salaryPeriod",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"/hour",children:"/hour"}),t.jsx(G,{value:"/day",children:"/day"}),t.jsx(G,{value:"/month",children:"/month"}),t.jsx(G,{value:"/year",children:"/year"})]})]})]})]})]})]}),f.role&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Eo,{className:"w-5 h-5 text-cyan-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:f.role==="job-seeker"?"Work Preferences":"Additional Details"})]}),f.role==="job-seeker"?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Work Type"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.workType,onCheckedChange:()=>Nt("workType"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.workType||"",onValueChange:D=>Ae("workType",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select work type"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Remote",children:"Remote"}),t.jsx(G,{value:"In-person",children:"In-person"}),t.jsx(G,{value:"Hybrid",children:"Hybrid"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Job Type"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.jobType,onCheckedChange:()=>Nt("jobType"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs(fr,{value:f.jobType||"",onValueChange:D=>Ae("jobType",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select job type"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Full-time",children:"Full-time"}),t.jsx(G,{value:"Part-time",children:"Part-time"}),t.jsx(G,{value:"Contract",children:"Contract"}),t.jsx(G,{value:"Internship",children:"Internship"})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:"Expected Compensation"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-blue-300",children:"Show"}),t.jsx(Ye,{checked:P.compensation,onCheckedChange:()=>Nt("compensation"),className:"data-[state=checked]:bg-blue-500"})]})]}),t.jsxs("div",{className:"flex",children:[t.jsxs(fr,{value:g,onValueChange:v,children:[t.jsx(hr,{className:"w-[80px] bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-l-xl backdrop-blur-xl font-['Inter'] border-r-0",children:t.jsx(gr,{children:t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-sm",children:(dn=S.find(D=>D.code===g))==null?void 0:dn.flag}),t.jsx("span",{className:"text-xs",children:(Ga=S.find(D=>D.code===g))==null?void 0:Ga.symbol})]})})}),t.jsx(pr,{className:"bg-slate-800 border-slate-600 text-white",children:S.map(D=>t.jsx(G,{value:D.code,children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-lg",children:D.flag}),t.jsx("span",{className:"text-sm font-medium",children:D.symbol}),t.jsx("span",{className:"text-sm text-gray-300",children:D.code})]})},D.code))})]}),t.jsx(Je,{value:f.compensation||"",onChange:D=>Ae("compensation",D.target.value),placeholder:"70,000 - 85,000",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-xl font-['Inter'] border-l-0 border-r-0 flex-1"}),t.jsxs(fr,{value:y,onValueChange:b,children:[t.jsx(hr,{className:"w-[80px] bg-white/10 border-white/20 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-r-xl backdrop-blur-xl font-['Inter'] border-l-0",children:t.jsx(gr,{})}),t.jsx(pr,{className:"bg-slate-800 border-slate-600 text-white",children:w.map(D=>t.jsx(G,{value:D.value,children:D.label},D.value))})]})]})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"Job Description *"}),t.jsx(Ye,{checked:P.description,onCheckedChange:()=>Nt("description"),className:"data-[state=checked]:bg-blue-500"})]}),t.jsx(oa,{value:f.description||"",onChange:D=>Ae("description",D.target.value),placeholder:"Describe what this role involves, key responsibilities, and requirements...",rows:3,className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"Who Should Apply"}),t.jsx(Ye,{checked:P.whoShouldApply,onCheckedChange:()=>Nt("whoShouldApply"),className:"data-[state=checked]:bg-blue-500"})]}),t.jsx(oa,{value:f.whoShouldApply||"",onChange:D=>Ae("whoShouldApply",D.target.value),placeholder:"Describe your ideal candidate...",rows:3,className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"Application URL"}),t.jsx(Ye,{checked:P.applicationUrl,onCheckedChange:()=>Nt("applicationUrl"),className:"data-[state=checked]:bg-blue-500"})]}),t.jsx(Je,{value:f.applicationUrl||"",onChange:D=>Ae("applicationUrl",D.target.value),placeholder:"https://company.com/apply",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-blue-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"Application Email"}),t.jsx(Ye,{checked:P.applicationEmail,onCheckedChange:()=>Nt("applicationEmail"),className:"data-[state=checked]:bg-blue-500"})]}),t.jsx(Je,{value:f.applicationEmail||"",onChange:D=>Ae("applicationEmail",D.target.value),placeholder:"careers@company.com",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-blue-400 focus:ring-blue-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]})]})]})]})]})}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-slate-900/95 to-blue-900/95 backdrop-blur-xl border-t border-white/20 p-3 md:p-4 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{Le(!1),x({})},className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-xl font-['Inter'] text-sm",children:"Cancel"}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>{st(),Le(!1)},disabled:Ir.isPending,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg font-['Inter'] font-semibold text-sm",children:Ir.isPending?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})})]})})]})})}),Oe&&(console.log("NETWORKING DIALOG RENDERING - showNetworkingDialog:",Oe),console.log("NETWORKING DIALOG - networkingFieldVisibility:",Z),!0)&&t.jsx(Or,{open:Oe,onOpenChange:Ze,children:t.jsx(Dr,{className:"w-[95vw] max-w-4xl h-[95vh] overflow-hidden p-0 bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900 border-2 border-emerald-300/30 shadow-2xl rounded-2xl",children:t.jsxs("div",{className:"relative overflow-hidden h-full flex flex-col",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-emerald-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-green-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-teal-400/10 rounded-full blur-3xl animate-pulse delay-500"})]}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-emerald-600/90 to-green-600/90 backdrop-blur-xl border-b border-emerald-200/10 p-4 flex-shrink-0",children:t.jsx(pn,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"w-10 h-10 bg-gradient-to-r from-emerald-400 to-green-400 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Eo,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-lg md:text-2xl font-bold text-white font-['Space_Grotesk'] mb-1",children:ut?"Edit Networking Profile":"Create Networking Profile"}),t.jsx("p",{className:"text-emerald-100 font-['Inter'] text-xs md:text-sm",children:"Build meaningful professional connections"})]})]}),t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>Ze(!1),className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors duration-200",children:t.jsx(mt,{className:"w-4 h-4 text-white"})})]})})}),t.jsx("div",{className:"relative z-10 flex-1 overflow-y-auto scrollbar-hide",children:t.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 pb-20",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(xn,{className:"w-5 h-5 text-purple-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Professional Overview"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ln,{className:"w-5 h-5 text-emerald-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Networking Photos"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-emerald-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:Z.showNetworkingPhotos,onCheckedChange:()=>qe("showNetworkingPhotos"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Bb,{section:"networking",photos:a.photos,onPhotosUpdate:a.updatePhotos,className:"bg-white/5 border-white/10",userId:e.id,hideTitle:!0})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:"Professional Tagline"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-300",children:"Show"}),t.jsx(Ye,{checked:Z.professionalTagline,onCheckedChange:()=>qe("professionalTagline"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:ue.professionalTagline||"",onChange:D=>Ct("professionalTagline",D.target.value),placeholder:"e.g., Passionate about connecting African talent globally",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:"Current Role"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-300",children:"Show"}),t.jsx(Ye,{checked:Z.currentRole,onCheckedChange:()=>qe("currentRole"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:ue.currentRole||"",onChange:D=>Ct("currentRole",D.target.value),placeholder:"e.g., Product Manager",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:"Current Company"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-300",children:"Show"}),t.jsx(Ye,{checked:Z.currentCompany,onCheckedChange:()=>qe("currentCompany"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Je,{value:ue.currentCompany||"",onChange:D=>Ct("currentCompany",D.target.value),placeholder:"e.g., Apple, Microsoft, Startups Inc.",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:"Industry"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-300",children:"Show"}),t.jsx(Ye,{checked:Z.industry,onCheckedChange:()=>qe("industry"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsxs(fr,{value:ue.industry||"",onValueChange:D=>{D==="custom"?(at(""),Ne(!0)):Ct("industry",D)},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select industry"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[ue.industry&&!["prefer-not-to-say","Technology","Healthcare","Finance","Education","Manufacturing","Retail","Consulting","Media & Entertainment","Government","Non-profit","Energy","Transportation","Real Estate","Agriculture","Construction","Hospitality","Legal","Marketing & Advertising"].includes(ue.industry)&&t.jsxs(G,{value:ue.industry,children:[ue.industry," (Custom)"]}),t.jsx(G,{value:"prefer-not-to-say",children:"Prefer not to say"}),t.jsx(G,{value:"Technology",children:"Technology"}),t.jsx(G,{value:"Healthcare",children:"Healthcare"}),t.jsx(G,{value:"Finance",children:"Finance"}),t.jsx(G,{value:"Education",children:"Education"}),t.jsx(G,{value:"Manufacturing",children:"Manufacturing"}),t.jsx(G,{value:"Retail",children:"Retail"}),t.jsx(G,{value:"Consulting",children:"Consulting"}),t.jsx(G,{value:"Media & Entertainment",children:"Media & Entertainment"}),t.jsx(G,{value:"Government",children:"Government"}),t.jsx(G,{value:"Non-profit",children:"Non-profit"}),t.jsx(G,{value:"Energy",children:"Energy"}),t.jsx(G,{value:"Transportation",children:"Transportation"}),t.jsx(G,{value:"Real Estate",children:"Real Estate"}),t.jsx(G,{value:"Agriculture",children:"Agriculture"}),t.jsx(G,{value:"Construction",children:"Construction"}),t.jsx(G,{value:"Hospitality",children:"Hospitality"}),t.jsx(G,{value:"Legal",children:"Legal"}),t.jsx(G,{value:"Marketing & Advertising",children:"Marketing & Advertising"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:"Location"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-emerald-300",children:"Show"}),t.jsx(Ye,{checked:Z.location,onCheckedChange:()=>qe("location"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(km,{value:ue.location||"",onLocationSelect:D=>Ct("location",D),initialValue:ue.location||"",placeholder:"e.g., Lagos, Nigeria",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']",showIcon:!1})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:[t.jsx("span",{className:"flex items-center",children:"High School"}),t.jsx(Ye,{checked:Z.highSchool,onCheckedChange:()=>qe("highSchool"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]}),t.jsx(Je,{value:ue.highSchool||"",onChange:D=>Ct("highSchool",D.target.value),placeholder:"Enter your high school",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-emerald-400 focus:ring-emerald-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:[t.jsx("span",{className:"flex items-center",children:"Vocational/College/University"}),t.jsx(Ye,{checked:Z.collegeUniversity,onCheckedChange:()=>qe("collegeUniversity"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]}),t.jsx(Je,{value:ue.collegeUniversity||"",onChange:D=>Ct("collegeUniversity",D.target.value),placeholder:"Enter your vocational school, college, or university",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-emerald-400 focus:ring-emerald-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]})]})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Ea,{className:"w-5 h-5 text-indigo-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"What I'm Looking For & What I Can Offer"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"What I'm Looking For"}),t.jsx(Ye,{checked:Z.lookingFor,onCheckedChange:()=>{console.log("SWITCH CLICKED: lookingFor"),qe("lookingFor")},className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]}),t.jsx(oa,{value:ue.lookingFor||"",onChange:D=>Ct("lookingFor",D.target.value),placeholder:"Describe what you're seeking through networking...",rows:3,className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-emerald-200 mb-2 font-['Inter']",children:[t.jsx("span",{children:"What I Can Offer"}),t.jsx(Ye,{checked:Z.canOffer,onCheckedChange:()=>qe("canOffer"),className:"data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-gray-200"})]}),t.jsx(oa,{value:ue.canOffer||"",onChange:D=>Ct("canOffer",D.target.value),placeholder:"Describe what you can offer to others...",rows:3,className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']"})]})]})]})]})}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-emerald-900/95 to-green-900/95 backdrop-blur-xl border-t border-emerald-200/20 p-3 md:p-4 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{Ze(!1),ee({})},className:"bg-emerald-100/10 border-emerald-200/20 text-white hover:bg-emerald-100/20 backdrop-blur-xl font-['Inter'] text-sm",children:"Cancel"}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>{ht(),Ze(!1)},disabled:Ft.isPending,className:"bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white shadow-lg font-['Inter'] font-semibold text-sm",children:Ft.isPending?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})})]})})]})})}),Ue&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>De(!1),children:t.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.3},onClick:D=>D.stopPropagation(),className:"relative",children:[t.jsx(de,{onClick:()=>De(!1),className:"absolute -top-2 -right-2 z-10 w-8 h-8 rounded-full bg-white hover:bg-gray-100 text-black p-0",variant:"outline",children:""}),pt()]})}),se&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>L(!1),children:t.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.3},onClick:D=>D.stopPropagation(),className:"relative",children:[t.jsx(de,{onClick:()=>L(!1),className:"absolute -top-2 -right-2 z-10 w-8 h-8 rounded-full bg-white hover:bg-gray-100 text-black p-0",variant:"outline",children:""}),ot()]})}),q&&t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>H(!1),children:t.jsxs(E.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.3},onClick:D=>D.stopPropagation(),className:"relative",children:[t.jsx(de,{onClick:()=>H(!1),className:"absolute -top-2 -right-2 z-10 w-8 h-8 rounded-full bg-white hover:bg-gray-100 text-black p-0",variant:"outline",children:""}),qt()]})}),_&&t.jsx(Or,{open:_,onOpenChange:k,children:t.jsx(Dr,{className:"w-[95vw] max-w-4xl h-[95vh] overflow-hidden p-0 bg-gradient-to-br from-slate-900 via-purple-900 to-pink-900 border-2 border-white/30 shadow-2xl rounded-2xl",children:t.jsxs("div",{className:"relative overflow-hidden h-full flex flex-col",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-magenta-400/10 rounded-full blur-3xl animate-pulse delay-500"})]}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-purple-600/90 to-pink-600/90 backdrop-blur-xl border-b border-white/10 p-4 flex-shrink-0",children:t.jsx(pn,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"w-10 h-10 bg-gradient-to-r from-green-400 to-green-500 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Jt,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-lg md:text-2xl font-bold text-white font-['Space_Grotesk'] mb-1",children:Et?"Edit Mentorship Profile":"Create Mentorship Profile"}),t.jsx("p",{className:"text-purple-100 font-['Inter'] text-xs md:text-sm",children:"Connect, learn, and grow through mentorship"})]})]}),t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(!1),className:"w-8 h-8 bg-white/10 hover:bg-white/20 rounded-lg backdrop-blur-xl border border-white/20 flex items-center justify-center text-white transition-all duration-200",children:t.jsx(mt,{className:"w-4 h-4"})})]})})}),t.jsx("div",{className:"relative z-10 flex-1 overflow-y-auto",children:t.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Rn,{className:"w-5 h-5 text-amber-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Your Role"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 font-['Inter']",children:"I want to be a *"}),t.jsxs(fr,{value:A.role||"",onValueChange:D=>Qe("role",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select your role"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"mentor",children:"Mentor"}),t.jsx(G,{value:"mentee",children:"Mentee"})]})]})]})]}),A.role&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-4 md:p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ln,{className:"w-5 h-5 text-green-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Professional Photo"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-purple-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:$.showProfilePhoto,onCheckedChange:()=>Ce("showProfilePhoto"),className:"data-[state=checked]:bg-purple-500 data-[state=unchecked]:bg-gray-200"})]})]}),t.jsx(Bb,{section:"mentorship",photos:n.photos,onPhotosUpdate:n.refetch,userId:e.id,className:"bg-white/5 border-white/10 rounded-xl p-4 backdrop-blur-xl"})]}),A.role&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx(Ea,{className:"w-5 h-5 text-cyan-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Basic Information"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-purple-200 font-['Inter']",children:"Time Commitment"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-purple-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:$.timeCommitment,onCheckedChange:()=>Ce("timeCommitment"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:A.timeCommitment||"",onValueChange:D=>Qe("timeCommitment",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-cyan-400 focus:ring-cyan-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select time commitment"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",children:[t.jsx(G,{value:"Light (1-2 hrs/month)",children:"Light (1-2 hrs/month)"}),t.jsx(G,{value:"Regular (3-5 hrs/month)",children:"Regular (3-5 hrs/month)"}),t.jsx(G,{value:"Intensive (5+ hrs/month)",children:"Intensive (5+ hrs/month)"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-purple-200 font-['Inter']",children:"Availability"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-purple-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:$.availability,onCheckedChange:()=>Ce("availability"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:A.availability||"",onValueChange:D=>{if(D==="custom"){const Ve=prompt("Enter your availability:");Ve&&Qe("availability",Ve)}else Qe("availability",D)},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-cyan-400 focus:ring-cyan-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select availability"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Prefer not to say",children:"Prefer not to say"}),t.jsx(G,{value:"Weekday Mornings",children:"Weekday Mornings"}),t.jsx(G,{value:"Weekday Afternoons",children:"Weekday Afternoons"}),t.jsx(G,{value:"Weekday Evenings",children:"Weekday Evenings"}),t.jsx(G,{value:"Weekend Mornings",children:"Weekend Mornings"}),t.jsx(G,{value:"Weekend Afternoons",children:"Weekend Afternoons"}),t.jsx(G,{value:"Weekend Evenings",children:"Weekend Evenings"}),t.jsx(G,{value:"Flexible Weekdays",children:"Flexible Weekdays"}),t.jsx(G,{value:"Flexible Weekends",children:"Flexible Weekends"}),t.jsx(G,{value:"Very Flexible",children:"Very Flexible"}),t.jsx(G,{value:"Business Hours Only",children:"Business Hours Only"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"text-sm font-medium text-purple-200 font-['Inter']",children:"Location"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm text-purple-200 font-['Inter']",children:"Show"}),t.jsx(Ye,{checked:$.location,onCheckedChange:()=>Ce("location"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsx(km,{value:A.location||"",onLocationSelect:D=>Qe("location",D),initialValue:A.location||"",placeholder:"City, Country",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:border-cyan-400 focus:ring-cyan-400/50 backdrop-blur-xl font-['Inter']",showIcon:!1})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter'] flex items-center",children:"High School"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.highSchool,onCheckedChange:()=>Ce("highSchool"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsx("input",{type:"text",value:A.highSchool||"",onChange:D=>Qe("highSchool",D.target.value),placeholder:"Enter your high school",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:border-purple-400 focus:ring-purple-400/50 backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter'] flex items-center",children:"Vocational/College/University"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.collegeUniversity,onCheckedChange:()=>Ce("collegeUniversity"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsx("input",{type:"text",value:A.collegeUniversity||"",onChange:D=>Qe("collegeUniversity",D.target.value),placeholder:"Enter your vocational school, college, or university",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:border-purple-400 focus:ring-purple-400/50 backdrop-blur-xl font-['Inter']"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Languages Spoken"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.languagesSpoken,onCheckedChange:()=>Ce("languagesSpoken"),className:"data-[state=checked]:bg-purple-500"})]})]}),A.languagesSpoken&&A.languagesSpoken.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.languagesSpoken.map((D,Ve)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-purple-200 border border-green-400/30 backdrop-blur-sm",children:[D,t.jsx("button",{type:"button",onClick:()=>{var Ot;const Ke=((Ot=A.languagesSpoken)==null?void 0:Ot.filter((Nr,Fr)=>Fr!==Ve))||[];Qe("languagesSpoken",Ke)},className:"ml-2 hover:text-red-400 transition-colors",children:t.jsx(mt,{className:"h-3 w-3"})})]},Ve))}),t.jsxs(fr,{value:"",onValueChange:D=>{if(D==="custom"){const Ve=prompt("Enter a language you speak:");if(Ve&&Ve.trim()){const Ke=A.languagesSpoken||[];Ke.includes(Ve.trim())||Qe("languagesSpoken",[...Ke,Ve.trim()])}}else if(D&&D!=="prefer-not-to-say"){const Ve=A.languagesSpoken||[];Ve.includes(D)||Qe("languagesSpoken",[...Ve,D])}},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Add a language..."})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"prefer-not-to-say",children:"Prefer not to say"}),t.jsx(G,{value:"Afrikaans",children:"Afrikaans"}),t.jsx(G,{value:"Akan",children:"Akan"}),t.jsx(G,{value:"Amharic",children:"Amharic"}),t.jsx(G,{value:"Arabic",children:"Arabic"}),t.jsx(G,{value:"Ashanti",children:"Ashanti"}),t.jsx(G,{value:"Dagbani",children:"Dagbani"}),t.jsx(G,{value:"Ewe",children:"Ewe"}),t.jsx(G,{value:"Fante",children:"Fante"}),t.jsx(G,{value:"Ga",children:"Ga"}),t.jsx(G,{value:"Gonja",children:"Gonja"}),t.jsx(G,{value:"Hausa",children:"Hausa"}),t.jsx(G,{value:"Igbo",children:"Igbo"}),t.jsx(G,{value:"Kikuyu",children:"Kikuyu"}),t.jsx(G,{value:"Lingala",children:"Lingala"}),t.jsx(G,{value:"Shona",children:"Shona"}),t.jsx(G,{value:"Swahili",children:"Swahili"}),t.jsx(G,{value:"Twi",children:"Twi"}),t.jsx(G,{value:"Wolof",children:"Wolof"}),t.jsx(G,{value:"Xhosa",children:"Xhosa"}),t.jsx(G,{value:"Yoruba",children:"Yoruba"}),t.jsx(G,{value:"Zulu",children:"Zulu"}),t.jsx(G,{value:"Albanian",children:"Albanian"}),t.jsx(G,{value:"Bulgarian",children:"Bulgarian"}),t.jsx(G,{value:"Croatian",children:"Croatian"}),t.jsx(G,{value:"Czech",children:"Czech"}),t.jsx(G,{value:"Danish",children:"Danish"}),t.jsx(G,{value:"Dutch",children:"Dutch"}),t.jsx(G,{value:"English",children:"English"}),t.jsx(G,{value:"Estonian",children:"Estonian"}),t.jsx(G,{value:"Finnish",children:"Finnish"}),t.jsx(G,{value:"French",children:"French"}),t.jsx(G,{value:"German",children:"German"}),t.jsx(G,{value:"Greek",children:"Greek"}),t.jsx(G,{value:"Hungarian",children:"Hungarian"}),t.jsx(G,{value:"Icelandic",children:"Icelandic"}),t.jsx(G,{value:"Irish",children:"Irish"}),t.jsx(G,{value:"Italian",children:"Italian"}),t.jsx(G,{value:"Latvian",children:"Latvian"}),t.jsx(G,{value:"Lithuanian",children:"Lithuanian"}),t.jsx(G,{value:"Norwegian",children:"Norwegian"}),t.jsx(G,{value:"Polish",children:"Polish"}),t.jsx(G,{value:"Portuguese",children:"Portuguese"}),t.jsx(G,{value:"Romanian",children:"Romanian"}),t.jsx(G,{value:"Russian",children:"Russian"}),t.jsx(G,{value:"Serbian",children:"Serbian"}),t.jsx(G,{value:"Slovak",children:"Slovak"}),t.jsx(G,{value:"Slovenian",children:"Slovenian"}),t.jsx(G,{value:"Spanish",children:"Spanish"}),t.jsx(G,{value:"Swedish",children:"Swedish"}),t.jsx(G,{value:"Ukrainian",children:"Ukrainian"}),t.jsx(G,{value:"Bengali",children:"Bengali"}),t.jsx(G,{value:"Cantonese",children:"Cantonese"}),t.jsx(G,{value:"Filipino",children:"Filipino"}),t.jsx(G,{value:"Gujarati",children:"Gujarati"}),t.jsx(G,{value:"Hindi",children:"Hindi"}),t.jsx(G,{value:"Indonesian",children:"Indonesian"}),t.jsx(G,{value:"Japanese",children:"Japanese"}),t.jsx(G,{value:"Javanese",children:"Javanese"}),t.jsx(G,{value:"Kannada",children:"Kannada"}),t.jsx(G,{value:"Korean",children:"Korean"}),t.jsx(G,{value:"Malay",children:"Malay"}),t.jsx(G,{value:"Malayalam",children:"Malayalam"}),t.jsx(G,{value:"Mandarin",children:"Mandarin"}),t.jsx(G,{value:"Marathi",children:"Marathi"}),t.jsx(G,{value:"Punjabi",children:"Punjabi"}),t.jsx(G,{value:"Tamil",children:"Tamil"}),t.jsx(G,{value:"Telugu",children:"Telugu"}),t.jsx(G,{value:"Thai",children:"Thai"}),t.jsx(G,{value:"Turkish",children:"Turkish"}),t.jsx(G,{value:"Urdu",children:"Urdu"}),t.jsx(G,{value:"Vietnamese",children:"Vietnamese"}),t.jsx(G,{value:"Armenian",children:"Armenian"}),t.jsx(G,{value:"Azerbaijani",children:"Azerbaijani"}),t.jsx(G,{value:"Farsi",children:"Farsi (Persian)"}),t.jsx(G,{value:"Georgian",children:"Georgian"}),t.jsx(G,{value:"Hebrew",children:"Hebrew"}),t.jsx(G,{value:"Kurdish",children:"Kurdish"}),t.jsx(G,{value:"Esperanto",children:"Esperanto"}),t.jsx(G,{value:"Latin",children:"Latin"}),t.jsx(G,{value:"Sign Language",children:"Sign Language"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]})]})]}),A.role==="mentor"&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Jt,{className:"w-5 h-5 text-teal-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Mentor Details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Industries or Domains"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.industriesOrDomains,onCheckedChange:()=>Ce("industriesOrDomains"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:Array.isArray(A.industriesOrDomains)&&A.industriesOrDomains.length>0?A.industriesOrDomains[0]:"",onValueChange:D=>{D&&(Qe("industriesOrDomains",[D]),Qe("areasOfExpertise",[]))},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select industry or domain"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Technology",children:"Technology"}),t.jsx(G,{value:"Finance & Banking",children:"Finance & Banking"}),t.jsx(G,{value:"Healthcare & Medicine",children:"Healthcare & Medicine"}),t.jsx(G,{value:"Education & Academia",children:"Education & Academia"}),t.jsx(G,{value:"Consulting & Strategy",children:"Consulting & Strategy"}),t.jsx(G,{value:"Marketing & Advertising",children:"Marketing & Advertising"}),t.jsx(G,{value:"Sales & Business Development",children:"Sales & Business Development"}),t.jsx(G,{value:"Human Resources",children:"Human Resources"}),t.jsx(G,{value:"Operations & Supply Chain",children:"Operations & Supply Chain"}),t.jsx(G,{value:"Legal & Compliance",children:"Legal & Compliance"}),t.jsx(G,{value:"Real Estate",children:"Real Estate"}),t.jsx(G,{value:"Media & Entertainment",children:"Media & Entertainment"}),t.jsx(G,{value:"Non-Profit & Social Impact",children:"Non-Profit & Social Impact"}),t.jsx(G,{value:"Government & Public Policy",children:"Government & Public Policy"}),t.jsx(G,{value:"Manufacturing",children:"Manufacturing"}),t.jsx(G,{value:"Retail & E-commerce",children:"Retail & E-commerce"}),t.jsx(G,{value:"Energy & Utilities",children:"Energy & Utilities"}),t.jsx(G,{value:"Agriculture & Food",children:"Agriculture & Food"}),t.jsx(G,{value:"Transportation & Logistics",children:"Transportation & Logistics"}),t.jsx(G,{value:"Architecture & Construction",children:"Architecture & Construction"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Areas of Expertise"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.areasOfExpertise,onCheckedChange:()=>Ce("areasOfExpertise"),className:"data-[state=checked]:bg-purple-500"})]})]}),A.areasOfExpertise&&A.areasOfExpertise.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.areasOfExpertise.map((D,Ve)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-teal-500/20 text-teal-200 border border-teal-400/30 backdrop-blur-sm",children:[D,t.jsx("button",{type:"button",onClick:()=>{var Ot;const Ke=((Ot=A.areasOfExpertise)==null?void 0:Ot.filter((Nr,Fr)=>Fr!==Ve))||[];Qe("areasOfExpertise",Ke)},className:"ml-2 hover:text-red-400 transition-colors",children:t.jsx(mt,{className:"h-3 w-3"})})]},Ve))}),t.jsxs(fr,{value:"",onValueChange:D=>{if(D&&D!=="custom"){const Ve=A.areasOfExpertise||[];Ve.includes(D)||Qe("areasOfExpertise",[...Ve,D])}else if(D==="custom"){const Ve=prompt("Enter your area of expertise:");if(Ve&&Ve.trim()){const Ke=A.areasOfExpertise||[];Ke.includes(Ve.trim())||Qe("areasOfExpertise",[...Ke,Ve.trim()])}}},disabled:!A.industriesOrDomains||A.industriesOrDomains.length===0,children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:!A.industriesOrDomains||A.industriesOrDomains.length===0?"Select industry first":"Select area of expertise"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[(()=>{var Ot;const D=(Ot=A.industriesOrDomains)==null?void 0:Ot[0];return(D&&{Technology:["Software Engineering","Data Science & Analytics","Product Management","DevOps & Infrastructure","Cybersecurity","AI & Machine Learning","Mobile Development","Web Development","Cloud Computing","UI/UX Design"],"Finance & Banking":["Investment Banking","Corporate Finance","Risk Management","Financial Planning","Wealth Management","Trading & Markets","Compliance","Fintech","Insurance","Real Estate Finance"],"Healthcare & Medicine":["Clinical Practice","Healthcare Administration","Medical Research","Public Health","Nursing","Pharmacy","Medical Technology","Healthcare Policy","Mental Health","Emergency Medicine"],"Education & Academia":["Teaching & Pedagogy","Educational Leadership","Curriculum Development","Academic Research","Student Affairs","Educational Technology","Special Education","Higher Education","K-12 Education","Adult Learning"],"Consulting & Strategy":["Management Consulting","Strategy Development","Business Transformation","Organizational Development","Change Management","Process Improvement","Market Research","Due Diligence","Digital Transformation","Advisory Services"],"Marketing & Advertising":["Digital Marketing","Brand Management","Content Strategy","Social Media Marketing","SEO/SEM","Market Research","Creative Direction","Public Relations","Event Marketing","Growth Marketing"],"Sales & Business Development":["B2B Sales","B2C Sales","Account Management","Business Development","Sales Operations","Channel Partnerships","Lead Generation","Customer Success","Sales Leadership","Territory Management"],"Human Resources":["Talent Acquisition","Learning & Development","Compensation & Benefits","Employee Relations","Performance Management","HR Technology","Diversity & Inclusion","Organizational Psychology","Workforce Planning","HR Analytics"],"Operations & Supply Chain":["Supply Chain Management","Operations Management","Logistics","Quality Management","Process Optimization","Procurement","Inventory Management","Manufacturing","Lean Six Sigma","Project Management"],"Legal & Compliance":["Corporate Law","Contract Law","Regulatory Compliance","Intellectual Property","Employment Law","Litigation","Privacy & Data Protection","Securities Law","Tax Law","Legal Operations"]}[D]||["Leadership","Strategic Planning","Team Management","Project Management","Communication","Problem Solving"]).map(Nr=>t.jsx(G,{value:Nr,children:Nr},Nr))})(),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Mentorship Style"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.mentorshipStyle,onCheckedChange:()=>Ce("mentorshipStyle"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:A.mentorshipStyle||"",onValueChange:D=>{if(D==="custom"){const Ve=prompt("Enter your mentorship style:");Ve&&Ve.trim()&&Qe("mentorshipStyle",Ve.trim())}else Qe("mentorshipStyle",D)},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select mentorship style"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Prefer not to say",children:"Prefer not to say"}),t.jsx(G,{value:"Hands-on & Practical",children:"Hands-on & Practical"}),t.jsx(G,{value:"Philosophical & Reflective",children:"Philosophical & Reflective"}),t.jsx(G,{value:"Career-focused & Goal-oriented",children:"Career-focused & Goal-oriented"}),t.jsx(G,{value:"Supportive Listener",children:"Supportive Listener"}),t.jsx(G,{value:"Accountability Partner",children:"Accountability Partner"}),t.jsx(G,{value:"Technical Expert",children:"Technical Expert"}),t.jsx(G,{value:"Life Coach",children:"Life Coach"}),t.jsx(G,{value:"Industry Navigator",children:"Industry Navigator"}),t.jsx(G,{value:"Creative Collaborator",children:"Creative Collaborator"}),t.jsx(G,{value:"Problem Solver",children:"Problem Solver"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Why I Mentor"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.whyMentor,onCheckedChange:()=>Ce("whyMentor"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsx(oa,{value:A.whyMentor||"",onChange:D=>Qe("whyMentor",D.target.value),placeholder:"Share your motivation for mentoring others...",rows:3,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:border-purple-400 focus:ring-purple-400/50 backdrop-blur-xl font-['Inter'] resize-none"})]})]})]}),A.role==="mentee"&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white/10 backdrop-blur-xl rounded-2xl p-6 border border-white/20",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(Jt,{className:"w-5 h-5 text-teal-400"}),t.jsx("h3",{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Mentee Details"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Learning Goals"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.learningGoals,onCheckedChange:()=>Ce("learningGoals"),className:"data-[state=checked]:bg-purple-500"})]})]}),A.learningGoals&&A.learningGoals.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:A.learningGoals.map((D,Ve)=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-500/20 text-purple-200 border border-purple-400/30 backdrop-blur-sm",children:[D,t.jsx("button",{type:"button",onClick:()=>{var Ot;const Ke=((Ot=A.learningGoals)==null?void 0:Ot.filter((Nr,Fr)=>Fr!==Ve))||[];Qe("learningGoals",Ke)},className:"ml-2 hover:text-red-400 transition-colors",children:t.jsx(mt,{className:"h-3 w-3"})})]},Ve))}),t.jsxs(fr,{value:"",onValueChange:D=>{if(D&&D!=="custom"){const Ve=A.learningGoals||[];Ve.includes(D)||Qe("learningGoals",[...Ve,D])}else if(D==="custom"){const Ve=prompt("Enter your learning goal:");if(Ve&&Ve.trim()){const Ke=A.learningGoals||[];Ke.includes(Ve.trim())||Qe("learningGoals",[...Ke,Ve.trim()])}}},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select learning goal"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Prefer not to say",children:"Prefer not to say"}),t.jsx(G,{value:"Leadership & Management",children:"Leadership & Management"}),t.jsx(G,{value:"Resume Building & Career Strategy",children:"Resume Building & Career Strategy"}),t.jsx(G,{value:"Product Management",children:"Product Management"}),t.jsx(G,{value:"Scholarships & Financial Aid",children:"Scholarships & Financial Aid"}),t.jsx(G,{value:"Programming & Coding",children:"Programming & Coding"}),t.jsx(G,{value:"Public Speaking & Communication",children:"Public Speaking & Communication"}),t.jsx(G,{value:"Networking & Relationship Building",children:"Networking & Relationship Building"}),t.jsx(G,{value:"Interview Preparation",children:"Interview Preparation"}),t.jsx(G,{value:"Entrepreneurship & Startups",children:"Entrepreneurship & Startups"}),t.jsx(G,{value:"Data Science & Analytics",children:"Data Science & Analytics"}),t.jsx(G,{value:"Design & Creative Skills",children:"Design & Creative Skills"}),t.jsx(G,{value:"Sales & Business Development",children:"Sales & Business Development"}),t.jsx(G,{value:"Graduate School Applications",children:"Graduate School Applications"}),t.jsx(G,{value:"Work-Life Balance",children:"Work-Life Balance"}),t.jsx(G,{value:"Industry Transition",children:"Industry Transition"}),t.jsx(G,{value:"Technical Skills Development",children:"Technical Skills Development"}),t.jsx(G,{value:"Personal Branding",children:"Personal Branding"}),t.jsx(G,{value:"Confidence Building",children:"Confidence Building"}),t.jsx(G,{value:"Time Management",children:"Time Management"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Why I'm Seeking Mentorship"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.whySeekMentorship,onCheckedChange:()=>Ce("whySeekMentorship"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsx(oa,{value:A.whySeekMentorship||"",onChange:D=>Qe("whySeekMentorship",D.target.value),placeholder:"Describe what you hope to achieve through mentorship...",rows:3,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:border-teal-400 focus:ring-teal-400/50 backdrop-blur-xl font-['Inter'] resize-none"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Preferred Mentorship Style"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.preferredMentorshipStyle,onCheckedChange:()=>Ce("preferredMentorshipStyle"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:A.preferredMentorshipStyle||"",onValueChange:D=>{if(D==="custom"){const Ve=prompt("Enter your preferred mentorship style:");Ve&&Ve.trim()&&Qe("preferredMentorshipStyle",Ve.trim())}else Qe("preferredMentorshipStyle",D)},children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select preferred style"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Prefer not to say",children:"Prefer not to say"}),t.jsx(G,{value:"Hands-on & Practical",children:"Hands-on & Practical"}),t.jsx(G,{value:"Philosophical & Reflective",children:"Philosophical & Reflective"}),t.jsx(G,{value:"Career-focused & Goal-oriented",children:"Career-focused & Goal-oriented"}),t.jsx(G,{value:"Supportive Listener",children:"Supportive Listener"}),t.jsx(G,{value:"Accountability Partner",children:"Accountability Partner"}),t.jsx(G,{value:"Technical Expert",children:"Technical Expert"}),t.jsx(G,{value:"Life Coach",children:"Life Coach"}),t.jsx(G,{value:"Industry Navigator",children:"Industry Navigator"}),t.jsx(G,{value:"Creative Collaborator",children:"Creative Collaborator"}),t.jsx(G,{value:"Problem Solver",children:"Problem Solver"}),t.jsx(G,{value:"Just-in-time Advice",children:"Just-in-time Advice"}),t.jsx(G,{value:"Structured Learning",children:"Structured Learning"}),t.jsx(G,{value:"custom",children:"Add Custom..."})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-2 font-['Inter']",children:"Industry Aspiration"}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"text-xs text-purple-300",children:"Show"}),t.jsx(Ye,{checked:$.industryAspiration,onCheckedChange:()=>Ce("industryAspiration"),className:"data-[state=checked]:bg-purple-500"})]})]}),t.jsxs(fr,{value:A.industryAspiration||"",onValueChange:D=>Qe("industryAspiration",D),children:[t.jsx(hr,{className:"bg-white/10 border-white/20 text-white focus:border-green-400 focus:ring-green-400/50 rounded-xl backdrop-blur-xl font-['Inter']",children:t.jsx(gr,{placeholder:"Select industry aspiration"})}),t.jsxs(pr,{className:"bg-slate-800 border-slate-600 text-white max-h-64 overflow-y-auto",side:"bottom",align:"start",sideOffset:5,alignOffset:0,avoidCollisions:!0,children:[t.jsx(G,{value:"Technology",children:"Technology"}),t.jsx(G,{value:"Finance & Banking",children:"Finance & Banking"}),t.jsx(G,{value:"Healthcare & Medicine",children:"Healthcare & Medicine"}),t.jsx(G,{value:"Education & Academia",children:"Education & Academia"}),t.jsx(G,{value:"Consulting & Strategy",children:"Consulting & Strategy"}),t.jsx(G,{value:"Marketing & Advertising",children:"Marketing & Advertising"}),t.jsx(G,{value:"Sales & Business Development",children:"Sales & Business Development"}),t.jsx(G,{value:"Human Resources",children:"Human Resources"}),t.jsx(G,{value:"Operations & Supply Chain",children:"Operations & Supply Chain"}),t.jsx(G,{value:"Legal & Compliance",children:"Legal & Compliance"}),t.jsx(G,{value:"Real Estate",children:"Real Estate"}),t.jsx(G,{value:"Media & Entertainment",children:"Media & Entertainment"}),t.jsx(G,{value:"Non-Profit & Social Impact",children:"Non-Profit & Social Impact"}),t.jsx(G,{value:"Government & Public Policy",children:"Government & Public Policy"}),t.jsx(G,{value:"Manufacturing",children:"Manufacturing"}),t.jsx(G,{value:"Retail & E-commerce",children:"Retail & E-commerce"}),t.jsx(G,{value:"Energy & Utilities",children:"Energy & Utilities"}),t.jsx(G,{value:"Agriculture & Food",children:"Agriculture & Food"}),t.jsx(G,{value:"Transportation & Logistics",children:"Transportation & Logistics"}),t.jsx(G,{value:"Architecture & Construction",children:"Architecture & Construction"})]})]})]})]})]})]})}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-purple-900/95 to-pink-800/95 backdrop-blur-xl border-t border-white/20 p-3 md:p-4 flex-shrink-0",children:t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{k(!1),F({})},className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-xl font-['Inter'] text-sm",children:"Cancel"}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsx(de,{onClick:()=>{Mt(),k(!1)},disabled:vt.isPending,className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white shadow-lg font-['Inter'] font-semibold text-sm",children:vt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})})]})})]})})}),te&&t.jsx(Or,{open:te,onOpenChange:Ne,children:t.jsx(Dr,{className:"w-[90vw] max-w-md bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 border-2 border-white/30 shadow-2xl rounded-2xl p-0 overflow-hidden",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-purple-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-indigo-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-purple-600/90 to-indigo-600/90 backdrop-blur-xl border-b border-white/10 p-4",children:t.jsx(pn,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-indigo-400 rounded-lg flex items-center justify-center shadow-lg",children:t.jsx(zr,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-lg font-bold text-white font-['Space_Grotesk']",children:"Add Custom Industry"}),t.jsx("p",{className:"text-purple-100 font-['Inter'] text-sm",children:"Enter your specific industry"})]})]}),t.jsx(E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>Ne(!1),className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors duration-200",children:t.jsx(mt,{className:"w-4 h-4 text-white"})})]})})}),t.jsx("div",{className:"relative z-10 p-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx("label",{className:"block text-sm font-medium text-purple-200 mb-3 font-['Inter']",children:"Industry Name"}),t.jsx(Je,{value:rt,onChange:D=>at(D.target.value),placeholder:"e.g., Renewable Energy, EdTech, FinTech...",className:"bg-white/10 border-white/20 text-white placeholder-white/50 focus:border-purple-400 focus:ring-purple-400/50 rounded-xl backdrop-blur-xl font-['Inter']",autoFocus:!0,onKeyDown:D=>{D.key==="Enter"&&rt.trim()&&(Ct("industry",rt.trim()),Ne(!1),at(""))}})]})}),t.jsx("div",{className:"relative z-10 bg-gradient-to-r from-purple-900/95 to-indigo-900/95 backdrop-blur-xl border-t border-white/20 p-4",children:t.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{Ne(!1),at("")},className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-xl font-['Inter'] text-sm",children:"Cancel"}),t.jsx(E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs(de,{onClick:()=>{console.log("[CUSTOM-INDUSTRY] Add Industry button clicked"),console.log("[CUSTOM-INDUSTRY] Current input value:",rt),rt.trim()?(console.log("[CUSTOM-INDUSTRY] Calling handleNetworkingInputChange with:",rt.trim()),Ct("industry",rt.trim()),Ne(!1),at(""),console.log("[CUSTOM-INDUSTRY] Dialog closed and input cleared")):console.log("[CUSTOM-INDUSTRY] Input is empty, not saving")},disabled:!rt.trim(),className:"bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white shadow-lg font-['Inter'] font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(ka,{className:"w-4 h-4 mr-2"}),"Add Industry"]})})]})})]})})}),t.jsx(Uu,{open:V,onOpenChange:J,children:t.jsxs(hd,{className:"max-w-[85vw] sm:max-w-md mx-auto bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border border-purple-500/30 backdrop-blur-xl rounded-2xl",children:[t.jsxs(pd,{children:[t.jsxs(gd,{className:"text-white font-['Space_Grotesk'] text-xl flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-red-500/20 border border-red-400/30",children:t.jsx(Zn,{className:"w-5 h-5 text-red-400"})}),"Delete Mentorship Profile"]}),t.jsx(Bu,{className:"text-slate-300 font-['Inter'] text-base leading-relaxed",children:"Are you sure you want to delete your mentorship profile?"})]}),t.jsxs(fd,{className:"flex flex-row items-center justify-center gap-3 pt-4",children:[t.jsx(xd,{className:"flex-1 bg-white/10 border-white/20 text-white hover:bg-white/20 hover:border-white/30 font-['Inter'] font-medium transition-all duration-200",disabled:Rt.isPending,children:"Cancel"}),t.jsx(Gu,{onClick:()=>{Rt.mutate(X),J(!1)},disabled:Rt.isPending,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-['Inter'] font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Rt.isPending?t.jsxs(t.Fragment,{children:[t.jsx(sn,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Delete Profile"]})})]})]})}),t.jsx(Uu,{open:M,onOpenChange:R,children:t.jsxs(hd,{className:"max-w-[85vw] sm:max-w-md mx-auto bg-gradient-to-br from-slate-900 via-emerald-900 to-slate-900 border border-emerald-500/30 backdrop-blur-xl rounded-2xl",children:[t.jsxs(pd,{children:[t.jsxs(gd,{className:"text-white font-['Space_Grotesk'] text-xl flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-red-500/20 border border-red-400/30",children:t.jsx(Zn,{className:"w-5 h-5 text-red-400"})}),"Delete Networking Profile"]}),t.jsx(Bu,{className:"text-slate-300 font-['Inter'] text-base leading-relaxed",children:"Are you sure you want to delete your networking profile?"})]}),t.jsxs(fd,{className:"flex flex-row items-center justify-center gap-3 pt-4",children:[t.jsx(xd,{className:"flex-1 bg-white/10 border-white/20 text-white hover:bg-white/20 hover:border-white/30 font-['Inter'] font-medium transition-all duration-200",disabled:Sn.isPending,children:"Cancel"}),t.jsx(Gu,{onClick:()=>{Sn.mutate(),R(!1)},disabled:Sn.isPending,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-['Inter'] font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Sn.isPending?t.jsxs(t.Fragment,{children:[t.jsx(sn,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Delete Profile"]})})]})]})}),t.jsx(Uu,{open:B,onOpenChange:O,children:t.jsxs(hd,{className:"max-w-[85vw] sm:max-w-md mx-auto bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 border border-blue-500/30 backdrop-blur-xl rounded-2xl",children:[t.jsxs(pd,{children:[t.jsxs(gd,{className:"text-white font-['Space_Grotesk'] text-xl flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full bg-red-500/20 border border-red-400/30",children:t.jsx(Zn,{className:"w-5 h-5 text-red-400"})}),"Delete Job Profile"]}),t.jsx(Bu,{className:"text-slate-300 font-['Inter'] text-base leading-relaxed",children:"Are you sure you want to delete your job profile?"})]}),t.jsxs(fd,{className:"flex flex-row items-center justify-center gap-3 pt-4",children:[t.jsx(xd,{className:"flex-1 bg-white/10 border-white/20 text-white hover:bg-white/20 hover:border-white/30 font-['Inter'] font-medium transition-all duration-200",disabled:Te.isPending,children:"Cancel"}),t.jsx(Gu,{onClick:()=>{Te.mutate(),O(!1)},disabled:Te.isPending,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-['Inter'] font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:Te.isPending?t.jsxs(t.Fragment,{children:[t.jsx(sn,{className:"w-4 h-4 animate-spin mr-2"}),"Deleting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Delete Profile"]})})]})]})})]})}function f0e(){const{user:e}=Sr(),{currentMode:r}=Ts();if(lr(),!e)return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx("div",{className:"h-[calc(100vh-132px)] flex items-center justify-center",children:t.jsx(sn,{className:"h-8 w-8 animate-spin text-primary"})}),t.jsx(Ns,{})]});const n=()=>{switch(r){case"MEET":return t.jsx(C4,{user:e});case"HEAT":return t.jsx(c0e,{user:e});case"SUITE":return t.jsx(p0e,{user:e});default:return t.jsx(C4,{user:e})}};return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsx("div",{className:"h-[calc(100vh-132px)] overflow-auto pt-0",children:n()}),t.jsx(Ns,{})]})}function g0e({open:e,onOpenChange:r,user:n,isPremium:a=!1,onPremiumUpgradeClick:s}){const{currentMode:i}=Ts(),{translate:o}=tn(),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState(""),[f,x]=u.useState(""),[g,v]=u.useState({}),{data:y}=dt({queryKey:["/api/suite/profile-settings"],enabled:e});u.useEffect(()=>{y&&v(y)},[y]);const b=u.useMemo(()=>{const _=n.hasActivatedProfile||!1,k=_?{id:"hideMeetProfile",title:o("settings.hideMeetProfile"),description:a?"Your profile won't appear in MEET discovery, but existing matches remain active":"Requires Premium Access to hide your MEET profile",value:n.profileHidden||!1,icon:t.jsx(Yt,{className:"h-4 w-4 text-purple-500"}),premium:!0,disabled:!1}:null,A=g.jobProfileActive?{id:"hideJobsDiscovery",title:o("settings.hideJobsProfile"),description:g.jobProfileActive&&!a?"Requires Premium Access to hide after profile activation":o("settings.jobProfileDiscoveryDescription"),value:g.hiddenInJobDiscovery||!1,icon:t.jsx(zr,{className:"h-4 w-4 text-blue-500"}),premium:g.jobProfileActive,disabled:!1}:null,F=g.mentorshipProfileActive?{id:"hideMentorshipDiscovery",title:o("settings.hideMentorshipProfile"),description:g.mentorshipProfileActive&&!a?"Requires Premium Access to hide after profile activation":o("settings.mentorshipProfileDiscoveryDescription"),value:g.hiddenInMentorshipDiscovery||!1,icon:t.jsx(Qr,{className:"h-4 w-4 text-violet-500"}),premium:g.mentorshipProfileActive,disabled:!1}:null,V=g.networkingProfileActive?{id:"hideNetworkingDiscovery",title:o("settings.hideNetworkingProfile"),description:g.networkingProfileActive&&!a?"Requires Premium Access to hide after profile activation":o("settings.networkingProfileDiscoveryDescription"),value:g.hiddenInNetworkingDiscovery||!1,icon:t.jsx(Eo,{className:"h-4 w-4 text-emerald-500"}),premium:g.networkingProfileActive,disabled:!1}:null,J={id:"ghostMode",title:o("settings.ghostMode"),description:o("settings.ghostModeDescription"),value:n.ghostMode||!1,icon:t.jsx(Jc,{className:"h-4 w-4 text-gray-500"}),premium:!0,disabled:!1},M={id:"hideAge",title:o("settings.hideMyAge"),description:!a&&!_?o("settings.ageProfileDescription"):!a&&_?"Requires Premium Access to hide your age from MEET profile":o("settings.ageProfileDescription"),value:!a&&!_?!0:!a&&_?!1:n.hideAge||!1,icon:t.jsx(pG,{className:"h-4 w-4 text-indigo-500"}),premium:_,disabled:!1},R=n.lastUsedApp||i;let B=null;try{B=localStorage.getItem(`suite_network_last_tab_${n.id}`)}catch(X){console.warn("Failed to get last SUITE tab:",X)}let O=null;if(R==="MEET"?O=k:R==="SUITE"&&(B==="networking"&&V?O=V:B==="mentorship"&&F?O=F:B==="job"&&A?O=A:O=V||F||A||k),l){const X=[];return k&&X.push(k),[A,F,V].forEach(ae=>{ae&&X.push(ae)}),X.push(J),X.push(M),X}else{const X=[];return O&&X.push(O),X.push(J),X}},[n,a,g,i,l]),w=u.useMemo(()=>{if(l)return 0;let _=0;return n.hasActivatedProfile&&_++,g.jobProfileActive&&_++,g.mentorshipProfileActive&&_++,g.networkingProfileActive&&_++,Math.max(0,_-1)},[l,n.hasActivatedProfile,g.jobProfileActive,g.mentorshipProfileActive,g.networkingProfileActive]),S=wt({mutationFn:async({fieldName:_,value:k})=>_==="profileHidden"?await ze(`/api/profile/${n.id}`,{method:"PATCH",data:{[_]:k}}):await ze("/api/suite/profile-settings",{method:"PUT",data:{[_]:k}}),onMutate:async({fieldName:_,value:k})=>{if(_==="profileHidden"){await me.cancelQueries({queryKey:["/api/user"]});const A=me.getQueryData(["/api/user"]);return me.setQueryData(["/api/user"],F=>({...F,[_]:k})),{previousUser:A}}else return await me.cancelQueries({queryKey:["/api/suite/profile-settings"]}),v(A=>({...A,[_]:k})),{previousSuiteSettings:g}},onError:(_,{fieldName:k,value:A},F)=>{k==="profileHidden"&&(F!=null&&F.previousUser)?me.setQueryData(["/api/user"],F.previousUser):F!=null&&F.previousSuiteSettings&&v(F.previousSuiteSettings),mn({title:"Error",description:"Failed to update privacy setting. Please try again.",variant:"destructive"})},onSettled:(_,k,{fieldName:A})=>{A==="profileHidden"?me.invalidateQueries({queryKey:["/api/user"]}):me.invalidateQueries({queryKey:["/api/suite/profile-settings"]})}}),N=wt({mutationFn:async({fieldName:_,value:k})=>await ze(`/api/profile/${n.id}`,{method:"PATCH",data:{[_]:k}}),onMutate:async({fieldName:_,value:k})=>{await me.cancelQueries({queryKey:["/api/user"]});const A=me.getQueryData(["/api/user"]);return me.setQueryData(["/api/user"],F=>({...F,[_]:k})),{previousUser:A}},onError:(_,k,A)=>{A!=null&&A.previousUser&&me.setQueryData(["/api/user"],A.previousUser),mn({title:"Error",description:"Failed to update privacy setting. Please try again.",variant:"destructive"})},onSettled:()=>{me.invalidateQueries({queryKey:["/api/user"]})}}),P=u.useCallback((_,k)=>{if(((F,V)=>{switch(F){case"profileHidden":return!0;case"hiddenInJobDiscovery":return V&&g.jobProfileActive||!1;case"hiddenInMentorshipDiscovery":return V&&g.mentorshipProfileActive||!1;case"hiddenInNetworkingDiscovery":return V&&g.networkingProfileActive||!1;default:return!1}})(_,k)&&!a){s==null||s();return}S.mutate({fieldName:_,value:k})},[a,g,s,S]),C=u.useCallback((_,k)=>{if(_==="ghostMode"&&!a){s==null||s();return}if(_==="hideAge"){const A=n.hasActivatedProfile||!1;if(!a&&!A){s==null||s();return}if(!a&&A){s==null||s();return}}N.mutate({fieldName:_,value:k})},[a,n.hasActivatedProfile,s,N]),I=u.useCallback((_,k)=>{switch(_){case"hideMeetProfile":P("profileHidden",k);break;case"hideJobsDiscovery":P("hiddenInJobDiscovery",k);break;case"hideMentorshipDiscovery":P("hiddenInMentorshipDiscovery",k);break;case"hideNetworkingDiscovery":P("hiddenInNetworkingDiscovery",k);break;case"ghostMode":C("ghostMode",k);break;case"hideAge":C("hideAge",k);break;default:console.log(`Toggle for ${_} not implemented yet`)}},[P,C]),T=async()=>{if(x(""),!h.trim()){x("Please enter your password to confirm account deletion.");return}try{m(!0);const _=ze("/api/user/delete",{method:"POST",data:{password:h}});r(!1);const k=await _;if(!k.ok){const V=await k.json().catch(()=>({}));V.message&&V.message.includes("Password verification failed")?x("Incorrect password. Please try again."):x("Unable to delete account. Please try again later."),r(!0),m(!1);return}localStorage.clear(),sessionStorage.clear();const A=document.createElement("div");A.className="fixed inset-0 bg-black flex flex-col items-center justify-center z-50",A.id="farewell-screen",A.innerHTML=`
        <div class="text-center p-8 max-w-md farewell-content">
          <h1 class="text-3xl font-bold text-white mb-4">We're sad to see you go</h1>
          <p class="text-lg text-gray-300 mb-8">Your CHARLEY account has been deleted.</p>
          <div class="bg-gradient-to-r from-purple-500 via-pink-500 to-red-500 h-1 w-32 mx-auto mb-8"></div>
          <p class="text-sm text-gray-400">Redirecting you shortly...</p>
        </div>

        <div class="auth-content" style="opacity: 0; position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; background: black; transform: translateY(20px); transition: opacity 1s ease, transform 1s ease;">
          <div style="text-align: center;">
            <div style="margin-bottom: 1rem;">
              <span style="font-family: 'Arial Black', sans-serif; font-size: 3.5rem; font-weight: bold; letter-spacing: 2px; background: linear-gradient(to right, #9333EA, #FB923C); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                CHARLEY
              </span>
            </div>
            <div style="color: white; font-size: 1.25rem; margin-top: 0.5rem;">
              Create. Relate. Elevate.
            </div>
          </div>
        </div>
      `,document.body.appendChild(A);const F=document.createElement("style");F.textContent=`
        @keyframes fadeOut {
          0% { opacity: 1; transform: translateY(0); }
          100% { opacity: 0; transform: translateY(-20px); }
        }

        @keyframes fadeIn {
          0% { opacity: 0; transform: translateY(20px); }
          100% { opacity: 1; transform: translateY(0); }
        }
      `,document.head.appendChild(F),setTimeout(()=>{const V=document.querySelector(".farewell-content"),J=document.querySelector(".auth-content");V&&(V.style.animation="fadeOut 1s forwards"),J&&(J.style.opacity="1",J.style.transform="translateY(0)"),setTimeout(()=>{window.location.href="/auth"},1500)},2500)}catch(_){console.error("Account deletion error:",_),x("Unable to delete account. Please try again later."),r(!0),m(!1)}};return u.useMemo(()=>{switch(i){case"MEET":return{name:"MEET",icon:t.jsx(Yt,{className:"h-5 w-5 text-purple-500",fill:"currentColor"}),color:"from-purple-500 to-pink-500"};case"HEAT":return{name:"HEAT",icon:t.jsx(Hs,{className:"h-5 w-5 text-orange-500",fill:"currentColor"}),color:"from-orange-500 to-yellow-500"};case"SUITE":return{name:"SUITE",icon:t.jsx(zr,{className:"h-5 w-5 text-blue-500"}),color:"from-blue-500 to-indigo-500"};default:return{name:"Unknown",icon:null,color:"from-gray-500 to-gray-600"}}},[i]),t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[480px] max-h-[85vh] overflow-y-auto flex flex-col border-none bg-gradient-to-br from-slate-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-purple-500 via-indigo-500 to-blue-500 rounded-t-xl"}),t.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white rounded-full p-1 bg-white/10 hover:bg-white/20 transition-all duration-200",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-purple-500/10 via-indigo-500/10 to-blue-500/10 blur-3xl opacity-40"}),t.jsx("div",{className:"absolute bottom-10 -left-20 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-40 right-5 w-60 h-60 bg-purple-500/20 rounded-full blur-3xl"})]}),t.jsx(pn,{className:"pt-6 pb-2 border-b border-white/10 mb-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(gn,{className:"h-6 w-6 mr-2 text-purple-400"}),t.jsx(Jr,{className:"text-xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-blue-400",children:o("settings.privacyAndDiscoveryControls")})]})}),t.jsx("div",{className:"overflow-y-auto flex-1 pb-8",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-3 bg-white/5 border border-white/10 rounded-lg",children:[t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(gn,{className:"h-5 w-5 text-purple-400"}),t.jsx("div",{children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[t.jsx("span",{className:"font-semibold text-sm sm:text-base text-white whitespace-nowrap",children:o("settings.privacyControls")}),a&&t.jsx(St,{variant:"secondary",className:"text-[10px] sm:text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white w-fit mt-1 sm:mt-0",children:"PREMIUM"})]})})]}),t.jsx(de,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"text-xs bg-white/10 hover:bg-white/20 border-white/20 text-white flex items-center gap-1.5 relative",children:l?t.jsxs(t.Fragment,{children:[t.jsx(ls,{className:"h-3 w-3"}),o("settings.currentOnly")]}):t.jsxs(t.Fragment,{children:[t.jsx(ia,{className:"h-3 w-3"}),o("settings.showAll"),w>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white rounded-full text-[8px] flex items-center justify-center font-medium",children:w})]})})]})}),b.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-400",children:[t.jsx(Yo,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No active profiles found"}),t.jsx("p",{className:"text-xs",children:"Create profiles to control their visibility"})]}):b.map((_,k)=>t.jsxs("div",{className:`${k<b.length-1?"pb-2 mb-2 border-b border-white/10":""}`,children:[t.jsxs("div",{className:"flex flex-row items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center",children:[_.icon,t.jsx(mr,{htmlFor:_.id,className:"ml-2 font-medium text-white",children:_.title})]}),t.jsx(Ye,{id:_.id,checked:_.value,onCheckedChange:A=>I(_.id,A),disabled:_.disabled,className:"data-[state=checked]:bg-purple-500"})]}),_.description&&t.jsx("p",{className:"text-xs text-gray-300 mt-1 pl-8",children:_.description})]},_.id))]}),t.jsxs("div",{className:"border border-red-500/30 rounded-lg p-4 bg-gradient-to-r from-red-900/20 to-pink-900/20",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Zn,{className:"h-5 w-5 text-red-400 mr-2"}),t.jsx("h3",{className:"text-md font-medium text-white",children:o("settings.deleteYourCharleyAccount")})]}),t.jsx("p",{className:"text-xs text-gray-300 mb-3",children:o("settings.deleteAccountWarning")}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Je,{type:"password",placeholder:o("settings.enterPasswordToConfirm"),value:h,onChange:_=>{p(_.target.value),f&&x("")},className:`bg-white/10 border-white/20 text-white placeholder:text-gray-400 ${f?"border-red-500/50 focus:border-red-500":""}`}),f&&t.jsx("p",{className:"text-red-400 text-xs mt-1 px-1",children:f}),t.jsx(de,{onClick:T,disabled:d||!h.trim(),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:d?"Deleting Account...":o("settings.deleteAccount")})]})]}),t.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ed,{className:"h-4 w-4 text-blue-400 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-200",children:[t.jsx("p",{className:"font-medium",children:o("settings.privacyControlsExplained")}),t.jsx("p",{className:"mt-1 text-xs",children:o("settings.privacyControlsDescription")})]})]})})]})})]})})}function x0e({open:e,onOpenChange:r}){const n=[{title:"Terms of Service",description:"Your rights and responsibilities when using CHARLEY",icon:t.jsx(Yo,{className:"h-5 w-5 text-indigo-400"}),url:"/assets/terms-of-service-enhanced.html",color:"indigo",highlights:["Dual age requirements (18+ for dating, 14+ for networking)","Content licensing and IP rights","Mandatory arbitration clause"]},{title:"Privacy Policy",description:"How we collect, use, and protect your personal information",icon:t.jsx(gn,{className:"h-5 w-5 text-purple-400"}),url:"/assets/privacy-policy-enhanced.html",color:"purple",highlights:["AI training disclosures","International data transfers","GDPR and CCPA compliance"]},{title:"Community Guidelines",description:"Standards for safe and respectful interactions",icon:t.jsx(Jt,{className:"h-5 w-5 text-emerald-400"}),url:"/assets/community-guidelines.html",color:"emerald",highlights:["Zero-tolerance policies","Detailed enforcement procedures","Appeals process"]},{title:"Legal Review Report",description:"Comprehensive analysis of our legal protections",icon:t.jsx(bp,{className:"h-5 w-5 text-amber-400"}),url:"/assets/CHARLEY_Legal_Review_Report.md",color:"amber",highlights:["Industry comparison with Meta, Tinder, Snapchat","Risk mitigation strategies","Implementation roadmap"]}];return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[700px] max-h-[85vh] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500 rounded-t-xl"}),t.jsxs(pn,{className:"pb-4 border-b border-white/10",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bp,{className:"h-5 w-5 text-purple-400"}),t.jsx(Jr,{className:"text-xl font-bold tracking-tight",children:"Legal Documents"})]}),t.jsx(Gs,{className:"text-white/70 pt-2",children:"Enhanced legal documents with industry-standard protections | Updated July 14, 2025"})]}),t.jsxs(to,{className:"mt-4 pr-4 max-h-[60vh]",children:[t.jsx("div",{className:"space-y-4",children:n.map((a,s)=>t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-all duration-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[a.icon,t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:a.title}),t.jsx("p",{className:"text-white/70 text-sm mt-1",children:a.description})]})]}),t.jsxs(de,{variant:"outline",size:"sm",className:`border-${a.color}-500/30 bg-${a.color}-500/10 text-${a.color}-300 hover:bg-${a.color}-500/20 hover:text-white transition-colors`,onClick:()=>{window.open(a.url,"_blank","noopener,noreferrer")},children:[t.jsx($N,{className:"h-4 w-4 mr-1"}),"Open"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-white/60 text-xs font-medium",children:"Key Features:"}),t.jsx("ul",{className:"space-y-1",children:a.highlights.map((i,o)=>t.jsxs("li",{className:"text-white/70 text-xs flex items-start gap-2",children:[t.jsx("span",{className:`text-${a.color}-400 mt-1`,children:""}),i]},o))})]})]},s))}),t.jsx("div",{className:"mt-6 bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Yo,{className:"h-5 w-5 text-blue-300 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-blue-200 font-medium text-sm mb-2",children:"Legal Enhancement Complete"}),t.jsx("p",{className:"text-blue-200/80 text-xs leading-relaxed",children:"Our legal documents have been comprehensively enhanced based on industry leaders like Meta, Tinder, and Snapchat. These documents now provide robust protections for both users and the platform, including AI training disclosures, international compliance, and enhanced safety measures."})]})]})})]})]})})}const y0e=({isActive:e,duration:r=5e3,onComplete:n})=>{const[a,s]=u.useState([]),[i,o]=u.useState(null),[l,c]=u.useState(!1),[d,m]=u.useState(.9),h=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#FF4500","#FF6347","#FFD700","#FFA500","#FF1493","#00CED1","#7FFF00","#FF69B4","#32CD32","#FF8C00"],p=["#FF4500","#FF6347","#FF0000","#FFD700","#FFA500","#FF1493","#DC143C","#B22222","#FF8C00","#FF7F50"],f=["#FFD700","#FFFF00","#FFFFFF","#FFF8DC","#F0E68C"],x=["#FF69B4","#FF1493","#DC143C","#FF6347","#FF4500"],g=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],v=(C,I,T)=>{const _=[];for(let A=0;A<15;A++){const F=A/15*Math.PI*2,V=Math.random()*4+2;_.push({id:`fw-${T}-${A}`,x:C,y:I,vx:Math.cos(F)*V,vy:Math.sin(F)*V,life:60,maxLife:60,color:h[Math.floor(Math.random()*h.length)],size:Math.random()*5+3})}return _},y=(C,I,T)=>{const _=[];for(let A=0;A<20;A++){const F=Math.random()*Math.PI*2,V=Math.random()*5+2;_.push({id:`fire-${T}-${A}`,x:C,y:I,vx:Math.cos(F)*V,vy:Math.sin(F)*V-Math.random()*2,life:50,maxLife:50,color:p[Math.floor(Math.random()*p.length)],size:Math.random()*6+4})}return _},b=(C,I,T)=>{const _=[];for(let A=0;A<25;A++){const F=Math.random()*Math.PI*2,V=Math.random()*5+1;_.push({id:`spark-${T}-${A}`,x:C,y:I,vx:Math.cos(F)*V,vy:Math.sin(F)*V,life:45,maxLife:45,color:f[Math.floor(Math.random()*f.length)],size:Math.random()*4+2})}return _},w=(C,I,T)=>{const _=[];for(let A=0;A<12;A++){const F=A/12*Math.PI*2,V=Math.random()*3+1;_.push({id:`heart-${T}-${A}`,x:C,y:I,vx:Math.cos(F)*V,vy:Math.sin(F)*V,life:70,maxLife:70,color:x[Math.floor(Math.random()*x.length)],size:Math.random()*8+6})}return _},S=(C,I,T)=>{const _=[];for(let A=0;A<30;A++){const F=Math.random()*Math.PI*.5+Math.PI*.25,V=Math.random()*3+1;_.push({id:`confetti-${T}-${A}`,x:C+(Math.random()-.5)*100,y:I,vx:Math.cos(F)*V*(Math.random()>.5?1:-1),vy:Math.sin(F)*V,life:90,maxLife:90,color:g[Math.floor(Math.random()*g.length)],size:Math.random()*4+2})}return _},N=(C,I,T)=>{const _=[];for(let A=0;A<8;A++){const F=A/8*Math.PI*2,V=Math.random()*4+3;_.push({id:`star-${T}-${A}`,x:C,y:I,vx:Math.cos(F)*V,vy:Math.sin(F)*V,life:80,maxLife:80,color:f[Math.floor(Math.random()*f.length)],size:Math.random()*6+8})}return _},P=C=>C.map(I=>({...I,x:I.x+I.vx,y:I.y+I.vy,vy:I.vy+.1,life:I.life-1})).filter(I=>I.life>0);return u.useEffect(()=>{if(!e){i&&(cancelAnimationFrame(i),o(null)),s([]);return}const C=Date.now();let I=0;const T=()=>{const _=Date.now(),k=_-C;if(_-I>400){const A=.7+Math.random()*.3;m(A),c(!0);const F=80+Math.random()*70;setTimeout(()=>c(!1),F),Math.random()<.3&&setTimeout(()=>{c(!0),setTimeout(()=>c(!1),60)},F+50),s(V=>{const J=[],M=_,R=Math.random()*window.innerWidth,B=Math.random()*(window.innerHeight*.6)+window.innerHeight*.1,O=Math.random();return O<.2?J.push(...v(R,B,M)):O<.35?J.push(...y(R,B,M)):O<.5?J.push(...b(R,B,M)):O<.65?J.push(...w(R,B,M)):O<.8?J.push(...S(R,B,M)):J.push(...N(R,B,M)),[...V,...J]}),I=_}if(s(A=>P(A)),k<r){const A=requestAnimationFrame(T);o(A)}else s([]),n==null||n()};return T(),()=>{i&&cancelAnimationFrame(i)}},[e,r,n]),!e&&a.length===0?null:t.jsxs(t.Fragment,{children:[l&&t.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9998] bg-white",style:{animation:"camera-flash 120ms ease-out",opacity:d}}),t.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:a.map(C=>{const I=C.id.startsWith("heart-"),T=C.id.startsWith("confetti-"),_=C.id.startsWith("star-"),k=C.id.startsWith("fire-"),A=C.id.startsWith("spark-"),F=C.life/C.maxLife;let V=`0 0 ${C.size*2}px ${C.color}`,J="50%",M="translate(-50%, -50%)";return I?(J="50% 50% 50% 50% / 60% 60% 40% 40%",V=`0 0 ${C.size*3}px ${C.color}, 0 0 ${C.size*1.5}px ${C.color}`,M="translate(-50%, -50%) rotate(45deg)"):T?(J="2px",M=`translate(-50%, -50%) rotate(${Math.sin(C.life*.1)*180}deg)`):_?(J="50%",V=`0 0 ${C.size*4}px ${C.color}, 0 0 ${C.size*2}px #ffffff`,M=`translate(-50%, -50%) rotate(${C.life*5}deg)`):k?V=`0 0 ${C.size*3}px ${C.color}, 0 0 ${C.size}px #ff4500`:A&&(V=`0 0 ${C.size*4}px ${C.color}, 0 0 ${C.size*2}px #ffffff`),t.jsx("div",{className:"absolute",style:{left:`${C.x}px`,top:`${C.y}px`,width:`${C.size}px`,height:`${C.size}px`,backgroundColor:C.color,opacity:F,boxShadow:V,borderRadius:J,transform:M}},C.id)})})]})};function v0e(){var tr;const{user:e,logoutMutation:r}=Sr(),[,n]=lr(),{toast:a}=Wr(),{darkMode:s,toggleDarkMode:i,isAutomaticMode:o,enableAutomaticMode:l,disableAutomaticMode:c,daylightStatus:d,refreshDaylight:m}=Za(),[h,p]=u.useState("account");u.useEffect(()=>{const we=localStorage.getItem("last_app_page"),pt=localStorage.getItem("origin_app_page"),ot=["/","/heat","/suite/network","/suite/jobs"];let qt="/";we&&ot.includes(we)?(qt=we,console.log("[SETTINGS-INIT] Using last app page as origin:",we)):pt&&ot.includes(pt)&&(qt=pt,console.log("[SETTINGS-INIT] Using origin app page as fallback:",pt));const bn={originPage:qt,timestamp:Date.now(),source:we?"last_app_page":pt?"origin_app_page":"default"};localStorage.setItem("settings_navigation_stack",JSON.stringify(bn)),console.log("[SETTINGS-INIT] Updated navigation stack:",bn),console.log("[SETTINGS-INIT] Available pages - last:",we,"origin:",pt)},[]),u.useEffect(()=>{const pt=new URLSearchParams(window.location.search).get("tab");pt&&["account","app","subscription"].includes(pt)&&(p(pt),window.history.replaceState({},"","/settings"))},[]);const[f,x]=u.useState(!1),[g,v]=u.useState(!1),[y,b]=u.useState(!1),[w,S]=u.useState(!1),[N,P]=u.useState(!1),[C,I]=u.useState(!1),[T,_]=u.useState(!1),[k,A]=u.useState(!1),[F,V]=u.useState(!1),[J,M]=u.useState(!1),[R,B]=u.useState(!1),{data:O,isLoading:X}=dt({queryKey:["/api/premium/status"],enabled:!!e}),ae=(O==null?void 0:O.premiumAccess)||!1,$=(O==null?void 0:O.gracePeriodActive)||!1,re=O==null?void 0:O.subscriptionStatus,le=O==null?void 0:O.subscriptionExpiresAt,ce=(e==null?void 0:e.isVerified)||!1,{currentLanguage:ue,setLanguage:ee,allLanguages:Z}=tn();console.log("Settings page - Current language:",ue==null?void 0:ue.code,ue==null?void 0:ue.name),console.log("Settings page - Available languages:",Z==null?void 0:Z.length),console.log(" CRITICAL TRANSLATION TEST:"),console.log(" securityAndPrivacy:",Ge("settings.securityAndPrivacy")),console.log(" twoFactorAuth:",Ge("settings.twoFactorAuth")),console.log(" accountPrivacy:",Ge("settings.accountPrivacy"));const[Se,Ue]=u.useState("+1"),[De,se]=u.useState(""),[L,q]=u.useState(""),[H,ge]=u.useState(""),[ke,z]=u.useState(""),[ie,pe]=u.useState(""),[ye,$e]=u.useState(!1),[Le,Oe]=u.useState(null),[Ze,te]=u.useState(null),[Ne,rt]=u.useState(null),[at,jt]=u.useState(null),[xt,jr]=u.useState(!0),[zt,Wt]=u.useState(!0),[Et,ut]=u.useState(!1),[cr,Ir]=u.useState(!1),[Bt,vt]=u.useState(!1);u.useEffect(()=>{g&&(q((e==null?void 0:e.email)||""),Oe(null),$e(!1))},[g,e==null?void 0:e.email]),u.useEffect(()=>{localStorage.getItem("charley_trigger_celebration")==="true"&&(console.log(" SETTINGS: Detected celebration trigger from payment, starting fireworks"),localStorage.removeItem("charley_trigger_celebration"),ut(!0),a({title:" Premium Features Unlocked!",description:"Welcome to CHARLEY Premium! Enjoy 5 seconds of fireworks with paparazzi camera flashes!"}))},[]),u.useEffect(()=>{e&&(jr(e.showAppModeSelection!==!1),Wt(e.showNationalitySelection!==!1),Ze!==null&&Ze===(e.twoFactorEnabled||!1)&&te(null),Ne!==null&&Ne===(e.showAppModeSelection!==!1)&&rt(null),at!==null&&at===(e.showNationalitySelection!==!1)&&jt(null))},[e,Ze,Ne,at]);const[Ft,$t]=u.useState(!1),dr=()=>{const we=localStorage.getItem("settings_navigation_stack"),pt=localStorage.getItem("last_app_page"),ot=localStorage.getItem("origin_app_page");if(console.log("[SETTINGS-BACK] === NAVIGATION DEBUG START ==="),console.log("[SETTINGS-BACK] Navigation stack:",we),console.log("[SETTINGS-BACK] Last app page:",pt),console.log("[SETTINGS-BACK] Origin app page:",ot),we)try{const dn=JSON.parse(we),Ga=dn.originPage;if(console.log("[SETTINGS-BACK] Parsed stack:",dn),console.log("[SETTINGS-BACK] Target page from stack:",Ga),console.log("[SETTINGS-BACK] Stack source:",dn.source),["/","/heat","/suite/network","/suite/jobs"].includes(Ga)){console.log("[SETTINGS-BACK]  Valid target page, navigating to:",Ga),localStorage.removeItem("settings_navigation_stack"),n(Ga);return}else console.log("[SETTINGS-BACK]  Invalid target page:",Ga)}catch(dn){console.error("[SETTINGS-BACK] Failed to parse navigation stack:",dn)}else console.log("[SETTINGS-BACK] No navigation stack found");console.log("[SETTINGS-BACK] === FALLBACK LOGIC ===");const qt=["/","/heat","/suite/network","/suite/jobs"];if(console.log("[SETTINGS-BACK] Fallback - Origin app page:",ot),console.log("[SETTINGS-BACK] Fallback - Last app page:",pt),ot&&qt.includes(ot)){console.log("[SETTINGS-BACK] Using origin page fallback:",ot),n(ot);return}if(pt&&qt.includes(pt)){console.log("[SETTINGS-BACK] Using last app page fallback:",pt),n(pt);return}console.log("[SETTINGS-BACK] Using app mode fallback");const bn=localStorage.getItem(`last_used_app_${e==null?void 0:e.id}`)||sessionStorage.getItem(`last_used_app_${e==null?void 0:e.id}`);let Cn="/";bn==="heat"?Cn="/heat":bn==="suite"&&(Cn="/suite/network"),console.log("[SETTINGS-BACK] Final fallback page:",Cn),n(Cn)},Vt=wt({mutationFn:async we=>{if(!(e!=null&&e.id))throw new Error("You must be logged in to change settings");const pt=await ze(`/api/profile/${e.id}`,{method:"PATCH",data:{twoFactorEnabled:we}});try{return await Vn(pt)}catch(ot){throw console.error("Failed to update 2FA settings:",ot),ot instanceof Error?ot:new Error("Failed to update two-factor authentication settings")}},onSuccess:we=>{me.invalidateQueries({queryKey:["/api/user"]})},onError:we=>{te(null),a({title:"Failed to update 2FA settings",description:we instanceof Error?we.message:"An unknown error occurred",variant:"destructive"})}}),vn=we=>{te(we),Vt.mutate(we)},Sn=wt({mutationFn:async we=>{if(!(e!=null&&e.id))throw new Error("You must be logged in to change app mode settings");const pt=await ze(`/api/profile/${e.id}`,{method:"PATCH",data:{showAppModeSelection:we}});try{return await Vn(pt)}catch(ot){throw console.error("Failed to update app mode selection setting:",ot),ot instanceof Error?ot:new Error("Failed to update app mode selection setting")}},onSuccess:we=>{jr(we.showAppModeSelection!==!1),me.invalidateQueries({queryKey:["/api/user"]})},onError:we=>{rt(null),a({title:"Failed to update app selection setting",description:we instanceof Error?we.message:"An unknown error occurred",variant:"destructive"})}}),Rt=we=>{rt(we),jr(we),Sn.mutate(we)},Te=wt({mutationFn:async we=>{if(!(e!=null&&e.id))throw new Error("You must be logged in to change nationality settings");const pt=await ze(`/api/profile/${e.id}`,{method:"PATCH",data:{showNationalitySelection:we}});try{return await Vn(pt)}catch(ot){throw console.error("Failed to update nationality selection setting:",ot),ot instanceof Error?ot:new Error("Failed to update nationality selection setting")}},onSuccess:we=>{Wt(we.showNationalitySelection!==!1),me.invalidateQueries({queryKey:["/api/user"]})},onError:we=>{jt(null),a({title:"Failed to update nationality selection setting",description:we instanceof Error?we.message:"An unknown error occurred",variant:"destructive"})}}),Xe=we=>{jt(we),Wt(we),Te.mutate(we)},nt=wt({mutationFn:async we=>{if(console.log("Sending phone update with data:",we),!we.phoneNumber||!we.phoneNumber.startsWith("+"))throw new Error("Phone number must include country code starting with '+'");const pt=we.phoneNumber.substring(1);if(pt.length<8)throw new Error("Phone number must have at least 7 digits after country code");if(!/^\d+$/.test(pt))throw new Error("Phone number must contain only digits after the + sign");const ot=await ze(`/api/profile/${e==null?void 0:e.id}`,{method:"PATCH",data:we});try{return await Vn(ot)}catch(qt){throw console.error("Failed to update phone number:",qt),qt instanceof Error?qt:new Error(`Server error (${ot.status})`)}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/user"]}),x(!1),a({title:"Phone Number Updated",description:"Your phone number has been successfully updated"})},onError:we=>{a({title:"Update Failed",description:we.message,variant:"destructive"})}}),U=wt({mutationFn:async we=>{if(console.log("Sending email update with data:",we),!we.email||we.email==="")throw new Error("Email cannot be empty");const pt=await ze(`/api/profile/${e==null?void 0:e.id}`,{method:"PATCH",data:we});try{return await Vn(pt)}catch(ot){throw console.error("Failed to update email:",ot),ot instanceof Error?ot:new Error(`Server error (${pt.status})`)}},onMutate:async we=>{await me.cancelQueries({queryKey:["/api/user"]});const pt=me.getQueryData(["/api/user"]);return me.setQueryData(["/api/user"],ot=>ot&&{...ot,email:we.email}),{previousUser:pt}},onSuccess:()=>{v(!1),q(""),Oe(null),$e(!1)},onError:(we,pt,ot)=>{ot!=null&&ot.previousUser&&me.setQueryData(["/api/user"],ot.previousUser),a({title:"Update Failed",description:we.message,variant:"destructive"})},onSettled:()=>{me.invalidateQueries({queryKey:["/api/user"]})}}),K=wt({mutationFn:async we=>{const pt=await ze("/api/password/change",{method:"POST",data:we});try{return await Vn(pt)}catch(ot){throw console.error("Failed to update password:",ot),ot instanceof Error?ot:new Error("Failed to update password")}},onSuccess:we=>{b(!1),ge(""),z(""),pe(""),we!=null&&we.requiresRelogin&&(me.clear(),me.setQueryData(["/api/user"],null),n("/auth"))},onError:we=>{a({title:"Update Failed",description:we.message,variant:"destructive"})}}),je=()=>{r.mutate()},Ae=we=>{i(),e!=null&&e.id&&ze(`/api/profile/${e.id}`,{method:"PATCH",data:{darkMode:we}}).then(pt=>Vn(pt)).then(pt=>{me.invalidateQueries({queryKey:["/api/user"]})}).catch(pt=>{console.error("Failed to update dark mode setting:",pt)})},st=()=>{if(console.log("Phone update attempt:",{phoneCountryCode:Se,phoneNumber:De,isEmpty:!De.trim(),phoneCountryCodeExists:!!Se,phoneCountryCodeStartsWithPlus:Se.startsWith("+")}),!De.trim()){a({title:"Invalid Phone Number",description:"Please enter a phone number",variant:"destructive"});return}if(!Se||!Se.startsWith("+")){a({title:"Invalid Country Code",description:"Please select a valid country code",variant:"destructive"});return}let we=De.trim();for(;we.startsWith("0");)we=we.substring(1);if(we=we.replace(/[^\d]/g,""),we.length<7){a({title:"Invalid Phone Number",description:"Phone number must have at least 7 digits after country code",variant:"destructive"});return}const pt=Se.substring(1);if(!/^\d{1,4}$/.test(pt)){a({title:"Invalid Country Code",description:"Please select a valid country code",variant:"destructive"});return}const ot=`${Se}${we}`;console.log("Updating phone number to:",ot),nt.mutate({phoneNumber:ot})},Pt=()=>{if(!L.trim()||!L.includes("@")){a({title:Ge("settings.invalidEmail"),description:Ge("settings.pleaseEnterValidEmail"),variant:"destructive"});return}if(Le&&!Le.isValid){a({title:Ge("settings.emailVerificationFailed"),description:Le.reason||Ge("settings.enterValidDeliverableEmail"),variant:"destructive"});return}L.trim()&&!Le&&!ye&&a({title:Ge("settings.emailNotVerified"),description:Ge("settings.recommendVerifyEmailBeforeUpdate"),variant:"default"}),U.mutate({email:L.trim()})},Nt=()=>{if(!H){a({title:Ge("settings.currentPasswordRequired"),description:Ge("settings.pleaseEnterCurrentPassword"),variant:"destructive"});return}if(!ke||ke.length<6){a({title:Ge("settings.invalidNewPassword"),description:Ge("settings.newPasswordMinSix"),variant:"destructive"});return}if(ke!==ie){a({title:Ge("settings.passwordsDontMatch"),description:Ge("settings.passwordsMustMatch"),variant:"destructive"});return}K.mutate({currentPassword:H,newPassword:ke})},Ce=we=>{ee(we),S(!1)},qe=wt({mutationFn:async we=>await ze("/api/premium/toggle",{method:"POST",data:{premiumAccess:we}}),onMutate:async we=>{await me.cancelQueries({queryKey:["/api/premium/status"]}),await me.cancelQueries({queryKey:["/api/user"]});const pt=me.getQueryData(["/api/premium/status"]),ot=me.getQueryData(["/api/user"]);return me.setQueryData(["/api/premium/status"],qt=>({...qt,premiumAccess:we})),me.setQueryData(["/api/user"],qt=>({...qt,premiumAccess:we})),{previousPremiumStatus:pt,previousUser:ot}},onSuccess:(we,pt)=>{me.invalidateQueries({queryKey:["/api/premium/status"]}),me.invalidateQueries({queryKey:["/api/user"]}),pt&&ut(!0)},onError:(we,pt,ot)=>{ot!=null&&ot.previousPremiumStatus&&me.setQueryData(["/api/premium/status"],ot.previousPremiumStatus),ot!=null&&ot.previousUser&&me.setQueryData(["/api/user"],ot.previousUser),a({title:"Failed to update premium access",description:we instanceof Error?we.message:"An unknown error occurred",variant:"destructive"})}}),Qe=we=>{qe.mutate(we)},Mt=wt({mutationFn:async we=>await ze("/api/user/verification-status",{method:"POST",data:{userId:e==null?void 0:e.id,isVerified:we}}),onMutate:async we=>{await me.cancelQueries({queryKey:["/api/user"]});const pt=me.getQueryData(["/api/user"]);return me.setQueryData(["/api/user"],ot=>({...ot,isVerified:we})),{previousUser:pt}},onSuccess:(we,pt)=>{me.invalidateQueries({queryKey:["/api/user"]})},onError:(we,pt,ot)=>{ot!=null&&ot.previousUser&&me.setQueryData(["/api/user"],ot.previousUser),a({title:"Failed to update verification status",description:we instanceof Error?we.message:"An unknown error occurred",variant:"destructive"})}}),Ut=we=>{Mt.mutate(we)};u.useEffect(()=>{if(e){if(console.log("Initializing user data in settings:",e),e.phoneNumber){console.log("Found phone number:",e.phoneNumber);const we=e.phoneNumber.match(/^(\+\d{1,4})(.*)$/);if(we){console.log("Extracted phone parts:",{countryCode:we[1],phoneNumber:we[2]}),Ue(we[1]);const pt=we[2].replace(/[^\d]/g,"");se(pt)}else{console.log("Phone number format didn't match expected pattern, using defaults");const pt=No.find(ot=>ot.code==="US");if(pt){Ue(pt.dialCode);const ot=e.phoneNumber.replace(/[^\d]/g,"");se(ot)}}}e.email&&q(e.email)}},[e]);const Ct=((tr=e==null?void 0:e.fullName)==null?void 0:tr.split(" ")[0])||"",ht=Ct?Ct[0]:"";return u.useEffect(()=>{if(e){console.log("User data loaded for settings:",e);const we=e;we.twoFactorEnabled!==void 0&&console.log("2FA status from API:",we.twoFactorEnabled),we.showAppModeSelection!==void 0&&jr(we.showAppModeSelection),we.showNationalitySelection!==void 0&&Wt(we.showNationalitySelection),$t(!0)}},[e]),u.useEffect(()=>{e&&!Ft&&(console.log("Force refreshing user data on settings page mount"),me.invalidateQueries({queryKey:["/api/user"]}))},[e,Ft]),t.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[t.jsx("div",{className:`sticky top-0 z-50 text-white flex-shrink-0 shadow-md ${ae?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-purple-600 to-pink-500"}`,children:t.jsx("div",{className:"px-3 py-2 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{className:"mr-2 text-white/90 hover:text-white transition-colors",onClick:dr,children:t.jsx(Wn,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),t.jsx("h2",{className:"font-heading text-lg sm:text-xl font-bold tracking-tight",children:Ge("common.settings")})]})})}),t.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[t.jsx(wr,{className:"mb-3 overflow-hidden border-none shadow-md flex-shrink-0",children:t.jsx("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 p-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(qs,{imageUrl:(e==null?void 0:e.photoUrl)||void 0,fallbackInitials:ht,className:"h-14 w-14 sm:h-16 sm:w-16 border-2 border-white shadow-md",size:"lg"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h3",{className:"text-sm sm:text-base font-semibold font-sans tracking-tight",children:e==null?void 0:e.fullName}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 font-light",children:e==null?void 0:e.email}),t.jsx(St,{className:`mt-1.5 text-xs sm:text-sm px-2.5 py-0.5 ${ae?"bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"}`,children:ae?"Premium":Ge("settings.freeAccount")})]})]})})}),t.jsxs(Wd,{value:h,onValueChange:p,className:"mb-3 flex-grow flex flex-col",children:[t.jsxs(Hd,{className:"grid w-full grid-cols-3 bg-purple-50 dark:bg-gray-800 rounded-lg p-0.5 flex-shrink-0",children:[t.jsx(da,{value:"account",className:"text-xs font-medium tracking-tight sm:text-sm data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-white",children:Ge("common.account")}),t.jsx(da,{value:"app",className:"text-xs font-medium tracking-tight sm:text-sm data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-white",children:Ge("common.app")}),t.jsx(da,{value:"subscription",className:"text-xs font-medium tracking-tight sm:text-sm data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-white",children:Ge("common.subscription")})]}),t.jsxs(Kn,{value:"account",className:"mt-2 space-y-2 overflow-auto flex-1",children:[t.jsxs(wr,{className:"border-none shadow-sm",children:[t.jsxs(On,{className:"py-3 px-4",children:[t.jsx(ca,{className:"flex items-center font-medium tracking-tight",children:t.jsxs("div",{className:"flex items-center bg-gradient-to-r from-purple-600 to-pink-500 dark:from-purple-400 dark:to-pink-300 bg-clip-text text-transparent",children:[t.jsx(Po,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-500 dark:text-purple-400"}),t.jsx("span",{className:"text-sm sm:text-base",children:Ge("settings.accountInformation")})]})}),t.jsx(jo,{className:"text-xs sm:text-sm text-gray-600 mt-1",children:Ge("settings.managePersonalInfo")})]}),t.jsxs($r,{className:"p-0",children:[t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>x(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pd,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsxs("div",{className:"w-full text-left",children:[t.jsx("span",{className:"block text-sm sm:text-base font-medium",children:Ge("settings.phoneNumber")}),t.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:(e==null?void 0:e.phoneNumber)||Ge("settings.notAdded")})]})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>v(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ks,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsxs("div",{className:"w-full text-left",children:[t.jsx("span",{className:"block text-sm sm:text-base font-medium",children:Ge("settings.email")}),t.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:(e==null?void 0:e.email)||Ge("settings.notAdded")})]})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>b(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.changePassword")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]})]})]}),t.jsxs(wr,{className:"border-none shadow-sm",children:[t.jsxs(On,{className:"py-3 px-4",children:[t.jsx(ca,{className:"flex items-center font-medium tracking-tight",children:t.jsxs("div",{className:"flex items-center bg-gradient-to-r from-purple-600 via-indigo-500 to-purple-500 dark:from-purple-400 dark:via-indigo-400 dark:to-purple-400 bg-clip-text text-transparent",children:[t.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-500 dark:text-purple-400"}),t.jsx("span",{className:"text-sm sm:text-base",children:Ge("settings.securityAndPrivacy")})]})}),t.jsx(jo,{className:"text-xs sm:text-sm text-gray-600 mt-1",children:Ge("settings.manageSecuritySettings")})]}),t.jsxs($r,{className:"p-0",children:[t.jsxs("div",{className:"p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(oC,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.twoFactorAuth")})]}),t.jsx(Ye,{checked:Ze!==null?Ze:(e==null?void 0:e.twoFactorEnabled)||!1,className:"data-[state=checked]:bg-purple-500 dark:data-[state=checked]:bg-purple-400",onCheckedChange:vn})]}),t.jsxs("button",{className:"w-full p-3 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>P(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(wo,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.accountPrivacy")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]})]})]})]}),t.jsxs(Kn,{value:"app",className:"mt-2 space-y-2 overflow-auto flex-1",children:[t.jsxs(wr,{className:"border-none shadow-sm",children:[t.jsx(On,{className:"py-3 px-4",children:t.jsx(ca,{className:"flex items-center font-medium tracking-tight",children:t.jsxs("div",{className:"flex items-center bg-gradient-to-r from-green-500 via-blue-500 to-purple-500 dark:from-green-400 dark:via-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:[t.jsx(UG,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-500 dark:text-purple-400"}),t.jsx("span",{className:"text-sm sm:text-base",children:Ge("settings.appModeSettings")})]})})}),t.jsxs($r,{className:"p-0",children:[t.jsxs("div",{className:"p-3 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"text-sm sm:text-base font-medium ml-3",children:Ge("settings.showAppSelectionScreen")})}),t.jsx(Ye,{checked:Ne!==null?Ne:(e==null?void 0:e.showAppModeSelection)!==!1,className:"data-[state=checked]:bg-purple-500 dark:data-[state=checked]:bg-purple-400",onCheckedChange:Rt})]}),t.jsx("div",{className:"px-3 pb-3 pt-1 text-xs text-gray-500",children:(e==null?void 0:e.showAppModeSelection)!==!1?Ge("settings.whenTurnedOnYoullBeAsked"):Ge("settings.whenTurnedOffDirectLogin")}),t.jsxs("div",{className:"mt-1 p-3 border-t border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"text-sm sm:text-base font-medium ml-3",children:Ge("settings.showNationalitySelectionScreen")})}),t.jsx(Ye,{checked:at!==null?at:(e==null?void 0:e.showNationalitySelection)!==!1,className:"data-[state=checked]:bg-purple-500 dark:data-[state=checked]:bg-purple-400",onCheckedChange:Xe})]}),t.jsx("div",{className:"px-3 pb-3 pt-1 text-xs text-gray-500",children:(e==null?void 0:e.showNationalitySelection)!==!1?Ge("settings.whenTurnedOnReturningUsers"):Ge("settings.whenTurnedOffSkipNationality")})]})]}),t.jsxs(wr,{className:"border-none shadow-sm",children:[t.jsxs(On,{className:"py-3 px-4",children:[t.jsx(ca,{className:"flex items-center font-medium tracking-tight",children:t.jsxs("div",{className:"flex items-center bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 dark:from-blue-400 dark:via-purple-400 dark:to-indigo-400 bg-clip-text text-transparent",children:[t.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-500 dark:text-purple-400"}),t.jsx("span",{className:"text-sm sm:text-base",children:Ge("settings.regionalSettings")})]})}),t.jsx(jo,{className:"text-xs sm:text-sm text-gray-600 mt-1",children:Ge("settings.customizeAppExperience")})]}),t.jsxs($r,{className:"p-0",children:[t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>S(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx($n,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.language")})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-xs sm:text-sm text-gray-600 mr-2",children:ue.name}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]})]}),t.jsxs("div",{className:"p-3 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",children:[t.jsxs("div",{className:"flex items-center",children:[s?t.jsx(EG,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}):t.jsx($G,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.darkMode")}),o&&t.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:Ge("settings.basedOnLocation",{location:(d==null?void 0:d.location)||Ge("settings.yourLocation")})})]})]}),t.jsx(Ye,{checked:s,onCheckedChange:Ae,className:"data-[state=checked]:bg-purple-500 dark:data-[state=checked]:bg-purple-400"})]}),!1,!1]})]})]}),t.jsxs(Kn,{value:"subscription",className:"mt-2 space-y-2 overflow-auto flex-1",children:[t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsxs("div",{className:`py-4 px-4 text-white ${ae?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-purple-500 to-pink-500"}`,children:[t.jsx("h3",{className:"font-bold text-sm sm:text-base mb-1 tracking-tight",children:ae?"CHARLEY Premium":Ge("settings.charleyFree")}),t.jsx("p",{className:"text-white/80 text-xs sm:text-sm mb-2 font-light",children:Ge("settings.yourCurrentPlan")}),t.jsx("div",{className:"flex items-center",children:t.jsx("div",{className:"bg-white/20 rounded-full px-2.5 py-0.5 text-xs font-medium",children:Ge(ae?"settings.allFeaturesUnlocked":"settings.limitedFeatures")})})]}),t.jsxs($r,{className:"p-4",children:[t.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 font-light",children:ae?`${Ge("settings.youHaveAccess")} ${Ge("settings.ghostMode")}, ${Ge("settings.hideMyAge")} ${Ge("settings.enhancedPrivacyControls")}.`:Ge("settings.upgradeForUnlimited")}),$&&le&&t.jsx("div",{className:"mb-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx("svg",{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-amber-800",children:Ge("settings.subscriptionCanceled")}),t.jsx("p",{className:"text-xs text-amber-700 mt-1",children:Ge("settings.premiumAccessContinues",{date:new Date(le).toLocaleDateString()})})]})]})}),!ae&&t.jsx(as,{href:"/payment",children:t.jsxs(de,{className:"w-full py-3 font-medium text-sm sm:text-base bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-sm transition-all hover:shadow",children:[t.jsx(Ss,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),Ge("settings.upgradeToPremium")]})}),ae&&t.jsx(t.Fragment,{children:$||re&&re!=="expired"?t.jsxs(de,{className:`w-full py-3 font-medium text-sm sm:text-base shadow-sm transition-all hover:shadow ${$?"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white":"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white"}`,onClick:()=>B(!0),children:[t.jsx(Ss,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),Ge($?"settings.changeSubscription":"settings.manageSubscription")]}):t.jsx(as,{href:"/payment",children:t.jsxs(de,{className:"w-full py-3 font-medium text-sm sm:text-base bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 shadow-sm transition-all hover:shadow",children:[t.jsx(Ss,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),Ge("settings.upgradeToPremiumSubscription")]})})}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx(Ss,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:Ge("settings.premiumAccess")}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:Ge("settings.enablePremiumFeatures")})]})]}),t.jsx(Ye,{checked:ae,onCheckedChange:Qe,className:"data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-purple-500 data-[state=checked]:to-pink-500"})]})}),t.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center",children:t.jsx(cC,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:Ge("settings.verificationAccess")}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:Ge("settings.showVerificationBadge")})]})]}),t.jsx(Ye,{checked:ce,onCheckedChange:Ut,className:"data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-emerald-500 data-[state=checked]:to-green-500"})]})}),t.jsx("div",{className:"mt-3",children:(()=>{const we=(e==null?void 0:e.idVerificationPhoto)&&(e==null?void 0:e.liveVerificationPhoto);return ce?t.jsxs(de,{disabled:!0,className:"w-full py-3 bg-gradient-to-r from-green-400 via-green-500 to-emerald-500 hover:from-green-500 hover:via-green-600 hover:to-emerald-600 text-white font-medium text-sm sm:text-base shadow-[0_8px_16px_rgba(34,197,94,0.3),0_4px_8px_rgba(16,185,129,0.2),inset_0_1px_0_rgba(255,255,255,0.2)] border border-green-400/30 transition-all duration-300 flex items-center justify-center relative overflow-hidden cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 25%, #047857 50%, #059669 75%, #10b981 100%)",boxShadow:"0 8px 16px rgba(34, 197, 94, 0.3), 0 4px 8px rgba(16, 185, 129, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2), inset 0 -1px 0 rgba(0, 0, 0, 0.1)"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-12 animate-[shimmer_2s_ease-in-out_infinite] opacity-60"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/20 via-emerald-400/30 to-green-400/20 blur-sm"}),t.jsx(ds,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 relative z-10 drop-shadow-lg animate-pulse"}),t.jsx("span",{className:"relative z-10 drop-shadow-lg font-semibold tracking-wide",children:Ge("settings.verified")})]}):we?t.jsxs(de,{disabled:!0,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-medium text-sm sm:text-base shadow-sm transition-all flex items-center justify-center opacity-80 cursor-not-allowed",children:[t.jsx(Ed,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),Ge("settings.submittedVerification")]}):t.jsx(as,{href:"/verify-id",children:t.jsxs(de,{className:"w-full py-3 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-medium text-sm sm:text-base shadow-sm transition-all hover:shadow flex items-center justify-center",children:[t.jsx(cC,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),Ge("settings.verifyMe")]})})})()})]})]}),t.jsxs(wr,{className:"border-none shadow-sm",children:[t.jsxs(On,{className:"py-3 px-4",children:[t.jsx(ca,{className:"flex items-center font-medium tracking-tight",children:t.jsxs("div",{className:"flex items-center bg-gradient-to-r from-gray-700 via-purple-500 to-blue-500 dark:from-gray-300 dark:via-purple-400 dark:to-blue-400 bg-clip-text text-transparent",children:[t.jsx(Yo,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-purple-500 dark:text-purple-400"}),t.jsx("span",{className:"text-sm sm:text-base",children:Ge("settings.legalAndSupport")})]})}),t.jsx(jo,{className:"text-xs sm:text-sm text-gray-600 mt-1",children:Ge("settings.termsAndResources")})]}),t.jsxs($r,{className:"p-0",children:[t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>A(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(bp,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.legalDocuments")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>I(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.privacyPolicy")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>_(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Yo,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.termsOfService")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 border-b border-gray-100 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>{window.open("/assets/community-guidelines.html","_blank","noopener,noreferrer")},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Jt,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.communityGuidelines")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]}),t.jsxs("button",{className:"w-full p-3 flex justify-between items-center hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-colors",onClick:()=>V(!0),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(pT,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-purple-500"}),t.jsx("span",{className:"text-sm sm:text-base font-medium",children:Ge("settings.helpAndSupport")})]}),t.jsx(ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})]})]})]})]})]}),t.jsxs("div",{className:"mt-auto pt-2 flex-shrink-0",children:[t.jsxs(de,{variant:"outline",className:"w-full py-3 border border-red-200 dark:border-red-800 text-red-500 dark:text-red-400 text-sm sm:text-base font-medium hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-300 flex items-center justify-center transition-all",onClick:je,disabled:r.isPending,children:[t.jsx(bT,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),r.isPending?Ge("settings.loggingOut"):Ge("settings.logOut")]}),t.jsx("div",{className:"text-center text-xs sm:text-sm text-gray-500 mt-3 font-medium tracking-tight",children:"CHARLEY App v1.0.0"})]})]}),t.jsx(Or,{open:f,onOpenChange:x,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[425px] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-t-xl"}),t.jsx("button",{onClick:()=>x(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white rounded-full p-1 bg-white/10 hover:bg-white/20 transition-all duration-200",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-40"}),t.jsx("div",{className:"absolute top-40 -left-20 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-10 right-10 w-60 h-60 bg-pink-500/20 rounded-full blur-3xl"})]}),t.jsx(pn,{className:"pt-6 pb-2 border-b border-white/10 mb-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-lg",children:t.jsx(Pd,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-white to-purple-200",children:Ge("settings.updatePhoneNumber")}),t.jsx(Gs,{className:"text-white/70 mt-1",children:Ge("settings.securelyUpdateContact")})]})]})}),t.jsx("div",{className:"space-y-5 py-4",children:t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(mr,{htmlFor:"phone",className:"text-sm font-medium text-white/80 ml-1",children:Ge("settings.phoneNumber")}),t.jsx(CO,{value:`${Se}${De}`,onChange:we=>{console.log("PhoneInput onChange value:",we);const pt=we.match(/^(\+\d{1,4})(.*)$/);if(pt){const[ot,qt,bn]=pt;console.log("Extracted: ",{dialCode:qt,phoneNum:bn}),Ue(qt);const Cn=bn.replace(/[^\d]/g,"");se(Cn)}else we.startsWith("+")&&(Ue(we),se(""))},darkMode:!0,placeholder:Ge("settings.enterPhoneNumber")}),t.jsx("p",{className:"text-xs text-white/50 ml-1 mt-1",children:Ge("settings.verificationCodeSent")})]})}),t.jsxs("div",{className:"pt-2 pb-1 flex gap-2 justify-end",children:[t.jsx(de,{variant:"ghost",onClick:()=>x(!1),className:"text-white/70 hover:text-white hover:bg-white/10 font-medium",children:Ge("common.cancel")}),t.jsx(de,{onClick:st,disabled:nt.isPending,className:"relative overflow-hidden bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700 shadow-[0_0_15px_rgba(168,85,247,0.4)] rounded-lg px-5 py-2 font-medium",children:nt.isPending?t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 animate-pulse",children:Ge("settings.updating")}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.3s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.15s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"relative z-10",children:Ge("settings.updateNumber")}),t.jsx("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-r from-purple-600/0 via-purple-600/40 to-purple-600/0 -translate-x-full animate-shimmer"})]})})]})]})}),t.jsx(Or,{open:g,onOpenChange:v,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[425px] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-t-xl"}),t.jsx("button",{onClick:()=>v(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white rounded-full p-1 bg-white/10 hover:bg-white/20 transition-all duration-200",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-40"}),t.jsx("div",{className:"absolute bottom-20 -left-10 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-10 right-10 w-60 h-60 bg-pink-500/20 rounded-full blur-3xl"})]}),t.jsx(pn,{className:"pt-6 pb-2 border-b border-white/10 mb-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg",children:t.jsx(Ks,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-white to-purple-200",children:Ge("settings.updateEmail")}),t.jsx(Gs,{className:"text-white/70 mt-1",children:Ge("settings.securelyUpdateEmail")})]})]})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(mr,{htmlFor:"email",className:"text-sm font-medium text-white/80 ml-1",children:Ge("settings.emailAddress")}),t.jsxs("div",{className:"relative",children:[t.jsx(Je,{id:"email",value:L,onChange:async we=>{q(we.target.value);const pt=we.target.value.trim();if(!pt){Oe(null);return}if(pt&&pt.includes("@")&&pt.includes(".")){$e(!0);try{const{verifyEmailExistence:ot}=await Ri(async()=>{const{verifyEmailExistence:bn}=await Promise.resolve().then(()=>xse);return{verifyEmailExistence:bn}},void 0),qt=await ot(pt);Oe(qt)}catch(ot){console.error("Email verification error:",ot),Oe(null)}finally{$e(!1)}}},className:"bg-white/10 border-0 text-white focus:ring-2 focus:ring-purple-500/40 pl-10 pr-12 rounded-lg h-11",placeholder:Ge("settings.enterEmailAddress"),type:"email"}),t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(Ks,{className:"h-4 w-4 text-purple-400"})}),ye&&t.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-400"})})]}),L&&Le&&t.jsx("div",{className:`flex items-center ml-1 mt-1 text-xs ${Le.isValid?"text-emerald-400":"text-red-400"}`,children:Le.isValid?t.jsxs(t.Fragment,{children:[t.jsx(ds,{className:"h-3 w-3 mr-1"}),t.jsxs("span",{children:[Ge("settings.emailVerified")," (",Le.confidence," ",Ge("settings.confidence"),")"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ed,{className:"h-3 w-3 mr-1"}),t.jsx("span",{children:Le.reason||Ge("settings.emailVerificationFailed")})]})}),t.jsx("p",{className:"text-xs text-white/50 ml-1 mt-1",children:Ge("settings.verificationLinkNote")})]}),t.jsx("div",{className:"mt-2 px-2 py-3 bg-purple-500/10 border border-purple-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("div",{className:"h-6 w-6 rounded-full bg-indigo-500/30 flex items-center justify-center",children:t.jsx(Yo,{className:"h-3.5 w-3.5 text-indigo-300"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-xs text-white/80 leading-relaxed",children:Ge("settings.emailImportantNote")})})]})})]}),t.jsxs("div",{className:"pt-2 pb-1 flex gap-2 justify-end",children:[t.jsx(de,{variant:"ghost",onClick:()=>v(!1),className:"text-white/70 hover:text-white hover:bg-white/10 font-medium",children:Ge("common.cancel")}),t.jsx(de,{onClick:Pt,disabled:U.isPending,className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 shadow-[0_0_15px_rgba(129,140,248,0.4)] rounded-lg px-5 py-2 font-medium",children:U.isPending?t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 animate-pulse",children:Ge("settings.updating")}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.3s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.15s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"relative z-10",children:Ge("settings.updateEmail")}),t.jsx("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-r from-indigo-600/0 via-indigo-600/40 to-indigo-600/0 -translate-x-full animate-shimmer"})]})})]})]})}),t.jsx(Or,{open:y,onOpenChange:b,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[425px] max-h-[85vh] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-3xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500 rounded-t-3xl"}),t.jsx("button",{onClick:()=>b(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white rounded-full p-1 bg-white/10 hover:bg-white/20 transition-all duration-200",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-3xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 blur-3xl opacity-40"}),t.jsx("div",{className:"absolute top-40 -left-10 w-32 h-32 bg-cyan-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-10 right-16 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl"})]}),t.jsx(pn,{className:"pt-4 pb-2 border-b border-white/10 mb-3",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-cyan-500 to-purple-600 flex items-center justify-center shadow-lg",children:t.jsx(wo,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-white to-purple-200",children:Ge("settings.changePassword")}),t.jsx(Gs,{className:"text-white/70 mt-1",children:Ge("settings.updatePasswordSecurity")})]})]})}),t.jsxs("div",{className:"space-y-3 py-3",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(mr,{htmlFor:"currentPassword",className:"text-sm font-medium text-white/80 ml-1",children:Ge("settings.currentPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Je,{id:"currentPassword",value:H,onChange:we=>ge(we.target.value),className:"bg-white/10 border-0 text-white focus:ring-2 focus:ring-purple-500/40 pl-10 rounded-2xl h-10",placeholder:Ge("settings.enterCurrentPasswordPlaceholder"),type:"password"}),t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wo,{className:"h-4 w-4 text-purple-400"})})]})]}),t.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent my-2"}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(mr,{htmlFor:"newPassword",className:"text-sm font-medium text-white/80 ml-1",children:Ge("settings.newPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Je,{id:"newPassword",value:ke,onChange:we=>z(we.target.value),className:"bg-white/10 border-0 text-white focus:ring-2 focus:ring-purple-500/40 pl-10 rounded-2xl h-10",placeholder:Ge("settings.createNewPasswordPlaceholder"),type:"password"}),t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(oC,{className:"h-4 w-4 text-cyan-400"})})]}),ke&&t.jsxs("div",{className:"mt-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-xs text-white/60",children:Ge("settings.passwordStrength")}),t.jsx("span",{className:"text-xs font-medium text-cyan-400",children:ke.length<6?Ge("settings.weak"):ke.length<10?Ge("settings.medium"):Ge("settings.strong")})]}),t.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full ${ke.length<6?"bg-red-500 w-1/4":ke.length<10?"bg-yellow-500 w-2/4":"bg-green-500 w-full"}`})})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(mr,{htmlFor:"confirmPassword",className:"text-sm font-medium text-white/80 ml-1",children:Ge("settings.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Je,{id:"confirmPassword",value:ie,onChange:we=>pe(we.target.value),className:`bg-white/10 border-0 text-white focus:ring-2 focus:ring-purple-500/40 pl-10 rounded-2xl h-10 ${ie&&ke!==ie?"border-red-500 ring-1 ring-red-500":""}`,placeholder:Ge("settings.confirmNewPasswordPlaceholder"),type:"password"}),t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(gn,{className:"h-4 w-4 text-cyan-400"})})]}),ie&&t.jsx("div",{className:"flex items-center mt-1 ml-1",children:ke===ie?t.jsxs("div",{className:"flex items-center text-xs text-green-400",children:[t.jsx("div",{className:"h-3.5 w-3.5 rounded-full bg-green-500/20 flex items-center justify-center mr-1.5",children:t.jsx("svg",{className:"h-2 w-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),Ge("settings.passwordsMustMatch")]}):t.jsxs("div",{className:"flex items-center text-xs text-red-400",children:[t.jsx("div",{className:"h-3.5 w-3.5 rounded-full bg-red-500/20 flex items-center justify-center mr-1.5",children:t.jsx("svg",{className:"h-2 w-2 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Ge("settings.passwordsDontMatch")]})})]}),t.jsx("div",{className:"mt-2 px-2 py-2 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("div",{className:"h-5 w-5 rounded-full bg-cyan-500/30 flex items-center justify-center",children:t.jsx(Yo,{className:"h-3 w-3 text-cyan-300"})})}),t.jsx("div",{className:"ml-2.5",children:t.jsx("p",{className:"text-xs text-white/80 leading-relaxed",children:Ge("settings.strongPasswordsInclude")})})]})})]}),t.jsxs("div",{className:"pt-1 pb-1 flex gap-2 justify-end",children:[t.jsx(de,{variant:"ghost",onClick:()=>b(!1),className:"text-white/70 hover:text-white hover:bg-white/10 font-medium",children:Ge("common.cancel")}),t.jsx(de,{onClick:Nt,disabled:K.isPending||ie&&ke!==ie||!ke||!H,className:"relative overflow-hidden bg-gradient-to-r from-cyan-600 to-purple-600 text-white hover:from-cyan-700 hover:to-purple-700 shadow-[0_0_15px_rgba(34,211,238,0.4)] rounded-2xl px-5 py-2 font-medium disabled:opacity-70 disabled:cursor-not-allowed",children:K.isPending?t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 animate-pulse",children:Ge("settings.updating")}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.3s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce [animation-delay:-0.15s]"}),t.jsx("div",{className:"h-1.5 w-1.5 bg-white rounded-full animate-bounce"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"relative z-10",children:Ge("settings.updatePasswordButton")}),t.jsx("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-r from-cyan-600/0 via-cyan-600/40 to-cyan-600/0 -translate-x-full animate-shimmer"})]})})]})]})}),t.jsx(Or,{open:w,onOpenChange:S,children:t.jsxs(Dr,{className:"w-[90vw] sm:max-w-[425px] border-none bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl text-white rounded-xl shadow-[0_0_40px_rgba(139,92,246,0.25)]",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-green-500 via-blue-500 to-indigo-500 rounded-t-xl"}),t.jsx("button",{onClick:()=>S(!1),className:"absolute top-3 right-3 text-white/80 hover:text-white rounded-full p-1 bg-white/10 hover:bg-white/20 transition-all duration-200",children:t.jsx(mt,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-green-500/10 via-blue-500/10 to-indigo-500/10 blur-3xl opacity-40"}),t.jsx("div",{className:"absolute bottom-10 -left-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-40 right-5 w-60 h-60 bg-indigo-500/20 rounded-full blur-3xl"})]}),t.jsx(pn,{className:"pt-6 pb-2 border-b border-white/10 mb-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:t.jsx($n,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx(Jr,{className:"text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-white to-blue-200",children:Ge("settings.language")}),t.jsx(Gs,{className:"text-white/70 mt-1",children:Ge("settings.customizeAppExperience")})]})]})}),t.jsxs("div",{className:"py-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex justify-center",children:t.jsx("div",{className:"w-px h-full bg-gradient-to-b from-transparent via-blue-500/30 to-transparent"})}),t.jsx("div",{className:"max-h-[300px] overflow-y-auto px-2 pb-1 relative",children:t.jsx("div",{className:"grid grid-cols-1 gap-0.5",children:Z.map(we=>t.jsxs("button",{className:`group relative flex items-center justify-between p-3 rounded-lg transition-all duration-200 
                        ${ue.code===we.code?"bg-gradient-to-r from-indigo-600/40 to-blue-600/40 text-white shadow-[0_0_15px_rgba(99,102,241,0.3)]":"hover:bg-indigo-500/10 text-white/90 hover:text-white"}`,onClick:()=>Ce(we.code),children:[t.jsxs("div",{className:"flex items-center",children:[ue.code===we.code&&t.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2 w-2 h-8 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-r-full"}),t.jsxs("span",{className:"relative font-medium",children:[we.flag," ",we.name," ",we.nativeName!==we.name&&t.jsxs("span",{className:"text-gray-400 text-xs",children:["(",we.nativeName,")"]}),ue.code===we.code&&t.jsx("span",{className:"absolute -bottom-0.5 left-0 w-full h-px bg-gradient-to-r from-indigo-400 to-blue-400"})]})]}),ue.code===we.code?t.jsx("div",{className:"h-5 w-5 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center shadow-[0_0_10px_rgba(99,102,241,0.5)]",children:t.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):t.jsx("div",{className:"h-5 w-5 rounded-full bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"})]},we.code))})})]}),t.jsx("div",{className:"mt-5 px-3 py-3 bg-indigo-500/10 border border-indigo-500/20 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0 pt-0.5",children:t.jsx("div",{className:"h-6 w-6 rounded-full bg-blue-500/30 flex items-center justify-center",children:t.jsx(Yo,{className:"h-3.5 w-3.5 text-blue-300"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-xs text-white/80 leading-relaxed",children:"Changing the language will affect all text throughout the application. Some translated content may take a moment to load."})})]})})]}),t.jsxs("div",{className:"pt-2 pb-1 flex gap-2 justify-end border-t border-white/10",children:[t.jsx(de,{variant:"ghost",onClick:()=>S(!1),className:"text-white/70 hover:text-white hover:bg-white/10 font-medium",children:"Cancel"}),t.jsxs(de,{onClick:()=>S(!1),className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 shadow-[0_0_15px_rgba(37,99,235,0.4)] rounded-lg px-5 py-2 font-medium",children:[t.jsx("span",{className:"relative z-10",children:"Close"}),t.jsx("div",{className:"absolute inset-0 h-full w-full bg-gradient-to-r from-blue-600/0 via-blue-600/40 to-blue-600/0 -translate-x-full animate-shimmer"})]})]})]})}),e&&t.jsx(g0e,{open:N,onOpenChange:P,user:e,isPremium:ae,onPremiumUpgradeClick:()=>M(!0)}),t.jsx(t6,{open:C,onOpenChange:I}),t.jsx(r6,{open:T,onOpenChange:_}),t.jsx(x0e,{open:k,onOpenChange:A}),t.jsx(wO,{open:F,onOpenChange:V}),t.jsx(Af,{open:J,onOpenChange:M}),t.jsx(y0e,{isActive:Et,duration:5e3,onComplete:()=>ut(!1)}),t.jsx(Uu,{open:cr,onOpenChange:Ir,children:t.jsxs(hd,{className:"w-[85vw] max-w-sm ml-0 mr-8 border-0 bg-gradient-to-br from-white via-red-50/40 to-pink-50/60 backdrop-blur-xl shadow-[0_0_40px_rgba(239,68,68,0.15)] rounded-3xl",children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 via-pink-500 to-rose-500 rounded-t-3xl"}),t.jsxs("div",{className:"absolute -z-10 inset-0 overflow-hidden rounded-3xl",children:[t.jsx("div",{className:"absolute -inset-[10px] bg-gradient-to-r from-red-500/5 via-pink-500/5 to-rose-500/5 blur-3xl"}),t.jsx("div",{className:"absolute top-20 -left-6 w-24 h-24 bg-red-500/10 rounded-full blur-2xl"}),t.jsx("div",{className:"absolute top-8 right-12 w-20 h-20 bg-pink-500/10 rounded-full blur-2xl"})]}),t.jsxs(pd,{className:"pt-6 pb-4 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-red-500 to-pink-600 flex items-center justify-center shadow-lg",children:t.jsx(Ss,{className:"h-8 w-8 text-white"})})}),t.jsx(gd,{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-pink-600 leading-tight",children:Ge("settings.downgradeConfirmation")}),t.jsxs(Bu,{className:"text-gray-700 space-y-4 text-sm mt-4",children:[t.jsx("p",{className:"font-medium text-gray-800",children:Ge("settings.loseAccessPremium")}),t.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-4 border border-red-100",children:t.jsxs("ul",{className:"space-y-3 text-xs",children:[t.jsxs("li",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:Ge("settings.hideMyAgeFeature")})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:Ge("settings.advancedMatchingAlgorithms")})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:Ge("settings.priorityDiscoveryQueue")})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:Ge("settings.enhancedProfileVisibility")})]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 flex-shrink-0"}),t.jsx("span",{className:"text-gray-700",children:Ge("settings.premiumCustomerSupport")})]})]})}),t.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-xl p-3",children:t.jsx("p",{className:"text-xs text-amber-800 leading-relaxed",children:Ge("settings.upgradeLaterNote")})})]})]}),t.jsxs(fd,{className:"pt-2 pb-6 flex-col-reverse gap-2 sm:flex-row sm:gap-3",children:[t.jsx(xd,{className:"w-full bg-white/70 border-gray-200 text-gray-700 hover:bg-white/90 hover:text-gray-800 rounded-xl font-medium",children:Ge("common.cancel")}),t.jsx(Gu,{onClick:()=>{Ir(!1),Qe(!1)},className:"w-full bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white border-0 rounded-xl font-medium shadow-lg",children:qe.isPending?Ge("settings.downgrading"):Ge("settings.yesDowngrade")})]})]})}),t.jsx(Uu,{open:R,onOpenChange:B,children:t.jsxs(hd,{className:"w-[85vw] max-w-sm border-0 shadow-2xl rounded-3xl overflow-hidden relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:[t.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 opacity-75 animate-pulse"}),t.jsx("div",{className:"absolute inset-[2px] rounded-3xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-4 left-4 w-1 h-1 bg-cyan-400 rounded-full animate-ping"}),t.jsx("div",{className:"absolute top-8 right-6 w-1 h-1 bg-purple-400 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),t.jsx("div",{className:"absolute bottom-8 left-6 w-1 h-1 bg-pink-400 rounded-full animate-ping",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute bottom-4 right-4 w-1 h-1 bg-yellow-400 rounded-full animate-ping",style:{animationDelay:"1.5s"}})]}),t.jsx("div",{className:"absolute inset-0 opacity-10",children:t.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
                linear-gradient(rgba(6, 182, 212, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(6, 182, 212, 0.3) 1px, transparent 1px)
              `,backgroundSize:"20px 20px"}})}),t.jsxs(pd,{className:"relative text-center space-y-2 pt-4 z-10",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-amber-400 via-yellow-500 to-orange-500 rounded-full flex items-center justify-center shadow-2xl shadow-amber-500/50 animate-pulse",children:t.jsx(Ss,{className:"h-7 w-7 text-white drop-shadow-lg"})}),t.jsx("div",{className:"absolute inset-0 border-2 border-cyan-400/30 rounded-full animate-spin",style:{animationDuration:"3s"}}),t.jsx("div",{className:"absolute inset-2 border border-purple-400/20 rounded-full animate-spin",style:{animationDuration:"2s",animationDirection:"reverse"}})]})}),t.jsx(gd,{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent drop-shadow-sm",children:"Current Subscription Status"})]}),t.jsxs("div",{className:"relative space-y-3 px-2 z-10",children:[t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 via-purple-500/20 to-pink-500/20 rounded-xl blur-sm group-hover:blur-none transition-all duration-300"}),t.jsx("div",{className:"relative bg-slate-800/80 backdrop-blur-xl rounded-xl p-3 border border-cyan-400/30 shadow-xl",children:t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("div",{className:"text-lg font-bold bg-gradient-to-r from-amber-400 to-orange-400 bg-clip-text text-transparent",children:"CHARLEY Premium"}),t.jsxs("div",{className:"text-xs text-gray-300",children:["Status: ",t.jsx("span",{className:`font-semibold glow-text ${$?"text-amber-400":"text-emerald-400"}`,children:$?"Canceled":"Active"})]}),$?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-xs text-gray-300",children:"Access continues until:"}),t.jsx("div",{className:"text-sm font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:le?new Date(le).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"Wed, Aug 6, 2025"})]}):t.jsx("div",{className:"text-xs text-gray-300",children:"All premium features unlocked"})]})})]}),t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:`absolute inset-0 rounded-xl blur-sm group-hover:blur-none transition-all duration-300 ${$?"bg-gradient-to-r from-amber-500/20 via-orange-500/20 to-yellow-500/20":"bg-gradient-to-r from-emerald-500/20 via-green-500/20 to-teal-500/20"}`}),t.jsx("div",{className:`relative bg-slate-800/80 backdrop-blur-xl rounded-xl p-3 border ${$?"border-amber-400/30":"border-emerald-400/30"}`,children:t.jsxs("div",{className:"text-xs text-gray-300",children:[t.jsxs("div",{className:`font-semibold mb-2 flex items-center ${$?"text-amber-400":"text-emerald-400"}`,children:[t.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-2 animate-pulse ${$?"bg-amber-400":"bg-emerald-400"}`}),"System Status:"]}),t.jsxs("ul",{className:"space-y-1 text-xs",children:[t.jsxs("li",{className:"flex items-center text-gray-400",children:[t.jsx("div",{className:`w-1 h-1 rounded-full mr-2 ${$?"bg-green-400":"bg-red-400"}`}),"Termination: ",$?"Processed":"Not processed"]}),t.jsxs("li",{className:"flex items-center text-gray-400",children:[t.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full mr-2"}),"Features: ",$?"Active until expiry":"Active"]}),t.jsxs("li",{className:"flex items-center text-gray-400",children:[t.jsx("div",{className:`w-1 h-1 rounded-full mr-2 ${$?"bg-purple-400":"bg-emerald-400"}`}),"Billing: ",$?"Terminated":"Active"]}),t.jsxs("li",{className:"flex items-center text-gray-400",children:[t.jsx("div",{className:`w-1 h-1 rounded-full mr-2 ${$?"bg-pink-400":"bg-gray-400"}`}),"Reactivation: ",$?"Available":"Not needed"]})]})]})})]})]}),t.jsx(fd,{className:"relative pt-3 z-10",children:t.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[t.jsx(xd,{className:"w-full bg-slate-700/80 backdrop-blur-sm border-slate-600 text-gray-300 hover:bg-slate-600/80 hover:text-white transition-all duration-300 rounded-xl h-8 text-sm",children:"Close"}),!$&&(!re||re==="expired")&&t.jsxs(de,{onClick:()=>{B(!1),n("/payment")},className:"w-full relative overflow-hidden bg-gradient-to-r from-purple-600 via-pink-600 to-purple-700 hover:from-purple-500 hover:via-pink-500 hover:to-purple-600 text-white border-0 shadow-2xl shadow-purple-500/50 transition-all duration-300 rounded-xl font-semibold group h-8 text-sm",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),t.jsx("span",{className:"relative",children:"Choose Premium Package"})]}),$&&t.jsxs(de,{onClick:()=>{B(!1),n("/payment")},className:"w-full relative overflow-hidden bg-gradient-to-r from-amber-500 via-orange-500 to-yellow-500 hover:from-amber-400 hover:via-orange-400 hover:to-yellow-400 text-white border-0 shadow-2xl shadow-amber-500/50 transition-all duration-300 rounded-xl font-semibold group h-8 text-sm",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),t.jsx("span",{className:"relative",children:"Change Subscription"})]}),!$&&re&&re!=="expired"&&t.jsxs(de,{onClick:()=>{B(!1),n("/payment")},className:"w-full relative overflow-hidden bg-gradient-to-r from-emerald-500 via-green-500 to-teal-500 hover:from-emerald-400 hover:via-green-400 hover:to-teal-400 text-white border-0 shadow-2xl shadow-emerald-500/50 transition-all duration-300 rounded-xl font-semibold group h-8 text-sm",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),t.jsx("span",{className:"relative",children:"Change Subscription"})]}),!$&&t.jsxs(de,{onClick:async()=>{console.log("[DOWNGRADE] Button clicked, calling subscription cancellation endpoint");try{vt(!0);const we=await fetch("/api/subscription/cancel",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(we.ok){const pt=await we.json();console.log("[DOWNGRADE] Subscription cancelled successfully:",pt),a({title:pt.gracePeriod?"Subscription Cancelled":"Downgraded to Freemium",description:pt.message}),me.invalidateQueries({queryKey:["/api/premium/status"]}),me.invalidateQueries({queryKey:["/api/user"]}),B(!1)}else{const pt=await we.json();console.error("[DOWNGRADE] Error response:",pt),a({title:"Cancellation Failed",description:pt.message||"Failed to cancel subscription",variant:"destructive"})}}catch(we){console.error("[DOWNGRADE] Error cancelling subscription:",we),a({title:"Cancellation Error",description:"There was an error cancelling your subscription",variant:"destructive"})}finally{vt(!1)}},disabled:Bt,className:"w-full relative overflow-hidden bg-gradient-to-r from-gray-600 via-gray-700 to-gray-800 hover:from-gray-500 hover:via-gray-600 hover:to-gray-700 text-white border-0 shadow-2xl shadow-gray-500/50 transition-all duration-300 rounded-xl font-semibold group h-8 text-sm disabled:opacity-50",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),t.jsx("span",{className:"relative",children:Bt?"Cancelling...":"Downgrade to Freemium"})]})]})})]})})]},`settings-${ue.code}`)}function b0e(){Sr();const[,e]=lr(),{toast:r}=Wr(),{translate:n}=tn(),[a,s]=u.useState(!1),[i,o]=u.useState(!1),[l,c]=u.useState(!1),d=bi({resolver:wi(jk),defaultValues:{idVerificationPhoto:"",liveVerificationPhoto:"",skipVerification:!1}}),m=d.watch("idVerificationPhoto"),h=d.watch("liveVerificationPhoto"),p=m&&h,f=v=>{var b;const y=(b=v.target.files)==null?void 0:b[0];if(y){if(y.size>10*1024*1024){r({title:n("idVerification.fileTooLarge"),description:n("idVerification.fileTooLargeDescription"),variant:"destructive"});return}const w=new FileReader;w.onloadend=()=>{const S=w.result;d.setValue("idVerificationPhoto",S)},w.readAsDataURL(y)}},x=wt({mutationFn:async v=>(await ze("/api/user/verify-id",{method:"PATCH",data:{idVerificationPhoto:v.idVerificationPhoto,liveVerificationPhoto:v.liveVerificationPhoto}})).json(),onSuccess:()=>{o(!0),setTimeout(()=>{o(!1),setTimeout(()=>{e("/settings")},300)},2200)},onError:v=>{r({title:n("idVerification.verificationFailed"),description:v.message||n("idVerification.verificationFailedDescription"),variant:"destructive"})}}),g=async v=>{if(!v.idVerificationPhoto||!v.liveVerificationPhoto){r({title:n("idVerification.missingPhotos"),description:n("idVerification.missingPhotosDescription"),variant:"destructive"});return}c(!0),x.mutate(v)};return t.jsx(Xt,{mode:"wait",children:i?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeInOut"},className:"min-h-screen bg-gradient-to-br from-emerald-50 to-green-100 dark:from-emerald-950 dark:to-green-900 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:-10},transition:{type:"spring",stiffness:200,damping:20,delay:.1},className:"text-center px-6",children:[t.jsx(E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:150,damping:15,delay:.3},className:"w-24 h-24 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:t.jsx(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,duration:.3},children:t.jsx(ds,{className:"w-12 h-12 text-white"})})}),t.jsx(E.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},className:"text-2xl font-bold text-emerald-800 dark:text-emerald-200 mb-2",children:n("idVerification.verificationSubmitted")}),t.jsx(E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},className:"text-emerald-600 dark:text-emerald-300",children:n("idVerification.verificationSubmittedDescription")}),t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.3},className:"mt-6",children:t.jsx("div",{className:"w-8 h-1 bg-emerald-500 rounded-full mx-auto animate-pulse"})})]})},"success-splash"):t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600",children:t.jsx("div",{className:"px-4 py-3 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{className:"mr-3 text-white/90 hover:text-white transition-colors",onClick:()=>e("/settings"),children:t.jsx(Wn,{className:"h-6 w-6"})}),t.jsx("h1",{className:"font-bold text-lg text-white tracking-tight",children:n("idVerification.title")})]})})}),t.jsx("div",{className:"p-4 max-w-lg mx-auto",children:t.jsxs(wr,{className:"border-none shadow-lg",children:[t.jsxs(On,{className:"text-center pb-3",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(gn,{className:"w-8 h-8 text-white"})}),t.jsx(ca,{className:"text-xl font-bold text-gray-900 dark:text-white",children:n("idVerification.verifyYourIdentity")}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:n("idVerification.description")})]}),t.jsx($r,{children:t.jsx(ji,{...d,children:t.jsxs("form",{onSubmit:d.handleSubmit(g),className:"space-y-6",children:[t.jsx(wa,{control:d.control,name:"idVerificationPhoto",render:({field:{onChange:v,value:y,...b}})=>t.jsxs(ha,{children:[t.jsx(Da,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("idVerification.governmentIdPhoto")}),t.jsx(ja,{children:t.jsx("div",{className:"space-y-3",children:y?t.jsxs("div",{className:"relative aspect-[3/2] rounded-lg overflow-hidden border-2 border-emerald-500",children:[t.jsx("img",{src:y,alt:n("idVerification.governmentIdPhoto"),className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>v(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:n("idVerification.removePhoto"),children:t.jsx(mt,{className:"h-3 w-3 text-white"})})})]}):t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",...b}),t.jsx("div",{className:"aspect-[3/2] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(UN,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("idVerification.uploadGovernmentId")}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:n("idVerification.acceptedDocuments")})]})})]})})}),t.jsx(Os,{})]})}),t.jsx(wa,{control:d.control,name:"liveVerificationPhoto",render:({field:{onChange:v,value:y,...b}})=>t.jsxs(ha,{children:[t.jsx(Da,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("idVerification.liveVerificationPhoto")}),t.jsx(ja,{children:t.jsx("div",{className:"space-y-3",children:y?t.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-emerald-500",children:[t.jsx("img",{src:y,alt:n("idVerification.liveVerificationPhoto"),className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute top-2 right-2 flex gap-2",children:t.jsx("button",{type:"button",onClick:()=>v(""),className:"bg-red-500 bg-opacity-90 hover:bg-opacity-100 p-1.5 rounded-full shadow-sm transition-all",title:n("idVerification.removePhoto"),children:t.jsx(mt,{className:"h-3 w-3 text-white"})})})]}):t.jsx("div",{children:t.jsx("button",{type:"button",onClick:()=>s(!0),className:"w-full aspect-square border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ln,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n("idVerification.takeLivePhoto")}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:n("idVerification.selfieForVerification")})]})})})})}),t.jsx(Os,{})]})}),t.jsx(de,{type:"submit",disabled:l||!p,className:"w-full py-3 bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:l?t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n("idVerification.submitting")]}):n(p?"idVerification.submitVerification":"idVerification.uploadBothPhotos")})]})})})]})}),t.jsx(Xt,{children:a&&t.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:t.jsx(l6,{onCapture:v=>{const y=new FileReader;y.onloadend=()=>{const b=y.result;d.setValue("liveVerificationPhoto",b),s(!1)},y.readAsDataURL(v)},onCancel:()=>s(!1)})})})]},"main-form")})}var V8="basil",w0e=function(r){return r===3?"v3":r},z8="https://js.stripe.com",j0e="".concat(z8,"/").concat(V8,"/stripe.js"),N0e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,k0e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,E4="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",S0e=function(r){return N0e.test(r)||k0e.test(r)},C0e=function(){for(var r=document.querySelectorAll('script[src^="'.concat(z8,'"]')),n=0;n<r.length;n++){var a=r[n];if(S0e(a.src))return a}return null},P4=function(r){var n="",a=document.createElement("script");a.src="".concat(j0e).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(a),a},E0e=function(r,n){!r||!r._registerWrapper||r._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:n})},wh=null,F0=null,U0=null,P0e=function(r){return function(n){r(new Error("Failed to load Stripe.js",{cause:n}))}},A0e=function(r,n){return function(){window.Stripe?r(window.Stripe):n(new Error("Stripe.js not available"))}},M0e=function(r){return wh!==null?wh:(wh=new Promise(function(n,a){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&r&&console.warn(E4),window.Stripe){n(window.Stripe);return}try{var s=C0e();if(s&&r)console.warn(E4);else if(!s)s=P4(r);else if(s&&U0!==null&&F0!==null){var i;s.removeEventListener("load",U0),s.removeEventListener("error",F0),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=P4(r)}U0=A0e(n,a),F0=P0e(a),s.addEventListener("load",U0),s.addEventListener("error",F0)}catch(o){a(o);return}}),wh.catch(function(n){return wh=null,Promise.reject(n)}))},T0e=function(r,n,a){if(r===null)return null;var s=n[0],i=s.match(/^pk_test/),o=w0e(r.version),l=V8;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=r.apply(void 0,n);return E0e(c,a),c},jh,W8=!1,H8=function(){return jh||(jh=M0e(null).catch(function(r){return jh=null,Promise.reject(r)}),jh)};Promise.resolve().then(function(){return H8()}).catch(function(e){W8||console.warn(e)});var I0e=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];W8=!0;var s=Date.now();return H8().then(function(i){return T0e(i,n,s)})};function A4(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function M4(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?A4(Object(n),!0).forEach(function(a){K8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xg(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xg=function(r){return typeof r}:xg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xg(e)}function K8(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _0e(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function D0e(e,r){if(e==null)return{};var n=_0e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function q8(e,r){return R0e(e)||O0e(e,r)||L0e(e,r)||$0e()}function R0e(e){if(Array.isArray(e))return e}function O0e(e,r){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var a=[],s=!0,i=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(a.push(o.value),!(r&&a.length===r));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return a}}function L0e(e,r){if(e){if(typeof e=="string")return T4(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T4(e,r)}}function T4(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function $0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Js=function(r,n,a){var s=!!a,i=tt.useRef(a);tt.useEffect(function(){i.current=a},[a]),tt.useEffect(function(){if(!s||!r)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return r.on(n,o),function(){r.off(n,o)}},[s,n,r,i])},wj=function(r){var n=tt.useRef(r);return tt.useEffect(function(){n.current=r},[r]),n.current},Tm=function(r){return r!==null&&xg(r)==="object"},F0e=function(r){return Tm(r)&&typeof r.then=="function"},U0e=function(r){return Tm(r)&&typeof r.elements=="function"&&typeof r.createToken=="function"&&typeof r.createPaymentMethod=="function"&&typeof r.confirmCardPayment=="function"},I4="[object Object]",B0e=function e(r,n){if(!Tm(r)||!Tm(n))return r===n;var a=Array.isArray(r),s=Array.isArray(n);if(a!==s)return!1;var i=Object.prototype.toString.call(r)===I4,o=Object.prototype.toString.call(n)===I4;if(i!==o)return!1;if(!i&&!a)return r===n;var l=Object.keys(r),c=Object.keys(n);if(l.length!==c.length)return!1;for(var d={},m=0;m<l.length;m+=1)d[l[m]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var f=r,x=n,g=function(y){return e(f[y],x[y])};return p.every(g)},Y8=function(r,n,a){return Tm(r)?Object.keys(r).reduce(function(s,i){var o=!Tm(n)||!B0e(r[i],n[i]);return a.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?M4(M4({},s||{}),{},K8({},i,r[i])):s},null):null},Q8="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",_4=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q8;if(r===null||U0e(r))return r;throw new Error(n)},G0e=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q8;if(F0e(r))return{tag:"async",stripePromise:Promise.resolve(r).then(function(s){return _4(s,n)})};var a=_4(r,n);return a===null?{tag:"empty"}:{tag:"sync",stripe:a}},V0e=function(r){!r||!r._registerWrapper||!r.registerAppInfo||(r._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),r.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},dv=tt.createContext(null);dv.displayName="ElementsContext";var J8=function(r,n){if(!r)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return r},X8=function(r){var n=r.stripe,a=r.options,s=r.children,i=tt.useMemo(function(){return G0e(n)},[n]),o=tt.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(a):null}}),l=q8(o,2),c=l[0],d=l[1];tt.useEffect(function(){var p=!0,f=function(g){d(function(v){return v.stripe?v:{stripe:g,elements:g.elements(a)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&p&&f(x)}):i.tag==="sync"&&!c.stripe&&f(i.stripe),function(){p=!1}},[i,c,a]);var m=wj(n);tt.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var h=wj(a);return tt.useEffect(function(){if(c.elements){var p=Y8(a,h,["clientSecret","fonts"]);p&&c.elements.update(p)}},[a,h,c.elements]),tt.useEffect(function(){V0e(c.stripe)},[c.stripe]),tt.createElement(dv.Provider,{value:c},s)};X8.propTypes={stripe:Un.any,options:Un.object};var z0e=function(r){var n=tt.useContext(dv);return J8(n,r)},W0e=function(){var r=z0e("calls useElements()"),n=r.elements;return n};Un.func.isRequired;var Z8=tt.createContext(null);Z8.displayName="CheckoutSdkContext";var H0e=function(r,n){if(!r)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return r},K0e=tt.createContext(null);K0e.displayName="CheckoutContext";Un.any,Un.shape({fetchClientSecret:Un.func.isRequired,elementsOptions:Un.object}).isRequired;var jj=function(r){var n=tt.useContext(Z8),a=tt.useContext(dv);if(n&&a)throw new Error("You cannot wrap the part of your app that ".concat(r," in both <CheckoutProvider> and <Elements> providers."));return n?H0e(n,r):J8(a,r)},q0e=["mode"],Y0e=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},ga=function(r,n){var a="".concat(Y0e(r),"Element"),s=function(c){var d=c.id,m=c.className,h=c.options,p=h===void 0?{}:h,f=c.onBlur,x=c.onFocus,g=c.onReady,v=c.onChange,y=c.onEscape,b=c.onClick,w=c.onLoadError,S=c.onLoaderStart,N=c.onNetworksChange,P=c.onConfirm,C=c.onCancel,I=c.onShippingAddressChange,T=c.onShippingRateChange,_=jj("mounts <".concat(a,">")),k="elements"in _?_.elements:null,A="checkoutSdk"in _?_.checkoutSdk:null,F=tt.useState(null),V=q8(F,2),J=V[0],M=V[1],R=tt.useRef(null),B=tt.useRef(null);Js(J,"blur",f),Js(J,"focus",x),Js(J,"escape",y),Js(J,"click",b),Js(J,"loaderror",w),Js(J,"loaderstart",S),Js(J,"networkschange",N),Js(J,"confirm",P),Js(J,"cancel",C),Js(J,"shippingaddresschange",I),Js(J,"shippingratechange",T),Js(J,"change",v);var O;g&&(r==="expressCheckout"?O=g:O=function(){g(J)}),Js(J,"ready",O),tt.useLayoutEffect(function(){if(R.current===null&&B.current!==null&&(k||A)){var ae=null;if(A)switch(r){case"payment":ae=A.createPaymentElement(p);break;case"address":if("mode"in p){var $=p.mode,re=D0e(p,q0e);if($==="shipping")ae=A.createShippingAddressElement(re);else if($==="billing")ae=A.createBillingAddressElement(re);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ae=A.createExpressCheckoutElement(p);break;case"currencySelector":ae=A.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(a,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else k&&(ae=k.create(r,p));R.current=ae,M(ae),ae&&ae.mount(B.current)}},[k,A,p]);var X=wj(p);return tt.useEffect(function(){if(R.current){var ae=Y8(p,X,["paymentRequest"]);ae&&"update"in R.current&&R.current.update(ae)}},[p,X]),tt.useLayoutEffect(function(){return function(){if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}}},[]),tt.createElement("div",{id:d,className:m,ref:B})},i=function(c){jj("mounts <".concat(a,">"));var d=c.id,m=c.className;return tt.createElement("div",{id:d,className:m})},o=n?i:s;return o.propTypes={id:Un.string,className:Un.string,onChange:Un.func,onBlur:Un.func,onFocus:Un.func,onReady:Un.func,onEscape:Un.func,onClick:Un.func,onLoadError:Un.func,onLoaderStart:Un.func,onNetworksChange:Un.func,onConfirm:Un.func,onCancel:Un.func,onShippingAddressChange:Un.func,onShippingRateChange:Un.func,options:Un.object},o.displayName=a,o.__elementType=r,o},xa=typeof window>"u",Q0e=tt.createContext(null);Q0e.displayName="EmbeddedCheckoutProviderContext";var J0e=function(){var r=jj("calls useStripe()"),n=r.stripe;return n};ga("auBankAccount",xa);var D4=ga("card",xa);ga("cardNumber",xa);ga("cardExpiry",xa);ga("cardCvc",xa);ga("fpxBank",xa);ga("iban",xa);ga("idealBank",xa);ga("p24Bank",xa);ga("epsBank",xa);ga("payment",xa);ga("expressCheckout",xa);ga("currencySelector",xa);ga("paymentRequestButton",xa);ga("linkAuthentication",xa);ga("address",xa);ga("shippingAddress",xa);ga("paymentMethodMessaging",xa);ga("affirmMessage",xa);ga("afterpayClearpayMessage",xa);var pS="Radio",[X0e,eF]=ps(pS),[Z0e,ege]=X0e(pS),tF=u.forwardRef((e,r)=>{const{__scopeRadio:n,name:a,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...m}=e,[h,p]=u.useState(null),f=sr(r,v=>p(v)),x=u.useRef(!1),g=h?d||!!h.closest("form"):!0;return t.jsxs(Z0e,{scope:n,checked:s,disabled:o,children:[t.jsx(bt.button,{type:"button",role:"radio","aria-checked":s,"data-state":aF(s),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:f,onClick:it(e.onClick,v=>{s||c==null||c(),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&t.jsx(tge,{control:h,bubbles:!x.current,name:a,value:l,checked:s,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});tF.displayName=pS;var rF="RadioIndicator",nF=u.forwardRef((e,r)=>{const{__scopeRadio:n,forceMount:a,...s}=e,i=ege(rF,n);return t.jsx(Ta,{present:a||i.checked,children:t.jsx(bt.span,{"data-state":aF(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r})})});nF.displayName=rF;var tge=e=>{const{control:r,checked:n,bubbles:a=!0,...s}=e,i=u.useRef(null),o=If(n),l=Sf(r);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:a});h.call(c,n),c.dispatchEvent(p)}},[o,n,a]),t.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aF(e){return e?"checked":"unchecked"}var rge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fS="RadioGroup",[nge,bye]=ps(fS,[Hm,eF]),sF=Hm(),iF=eF(),[age,sge]=nge(fS),oF=u.forwardRef((e,r)=>{const{__scopeRadioGroup:n,name:a,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:m=!0,onValueChange:h,...p}=e,f=sF(n),x=Mc(d),[g,v]=Es({prop:i,defaultProp:s,onChange:h});return t.jsx(age,{scope:n,name:a,required:o,disabled:l,value:g,onValueChange:v,children:t.jsx($2,{asChild:!0,...f,orientation:c,dir:x,loop:m,children:t.jsx(bt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...p,ref:r})})})});oF.displayName=fS;var lF="RadioGroupItem",cF=u.forwardRef((e,r)=>{const{__scopeRadioGroup:n,disabled:a,...s}=e,i=sge(lF,n),o=i.disabled||a,l=sF(n),c=iF(n),d=u.useRef(null),m=sr(r,d),h=i.value===s.value,p=u.useRef(!1);return u.useEffect(()=>{const f=g=>{rge.includes(g.key)&&(p.current=!0)},x=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",x)}},[]),t.jsx(F2,{asChild:!0,...l,focusable:!o,active:h,children:t.jsx(tF,{disabled:o,required:i.required,checked:h,...c,...s,name:i.name,ref:m,onCheck:()=>i.onValueChange(s.value),onKeyDown:it(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:it(s.onFocus,()=>{var f;p.current&&((f=d.current)==null||f.click())})})})});cF.displayName=lF;var ige="RadioGroupIndicator",dF=u.forwardRef((e,r)=>{const{__scopeRadioGroup:n,...a}=e,s=iF(n);return t.jsx(nF,{...s,...a,ref:r})});dF.displayName=ige;var uF=oF,mF=cF,oge=dF;const Nj=u.forwardRef(({className:e,...r},n)=>t.jsx(uF,{className:We("grid gap-2",e),...r,ref:n}));Nj.displayName=uF.displayName;const Rh=u.forwardRef(({className:e,...r},n)=>t.jsx(mF,{ref:n,className:We("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(oge,{className:"flex items-center justify-center",children:t.jsx(fT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rh.displayName=mF.displayName;const lge=void 0,cge=void 0,dge="pk_live_51RgwjDCEnma3eoA3uk6kj2JDepeiIjYI9MlsYFyqLmD1yjuAiNB8qgNCIsAsLD5xwUMHhbxuJIXxPQzMplEElBTj00j3GopuSV";let gS,xS;gS=dge,xS=!0,console.log("[STRIPE-ENV-FIX] Using production fallback live key (environment variables unavailable)"),console.log("[STRIPE-ENV-FIX] VITE_STRIPE_LIVE_PUBLISHABLE_KEY:",lge),console.log("[STRIPE-ENV-FIX] VITE_STRIPE_PUBLISHABLE_KEY:",cge);console.log(`[STRIPE-CRITICAL-FIX] Environment: ${xS?"LIVE (CORRECT)":"TEST/WRONG (ERROR!)"}`);console.log("[STRIPE-CRITICAL-FIX] Key prefix:",gS.substring(0,20)+"...");const uge=I0e(gS),mge=[{type:"premium_monthly",name:"Monthly",period:"month",description:"Perfect for getting started",features:["Unlimited matches","Ghost mode","Hide age","Priority support"]},{type:"premium_quarterly",name:"Quarterly",period:"3 months",description:"Most popular choice",features:["All Monthly features","15% savings","Extended analytics","Bonus rewards"],popular:!0,savings:"Save 15%"},{type:"premium_yearly",name:"Yearly",period:"year",description:"Best value for serious users",features:["All features included","40% savings","VIP support","Annual rewards"],savings:"Save 40%"}];function hge(){const[e,r]=lr(),{toast:n}=Wr(),{translate:a}=tn(),s=J0e(),i=W0e(),[o,l]=u.useState("plan"),[c,d]=u.useState(null),[m,h]=u.useState(null),[p,f]=u.useState(!1),[x,g]=u.useState(()=>{try{const U=localStorage.getItem("charley_payment_form_data");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved form data:",U)}return{planType:"",paymentMethod:"",region:"global",customerInfo:{name:"",email:"",phone:"",address:"",city:"",state:"",postalCode:"",country:""},paymentDetails:{}}}),[v,y]=u.useState(()=>{try{const U=localStorage.getItem("charley_selected_plan");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved plan:",U)}return null}),[b,w]=u.useState(0),[S,N]=u.useState(""),[P,C]=u.useState(()=>{try{const U=localStorage.getItem("charley_saved_mobile_money_options");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved mobile money options:",U)}return[]}),[I,T]=u.useState(null),[_,k]=u.useState(!1),[A,F]=u.useState(""),[V,J]=u.useState(null),[M,R]=u.useState(()=>{try{const U=localStorage.getItem("charley_saved_credit_cards");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved credit cards:",U)}return[]}),[B,O]=u.useState(null),[X,ae]=u.useState(!1),[$,re]=u.useState(""),[le,ce]=u.useState(null),[ue,ee]=u.useState(()=>{try{const U=localStorage.getItem("charley_saved_bank_accounts");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved bank accounts:",U)}return[]}),[Z,Se]=u.useState(null),[Ue,De]=u.useState(!1),[se,L]=u.useState(""),[q,H]=u.useState(null),[ge,ke]=u.useState(()=>{try{const U=localStorage.getItem("charley_saved_digital_wallets");if(U)return JSON.parse(U)}catch(U){console.warn("[PAYMENT] Failed to load saved digital wallets:",U)}return[]}),[z,ie]=u.useState(null),[pe,ye]=u.useState(!1),[$e,Le]=u.useState(""),[Oe,Ze]=u.useState(null),[te,Ne]=u.useState({type:null,id:null}),rt=(U,K)=>{J(null),ce(null),H(null),Ze(null),Ne({type:U,id:K}),U==="mobile_money"?J(K):U==="credit_card"?ce(K):U==="bank_account"?H(K):U==="digital_wallet"&&Ze(K)},at=()=>{Ne({type:null,id:null}),J(null),ce(null),H(null),Ze(null)};u.useEffect(()=>{xS&&(localStorage.getItem("charley_live_mode_cleanup_done")?console.log("[PAYMENT] Live mode detected - saved payment data preserved"):(console.log("[PAYMENT] First time in live mode - clearing test mode saved payment data"),localStorage.removeItem("charley_saved_credit_cards"),localStorage.removeItem("charley_saved_bank_accounts"),localStorage.removeItem("charley_saved_mobile_money_options"),localStorage.removeItem("charley_saved_digital_wallets"),R([]),ee([]),C([]),ke([]),at(),localStorage.setItem("charley_live_mode_cleanup_done","true")))},[]),u.useEffect(()=>{try{localStorage.setItem("charley_payment_form_data",JSON.stringify(x))}catch(U){console.warn("[PAYMENT] Failed to save form data:",U)}},[x]),u.useEffect(()=>{try{v?localStorage.setItem("charley_selected_plan",JSON.stringify(v)):localStorage.removeItem("charley_selected_plan")}catch(U){console.warn("[PAYMENT] Failed to save selected plan:",U)}},[v]),u.useEffect(()=>{try{localStorage.setItem("charley_saved_mobile_money_options",JSON.stringify(P))}catch(U){console.warn("[PAYMENT] Failed to save mobile money options:",U)}},[P]),u.useEffect(()=>{try{localStorage.setItem("charley_saved_credit_cards",JSON.stringify(M))}catch(U){console.warn("[PAYMENT] Failed to save credit cards:",U)}},[M]),u.useEffect(()=>{try{localStorage.setItem("charley_saved_bank_accounts",JSON.stringify(ue))}catch(U){console.warn("[PAYMENT] Failed to save bank accounts:",U)}},[ue]),u.useEffect(()=>{try{localStorage.setItem("charley_saved_digital_wallets",JSON.stringify(ge))}catch(U){console.warn("[PAYMENT] Failed to save digital wallets:",U)}},[ge]);const jt=()=>{try{localStorage.removeItem("charley_payment_form_data"),localStorage.removeItem("charley_selected_plan"),localStorage.removeItem("charley_saved_mobile_money_options"),localStorage.removeItem("charley_saved_credit_cards"),localStorage.removeItem("charley_saved_bank_accounts"),localStorage.removeItem("charley_saved_digital_wallets"),localStorage.removeItem("charley_live_mode_cleanup_done"),console.log("[PAYMENT] All payment data cleared from localStorage"),g({planType:"",paymentMethod:"",region:"global",customerInfo:{name:"",email:"",phone:"",address:"",city:"",postalCode:"",country:""},paymentDetails:{}}),y(null),C([]),N(""),F(""),n({title:"Payment Data Cleared",description:"All saved payment information has been reset. Region persistence should now work correctly."})}catch(U){console.warn("[PAYMENT] Failed to clear payment data:",U)}};if(window.location.search.includes("debug=true"))return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:t.jsxs("div",{className:"bg-white/10 p-8 rounded-2xl backdrop-blur-sm",children:[t.jsx("h2",{className:"text-white text-xl mb-4",children:"Payment Debug Mode"}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Clear all saved payment data to test region persistence"}),t.jsx("button",{onClick:jt,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg mr-4",children:"Clear All Payment Data"}),t.jsx("button",{onClick:()=>window.location.href="/payment",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Return to Payment Page"})]})});const xt=()=>{const{provider:U,mobileNumber:K,nickname:je}=x.paymentDetails;if(!U||!K||!je){n({title:"Missing Information",description:"Please fill in all mobile money details including nickname.",variant:"destructive"});return}const Ae={id:`mm_${Date.now()}`,nickname:je,provider:U,mobileNumber:K,customerInfo:{...x.customerInfo}};if(I){const st={...Ae,id:I};C(Pt=>Pt.map(Nt=>Nt.id===I?st:Nt)),T(null),F(""),n({title:"Mobile Money Updated",description:`${je} has been updated successfully.`}),g(Pt=>({...Pt,paymentDetails:{...Pt.paymentDetails,provider:"",mobileNumber:"",nickname:""}}))}else C(st=>[...st,Ae]),rt("mobile_money",Ae.id),n({title:"Mobile Money Saved",description:`${je} has been saved successfully.`}),k(!1),g(st=>({...st,paymentDetails:{...st.paymentDetails,provider:"",mobileNumber:"",nickname:""}}))},jr=U=>{C(K=>{const je=K.filter(Ae=>Ae.id!==U);return V===U&&(J(null),je.length===0&&at()),je}),n({title:"Mobile Money Deleted",description:"The payment method has been removed."})},zt=()=>{k(!0),T(null),F(""),re(""),ae(!1),O(null),L(""),De(!1),Se(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,provider:"",mobileNumber:"",nickname:""}}))},Wt=U=>{if(!U.cardNumber||!U.expiryDate||!U.nickname){n({title:"Missing Information",description:"Please fill in all card details and nickname.",variant:"destructive"});return}try{localStorage.setItem("charley_saved_credit_cards",JSON.stringify(M)),n({title:"Credit Card Updated",description:`${U.nickname} has been updated successfully.`})}catch{n({title:"Error",description:"Failed to save credit card changes.",variant:"destructive"})}},Et=async()=>{const{nickname:U}=x.paymentDetails;if(!U){n({title:"Missing Information",description:"Please enter a nickname for your card.",variant:"destructive"});return}const K={id:crypto.randomUUID(),nickname:U,cardNumber:"**** **** **** ****",expiryDate:"MM/YY",cvv:"***",cardType:"card",customerInfo:{...x.customerInfo},paymentMethodId:null};if(B){const je={...K,id:B};R(Ae=>Ae.map(st=>st.id===B?je:st)),O(null),re(""),ae(!1),n({title:"Credit Card Updated",description:`${U} has been updated successfully.`})}else R(je=>[...je,K]),rt("credit_card",K.id),n({title:"Credit Card Saved",description:`${U} has been saved successfully.`}),ae(!1);g(je=>({...je,paymentDetails:{...je.paymentDetails,cardNumber:"",expiryDate:"",cvv:"",nickname:""}}))},ut=U=>{R(K=>{const je=K.filter(Ae=>Ae.id!==U);return le===U&&(ce(null),je.length===0&&at()),je}),n({title:"Credit Card Deleted",description:"The payment method has been removed."})},cr=()=>{const{accountType:U,nameOnAccount:K,routingNumber:je,accountNumber:Ae,reenterAccountNumber:st,nickname:Pt}=x.paymentDetails;if(!U||!K||!je||!Ae||!st||!Pt){n({title:"Missing Information",description:"Please fill in all bank account details and nickname.",variant:"destructive"});return}if(Ae!==st){n({title:"Account Number Mismatch",description:"Account numbers do not match. Please check and try again.",variant:"destructive"});return}const Nt={id:crypto.randomUUID(),nickname:Pt,accountType:U,nameOnAccount:K,routingNumber:je,accountNumber:`****${Ae.slice(-4)}`,customerInfo:{...x.customerInfo}};if(Z){const Ce={...Nt,id:Z};ee(qe=>qe.map(Qe=>Qe.id===Z?Ce:Qe)),Se(null),L(""),De(!1),n({title:"Bank Account Updated",description:`${Pt} has been updated successfully.`})}else ee(Ce=>[...Ce,Nt]),rt("bank_account",Nt.id),n({title:"Bank Account Saved",description:`${Pt} has been saved successfully.`}),De(!1);g(Ce=>({...Ce,paymentDetails:{...Ce.paymentDetails,accountType:"",nameOnAccount:"",routingNumber:"",accountNumber:"",reenterAccountNumber:"",nickname:""}}))},Ir=U=>{ee(K=>{const je=K.filter(Ae=>Ae.id!==U);return q===U&&(H(null),je.length===0&&at()),je}),n({title:"Bank Account Deleted",description:"The bank account has been removed from your saved payment methods."})},Bt=()=>{De(!0),Se(null),L(""),F(""),re(""),k(!1),ae(!1),T(null),O(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,accountType:"",nameOnAccount:"",routingNumber:"",accountNumber:"",reenterAccountNumber:"",nickname:""}}))},vt=()=>{ae(!0),O(null),re(""),F(""),k(!1),T(null),L(""),De(!1),Se(null),Le(""),ye(!1),ie(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,cardNumber:"",expiryDate:"",cvv:"",nickname:""}}))},Ft=()=>{const{provider:U,nickname:K}=x.paymentDetails;if(!U||!K){n({title:"Missing Information",description:"Please select a provider and enter a nickname.",variant:"destructive"});return}const je={id:crypto.randomUUID(),nickname:K,provider:U,customerInfo:{...x.customerInfo}};z?(ke(Ae=>Ae.map(st=>st.id===z?je:st)),ie(null),Le(""),ye(!1),n({title:"Digital Wallet Updated",description:`${K} has been updated successfully.`})):(ke(Ae=>[...Ae,je]),rt("digital_wallet",je.id),n({title:"Digital Wallet Saved",description:`${K} has been saved successfully.`}),ye(!1)),g(Ae=>({...Ae,paymentDetails:{...Ae.paymentDetails,provider:"",nickname:""}}))},$t=U=>{ke(K=>{const je=K.filter(Ae=>Ae.id!==U);return Oe===U&&(Ze(null),je.length===0&&at()),je}),n({title:"Digital Wallet Deleted",description:"The digital wallet has been removed from your saved payment methods."})},dr=()=>{ye(!0),ie(null),Le(""),F(""),re(""),L(""),k(!1),ae(!1),De(!1),T(null),O(null),Se(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,provider:"",nickname:""}}))};u.useEffect(()=>{try{const K=localStorage.getItem("charley_payment_form_data");if(K){const je=JSON.parse(K);if(je.region){console.log("[PAYMENT] User has saved region preference, skipping auto-detection:",je.region);return}}}catch(K){console.warn("[PAYMENT] Failed to check saved region preference:",K)}if(x.region!=="global"){console.log("[PAYMENT] Using existing region preference:",x.region);return}const U=Intl.DateTimeFormat().resolvedOptions().timeZone;U.includes("Africa/Accra")||U.includes("Ghana")?(console.log("[PAYMENT] Auto-detecting Ghana region from timezone (first-time user)"),g(K=>({...K,region:"ghana"}))):(console.log("[PAYMENT] Auto-detecting Global region from timezone (first-time user)"),g(K=>({...K,region:"global"})))},[]),dt({queryKey:["/api/user"]});const{data:Vt=[],isLoading:vn}=dt({queryKey:["/api/pricing",x.region],queryFn:async()=>(await fetch(`/api/pricing?region=${x.region}`,{credentials:"include"})).json()}),Sn=wt({mutationFn:async U=>{if(U.paymentMethod==="mobile_money"&&U.region==="ghana"){const K=await fetch("/api/subscription/mobile-money",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planType:v==null?void 0:v.type,region:U.region,phoneNumber:U.paymentDetails.mobileNumber,provider:U.paymentDetails.provider})});if(!K.ok){const Ae=K.headers.get("content-type");if(Ae&&Ae.includes("text/html"))throw new Error("Authentication required. Please log in again.");const st=await K.json();throw new Error(st.error||"Mobile money payment failed")}return{success:!0,paymentInstructions:(await K.json()).paymentInstructions,isMobileMoney:!0}}else{console.log("Creating Stripe subscription...");const K=await fetch("/api/subscription/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planType:v==null?void 0:v.type,region:U.region,paymentMethod:U.paymentMethod,billingName:U.customerInfo.name,billingEmail:U.customerInfo.email,billingPhone:U.customerInfo.phone,billingAddress:U.customerInfo.address,billingCity:U.customerInfo.city,billingState:U.customerInfo.state,billingPostalCode:U.customerInfo.postalCode,billingCountry:U.customerInfo.country,nickname:U.customerInfo.nickname})});if(!K.ok){const Ae=K.headers.get("content-type");if(Ae&&Ae.includes("text/html"))throw new Error("Authentication required. Please log in again.");const st=await K.json();throw console.error("Subscription creation failed:",st),new Error(st.error||"Card payment setup failed")}const je=await K.json();return console.log("Subscription creation successful, client secret received"),d(je.clientSecret),{success:!0,clientSecret:je.clientSecret,isStripe:!0}}},onSuccess:U=>{U.isStripe?(l("success"),n({title:"Payment Successful",description:"Welcome to CHARLEY Premium!"})):U.isMobileMoney?(l("success"),U.paymentInstructions&&n({title:"Payment Instructions",description:U.paymentInstructions.message,duration:1e4})):(l("success"),n({title:"Payment Successful",description:"Welcome to CHARLEY Premium!"})),me.invalidateQueries({queryKey:["/api/user"]})},onError:U=>{console.error("Payment failed:",U),l("final_payment"),n({title:"Payment Failed",description:U.message||"Please check your payment details and try again.",variant:"destructive"})}}),Rt=U=>{y(U),g(K=>({...K,planType:U.type})),l("payment_method")},Te=async U=>{if(U.preventDefault(),p){console.log("[SMOOTH-TRANSITION] Payment already in progress, ignoring duplicate click");return}f(!0);try{if(console.log("[PAYMENT-DEBUG] Payment submit triggered"),console.log("[PAYMENT-DEBUG] Payment method:",x.paymentMethod),console.log("[PAYMENT-DEBUG] Client secret available:",!!c),console.log("[PAYMENT-DEBUG] Stripe available:",!!s),console.log("[PAYMENT-DEBUG] Elements available:",!!i),x.paymentMethod==="mobile_money"){try{const K=await Sn.mutateAsync(x);if(K.success&&K.isMobileMoney){l("mobile_money_instructions");return}}catch(K){console.error("Mobile money payment failed:",K),n({title:"Payment Failed",description:K instanceof Error?K.message:"Mobile money payment failed. Please try again.",variant:"destructive"})}return}if(x.paymentMethod==="card"){if(!s||!i||!c){console.error("[STRIPE-SECURITY] Missing required Stripe setup:",{stripe:!!s,elements:!!i,clientSecret:!!c}),n({title:"Payment Setup Error",description:"Payment system not ready. Please refresh the page and try again.",variant:"destructive"});return}}else{n({title:"Payment Method Not Available",description:"This payment method is not yet available. Please select Credit/Debit Card or Mobile Money.",variant:"destructive"});return}console.log("[STRIPE-SECURITY] Starting payment processing with client secret:",c.substring(0,30)+"...");try{console.log("[STRIPE-SECURITY] Current step:",o),console.log("[STRIPE-SECURITY] Form data payment method:",x.paymentMethod);const K=document.getElementById("final-payment-card-element");console.log("[STRIPE-SECURITY] CardElement DOM found:",!!K),console.log("[STRIPE-SECURITY] CardElement DOM details:",K?{id:K.id,parentNode:!!K.parentNode,clientHeight:K.clientHeight,clientWidth:K.clientWidth,style:K.style.cssText}:"NOT FOUND"),console.log("[STRIPE-SECURITY] Retrieving CardElement for confirmCardPayment");const je=i.getElement(D4);if(!je)throw console.error("[STRIPE-SECURITY] CardElement not found - cannot proceed with payment"),new Error("Card element not available. Please refresh the page and try again.");console.log("[STRIPE-SECURITY] Checking CardElement completeness...");try{const{error:Pt,paymentMethod:Nt}=await s.createPaymentMethod({type:"card",card:je});if(Pt)throw console.error("[STRIPE-SECURITY] CardElement validation failed:",Pt),new Error("Please complete all card details before proceeding.");console.log("[STRIPE-SECURITY] CardElement validation successful, payment method created:",Nt==null?void 0:Nt.id)}catch(Pt){throw console.error("[STRIPE-SECURITY] CardElement validation error:",Pt),new Error("Please ensure your card details are complete and valid.")}console.log("[STRIPE-SECURITY] CRITICAL FIX: Using confirmCardPayment with client_secret for CardElement");const{error:Ae,paymentIntent:st}=await s.confirmCardPayment(c,{payment_method:{card:je,billing_details:{name:x.customerInfo.name,email:x.customerInfo.email,phone:x.customerInfo.phone,address:{line1:x.customerInfo.address,city:x.customerInfo.city,postal_code:x.customerInfo.postalCode,country:x.customerInfo.country==="United States"?"US":x.customerInfo.country==="Ghana"?"GH":x.customerInfo.country==="United Kingdom"?"GB":"US"}}}});if(Ae){console.error("[PAYMENT-CONFIRMATION] Payment confirmation failed:",Ae),f(!1),n({title:"Payment Failed",description:Ae.message||"Payment confirmation failed. Please try again.",variant:"destructive"});return}console.log("[PAYMENT-CONFIRMATION] Payment confirmed successfully:",st==null?void 0:st.status),l("success"),(st==null?void 0:st.status)==="succeeded"?(console.log("[STRIPE-SECURITY] Payment succeeded! Payment Intent ID:",st.id),console.log("[STRIPE-SECURITY] Stripe charged:",st.amount/100,st.currency.toUpperCase()),h(st.id),console.log("[AUTO-PREMIUM] Stored payment intent ID for premium activation:",st.id),n({title:"Payment Successful",description:`Charged ${st.amount/100} ${st.currency.toUpperCase()}. Welcome to CHARLEY Premium!`}),me.invalidateQueries({queryKey:["/api/user"]}),me.invalidateQueries({queryKey:["/api/premium/status"]}),f(!1)):(console.error("[STRIPE-SECURITY] Unexpected payment status:",st==null?void 0:st.status),f(!1),n({title:"Payment Issue",description:"Payment was not successful. Please contact support if charged.",variant:"destructive"}))}catch(K){console.error("[SMOOTH-TRANSITION] Payment processing error during validation:",K),f(!1),l("final_payment"),n({title:"Payment Failed",description:K instanceof Error?K.message:"Please check your card details and try again.",variant:"destructive"})}}catch(K){console.error("[PAYMENT-ERROR] Outer catch - Critical payment error:",K),l("final_payment"),n({title:"Payment System Error",description:"A critical error occurred. Please refresh the page and try again.",variant:"destructive"})}},Xe=(U,K)=>{const je=Vt.find(Pt=>Pt.planType===U&&Pt.region===K);if(je)return{amount:je.amount,currency:je.currency};const Ae=Vt.find(Pt=>Pt.planType===U&&Pt.region==="global");return Ae?{amount:Ae.amount,currency:Ae.currency}:{amount:{premium_monthly:999,premium_quarterly:2499,premium_yearly:7999}[U]||999,currency:"USD"}},nt=(U,K)=>new Intl.NumberFormat("en-US",{style:"currency",currency:K,minimumFractionDigits:2}).format(U/100);if(o==="plan")return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute top-40 right-32 w-24 h-24 bg-cyan-500/20 rounded-full blur-2xl animate-bounce"}),t.jsx("div",{className:"absolute bottom-32 left-32 w-40 h-40 bg-indigo-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-pink-500/20 rounded-full blur-2xl animate-bounce delay-500"})]}),t.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[t.jsx(de,{variant:"ghost",size:"sm",onClick:()=>r("/settings"),className:"text-gray-300 hover:text-white hover:bg-white/10 rounded-xl transition-all p-2 z-50 relative -mt-4",children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ss,{className:"h-4 w-4 text-white"})}),t.jsx("h1",{className:"text-xl font-semibold bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500 bg-clip-text text-transparent whitespace-nowrap",children:"CHARLEY Premium"})]}),t.jsx("p",{className:"text-gray-300 text-xs whitespace-nowrap",children:"Unlock advanced privacy controls and exclusive features"})]}),t.jsx("div",{className:"w-10 h-10"})]}),t.jsx("div",{className:"max-w-xs mx-auto mb-6 mt-12",children:t.jsxs(fr,{value:x.region,onValueChange:U=>g(K=>({...K,region:U,paymentMethod:""})),children:[t.jsxs(hr,{className:"h-9 bg-white/5 border-white/10 text-white backdrop-blur-sm rounded-xl text-sm",children:[t.jsx($n,{className:"h-3 w-3 mr-2 text-cyan-400"}),t.jsx(gr,{placeholder:"Select Region"})]}),t.jsxs(pr,{className:"bg-slate-800 border-slate-700 rounded-xl",children:[t.jsx(G,{value:"ghana",className:"text-white hover:bg-slate-700 rounded-lg text-sm",children:" Ghana"}),t.jsx(G,{value:"global",className:"text-white hover:bg-slate-700 rounded-lg text-sm",children:" Global"})]})]})}),t.jsx("div",{className:"grid grid-cols-1 gap-3 max-w-xs mx-auto",children:mge.map(U=>{const{amount:K,currency:je}=Xe(U.type,x.region);return t.jsxs("div",{onClick:()=>Rt(U),className:"relative group cursor-pointer transition-all duration-300 hover:scale-[1.02]",children:[U.popular&&t.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 z-10",children:t.jsx(St,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-0.5 rounded-full text-xs font-medium shadow-lg",children:"Most Popular"})}),t.jsx(wr,{className:`h-full bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-all duration-300 ${U.popular?"ring-1 ring-purple-500/50 shadow-xl shadow-purple-500/10":""}`,children:t.jsxs($r,{className:"p-4 h-full flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:U.name}),t.jsx("p",{className:"text-xs text-gray-400",children:U.description}),U.savings&&t.jsx(St,{variant:"secondary",className:"mt-1 bg-green-500/20 text-green-400 border-green-500/30 text-xs px-2 py-0.5",children:U.savings})]}),t.jsxs("div",{className:"text-right relative",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 via-pink-400 to-yellow-400 rounded-lg blur-sm opacity-75 animate-pulse"}),t.jsx("div",{className:"relative text-3xl font-black bg-gradient-to-r from-white via-yellow-200 to-white bg-clip-text text-transparent drop-shadow-lg transform hover:scale-105 transition-transform duration-300",children:nt(K,je)})]}),t.jsxs("div",{className:"text-xs text-gray-300 font-medium mt-1",children:["per ",U.period]})]})]}),t.jsx("div",{className:"flex-1 space-y-2 mb-4",children:U.features.map((Ae,st)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(At,{className:"h-2.5 w-2.5 text-white"})}),t.jsx("span",{className:"text-xs text-gray-300",children:Ae})]},st))}),t.jsxs(de,{className:`w-full h-9 rounded-xl font-medium transition-all duration-300 text-sm ${U.popular?"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-purple-500/25":"bg-white/10 hover:bg-white/20 text-white border border-white/20"}`,children:["Choose ",U.name,t.jsx(ia,{className:"h-3 w-3 ml-1"})]})]})})]},U.type)})}),t.jsx("div",{className:"max-w-lg mx-auto mt-6",children:t.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-lg flex items-center justify-center",children:t.jsx(gn,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white text-xs font-medium",children:"Bank-level Security"}),t.jsx("p",{className:"text-gray-400 text-xs",children:"Your payment data is encrypted and secure"})]})]})})})]})]});if(o==="payment_method")return Xe(x.planType,x.region),t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-32 right-32 w-40 h-40 bg-cyan-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),t.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[t.jsx(de,{variant:"ghost",size:"sm",onClick:()=>l("plan"),className:"text-gray-300 hover:text-white hover:bg-white/10 rounded-xl transition-all p-2 z-50 relative -mt-4",children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(qv,{className:"h-4 w-4 text-white"})}),t.jsx("h1",{className:"text-xl font-semibold text-white whitespace-nowrap",children:"Payment Details"})]}),t.jsxs("p",{className:"text-gray-300 text-xs whitespace-nowrap",children:["Complete your ",v==null?void 0:v.name," subscription"]})]}),t.jsx("div",{className:"w-10 h-10"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-xs mx-auto",children:[t.jsx(wr,{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl",children:t.jsx($r,{className:"p-4",children:t.jsx("form",{onSubmit:Te,className:"space-y-4",children:t.jsxs("div",{children:[t.jsx(mr,{className:"text-white text-xs font-medium mb-2 block",children:"Payment Method"}),t.jsxs(Mi,{type:"single",collapsible:!0,value:S,onValueChange:U=>{N(U||""),U&&g(K=>({...K,paymentMethod:U}))},className:"space-y-2",children:[x.region==="ghana"&&t.jsxs(yr,{value:"mobile_money",className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden",children:[t.jsx(vr,{className:"px-3 py-3 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",children:t.jsxs("div",{className:"flex items-center justify-between w-full mr-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dC,{className:"h-4 w-4 text-cyan-400"}),t.jsx("span",{className:"text-white text-sm font-medium",children:"Mobile Money"})]}),te.type==="mobile_money"&&te.id&&t.jsx(At,{className:"h-5 w-5 text-green-500 font-bold stroke-[3]"})]})}),t.jsx(br,{className:"px-3 pb-3",children:t.jsxs("div",{className:"space-y-3 pt-2",children:[P.length>0&&!_&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-gray-300 text-[10px] font-light italic tracking-wide",children:"Select option"}),t.jsx(Mi,{type:"single",collapsible:!0,className:`space-y-2 transition-opacity ${_?"opacity-50 pointer-events-none":"opacity-100"}`,value:A,onValueChange:U=>{_||(F(U),U&&(re(""),ae(!1)))},children:t.jsx(Xt,{mode:"popLayout",children:P.map(U=>t.jsx(E.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{layout:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2}},children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(yr,{value:U.id,className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden flex-1",children:[t.jsx(vr,{className:"px-2 py-2 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",onClick:()=>{T(U.id),g(K=>({...K,customerInfo:{...U.customerInfo},paymentDetails:{...K.paymentDetails,provider:U.provider,mobileNumber:U.mobileNumber,nickname:U.nickname}}))},children:t.jsxs("div",{className:"flex items-center space-x-3 w-full mr-2",children:[t.jsx("div",{className:"w-5 h-5 rounded border-2 border-cyan-400 bg-transparent flex items-center justify-center cursor-pointer hover:bg-cyan-400/10 transition-all",onClick:K=>{K.stopPropagation(),V===U.id?at():(rt("mobile_money",U.id),C(je=>{const Ae=je.find(Pt=>Pt.id===U.id),st=je.filter(Pt=>Pt.id!==U.id);return Ae?[Ae,...st]:je}))},children:V===U.id&&t.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-sm"})}),t.jsx("div",{className:"text-white text-xs font-medium",children:U.nickname})]})}),t.jsx(br,{className:"px-2 pb-2",children:t.jsxs("div",{className:"space-y-2 pt-1",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(mr,{className:"text-white text-[10px] font-medium",children:"Customer Information"}),t.jsx(Je,{placeholder:"Full Name",value:x.customerInfo.name,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,name:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Street Address",value:x.customerInfo.address,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,address:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[t.jsx(Je,{placeholder:"City",value:x.customerInfo.city,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,city:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"State",value:x.customerInfo.state,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,state:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"})]}),t.jsx(Je,{placeholder:"Postal Code",value:x.customerInfo.postalCode,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,postalCode:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"})]}),t.jsx(Je,{placeholder:"Country",value:x.customerInfo.country,onChange:K=>g(je=>({...je,customerInfo:{...je.customerInfo,country:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(mr,{className:"text-white text-[10px] font-medium",children:"Mobile Money Details"}),t.jsxs(fr,{value:x.paymentDetails.provider,onValueChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,provider:K}})),children:[t.jsx(hr,{className:"h-7 bg-white/5 border-white/10 text-white rounded-lg focus:border-cyan-400 text-[10px]",children:t.jsx(gr,{placeholder:"Select Provider"})}),t.jsxs(pr,{className:"bg-gradient-to-br from-slate-800/95 via-purple-800/95 to-indigo-800/95 backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl shadow-purple-500/25 min-w-[280px] animate-in fade-in-0 zoom-in-95 duration-200",children:[t.jsx(G,{value:"mtn",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"M"})}),t.jsx("span",{className:"font-medium",children:"MTN Mobile Money"})]})}),t.jsx(G,{value:"vodafone",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"V"})}),t.jsx("span",{className:"font-medium",children:"Vodafone Cash"})]})}),t.jsx(G,{value:"airteltigo",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"A"})}),t.jsx("span",{className:"font-medium",children:"AirtelTigo Money"})]})})]})]}),t.jsx(Je,{placeholder:"Mobile Number",value:x.paymentDetails.mobileNumber,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,mobileNumber:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My MTN Wallet')",value:x.paymentDetails.nickname,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,nickname:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"})]}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx(de,{type:"button",onClick:xt,className:"flex-1 h-7 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-[10px]",children:"Update"}),t.jsx(de,{type:"button",onClick:()=>{g(K=>({...K,customerInfo:{...U.customerInfo},paymentDetails:{...K.paymentDetails,provider:U.provider,mobileNumber:U.mobileNumber,nickname:U.nickname}})),T(null),F("")},className:"h-7 px-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-[10px]",children:"Cancel"})]})]})})]}),t.jsx(de,{type:"button",onClick:K=>{K.preventDefault(),K.stopPropagation(),jr(U.id)},className:"h-5 w-5 p-0 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded text-xs flex-shrink-0 ml-2",children:t.jsx(Zn,{className:"h-3 w-3"})})]})},U.id))})})]}),!_&&t.jsx(de,{onClick:zt,className:"w-full h-8 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-medium rounded-lg text-xs",children:"+ Add Mobile Money"}),_&&t.jsxs(E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},className:"space-y-3 bg-white/10 rounded-xl p-3 border border-cyan-400/30",children:[t.jsxs("div",{className:"text-cyan-400 text-xs font-medium flex items-center gap-2",children:[t.jsx(dC,{className:"h-3 w-3"}),I?"Edit Mobile Money":"Add New Mobile Money"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Customer Information"}),t.jsx(Je,{placeholder:"Full Name",value:x.customerInfo.name,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,name:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Street Address",value:x.customerInfo.address,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,address:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Je,{placeholder:"City",value:x.customerInfo.city,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,city:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"State",value:x.customerInfo.state,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,state:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Postal Code",value:x.customerInfo.postalCode,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,postalCode:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Country",value:x.customerInfo.country,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,country:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Mobile Money Details"}),t.jsxs(fr,{value:x.paymentDetails.provider,onValueChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,provider:U}})),children:[t.jsx(hr,{className:"h-8 bg-white/5 border-white/10 text-white rounded-lg focus:border-cyan-400 text-xs",children:t.jsx(gr,{placeholder:"Select Provider"})}),t.jsxs(pr,{className:"bg-gradient-to-br from-slate-800/95 via-purple-800/95 to-indigo-800/95 backdrop-blur-xl border border-white/20 rounded-xl shadow-2xl shadow-purple-500/25 min-w-[280px] animate-in fade-in-0 zoom-in-95 duration-200",children:[t.jsx(G,{value:"mtn",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"M"})}),t.jsx("span",{className:"font-medium",children:"MTN Mobile Money"})]})}),t.jsx(G,{value:"vodafone",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"V"})}),t.jsx("span",{className:"font-medium",children:"Vodafone Cash"})]})}),t.jsx(G,{value:"airteltigo",className:"text-white hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 focus:bg-gradient-to-r focus:from-cyan-500/30 focus:to-blue-500/30 rounded-lg m-1 transition-all duration-200 cursor-pointer border border-transparent hover:border-cyan-400/30",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs font-bold text-white",children:"A"})}),t.jsx("span",{className:"font-medium",children:"AirtelTigo Money"})]})})]})]}),t.jsx(Je,{placeholder:"Mobile Number",value:x.paymentDetails.mobileNumber,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,mobileNumber:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My MTN Wallet')",value:x.paymentDetails.nickname,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,nickname:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(de,{type:"button",onClick:xt,className:"flex-1 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:I?"Update":"Save"}),t.jsx(de,{type:"button",onClick:()=>{k(!1),T(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,provider:"",mobileNumber:"",nickname:""}}))},className:"h-8 px-3 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs",children:"Cancel"})]})]})]})})]}),t.jsxs(yr,{value:"card",className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden",children:[t.jsx(vr,{className:"px-3 py-3 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",children:t.jsxs("div",{className:"flex items-center justify-between w-full mr-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qv,{className:"h-4 w-4 text-cyan-400"}),t.jsx("span",{className:"text-white text-sm font-medium",children:"Credit/Debit Card"})]}),te.type==="credit_card"&&te.id&&t.jsx(At,{className:"h-5 w-5 text-green-500 font-bold stroke-[3]"})]})}),t.jsx(br,{className:"px-3 pb-3",children:t.jsxs("div",{className:"space-y-3 pt-2",children:[M.length>0&&!X&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-gray-300 text-[10px] font-light italic tracking-wide",children:"Select option"}),t.jsx(Mi,{type:"single",collapsible:!0,className:`space-y-2 transition-opacity ${X?"opacity-50 pointer-events-none":"opacity-100"}`,value:$,onValueChange:U=>{X||(re(U||""),U&&(F(""),k(!1)))},children:t.jsx(Xt,{mode:"popLayout",children:M.map(U=>t.jsxs(E.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{layout:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2},y:{duration:.3}},className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsxs(yr,{value:U.id,className:"border border-white/10 rounded-lg bg-white/5",children:[t.jsx(vr,{className:"px-3 py-2 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180 cursor-pointer",children:t.jsxs("div",{className:"flex items-center space-x-3 w-full mr-2",children:[t.jsx("div",{className:"w-5 h-5 rounded border-2 border-cyan-400 bg-transparent flex items-center justify-center cursor-pointer hover:bg-cyan-400/10 transition-all",onClick:K=>{K.stopPropagation(),le===U.id?at():(rt("credit_card",U.id),R(je=>{const Ae=je.find(Pt=>Pt.id===U.id),st=je.filter(Pt=>Pt.id!==U.id);return Ae?[Ae,...st]:je}))},children:le===U.id&&t.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-sm"})}),t.jsx("div",{className:"text-white text-xs font-medium",children:U.nickname}),t.jsxs("div",{className:"text-gray-400 text-xs",children:[" ",U.cardType.toUpperCase()]})]})}),t.jsx(br,{className:"px-2 pb-2",children:t.jsxs("div",{className:"space-y-3 pt-1",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Customer Information"}),t.jsx(Je,{placeholder:"Full Name",value:U.customerInfo.name,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,customerInfo:{...Ae.customerInfo,name:K.target.value}}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Street Address",value:U.customerInfo.address,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,customerInfo:{...Ae.customerInfo,address:K.target.value}}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Je,{placeholder:"City",value:U.customerInfo.city,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,customerInfo:{...Ae.customerInfo,city:K.target.value}}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Postal Code",value:U.customerInfo.postalCode,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,customerInfo:{...Ae.customerInfo,postalCode:K.target.value}}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Country",value:U.customerInfo.country,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,customerInfo:{...Ae.customerInfo,country:K.target.value}}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Card Details"}),t.jsx(Je,{placeholder:"Card Number",value:U.cardNumber,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,cardNumber:K.target.value}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Je,{placeholder:"MM/YY",value:U.expiryDate,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,expiryDate:K.target.value}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"CVV",value:U.cvv,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,cvv:K.target.value}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My Visa Card')",value:U.nickname,onChange:K=>{const je=M.map(Ae=>Ae.id===U.id?{...Ae,nickname:K.target.value}:Ae);R(je)},className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(de,{type:"button",onClick:K=>{K.stopPropagation(),Wt(U),re("")},className:"flex-1 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:"Update"}),t.jsx(de,{type:"button",onClick:K=>{K.stopPropagation();const je=JSON.parse(localStorage.getItem("charley_saved_credit_cards")||"[]").find(Ae=>Ae.id===U.id);if(je){const Ae=M.map(st=>st.id===U.id?je:st);R(Ae)}re("")},className:"h-8 px-3 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs",children:"Cancel"})]})]})})]})}),t.jsx(de,{type:"button",onClick:K=>{K.preventDefault(),K.stopPropagation(),ut(U.id)},className:"h-5 w-5 p-0 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded text-xs flex-shrink-0 ml-2",children:t.jsx(Zn,{className:"h-3 w-3"})})]},U.id))})})]}),!X&&t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs(de,{type:"button",onClick:vt,className:"w-full h-8 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-medium rounded-lg text-xs shadow-lg hover:shadow-emerald-500/25 transition-all duration-300",children:[t.jsx(ka,{className:"h-3 w-3 mr-2"}),"Add Credit Card"]})}),X&&t.jsxs(E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},className:"space-y-3 bg-white/10 rounded-xl p-3 border border-cyan-400/30",children:[t.jsxs("div",{className:"text-cyan-400 text-xs font-medium flex items-center gap-2",children:[t.jsx(qv,{className:"h-3 w-3"}),B?"Edit Credit Card":"Add New Credit Card"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Customer Information"}),t.jsx(Je,{placeholder:"Full Name",value:x.customerInfo.name,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,name:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Street Address",value:x.customerInfo.address,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,address:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Je,{placeholder:"City",value:x.customerInfo.city,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,city:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"State",value:x.customerInfo.state,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,state:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Postal Code",value:x.customerInfo.postalCode,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,postalCode:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Country",value:x.customerInfo.country,onChange:U=>g(K=>({...K,customerInfo:{...K.customerInfo,country:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My Visa Card')",value:x.paymentDetails.nickname,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,nickname:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(de,{type:"button",onClick:Et,className:"flex-1 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:B?"Update":"Save"}),t.jsx(de,{type:"button",onClick:()=>{ae(!1),O(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,cardNumber:"",expiryDate:"",cvv:"",nickname:""}}))},className:"h-8 px-3 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs",children:"Cancel"})]})]})]})})]}),t.jsxs(yr,{value:"bank_account",className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden",children:[t.jsx(vr,{className:"px-3 py-3 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",children:t.jsxs("div",{className:"flex items-center justify-between w-full mr-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Wg,{className:"h-4 w-4 text-cyan-400"}),t.jsx("span",{className:"text-white text-sm font-medium",children:"Bank Account"})]}),te.type==="bank_account"&&te.id&&t.jsx(At,{className:"h-5 w-5 text-green-500 font-bold stroke-[3]"})]})}),t.jsx(br,{className:"px-3 pb-3",children:t.jsxs("div",{className:"space-y-3 pt-2",children:[ue.length>0&&!Ue&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-gray-300 text-[10px] font-light italic tracking-wide",children:"Select option"}),t.jsx(Mi,{type:"single",collapsible:!0,className:`space-y-2 transition-opacity ${Ue?"opacity-50 pointer-events-none":"opacity-100"}`,value:se,onValueChange:U=>{Ue||(L(U),U&&(re(""),F(""),ae(!1),k(!1)))},children:t.jsx(Xt,{mode:"popLayout",children:ue.map(U=>t.jsx(E.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{layout:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2}},children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(yr,{value:U.id,className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden flex-1",children:[t.jsx(vr,{className:"px-2 py-2 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",onClick:()=>{Se(U.id),g(K=>({...K,customerInfo:{...U.customerInfo},paymentDetails:{...K.paymentDetails,accountType:U.accountType,nameOnAccount:U.nameOnAccount,routingNumber:U.routingNumber,accountNumber:U.accountNumber,reenterAccountNumber:U.accountNumber,nickname:U.nickname}}))},children:t.jsxs("div",{className:"flex items-center space-x-3 w-full mr-2",children:[t.jsx("div",{className:"w-5 h-5 rounded border-2 border-cyan-400 bg-transparent flex items-center justify-center cursor-pointer hover:bg-cyan-400/10 transition-all",onClick:K=>{K.stopPropagation(),q===U.id?at():(rt("bank_account",U.id),ee(je=>{const Ae=je.find(Pt=>Pt.id===U.id),st=je.filter(Pt=>Pt.id!==U.id);return Ae?[Ae,...st]:je}))},children:q===U.id&&t.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-sm"})}),t.jsx("div",{className:"text-white text-xs font-medium",children:U.nickname})]})}),t.jsx(br,{className:"px-2 pb-2",children:t.jsxs("div",{className:"space-y-2 pt-1",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(mr,{className:"text-white text-[10px] font-medium",children:"Account Type"}),t.jsxs(Nj,{value:x.paymentDetails.accountType,onValueChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,accountType:K}})),className:"flex space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rh,{value:"checking",id:"checking",className:"w-3 h-3 border-2 border-cyan-400 data-[state=checked]:bg-white data-[state=checked]:border-cyan-400"}),x.paymentDetails.accountType==="checking"&&t.jsx(At,{className:"absolute -inset-1 w-5 h-5 text-green-500 font-bold stroke-[3]"})]}),t.jsx(mr,{htmlFor:"checking",className:"text-white text-[10px]",children:"Checking"})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rh,{value:"savings",id:"savings",className:"w-3 h-3 border-2 border-cyan-400 data-[state=checked]:bg-white data-[state=checked]:border-cyan-400"}),x.paymentDetails.accountType==="savings"&&t.jsx(At,{className:"absolute -inset-1 w-5 h-5 text-green-500 font-bold stroke-[3]"})]}),t.jsx(mr,{htmlFor:"savings",className:"text-white text-[10px]",children:"Savings"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(mr,{className:"text-white text-[10px] font-medium",children:"Bank Account Details"}),t.jsx(Je,{placeholder:"Name on Account",value:x.paymentDetails.nameOnAccount,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,nameOnAccount:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Routing Number",value:x.paymentDetails.routingNumber,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,routingNumber:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Account Number",value:x.paymentDetails.accountNumber,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,accountNumber:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Re-enter Account Number",value:x.paymentDetails.reenterAccountNumber,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,reenterAccountNumber:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My Main Checking')",value:x.paymentDetails.nickname,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,nickname:K.target.value}})),className:"h-7 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-[10px]"})]}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx(de,{type:"button",onClick:cr,className:"flex-1 h-7 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-[10px]",children:"Update"}),t.jsx(de,{type:"button",onClick:()=>{g(K=>({...K,customerInfo:{...U.customerInfo},paymentDetails:{...K.paymentDetails,accountType:U.accountType,nameOnAccount:U.nameOnAccount,routingNumber:U.routingNumber,accountNumber:U.accountNumber,reenterAccountNumber:U.accountNumber,nickname:U.nickname}})),Se(null),L("")},className:"h-7 px-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-[10px]",children:"Cancel"})]})]})})]}),t.jsx(de,{type:"button",onClick:K=>{K.preventDefault(),K.stopPropagation(),Ir(U.id)},className:"h-5 w-5 p-0 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded text-xs flex-shrink-0 ml-2",children:t.jsx(Zn,{className:"h-3 w-3"})})]})},U.id))})})]}),!Ue&&t.jsx(de,{onClick:Bt,className:"w-full h-8 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-medium rounded-lg text-xs",children:"+ Add Bank Account"}),Ue&&t.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-3 bg-white/10 rounded-xl p-3 border border-cyan-400/30",children:[t.jsxs("div",{className:"text-cyan-400 text-xs font-medium flex items-center gap-2",children:[t.jsx(Wg,{className:"h-3 w-3"}),Z?"Edit Bank Account":"Add New Bank Account"]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Account Type"}),t.jsxs(Nj,{value:x.paymentDetails.accountType,onValueChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,accountType:U}})),className:"flex space-x-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rh,{value:"checking",id:"checking-new",className:"w-4 h-4 border-2 border-cyan-400 data-[state=checked]:bg-white data-[state=checked]:border-cyan-400"}),x.paymentDetails.accountType==="checking"&&t.jsx(At,{className:"absolute -inset-1 w-6 h-6 text-green-500 font-bold stroke-[3]"})]}),t.jsx(mr,{htmlFor:"checking-new",className:"text-white text-xs",children:"Checking"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Rh,{value:"savings",id:"savings-new",className:"w-4 h-4 border-2 border-cyan-400 data-[state=checked]:bg-white data-[state=checked]:border-cyan-400"}),x.paymentDetails.accountType==="savings"&&t.jsx(At,{className:"absolute -inset-1 w-6 h-6 text-green-500 font-bold stroke-[3]"})]}),t.jsx(mr,{htmlFor:"savings-new",className:"text-white text-xs",children:"Savings"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Bank Account Details"}),t.jsx(Je,{placeholder:"Name on Account",value:x.paymentDetails.nameOnAccount,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,nameOnAccount:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Routing Number",value:x.paymentDetails.routingNumber,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,routingNumber:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Account Number",value:x.paymentDetails.accountNumber,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,accountNumber:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Re-enter Account Number",value:x.paymentDetails.reenterAccountNumber,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,reenterAccountNumber:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My Main Checking')",value:x.paymentDetails.nickname,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,nickname:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(de,{type:"button",onClick:cr,className:"flex-1 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:Z?"Update":"Save"}),t.jsx(de,{type:"button",onClick:()=>{De(!1),Se(null),g(U=>({...U,paymentDetails:{...U.paymentDetails,accountType:"",nameOnAccount:"",routingNumber:"",accountNumber:"",reenterAccountNumber:"",nickname:""}}))},className:"h-8 px-3 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs",children:"Cancel"})]})]})]})})]}),t.jsxs(yr,{value:"digital_wallet",className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden",children:[t.jsx(vr,{className:"px-3 py-3 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($n,{className:"h-4 w-4 text-cyan-400"}),t.jsx("span",{className:"text-white text-sm font-medium",children:"Digital Wallets"}),te.type==="digital_wallet"&&te.id&&t.jsx("div",{className:"w-5 h-5 rounded border-2 border-cyan-400 bg-transparent flex items-center justify-center ml-auto",children:t.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-sm"})})]})}),t.jsx(br,{className:"px-3 pb-3",children:t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsx(Xt,{mode:"popLayout",children:ge.length>0&&t.jsxs(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,type:"spring",stiffness:300,damping:30},className:"space-y-2",children:[t.jsx(mr,{className:"text-gray-400 text-xs italic",children:"Select option"}),t.jsx(Mi,{type:"single",collapsible:!0,value:$e,onValueChange:Le,className:"space-y-2",children:ge.map(U=>t.jsx(E.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:{layout:{duration:.4,ease:[.4,0,.2,1],type:"spring",stiffness:300,damping:30},opacity:{duration:.2},scale:{duration:.2}},children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(yr,{value:U.id,className:"bg-white/5 rounded-lg border border-white/10 overflow-hidden flex-1",children:[t.jsx(vr,{className:"px-2 py-2 hover:bg-white/10 transition-all [&[data-state=open]>svg]:rotate-180",onClick:()=>{ie(U.id),g(K=>({...K,customerInfo:{...U.customerInfo},paymentDetails:{...K.paymentDetails,provider:U.provider,nickname:U.nickname}}))},children:t.jsxs("div",{className:"flex items-center space-x-3 w-full mr-2",children:[t.jsx("div",{className:"w-5 h-5 rounded border-2 border-cyan-400 bg-transparent flex items-center justify-center cursor-pointer hover:bg-cyan-400/10 transition-all",onClick:K=>{K.stopPropagation(),Oe===U.id?at():(rt("digital_wallet",U.id),ke(je=>{const Ae=je.find(Pt=>Pt.id===U.id),st=je.filter(Pt=>Pt.id!==U.id);return Ae?[Ae,...st]:je}))},children:Oe===U.id&&t.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-sm"})}),t.jsx("div",{className:"text-white text-xs font-medium",children:U.nickname}),t.jsxs("div",{className:"text-gray-400 text-xs",children:[" ",U.provider.replace("_"," ").toUpperCase()]})]})}),t.jsx(br,{className:"px-2 pb-2",children:t.jsxs("div",{className:"space-y-2 pt-1",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Digital Wallet Details"}),t.jsxs(fr,{value:x.paymentDetails.provider,onValueChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,provider:K}})),children:[t.jsx(hr,{className:"h-8 bg-white/5 border-white/10 text-white rounded-lg focus:border-cyan-400 text-xs",children:t.jsx(gr,{placeholder:"Select Wallet"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"paypal",children:"PayPal"}),t.jsx(G,{value:"apple_pay",children:"Apple Pay"}),t.jsx(G,{value:"google_pay",children:"Google Pay"}),t.jsx(G,{value:"amazon_pay",children:"Amazon Pay"})]})]}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My PayPal')",value:x.paymentDetails.nickname,onChange:K=>g(je=>({...je,paymentDetails:{...je.paymentDetails,nickname:K.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"flex gap-2 pt-1",children:[t.jsx(de,{onClick:K=>{K.preventDefault(),K.stopPropagation(),Ft()},type:"button",className:"flex-1 h-7 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:"Update"}),t.jsx(de,{onClick:()=>{ie(null),Le("");const K=ge.find(je=>je.id===U.id);K&&g(je=>({...je,customerInfo:{...K.customerInfo},paymentDetails:{...je.paymentDetails,provider:K.provider,nickname:K.nickname}}))},variant:"outline",className:"flex-1 h-7 border-white/20 text-gray-300 hover:bg-white/10 rounded-lg text-xs",children:"Cancel"})]})]})})]}),t.jsx("button",{onClick:()=>$t(U.id),className:"w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-full transition-all",children:t.jsx(mt,{className:"h-4 w-4"})})]})},U.id))})]})}),t.jsx(Xt,{mode:"popLayout",children:!pe&&t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,type:"spring",stiffness:300,damping:30},children:t.jsxs(de,{onClick:U=>{U.preventDefault(),U.stopPropagation(),dr()},type:"button",className:"w-full h-8 bg-gradient-to-r from-emerald-500 to-green-500 hover:from-emerald-600 hover:to-green-600 text-white font-medium rounded-lg text-xs",children:[t.jsx(ka,{className:"h-3 w-3 mr-2"}),"Add Digital Wallet"]})})}),t.jsx(Xt,{mode:"popLayout",children:pe&&t.jsxs(E.div,{initial:{opacity:0,height:0,scale:.95},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.95},transition:{duration:.3,type:"spring",stiffness:300,damping:30},className:"space-y-3 border-t border-white/10 pt-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(mr,{className:"text-white text-xs font-medium",children:"Digital Wallet Details"}),t.jsxs(fr,{value:x.paymentDetails.provider,onValueChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,provider:U}})),children:[t.jsx(hr,{className:"h-8 bg-white/5 border-white/10 text-white rounded-lg focus:border-cyan-400 text-xs",children:t.jsx(gr,{placeholder:"Select Wallet"})}),t.jsxs(pr,{children:[t.jsx(G,{value:"paypal",children:"PayPal"}),t.jsx(G,{value:"apple_pay",children:"Apple Pay"}),t.jsx(G,{value:"google_pay",children:"Google Pay"}),t.jsx(G,{value:"amazon_pay",children:"Amazon Pay"})]})]}),t.jsx(Je,{placeholder:"Nickname (e.g., 'My PayPal')",value:x.paymentDetails.nickname,onChange:U=>g(K=>({...K,paymentDetails:{...K.paymentDetails,nickname:U.target.value}})),className:"h-8 bg-white/5 border-white/10 text-white placeholder:text-gray-400 rounded-lg focus:border-cyan-400 text-xs"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(de,{onClick:U=>{U.preventDefault(),U.stopPropagation(),Ft()},type:"button",className:"flex-1 h-8 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-lg text-xs",children:[t.jsx($n,{className:"h-3 w-3 mr-2"}),"Save"]}),t.jsx(de,{onClick:U=>{U.preventDefault(),U.stopPropagation(),ye(!1),ie(null),g(K=>({...K,paymentDetails:{...K.paymentDetails,provider:"",nickname:""}}))},type:"button",variant:"outline",className:"flex-1 h-8 border-white/20 text-gray-300 hover:bg-white/10 rounded-lg text-xs",children:"Cancel"})]})]})})]})})]})]})]})})})}),t.jsx(de,{onClick:async()=>{let U="";if(te.type==="credit_card"?U="card":te.type==="mobile_money"?U="mobile_money":te.type==="bank_account"?U="bank_account":te.type==="digital_wallet"&&(U="digital_wallet"),!te.type||!U){n({title:"Payment Method Required",description:"Please select a payment method to continue.",variant:"destructive"});return}if(g(K=>({...K,paymentMethod:U})),!v){n({title:"Plan Required",description:"Please select a subscription plan.",variant:"destructive"});return}if(U==="card"){l("final_payment");try{console.log("[SMOOTH-TRANSITION] Creating Stripe subscription in background...");const K=await fetch("/api/subscription/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planType:v.type,region:x.region,paymentMethod:U,billingName:x.customerInfo.name,billingEmail:x.customerInfo.email,billingPhone:x.customerInfo.phone,billingAddress:x.customerInfo.address,billingCity:x.customerInfo.city,billingState:x.customerInfo.state,billingPostalCode:x.customerInfo.postalCode,billingCountry:x.customerInfo.country,nickname:x.customerInfo.nickname})});if(!K.ok){const Ae=K.headers.get("content-type");if(Ae&&Ae.includes("text/html"))throw new Error("Authentication required. Please log in again.");const st=await K.json();throw console.error("Subscription creation failed:",st),new Error(st.error||"Card payment setup failed")}const je=await K.json();console.log("[SMOOTH-TRANSITION] Subscription created, client secret ready"),d(je.clientSecret)}catch(K){console.error("[SMOOTH-TRANSITION] Failed to create subscription:",K),n({title:"Setup Failed",description:K instanceof Error?K.message:"Failed to setup payment. Please try again.",variant:"destructive"})}}else l("final_payment")},disabled:o==="processing",className:"w-full h-9 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-medium rounded-xl shadow-lg hover:shadow-cyan-500/25 transition-all duration-300 text-sm",children:o==="processing"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Setting up..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ol,{className:"h-3 w-3 mr-2"}),"Save to Continue"]})})]})]})]});if(o==="final_payment"){const{amount:U,currency:K}=Xe(x.planType,x.region);return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-32 right-32 w-40 h-40 bg-cyan-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),t.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 py-6",children:[t.jsxs("div",{className:"relative flex items-center justify-between mb-6",children:[t.jsx(de,{variant:"ghost",size:"sm",onClick:()=>l("payment_method"),className:"text-gray-300 hover:text-white hover:bg-white/10 rounded-xl transition-all p-2 z-50 relative -mt-4",children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-500 rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Ss,{className:"h-4 w-4 text-white"})}),t.jsx("h1",{className:"text-xl font-semibold text-white whitespace-nowrap",children:"Complete Payment"})]}),t.jsxs("p",{className:"text-gray-300 text-xs whitespace-nowrap",children:["Review and finalize your ",v==null?void 0:v.name," subscription"]})]}),t.jsx("div",{className:"w-10 h-10"})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4 max-w-xs mx-auto",children:[t.jsx(wr,{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl",children:t.jsxs($r,{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-xl",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center",children:t.jsx(Ss,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h4",{className:"font-semibold text-white text-sm",children:[v==null?void 0:v.name," Plan"]}),t.jsx("p",{className:"text-xs text-gray-400",children:v==null?void 0:v.description}),t.jsx(St,{variant:"secondary",className:"bg-purple-500/20 text-purple-300 border-purple-500/30 text-xs px-2 py-0.5 mt-1",children:"Premium Access"})]})]}),t.jsxs("div",{className:"space-y-2 pt-3 border-t border-white/10",children:[t.jsxs("div",{className:"flex justify-between text-white text-sm",children:[t.jsx("span",{children:"Subtotal"}),t.jsx("span",{className:"font-medium",children:nt(U,K)})]}),b>0&&t.jsxs("div",{className:"flex justify-between text-green-400 text-sm",children:[t.jsxs("span",{children:["Discount (",b,"%)"]}),t.jsxs("span",{children:["-",nt(U*b/100,K)]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold text-white pt-2 border-t border-white/10",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{children:nt(U-U*b/100,K)})]})]}),t.jsx("div",{className:"pt-3 border-t border-white/10",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[t.jsx("span",{children:"Payment Method:"}),t.jsxs("span",{className:"font-medium text-white capitalize",children:[x.paymentMethod==="card"&&"Credit/Debit Card",x.paymentMethod==="mobile_money"&&"Mobile Money",x.paymentMethod==="bank_account"&&"Bank Account",x.paymentMethod==="digital_wallet"&&"Digital Wallets"]})]})})]})]})}),x.paymentMethod==="card"&&t.jsx(wr,{className:"bg-white/5 backdrop-blur-sm border-white/10 rounded-xl",children:t.jsx($r,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(mr,{className:"text-white text-sm font-medium",children:"Card Details"}),!c&&t.jsxs("div",{className:"flex items-center gap-2 text-xs text-cyan-400",children:[t.jsx("div",{className:"w-3 h-3 border-2 border-cyan-400/30 border-t-cyan-400 rounded-full animate-spin"}),"Setting up payment..."]})]}),t.jsx("div",{className:"p-3 bg-white/5 border border-white/10 rounded-lg focus-within:border-cyan-400 transition-colors",children:t.jsx(D4,{id:"final-payment-card-element",options:{style:{base:{fontSize:"14px",color:"#ffffff","::placeholder":{color:"#9ca3af"}},invalid:{color:"#ef4444"}}}})})]})})}),t.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-lg flex items-center justify-center",children:t.jsx(gn,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-white text-xs font-medium",children:"256-bit SSL Encryption"}),t.jsx("p",{className:"text-gray-400 text-xs",children:"Your payment is protected and secure"})]})]})}),t.jsx(de,{onClick:Te,disabled:p||x.paymentMethod==="card"&&!c,className:"w-full h-9 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-medium rounded-xl shadow-lg hover:shadow-purple-500/25 transition-all duration-300 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:p?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),a("common.processing")]}):x.paymentMethod==="card"&&!c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Setting up..."]}):t.jsxs(t.Fragment,{children:[t.jsx(wo,{className:"h-3 w-3 mr-2"}),"Complete Payment"]})})]})]})]})}return o==="success"?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-8",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:t.jsx(At,{className:"h-10 w-10 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Welcome to Premium!"}),t.jsx("p",{className:"text-gray-300 mb-8",children:"Your payment was successful. Enjoy all premium features."}),t.jsx(de,{onClick:async()=>{try{console.log(" AUTO-PREMIUM: Activating premium access after successful payment..."),console.log(" AUTO-PREMIUM: PaymentIntentId state value:",m),console.log(" AUTO-PREMIUM: ClientSecret state value:",c);let K=m;if(!K&&c&&(K=c.split("_secret_")[0],console.log(" AUTO-PREMIUM: Extracted payment intent ID from client secret:",K)),!K)throw console.error(" AUTO-PREMIUM: No payment intent ID available for activation"),new Error("Payment intent ID not available");const je=await fetch("/api/subscription/payment-success",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({paymentIntentId:K})});if(je.ok){const Ae=await je.json();console.log(" AUTO-PREMIUM: Premium access activated successfully",Ae),me.invalidateQueries({queryKey:["/api/premium/status"]}),me.invalidateQueries({queryKey:["/api/user"]}),n({title:"Premium Activated!",description:"Your premium access has been successfully activated. Welcome to CHARLEY Premium!"}),console.log(" AUTO-PREMIUM: Triggering fireworks celebration for premium activation"),localStorage.setItem("charley_trigger_celebration","true")}else{const Ae=await je.json();console.warn(" AUTO-PREMIUM: Failed to activate premium access:",Ae),console.warn(" AUTO-PREMIUM: Response status:",je.status),console.warn(" AUTO-PREMIUM: Payment intent ID used:",K),n({title:"Premium Activation Issue",description:`Premium access couldn't be automatically activated: ${Ae.error||"Unknown error"}. You can enable it manually in Settings.`,variant:"destructive"})}}catch(K){console.error(" AUTO-PREMIUM: Error activating premium access:",K),n({title:"Premium Activation Error",description:"There was an error activating premium access. You can enable it manually in Settings.",variant:"destructive"})}if(["/home","/heat","/suite/network","/suite/jobs"].includes(e)){const K={originPage:e,timestamp:Date.now(),capturedFrom:"payment-page"};localStorage.setItem("settings_navigation_stack",JSON.stringify(K)),console.log("[NAV-HELPER] Captured current page for Settings navigation from payment:",K)}r("/settings?tab=subscription")},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-8 py-3 rounded-2xl",children:"Continue to App"})]})}):null}const pge={appearance:{theme:"night",variables:{colorPrimary:"#8b5cf6",colorBackground:"#1e293b",colorText:"#ffffff",colorDanger:"#ef4444",borderRadius:"8px"}}};function fge(){return t.jsx(X8,{stripe:uge,options:pge,children:t.jsx(hge,{})})}function gge({tribes:e,onChange:r}){return t.jsxs("div",{className:"p-4 rounded-xl border-2 border-indigo-100 dark:border-indigo-900/30 bg-gradient-to-br from-white to-indigo-50/30 dark:from-gray-900 dark:to-indigo-950/10 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-600 dark:from-indigo-400 dark:to-blue-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-indigo-100 dark:bg-indigo-900/30 mr-3 shadow-sm",children:t.jsx(yT,{className:"h-5 w-5 text-indigo-500"})}),"Ghanaian Tribes"]}),t.jsxs(Or,{children:[t.jsx(Lu,{asChild:!0,children:t.jsxs(de,{variant:"outline",size:"sm",className:"border-indigo-200 bg-white hover:bg-indigo-50 text-indigo-700 dark:bg-gray-800 dark:border-gray-700 dark:text-indigo-400 dark:hover:bg-gray-700",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Select Tribes"]})}),t.jsxs(Dr,{className:"sm:max-w-[380px] max-h-[80vh] rounded-3xl bg-gradient-to-br from-slate-900 to-indigo-950 dark:from-gray-950 dark:to-indigo-950 border-none shadow-xl overflow-hidden text-white",hideCloseButton:!0,children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-40",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-400 to-blue-500 dark:from-indigo-600 dark:to-blue-700 rounded-full animate-blob blur-2xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-72 h-72 bg-gradient-to-tr from-purple-400 to-pink-500 dark:from-purple-600 dark:to-pink-700 rounded-full animate-blob animation-delay-2000 blur-2xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -left-16 w-48 h-48 bg-gradient-to-tr from-blue-400 to-cyan-500 dark:from-blue-600 dark:to-cyan-700 rounded-full animate-blob animation-delay-4000 blur-2xl mix-blend-overlay"})]}),t.jsxs("div",{className:"relative z-10 backdrop-blur-sm flex flex-col h-full max-h-[70vh]",children:[t.jsx(ud,{asChild:!0,children:t.jsxs("button",{className:"absolute top-3 right-3 rounded-full w-8 h-8 bg-white/25 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/40 transition-all shadow-md border border-white/30 z-50 hover:scale-110",onClick:n=>{n.stopPropagation()},children:[t.jsx(mt,{className:"h-5 w-5",strokeWidth:2.5}),t.jsx("span",{className:"sr-only",children:"Close"})]})}),t.jsxs(pn,{className:"pb-0 flex-shrink-0 pt-3",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mx-auto mb-2 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400 text-base glow-sm",children:"Select Tribes"})]}),t.jsxs("div",{className:"relative px-2 flex-1 overflow-hidden flex flex-col",children:[t.jsx("p",{className:"text-xs text-center text-gray-300 mb-2 px-2 flex-shrink-0",children:"Choose the Ghanaian tribes you're interested in connecting with"}),t.jsx("div",{className:"relative rounded-2xl p-2 bg-black/30 backdrop-blur-xl border border-white/10 shadow-inner flex-1 overflow-y-auto custom-scrollbar mb-3",children:a0e.map(n=>t.jsxs("div",{className:"mb-3",children:[t.jsx("h4",{className:"text-xs font-medium mb-1 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400 px-1",children:n.label}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.options.map(a=>{const s=e.includes(a.value);return t.jsxs(St,{className:`cursor-pointer px-2 py-0.5 transition-all border-0 shadow-sm text-xs rounded-full ${s?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md glow-sm":"border border-white/5 hover:border-purple-500/30 bg-black/20 backdrop-blur-xl hover:bg-black/30 text-gray-300"}`,onClick:()=>{const i=s?e.filter(o=>o!==a.value):[...e,a.value];r(i)},children:[s&&t.jsx(At,{className:"h-2.5 w-2.5 mr-0.5 inline-block"}),a.label]},a.value)})})]},n.label))})]})]})]})]})]}),t.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-indigo-100 dark:border-indigo-900/30 p-4 shadow-sm",children:e.length>0?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((n,a)=>{const s=_i.find(l=>l.value===n),i=["from-indigo-500 to-blue-500","from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-purple-500 to-indigo-500","from-blue-600 to-indigo-600"],o=i[a%i.length];return t.jsxs(St,{className:`bg-gradient-to-r ${o} hover:shadow-md px-2.5 py-1 text-xs text-white shadow-sm flex-shrink-0 dating-preferences-font transition-all duration-200 border-0 rounded-full`,onClick:()=>{const l=e.filter(c=>c!==n);r(l)},children:[s?s.label:n,t.jsx(mt,{className:"h-3 w-3 ml-1 inline-block"})]},n)})}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>r([]),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),"Clear All"]})})]}):t.jsx("p",{className:"text-gray-500 text-sm text-center italic",children:"Select tribes to find better matches"})}),t.jsx("div",{className:"text-xs text-gray-500 mt-2 italic px-1",children:"Select one or more tribes that you're interested in"})]})}function xge({educationLevel:e,onChange:r,educationOptions:n}){return t.jsxs("div",{className:"p-4 rounded-xl border-2 border-purple-100 dark:border-purple-900/30 bg-gradient-to-br from-white to-purple-50/30 dark:from-gray-900 dark:to-purple-950/10 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900/30 mr-3 shadow-sm",children:t.jsx(Qr,{className:"h-5 w-5 text-purple-500"})}),"Education Level"]}),t.jsxs(Or,{children:[t.jsx(Lu,{asChild:!0,children:t.jsxs(de,{variant:"outline",size:"sm",className:"border-purple-200 bg-white hover:bg-purple-50 text-purple-700 dark:bg-gray-800 dark:border-gray-700 dark:text-purple-400 dark:hover:bg-gray-700",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Select Education"]})}),t.jsxs(Dr,{className:"sm:max-w-[380px] max-h-[80vh] rounded-3xl bg-gradient-to-br from-slate-900 to-pink-950 dark:from-gray-950 dark:to-pink-950 border-none shadow-xl overflow-hidden text-white",hideCloseButton:!0,children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-40",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-400 to-pink-500 dark:from-purple-600 dark:to-pink-700 rounded-full animate-blob blur-2xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-72 h-72 bg-gradient-to-tr from-violet-400 to-fuchsia-500 dark:from-violet-600 dark:to-fuchsia-700 rounded-full animate-blob animation-delay-2000 blur-2xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -left-16 w-48 h-48 bg-gradient-to-tr from-pink-400 to-rose-500 dark:from-pink-600 dark:to-rose-700 rounded-full animate-blob animation-delay-4000 blur-2xl mix-blend-overlay"})]}),t.jsxs("div",{className:"relative z-10 backdrop-blur-sm flex flex-col h-full max-h-[70vh]",children:[t.jsx(ud,{asChild:!0,children:t.jsxs("button",{className:"absolute top-3 right-3 rounded-full w-8 h-8 bg-white/25 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/40 transition-all shadow-md border border-white/30 z-50 hover:scale-110",onClick:a=>{a.stopPropagation()},children:[t.jsx(mt,{className:"h-5 w-5",strokeWidth:2.5}),t.jsx("span",{className:"sr-only",children:"Close"})]})}),t.jsxs(pn,{className:"pb-0 flex-shrink-0 pt-3",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 mx-auto mb-2 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 text-base glow-sm",children:"Select Education Levels"})]}),t.jsxs("div",{className:"relative px-2 flex-1 overflow-hidden flex flex-col",children:[t.jsx("p",{className:"text-xs text-center text-gray-300 mb-2 px-2 flex-shrink-0",children:"Choose the education levels you're interested in"}),t.jsx("div",{className:"relative rounded-2xl p-2 bg-black/30 backdrop-blur-xl border border-white/10 shadow-inner flex-1 overflow-y-auto custom-scrollbar mb-3",children:t.jsx("div",{className:"flex flex-wrap gap-1.5 justify-center",children:n.map(a=>{const s=e.includes(a.value);return t.jsxs(St,{className:`cursor-pointer px-2 py-0.5 transition-all border-0 shadow-sm text-xs rounded-full ${s?"bg-gradient-to-r from-purple-500 to-pink-600 text-white shadow-md glow-sm":"border border-white/5 hover:border-pink-500/30 bg-black/20 backdrop-blur-xl hover:bg-black/30 text-gray-300"}`,onClick:()=>{const i=s?e.filter(o=>o!==a.value):[...e,a.value];r(i)},children:[s&&t.jsx(At,{className:"h-2.5 w-2.5 mr-0.5 inline-block"}),a.label]},a.value)})})})]})]})]})]})]}),t.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg border border-purple-100 dark:border-purple-900/30 p-4 shadow-sm",children:e.length>0?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((a,s)=>{const i=n.find(c=>c.value===a),o=["from-purple-500 to-pink-500","from-pink-500 to-rose-500","from-fuchsia-500 to-purple-500","from-violet-500 to-purple-500","from-purple-600 to-violet-600"],l=o[s%o.length];return t.jsxs(St,{className:`bg-gradient-to-r ${l} hover:shadow-md px-2.5 py-1 text-xs text-white shadow-sm flex-shrink-0 dating-preferences-font transition-all duration-200 border-0 rounded-full`,onClick:()=>{const c=e.filter(d=>d!==a);r(c)},children:[i?i.label:a,t.jsx(mt,{className:"h-3 w-3 ml-1 inline-block"})]},a)})}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>r([]),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),"Clear All"]})})]}):t.jsx("p",{className:"text-gray-500 text-sm text-center italic",children:"Select education levels to find better matches"})}),t.jsx("div",{className:"text-xs text-gray-500 mt-2 italic px-1",children:"Select one or more education levels that you're interested in"})]})}const B0=e=>{const r=e/2.54,n=Math.floor(r/12),a=Math.round(r%12);return`${n}'${a}"`};function yge(){var De,se;const{user:e}=Sr(),{toast:r}=Wr(),[,n]=lr(),{country:a,setCountry:s}=yf(),i=()=>{const L=new URLSearchParams(window.location.search),q=L.get("section"),H=L.get("field");return{section:q,field:H}},[o,l]=u.useState({ageRange:null,distance:null,religion:[],educationLevel:[],hasChildren:null,wantsChildren:null,height:null,tribes:[],lookingFor:null,dealBreakers:[],interests:[],bodyType:[],matchingPriorities:[],relationshipGoalPreference:null}),{section:c,field:d}=i(),[m,h]=u.useState(c&&["basics","background","lifestyle","dealbreakers"].includes(c)?c:"basics"),[p,f]=u.useState(!1),[x,g]=u.useState(!1),v=[{value:"high_school",label:"High School"},{value:"vocational",label:"Vocational Training"},{value:"bachelors",label:"Bachelor's Degree"},{value:"masters",label:"Master's Degree"},{value:"doctorate",label:"Doctorate or Higher"}],y=[{value:"no_preference",label:"No Preference"},{value:"slim",label:"Slim"},{value:"athletic",label:"Athletic"},{value:"average",label:"Average"},{value:"curvy",label:"Curvy"},{value:"plus_sized",label:"Plus Sized"}],b=[{value:10,label:"Within 10 miles",description:"Local area matches"},{value:25,label:"Within 25 miles",description:"Nearby city matches"},{value:100,label:"Within 100 miles",description:"Regional matches"},{value:999999,label:"Within my country",description:"National matches"},{value:-1,label:"No distance limit",description:"Global matches"}],w=[{value:"smoking",label:"Smoking"},{value:"drinking",label:"Drinking"},{value:"different_religion",label:"Different Religion"},{value:"no_education",label:"No Higher Education"},{value:"different_tribe",label:"Different Tribe"},{value:"long_distance",label:"Long Distance"},{value:"has_children",label:"Has Children"}],S=L=>{const q=["bg-blue-50/80 hover:bg-blue-100/50 dark:bg-blue-900/30 dark:hover:bg-blue-800/40","bg-green-50/80 hover:bg-green-100/50 dark:bg-green-900/30 dark:hover:bg-green-800/40","bg-yellow-50/80 hover:bg-yellow-100/50 dark:bg-yellow-900/30 dark:hover:bg-yellow-800/40","bg-indigo-50/80 hover:bg-indigo-100/50 dark:bg-indigo-900/30 dark:hover:bg-indigo-800/40","bg-red-50/80 hover:bg-red-100/50 dark:bg-red-900/30 dark:hover:bg-red-800/40","bg-cyan-50/80 hover:bg-cyan-100/50 dark:bg-cyan-900/30 dark:hover:bg-cyan-800/40","bg-orange-50/80 hover:bg-orange-100/50 dark:bg-orange-900/30 dark:hover:bg-orange-800/40","bg-teal-50/80 hover:bg-teal-100/50 dark:bg-teal-900/30 dark:hover:bg-teal-800/40"],H=L.split("").reduce((ge,ke)=>ge+ke.charCodeAt(0),0);return q[H%q.length]},[N,P]=u.useState(!1),[C,I]=u.useState(""),[T,_]=u.useState([]),[k,A]=u.useState(!1),[F,V]=u.useState(!1),J=[{value:"values",label:"Shared Values"},{value:"personality",label:"Personality"},{value:"looks",label:"Physical Attraction"},{value:"career",label:"Career & Ambition"},{value:"religion",label:"Religious Compatibility"},{value:"tribe",label:"Same Tribe/Cultural Background"},{value:"intellect",label:"Intellectual Connection"}],M=xr(e==null?void 0:e.dateOfBirth)?J.filter(L=>L.value!=="looks"):J,R=wt({mutationFn:async L=>{if(!(e!=null&&e.id))throw new Error("You must be logged in to update preferences");g(!0),console.log(" [FIELD-COUPLING-FIX] Using ONLY the data passed to mutation:",L);const q={};L.ageRange!==void 0&&(q.minAge=L.ageRange?L.ageRange[0]:null,q.maxAge=L.ageRange?L.ageRange[1]:null),L.height!==void 0&&(q.minHeightPreference=L.height?L.height[0]:null,q.maxHeightPreference=L.height?L.height[1]:null),L.distance!==void 0&&(q.distancePreference=L.distance),L.hasChildren!==void 0&&(q.hasChildrenPreference=L.hasChildren!==null?String(L.hasChildren):null),L.wantsChildren!==void 0&&(q.wantsChildrenPreference=L.wantsChildren!==null?String(L.wantsChildren):null),L.relationshipGoalPreference!==void 0&&(q.relationshipGoalPreference=L.relationshipGoalPreference),L.dealBreakers!==void 0&&(q.dealBreakers=Array.isArray(L.dealBreakers)?JSON.stringify(L.dealBreakers):null),L.matchingPriorities!==void 0&&(q.matchingPriorities=Array.isArray(L.matchingPriorities)?JSON.stringify(L.matchingPriorities):null),L.tribes!==void 0&&(q.ethnicityPreference=Array.isArray(L.tribes)?JSON.stringify(L.tribes):null),L.religion!==void 0&&(q.religionPreference=Array.isArray(L.religion)?JSON.stringify(L.religion):null),L.educationLevel!==void 0&&(q.educationLevelPreference=Array.isArray(L.educationLevel)?JSON.stringify(L.educationLevel):null),L.bodyType!==void 0&&(q.bodyTypePreference=Array.isArray(L.bodyType)?JSON.stringify(L.bodyType):null),L.interests!==void 0&&(q.interestPreferences=Array.isArray(L.interests)?JSON.stringify(L.interests):null),console.log(" [FIELD-COUPLING-FIX] Formatted data for server:",q);try{const H=await ze(`/api/preferences/${e.id}`,{method:"GET"});let ge;if(H.ok){const ke=await Vn(H);ge=await ze(`/api/preferences/${ke.id||e.id}`,{method:"PATCH",data:q})}else ge=await ze("/api/preferences",{method:"POST",data:{...q,userId:e.id}});return await Vn(ge)}catch(H){if(H instanceof Error&&H.message.includes("401"))try{await ze("/api/user",{method:"GET"});const ge=await ze("/api/preferences",{method:"POST",data:{...q,userId:e.id}});return await Vn(ge)}catch(ge){throw console.error("Failed to refresh authentication:",ge),new Error("Your session has expired. Please log in again.")}throw H}},onSuccess:()=>{me.invalidateQueries({queryKey:["/api/user"]}),me.invalidateQueries({queryKey:[`/api/preferences/${e==null?void 0:e.id}`]}),f(!1),g(!1),X.current={},O({}),ae.current&&(clearTimeout(ae.current),ae.current=null)},onError:L=>{g(!1),r({title:"Update Failed",description:L.message,variant:"destructive"})}}),[B,O]=u.useState({}),X=u.useRef({}),ae=u.useRef(null),$=u.useCallback(()=>{if(!(e!=null&&e.id)||Object.keys(X.current).length===0)return;const L=X.current;console.log(" [FIELD-COUPLING-FIX] Saving ONLY changed fields:",X.current),console.log(" [FIELD-COUPLING-FIX] Changed field count:",Object.keys(X.current).length),X.current={},O({}),R.mutate(L)},[o,e==null?void 0:e.id,R]),re=u.useCallback(h1(()=>{$()},100),[$]),le=(L,q)=>{if(!(e!=null&&e.id)){console.error("Cannot save preferences: User is not logged in"),r({title:"Error",description:"You must be logged in to save preferences",variant:"destructive"});return}console.log(` [FIELD-COUPLING-FIX] ONLY updating field: ${L}, value:`,q),l(ge=>({...ge,[L]:q})),f(!0);const H={[L]:q};X.current=H,O(H),g(!0);try{const ke=`dating_preferences_${e.id}_${L}`;Zo(ke,q)}catch(ge){console.error("Error saving to storage:",ge)}ae.current&&clearTimeout(ae.current),L==="dealBreakers"?ae.current=setTimeout(()=>{$()},10):re()},ce=async()=>{if(e!=null&&e.id){A(!0);try{const L=await ze("/api/global-deal-breakers",{method:"GET"}),q=await Vn(L);_(q||[])}catch(L){console.error("Error fetching global deal breakers:",L),r({title:"Error",description:"Failed to load global deal breakers",variant:"destructive"})}finally{A(!1)}}},ue=async()=>{if(!(!C.trim()||!(e!=null&&e.id))){V(!0);try{const L=await ze("/api/global-deal-breakers",{method:"POST",data:{dealBreaker:C.trim(),createdBy:e.id}}),q=await Vn(L);_(ge=>[...ge,q]);const H=`custom_${q.id}`;le("dealBreakers",[...o.dealBreakers,H]),I(""),P(!1),r({title:"Deal Breaker Added",description:"Your custom deal breaker has been added",variant:"default"})}catch(L){console.error("Error adding custom deal breaker:",L),r({title:"Error",description:"Failed to add custom deal breaker",variant:"destructive"})}finally{V(!1)}}};u.useEffect(()=>{e!=null&&e.id&&ce()},[e==null?void 0:e.id]);const{data:ee,isLoading:Z}=dt({queryKey:[`/api/preferences/${e==null?void 0:e.id}`],queryFn:async()=>{if(!(e!=null&&e.id))return null;try{const L=await ze(`/api/preferences/${e==null?void 0:e.id}`,{method:"GET"});if(L.status===404)return null;if(!L.ok)throw new Error("Failed to fetch dating preferences");return await Vn(L)}catch(L){if(console.error("Error fetching dating preferences:",L),L instanceof Error&&L.message.includes("404"))return null;throw L}},enabled:!!(e!=null&&e.id),staleTime:3e5,retry:1});u.useEffect(()=>{ee&&(e!=null&&e.id)&&T.length===0&&ce()},[ee,e==null?void 0:e.id,T.length]),u.useEffect(()=>()=>{ae.current&&(clearTimeout(ae.current),ae.current=null),X.current={},console.log("Dating preferences component cleanup completed")},[]);const Se=(L,q=[])=>{if(!L)return q;try{const H=JSON.parse(L);return Array.isArray(H)?H:q}catch(H){return console.error("Error parsing JSON:",H),q}};u.useEffect(()=>{if(e!=null&&e.id)try{const L=e.id,q=["ageRange","height","bodyType","distance","religion","tribes","educationLevel","hasChildren","wantsChildren","lookingFor","dealBreakers","matchingPriorities","interests","relationshipGoalPreference"],H={};for(const ge of q){const ke=`dating_preferences_${L}_${ge}`,z=bs(ke);z!=null&&(H[ge]=z)}if(Object.keys(H).length>0){console.log(` [FIELD-COUPLING-FIX] Loaded user ${L} preferences from localStorage:`,H);for(const[ge,ke]of Object.entries(H))ke!=null&&(l(z=>({...z,[ge]:ke})),console.log(` [FIELD-COUPLING-FIX] Individually loaded ${ge}:`,ke))}}catch(L){console.error("Error loading from localStorage:",L)}},[e==null?void 0:e.id]);const Ue={ageRange:u.useRef(null),height:u.useRef(null),bodyType:u.useRef(null),distance:u.useRef(null),religion:u.useRef(null),educationLevel:u.useRef(null),tribes:u.useRef(null),hasChildren:u.useRef(null),wantsChildren:u.useRef(null),lookingFor:u.useRef(null),dealBreakers:u.useRef(null),interests:u.useRef(null),matchingPriorities:u.useRef(null)};return u.useEffect(()=>{const{section:L,field:q}=i();q&&Object.keys(Ue).includes(q)&&(L&&["basics","background","lifestyle","dealbreakers"].includes(L)&&h(L),setTimeout(()=>{const H=Ue[q];H!=null&&H.current&&(H.current.scrollIntoView({behavior:"smooth"}),H.current.classList.add("animate-pulse","bg-purple-100","dark:bg-purple-900/30"),setTimeout(()=>{var ge;(ge=H.current)==null||ge.classList.remove("animate-pulse","bg-purple-100","dark:bg-purple-900/30")},1e3))},50),n("/dating-preferences",{replace:!0}))},[i,n]),u.useEffect(()=>{if(ee){if(console.log("Fetched preferences from API:",ee),!(e!=null&&e.id)){console.error("User ID is undefined, cannot load user-specific preferences");return}const L=e.id,q=bs(`dating_preferences_${L}_bodyType`)||[];q.length>0&&console.log(`Found bodyType in storage for user ${L}:`,q);const H=bs(`dating_preferences_${L}_ageRange`);H&&Array.isArray(H)&&H.length===2&&console.log(`Found ageRange in storage for user ${L}:`,H);const ge=bs(`dating_preferences_${L}_height`);ge&&Array.isArray(ge)&&ge.length===2&&console.log(`Found height in storage for user ${L}:`,ge);const ke=bs(`dating_preferences_${L}_religion`)||[];ke.length>0&&console.log(`Found religion in storage for user ${L}:`,ke);const z=bs(`dating_preferences_${L}_tribes`)||[];z.length>0&&console.log(`Found tribes in storage for user ${L}:`,z);const ie=bs(`dating_preferences_${L}_educationLevel`)||[];ie.length>0&&console.log(`Found educationLevel in storage for user ${L}:`,ie);const pe=bs(`dating_preferences_${L}_hasChildren`);pe!=null&&console.log(`Found hasChildren in storage for user ${L}:`,pe);const ye=bs(`dating_preferences_${L}_wantsChildren`);ye!=null&&console.log(`Found wantsChildren in storage for user ${L}:`,ye);const $e=bs(`dating_preferences_${L}_lookingFor`);$e&&console.log(`Found lookingFor in storage for user ${L}:`,$e);const Le=bs(`dating_preferences_${L}_relationshipGoalPreference`);Le&&console.log(`Found relationshipGoalPreference in storage for user ${L}:`,Le);const Oe={};if(H){const Ze=xr(e==null?void 0:e.dateOfBirth)?25:H[1],te=[H[0],Math.min(Ze,H[1])];Oe.ageRange=te,console.log("Using ageRange from localStorage with age restriction applied:",te)}else if(ee.minAge&&ee.maxAge){const Ze=xr(e==null?void 0:e.dateOfBirth)?25:ee.maxAge,te=[ee.minAge,Math.min(Ze,ee.maxAge)];Oe.ageRange=te}typeof ee.distancePreference=="number"&&(Oe.distance=ee.distancePreference),ge?(Oe.height=ge,console.log("Using height from localStorage instead of API:",ge)):ee.minHeightPreference&&ee.maxHeightPreference&&(Oe.height=[ee.minHeightPreference,ee.maxHeightPreference]),ke.length>0?(Oe.religion=ke,console.log("Using religion from localStorage instead of API")):typeof ee.religionPreference=="string"&&ee.religionPreference?Oe.religion=Se(ee.religionPreference):Array.isArray(ee.religionPreference)&&ee.religionPreference.length>0?Oe.religion=ee.religionPreference:Oe.religion=[],ie.length>0?(Oe.educationLevel=ie,console.log("Using educationLevel from localStorage instead of API")):typeof ee.educationLevelPreference=="string"&&ee.educationLevelPreference?Oe.educationLevel=Se(ee.educationLevelPreference):Array.isArray(ee.educationLevelPreference)&&ee.educationLevelPreference.length>0?Oe.educationLevel=ee.educationLevelPreference:Oe.educationLevel=[],z.length>0?(Oe.tribes=z,console.log("Using tribes from localStorage instead of API")):typeof ee.ethnicityPreference=="string"&&ee.ethnicityPreference?Oe.tribes=Se(ee.ethnicityPreference):Array.isArray(ee.ethnicityPreference)&&ee.ethnicityPreference.length>0?Oe.tribes=ee.ethnicityPreference:Oe.tribes=[],$e?(Oe.lookingFor=$e,console.log("Using lookingFor from localStorage instead of API")):Oe.lookingFor=null,Le?(Oe.relationshipGoalPreference=Le,console.log("Using relationshipGoalPreference from localStorage instead of API")):typeof ee.relationshipGoalPreference=="string"&&ee.relationshipGoalPreference?Oe.relationshipGoalPreference=ee.relationshipGoalPreference:Oe.relationshipGoalPreference=null,typeof ee.dealBreakers=="string"&&ee.dealBreakers?Oe.dealBreakers=Se(ee.dealBreakers):Array.isArray(ee.dealBreakers)&&ee.dealBreakers.length>0?Oe.dealBreakers=ee.dealBreakers:Oe.dealBreakers=[],typeof ee.interestPreferences=="string"&&ee.interestPreferences?Oe.interests=Se(ee.interestPreferences):Array.isArray(ee.interestPreferences)&&ee.interestPreferences.length>0?Oe.interests=ee.interestPreferences:Oe.interests=[],q.length>0?(Oe.bodyType=q,console.log("Using bodyType from localStorage instead of API")):typeof ee.bodyTypePreference=="string"&&ee.bodyTypePreference?Oe.bodyType=Se(ee.bodyTypePreference):Array.isArray(ee.bodyTypePreference)&&ee.bodyTypePreference.length>0?Oe.bodyType=ee.bodyTypePreference:Oe.bodyType=[],typeof ee.matchingPriorities=="string"&&ee.matchingPriorities?Oe.matchingPriorities=Se(ee.matchingPriorities):Array.isArray(ee.matchingPriorities)&&ee.matchingPriorities.length>0?Oe.matchingPriorities=ee.matchingPriorities:Oe.matchingPriorities=[],pe!==null?(Oe.hasChildren=pe,console.log("Using hasChildren from localStorage instead of API:",pe)):ee.hasChildrenPreference==="yes"?Oe.hasChildren=!0:ee.hasChildrenPreference==="no"?Oe.hasChildren=!1:Oe.hasChildren=null,ye!==null?(Oe.wantsChildren=ye,console.log("Using wantsChildren from localStorage instead of API:",ye)):ee.wantsChildrenPreference==="yes"?Oe.wantsChildren=!0:ee.wantsChildrenPreference==="no"?Oe.wantsChildren=!1:Oe.wantsChildren=null,console.log("Validated preferences with localStorage priority:",Oe),l(Ze=>{const te={...Ze,...Oe};return console.log("Merged preferences for persistence:",te),te});try{const Ze=["bodyType","ageRange","height","distance","religion","tribes","educationLevel","hasChildren","wantsChildren","lookingFor","dealBreakers","matchingPriorities","interests"];for(const te of Ze)if(Oe[te]!==void 0){const Ne=e==null?void 0:e.id;if(!Ne){console.error("Cannot save preferences to storage: User is not logged in");return}Zo(`dating_preferences_${Ne}_${te}`,Oe[te])}}catch(Ze){console.error("Error saving to localStorage during API sync:",Ze)}}},[ee]),Z?t.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:t.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[t.jsx("div",{className:"animate-spin w-8 h-8 rounded-full border-4 border-pink-100 border-t-pink-500"}),t.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading your preferences..."})]})}):t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"animate-in slide-in-from-bottom duration-500",children:t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 p-1.5",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white text-xs font-medium tracking-tight",children:xr((e==null?void 0:e.dateOfBirth)||null)?"Friendship Preferences":"Dating Preferences"}),t.jsx("p",{className:"text-white/90 text-[10px]",children:xr((e==null?void 0:e.dateOfBirth)||null)?"Find your perfect friends":"Find your perfect match"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[x&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(sn,{className:"h-3 w-3 animate-spin text-white/80"}),t.jsx("span",{className:"text-white/90 text-[10px]",children:"Saving..."})]}),t.jsx(Yt,{className:"h-4 w-4 text-white/80"})]})]})}),t.jsxs($r,{className:"p-1.5 bg-gradient-to-b from-purple-50 to-white dark:from-gray-800 dark:to-gray-900",children:[t.jsx("p",{className:"text-[10px] text-gray-700 dark:text-gray-300",children:"Customize preferences to help CHARLEY AI find your ideal partner."}),t.jsx("div",{className:"mt-3 mx-auto max-w-lg",children:t.jsxs("div",{className:"relative pb-8",children:[t.jsx("div",{className:"absolute h-2 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full top-5 left-0 right-0 z-0"}),t.jsx("div",{className:"absolute h-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full top-5 left-0 z-0",style:{width:m==="basics"?"12.5%":m==="background"?"37.5%":m==="lifestyle"?"62.5%":"87.5%"}}),t.jsxs("div",{className:"flex justify-between relative z-10",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("button",{onClick:()=>h("basics"),className:`w-12 h-12 rounded-full flex items-center justify-center mb-1 transition-all duration-300 ${m==="basics"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md scale-110":"bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-gray-700"}`,"aria-label":"Basics section",children:t.jsx(Jt,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-xs font-medium",style:{fontFamily:"'Poppins', sans-serif"},children:"Basics"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("button",{onClick:()=>h("background"),className:`w-12 h-12 rounded-full flex items-center justify-center mb-1 transition-all duration-300 ${m==="background"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md scale-110":"bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-gray-700"}`,"aria-label":"Background section",children:t.jsx($n,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-xs font-medium",style:{fontFamily:"'Poppins', sans-serif"},children:"Background"})]}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("button",{onClick:()=>h("lifestyle"),className:`w-12 h-12 rounded-full flex items-center justify-center mb-1 transition-all duration-300 ${m==="lifestyle"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md scale-110":"bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-gray-700"}`,"aria-label":"Lifestyle section",children:t.jsx(mm,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-xs font-medium",style:{fontFamily:"'Poppins', sans-serif"},children:"Lifestyle"})]}),!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("button",{onClick:()=>h("dealbreakers"),className:`w-12 h-12 rounded-full flex items-center justify-center mb-1 transition-all duration-300 ${m==="dealbreakers"?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md scale-110":"bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-gray-700"}`,"aria-label":"Dealbreakers section",children:t.jsx(iC,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-xs font-medium",style:{fontFamily:"'Poppins', sans-serif"},children:"Deal Breakers"})]})]})]})})]})]})}),t.jsxs("div",{className:"animate-in slide-in-from-right duration-500 delay-200 relative h-[70vh] overflow-hidden",children:[m==="basics"&&t.jsx("div",{className:"animate-in fade-in duration-300 absolute inset-0 overflow-y-auto pb-10 max-h-full",children:t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsx(On,{className:"py-1 px-1",children:t.jsx("div",{className:"h-1"})}),t.jsxs($r,{className:"p-4 space-y-5",children:[t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-white dark:bg-gray-900 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-gray-800 dark:text-gray-200 text-sm",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2",children:t.jsx(tl,{className:"h-4 w-4 text-pink-500"})}),"Age Range"]}),t.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:o.ageRange?`${o.ageRange[0]} - ${o.ageRange[1]} years`:"Not Specified"})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-xs font-medium mr-1",children:"Min:"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.ageRange){const q=xr(e==null?void 0:e.dateOfBirth)?25:35;le("ageRange",[18,q]);return}const L=Math.max(18,o.ageRange[0]-1);L<o.ageRange[1]&&le("ageRange",[L,o.ageRange[1]])},children:t.jsx(y0,{className:"h-2 w-2"})}),t.jsx("span",{className:"mx-1 min-w-6 text-center text-xs",children:o.ageRange?o.ageRange[0]:"N/A"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.ageRange){const q=xr(e==null?void 0:e.dateOfBirth)?25:35;le("ageRange",[18,q]);return}const L=Math.min(o.ageRange[1]-1,o.ageRange[0]+1);le("ageRange",[L,o.ageRange[1]])},children:t.jsx(ka,{className:"h-2 w-2"})})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-xs font-medium mr-1",children:"Max:"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.ageRange){const q=xr(e==null?void 0:e.dateOfBirth)?25:35;le("ageRange",[18,q]);return}const L=Math.max(o.ageRange[0]+1,o.ageRange[1]-1);le("ageRange",[o.ageRange[0],L])},children:t.jsx(y0,{className:"h-2 w-2"})}),t.jsx("span",{className:"mx-1 min-w-6 text-center text-xs",children:o.ageRange?o.ageRange[1]:"N/A"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.ageRange){const H=xr(e==null?void 0:e.dateOfBirth)?25:35;le("ageRange",[18,H]);return}const L=xr(e==null?void 0:e.dateOfBirth)?25:75,q=Math.min(L,o.ageRange[1]+1);le("ageRange",[o.ageRange[0],q])},children:t.jsx(ka,{className:"h-2 w-2"})})]})]})]}),!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-white dark:bg-gray-900 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-gray-800 dark:text-gray-200 text-sm",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2",children:t.jsx(d1,{className:"h-4 w-4 text-pink-500"})}),"Height Range"]}),t.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:o.height?`${B0(o.height[0])} - ${B0(o.height[1])}`:"Not Specified"})]}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-xs font-medium mr-1",children:"Min:"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.height){le("height",[160,185]);return}const L=Math.max(140,o.height[0]-1);L<o.height[1]&&le("height",[L,o.height[1]])},children:t.jsx(y0,{className:"h-2 w-2"})}),t.jsx("span",{className:"mx-1 min-w-9 text-center text-xs",children:o.height?B0(o.height[0]):"N/A"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.height){le("height",[160,185]);return}const L=Math.min(o.height[1]-1,o.height[0]+1);le("height",[L,o.height[1]])},children:t.jsx(ka,{className:"h-2 w-2"})})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"text-xs font-medium mr-1",children:"Max:"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.height){le("height",[160,185]);return}const L=Math.max(o.height[0]+1,o.height[1]-1);le("height",[o.height[0],L])},children:t.jsx(y0,{className:"h-2 w-2"})}),t.jsx("span",{className:"mx-1 min-w-9 text-center text-xs",children:o.height?B0(o.height[1]):"N/A"}),t.jsx(de,{size:"sm",variant:"outline",className:"h-5 w-5 p-0",onClick:()=>{if(!o.height){le("height",[160,185]);return}const L=Math.min(220,o.height[1]+1);le("height",[o.height[0],L])},children:t.jsx(ka,{className:"h-2 w-2"})})]})]})]}),!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-white dark:bg-gray-900 shadow-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs(mr,{className:"font-semibold flex items-center text-gray-800 dark:text-gray-200 text-sm",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2",children:t.jsx(u1,{className:"h-4 w-4 text-pink-500"})}),"Body Type"]})}),t.jsxs(fr,{onValueChange:L=>{let q;if(L==="no_preference")q=["no_preference"];else{const H=Array.isArray(o.bodyType)?o.bodyType.filter(ge=>ge!=="no_preference"):[];H.includes(L)?q=H.filter(ge=>ge!==L):q=[...H,L]}console.log("Body Type selection changed:",{value:L,newBodyTypes:q}),le("bodyType",q);try{const H=e==null?void 0:e.id;H&&localStorage.setItem(`dating_preferences_${H}_bodyType`,JSON.stringify(q))}catch(H){console.error("Error saving body type to localStorage:",H)}},children:[t.jsx(hr,{className:"w-full border-pink-200 dark:border-pink-900/50 bg-white dark:bg-gray-800 mt-1",children:t.jsx(gr,{placeholder:"Select body types you prefer",children:Array.isArray(o.bodyType)&&o.bodyType.length>0?`${o.bodyType.length} selected`:"Select body types you prefer"})}),t.jsx(pr,{children:t.jsx(wP,{children:y.map(L=>t.jsx(G,{value:L.value,className:Array.isArray(o.bodyType)&&o.bodyType.includes(L.value)?"bg-pink-50 dark:bg-pink-900/20":"",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:L.label}),Array.isArray(o.bodyType)&&o.bodyType.includes(L.value)&&t.jsx(At,{className:"h-4 w-4 text-pink-500 ml-2"})]})},L.value))})})]}),Array.isArray(o.bodyType)&&o.bodyType.length>0?t.jsxs("div",{className:"flex flex-col gap-2 mt-3 bg-pink-50/50 dark:bg-pink-950/20 p-3 rounded-lg border border-pink-100 dark:border-pink-900/30 max-h-[120px] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[t.jsx("span",{className:"text-xs font-medium text-pink-700 dark:text-pink-300",children:"Selected:"}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>{le("bodyType",[]);try{const L=e==null?void 0:e.id;L&&localStorage.setItem(`dating_preferences_${L}_bodyType`,JSON.stringify([]))}catch(L){console.error("Error saving body type to localStorage:",L)}},className:"h-6 text-[10px] text-pink-600 hover:bg-pink-50 -mt-1 -mr-1",children:[t.jsx(mt,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.bodyType.map(L=>{const q=y.find(H=>H.value===L);return t.jsxs(St,{className:"bg-pink-500 hover:bg-pink-600 px-2.5 py-0.5 text-xs shadow-sm flex-shrink-0 dating-preferences-font",onClick:()=>{const ge=(Array.isArray(o.bodyType)?o.bodyType:[]).filter(ke=>ke!==L);console.log("Removing body type:",{bodyTypeValue:L,newBodyTypes:ge}),le("bodyType",ge);try{const ke=e==null?void 0:e.id;ke&&localStorage.setItem(`dating_preferences_${ke}_bodyType`,JSON.stringify(ge))}catch(ke){console.error("Error saving body type to localStorage:",ke)}},children:[q?q.label:L,t.jsx(mt,{className:"h-3 w-3 ml-1 inline-block"})]},L)})})]}):t.jsx("div",{className:"text-xs text-gray-500 mt-2 italic px-1",children:"Select one or more body types that you're interested in"})]}),t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-white dark:bg-gray-900 shadow-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs(mr,{className:"font-semibold flex items-center text-gray-800 dark:text-gray-200 text-sm",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2",children:t.jsx($n,{className:"h-4 w-4 text-pink-500"})}),"Preferred Distance"]})}),t.jsxs(fr,{value:o.distance!==null&&o.distance!==void 0?o.distance.toString():void 0,onValueChange:L=>{const q=L==="-1"?-1:parseInt(L,10);console.log("Distance preference changed:",{value:L,numValue:q}),le("distance",q);try{const H=e==null?void 0:e.id;H&&localStorage.setItem(`dating_preferences_${H}_distance`,JSON.stringify(q))}catch(H){console.error("Error saving distance to localStorage:",H)}},children:[t.jsx(hr,{className:"w-full border-pink-200 dark:border-pink-900/50 bg-white dark:bg-gray-800 mt-1",children:t.jsx(gr,{placeholder:"Select preferred distance"})}),t.jsx(pr,{children:t.jsx(wP,{children:b.map(L=>t.jsx(G,{value:L.value.toString(),children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"font-medium",children:L.label}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:L.description})]})},L.value))})})]}),o.distance!==null&&o.distance!==void 0&&t.jsx("div",{className:"mt-3 bg-pink-50/50 dark:bg-pink-950/20 p-2.5 rounded-lg border border-pink-100 dark:border-pink-900/30",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-medium text-pink-700 dark:text-pink-300",children:((De=b.find(L=>L.value===o.distance))==null?void 0:De.label)||"Custom distance"}),t.jsx("span",{className:"text-xs text-pink-600 dark:text-pink-400",children:((se=b.find(L=>L.value===o.distance))==null?void 0:se.description)||"Custom range"})]}),t.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{le("distance",null);try{const L=e==null?void 0:e.id;L&&localStorage.removeItem(`dating_preferences_${L}_distance`)}catch(L){console.error("Error removing distance from localStorage:",L)}},className:"h-6 text-[10px] text-pink-600 hover:bg-pink-50",children:t.jsx(mt,{className:"h-3 w-3"})})]})})]})]})]})}),m==="background"&&t.jsx("div",{className:"animate-in fade-in duration-300 absolute inset-0 overflow-y-auto pb-10 max-h-full",children:t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsx(On,{className:"py-1 px-1",children:t.jsx("div",{className:"h-1"})}),t.jsxs($r,{className:"p-4 space-y-5",children:[t.jsxs("div",{ref:Ue.religion,className:"p-4 rounded-xl border-2 border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-3 shadow-sm",children:t.jsx("span",{className:"text-pink-500 text-lg",children:""})}),"Religion"]}),t.jsxs(Or,{children:[t.jsx(Lu,{asChild:!0,children:t.jsxs(de,{variant:"outline",size:"sm",className:"border-pink-200 bg-white hover:bg-pink-50 text-pink-700 dark:bg-gray-800 dark:border-gray-700 dark:text-pink-400 dark:hover:bg-gray-700",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Select Religions"]})}),t.jsxs(Dr,{className:"sm:max-w-[380px] rounded-3xl bg-gradient-to-b from-gray-900/95 via-purple-950/90 to-gray-900/95 border border-purple-500/40 shadow-[0_0_25px_rgba(168,85,247,0.25)] overflow-hidden backdrop-blur-xl",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-full animate-pulse blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-tr from-amber-500 to-orange-600 dark:from-amber-600 dark:to-orange-700 rounded-full animate-pulse animation-delay-2000 blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -right-16 w-48 h-48 bg-gradient-to-tr from-blue-500 to-indigo-600 dark:from-blue-600 dark:to-indigo-700 rounded-full animate-pulse animation-delay-4000 blur-3xl mix-blend-overlay"})]}),t.jsxs(ud,{className:"absolute top-4 right-4 rounded-full w-8 h-8 bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors shadow-md border border-white/20 z-50",children:[t.jsx(mt,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"absolute inset-0 border border-purple-500/40 rounded-3xl glow-effect"}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md",children:[t.jsxs(pn,{className:"pb-0",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mx-auto mb-3 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-white text-base tracking-wider",children:"Faith Preferences"})]}),t.jsxs("div",{className:"relative py-4 px-2 flex flex-col items-center",children:[t.jsx("p",{className:"text-xs text-center text-gray-300 mb-3 px-3",children:"Select the religious backgrounds you're interested in"}),t.jsx("div",{className:"relative rounded-2xl py-3 px-2 bg-black/30 backdrop-blur-xl border border-white/10 shadow-inner w-full max-h-[350px] overflow-y-auto",children:t.jsx("div",{className:"grid grid-cols-1 gap-3 max-w-sm mx-auto",children:ai.map(L=>t.jsxs("div",{className:"mb-2",children:[t.jsx("h3",{className:"text-white text-sm font-medium mb-2 px-2 opacity-80",children:L.name}),t.jsx("div",{className:"flex flex-wrap gap-1.5 px-1",children:L.denominations.map(q=>{const H=o.religion.includes(q.value);return t.jsxs(St,{className:`cursor-pointer text-xs py-1 px-2.5 transition-all ${H?"bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:from-pink-600 hover:to-purple-700":"bg-white/10 text-gray-200 hover:bg-white/20 hover:text-white"} backdrop-blur-md border ${H?"border-pink-400/50":"border-white/10"}`,onClick:()=>{const ge=o.religion.includes(q.value)?o.religion.filter(ke=>ke!==q.value):[...o.religion,q.value];le("religion",ge)},children:[q.name,H&&t.jsx(At,{className:"h-3 w-3 ml-1 inline-block"})]},q.value)})})]},L.value))})})]})]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-pink-100 dark:border-pink-900/30 p-4",children:o.religion.length>0?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:o.religion.map(L=>t.jsxs(St,{className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 px-2.5 py-1 text-xs shadow-sm text-white flex items-center",onClick:()=>{const q=o.religion.filter(H=>H!==L);le("religion",q)},children:[Yg(L),t.jsx(mt,{className:"h-3 w-3 ml-1.5"})]},L))}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>le("religion",[]),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),"Clear All"]})})]}):t.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-3",children:"No religious preferences selected"})})]}),t.jsxs("div",{className:"p-4 rounded-xl border-2 border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-3 shadow-sm",children:t.jsx($n,{className:"h-5 w-5 text-pink-500"})}),xr(e==null?void 0:e.dateOfBirth)?"Where should friendship come from?":"Where should Love come from?"]})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-pink-100 dark:border-pink-900/30 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:a==="ANYWHERE"?" Anywhere in the world":` ${a}`})}),t.jsxs(de,{variant:"outline",size:"sm",className:"border-pink-200 bg-white hover:bg-pink-50 text-pink-700 dark:bg-gray-800 dark:border-gray-700 dark:text-pink-400 dark:hover:bg-gray-700",onClick:()=>{try{sessionStorage.setItem("nationalityReturnTo","/dating-preferences"),console.log("[NATIONALITY-NAVIGATION]  CLICKED CHANGE LOCATION BUTTON "),console.log("[NATIONALITY-NAVIGATION] Set return destination to /dating-preferences"),console.log("[NATIONALITY-NAVIGATION] Current location:",window.location.pathname),console.log("[NATIONALITY-NAVIGATION] SessionStorage nationalityReturnTo set to:",sessionStorage.getItem("nationalityReturnTo"))}catch(L){console.warn("[NATIONALITY-NAVIGATION] Failed to set return destination:",L)}console.log("[NATIONALITY-NAVIGATION] About to navigate to /nationality"),n("/nationality")},children:[t.jsx($n,{className:"h-4 w-4 mr-1"})," Change Location"]})]}),t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:xr(e==null?void 0:e.dateOfBirth)?"Choose where you'd like to find friends from":"Choose where you'd like to find love from"})]})]}),t.jsx("div",{ref:Ue.tribes,children:t.jsx(gge,{tribes:o.tribes,onChange:L=>{if(le("tribes",L),e!=null&&e.id){const q=`dating_preferences_${e.id}_tribes`;try{localStorage.setItem(q,JSON.stringify(L)),console.log(`Saved tribes to localStorage for user ${e.id}:`,L),R.mutate({...o,tribes:L})}catch(H){console.error("Error saving tribes:",H)}}}})}),t.jsx("div",{ref:Ue.educationLevel,children:t.jsx(xge,{educationLevel:o.educationLevel,onChange:L=>le("educationLevel",L),educationOptions:v})})]})]})}),m==="lifestyle"&&t.jsx("div",{className:"animate-in fade-in duration-300 absolute inset-0 overflow-y-auto pb-10 max-h-full",children:t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsx(On,{className:"py-1 px-1",children:t.jsx("div",{className:"h-1"})}),t.jsxs($r,{className:"p-4 space-y-5",children:[!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs("div",{className:"flex flex-row gap-3 justify-between",children:[t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm flex-1",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-sm mb-2",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2 shadow-sm",children:t.jsx(o1,{className:"h-3.5 w-3.5 text-pink-500"})}),"Has Children"]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex justify-center items-center",children:t.jsxs("div",{className:"w-full max-w-[150px] flex",children:[t.jsx(St,{className:`px-3 py-1 cursor-pointer text-xs dating-preferences-font flex-1 rounded-l-md rounded-r-none ${o.hasChildren===!0?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:()=>le("hasChildren",!0),children:"YES"}),t.jsx(St,{className:`px-3 py-1 cursor-pointer text-xs dating-preferences-font flex-1 rounded-r-md rounded-l-none ${o.hasChildren===!1?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:()=>le("hasChildren",!1),children:"NO"})]})}),o.hasChildren!==null&&t.jsx("div",{className:"flex justify-center",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>le("hasChildren",null),className:"h-6 text-[10px] border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-2.5 w-2.5 mr-1 text-gray-500"}),"Clear"]})})]}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-2 italic px-1 text-center",children:"Has children already"})]}),t.jsxs("div",{className:"p-3 rounded-xl border border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm flex-1",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-sm mb-2",children:[t.jsx("div",{className:"p-1.5 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-2 shadow-sm",children:t.jsx(xT,{className:"h-3.5 w-3.5 text-pink-500"})}),"Wants Children"]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex justify-center items-center",children:t.jsxs("div",{className:"w-full max-w-[150px] flex",children:[t.jsx(St,{className:`px-3 py-1 cursor-pointer text-xs dating-preferences-font flex-1 rounded-l-md rounded-r-none ${o.wantsChildren===!0?"bg-gradient-to-r from-pink-500 to-purple-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:()=>le("wantsChildren",!0),children:"YES"}),t.jsx(St,{className:`px-3 py-1 cursor-pointer text-xs dating-preferences-font flex-1 rounded-r-md rounded-l-none ${o.wantsChildren===!1?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,onClick:()=>le("wantsChildren",!1),children:"NO"})]})}),o.wantsChildren!==null&&t.jsx("div",{className:"flex justify-center",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>le("wantsChildren",null),className:"h-6 text-[10px] border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-2.5 w-2.5 mr-1 text-gray-500"}),"Clear"]})})]}),t.jsx("div",{className:"text-[10px] text-gray-500 mt-2 italic px-1 text-center",children:"Wants future children"})]})]}),t.jsxs("div",{ref:Ue.interests,className:"p-4 rounded-xl border-2 border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-3 shadow-sm",children:t.jsx(vu,{className:"h-5 w-5 text-pink-500"})}),"Interests"]}),t.jsxs(Or,{children:[t.jsx(Lu,{asChild:!0,children:t.jsxs(de,{variant:"outline",size:"sm",className:"border-pink-200 bg-white hover:bg-pink-50 text-pink-700 dark:bg-gray-800 dark:border-gray-700 dark:text-pink-400 dark:hover:bg-gray-700",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Edit Interests"]})}),t.jsxs(Dr,{className:"sm:max-w-[380px] rounded-3xl bg-gradient-to-b from-gray-900/95 via-purple-950/90 to-gray-900/95 border border-purple-500/40 shadow-[0_0_25px_rgba(168,85,247,0.25)] overflow-hidden backdrop-blur-xl",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-fuchsia-500 to-purple-600 dark:from-fuchsia-600 dark:to-purple-700 rounded-full animate-pulse blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-tr from-cyan-500 to-blue-600 dark:from-cyan-600 dark:to-blue-700 rounded-full animate-pulse animation-delay-2000 blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -right-16 w-48 h-48 bg-gradient-to-tr from-pink-500 to-rose-600 dark:from-pink-600 dark:to-rose-700 rounded-full animate-pulse animation-delay-4000 blur-3xl mix-blend-overlay"})]}),t.jsxs(ud,{className:"absolute top-4 right-4 rounded-full w-8 h-8 bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors shadow-md border border-white/20 z-50",children:[t.jsx(mt,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"absolute inset-0 border border-purple-500/40 rounded-3xl glow-effect"}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md",children:[t.jsxs(pn,{className:"pb-0",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mx-auto mb-3 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-white text-base tracking-wider",children:"Select Your Interests"})]}),t.jsxs("div",{className:"relative py-3 px-1 flex flex-col items-center",children:[t.jsx("p",{className:"text-xs text-center text-gray-200 mb-2 px-2",children:"Match with people who share your hobbies"}),t.jsx("div",{className:"relative rounded-xl p-2 bg-black/30 backdrop-blur-xl border border-purple-500/20 shadow-inner max-w-[350px]",children:t.jsx("div",{className:"max-h-[600px] overflow-y-auto pr-1 custom-scrollbar",children:t.jsx(B8,{selectedInterests:o.interests,onSelectInterest:L=>{try{console.log(`Adding interest: ${L}`);const q=[...o.interests,L];le("interests",q)}catch(q){console.error("Error adding interest:",q),r({title:"Error Adding Interest",description:q instanceof Error?q.message:"Unknown error",variant:"destructive"})}},onRemoveInterest:L=>{const q=o.interests.filter(H=>H!==L);le("interests",q)},maxInterests:10,horizontalCategories:!1,darkMode:!0,compactLayout:!0})})})]})]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-pink-100 dark:border-pink-900/30 p-4",children:o.interests.length>0?t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:o.interests.map((L,q)=>{const H=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90","from-teal-500/90 to-cyan-500/90"],ge=H[q%H.length],ke=L;return t.jsx(St,{className:`bg-gradient-to-r ${ge} text-white shadow-md text-xs py-1 px-3 border-0`,children:ke},`${L}-${q}`)})}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>le("interests",[]),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),"Clear All"]})})]}):t.jsx("p",{className:"text-gray-500 text-sm text-center italic",children:"Select interests to find better matches"})}),t.jsx("div",{className:"text-xs text-gray-500 mt-2 italic px-1",children:"Select all interests that you would like your match to have"})]}),t.jsxs("div",{ref:Ue.matchingPriorities,className:"p-4 rounded-xl border-2 border-pink-100 dark:border-pink-900/30 bg-gradient-to-br from-white to-pink-50/30 dark:from-gray-900 dark:to-pink-950/10 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs(mr,{className:"font-semibold flex items-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400 text-base",children:[t.jsx("div",{className:"p-2 rounded-full bg-pink-100 dark:bg-pink-900/30 mr-3 shadow-sm",children:t.jsx(Ss,{className:"h-5 w-5 text-pink-500"})}),"Matching Priorities"]}),t.jsxs(Or,{children:[t.jsx(Lu,{asChild:!0,children:t.jsxs(de,{variant:"outline",size:"sm",className:"border-pink-200 bg-white hover:bg-pink-50 text-pink-700 dark:bg-gray-800 dark:border-gray-700 dark:text-pink-400 dark:hover:bg-gray-700",children:[t.jsx(ka,{className:"h-4 w-4 mr-1"})," Set Priorities"]})}),t.jsxs(Dr,{className:"sm:max-w-[380px] rounded-3xl bg-gradient-to-b from-gray-900/95 via-purple-950/90 to-gray-900/95 border border-purple-500/40 shadow-[0_0_25px_rgba(168,85,247,0.25)] overflow-hidden backdrop-blur-xl",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[t.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-full animate-pulse blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute -bottom-32 -left-16 w-56 h-56 bg-gradient-to-tr from-amber-500 to-orange-600 dark:from-amber-600 dark:to-orange-700 rounded-full animate-pulse animation-delay-2000 blur-3xl mix-blend-overlay"}),t.jsx("div",{className:"absolute top-1/3 -right-16 w-48 h-48 bg-gradient-to-tr from-blue-500 to-indigo-600 dark:from-blue-600 dark:to-indigo-700 rounded-full animate-pulse animation-delay-4000 blur-3xl mix-blend-overlay"})]}),t.jsxs(ud,{className:"absolute top-4 right-4 rounded-full w-8 h-8 bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors shadow-md border border-white/20 z-50",children:[t.jsx(mt,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"absolute inset-0 border border-purple-500/40 rounded-3xl glow-effect"}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md",children:[t.jsxs(pn,{className:"pb-0",children:[t.jsx("div",{className:"w-12 h-1 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 mx-auto mb-3 glow-sm"}),t.jsx(Jr,{className:"text-center font-semibold text-white text-base tracking-wider",children:"Your Top Priorities"})]}),t.jsxs("div",{className:"relative py-4 px-2 flex flex-col items-center",children:[t.jsx("p",{className:"text-xs text-center text-gray-300 mb-3 px-3",children:"Select your top 3 priorities in order of importance"}),t.jsx("div",{className:"relative rounded-2xl py-3 px-2 bg-black/30 backdrop-blur-xl border border-white/10 shadow-inner w-full",children:t.jsx("div",{className:"grid grid-cols-1 gap-2 max-w-sm mx-auto",children:M.map(L=>{const q=o.matchingPriorities.includes(L.value),H=q?o.matchingPriorities.indexOf(L.value):-1,ge=["from-pink-500 to-purple-600","from-amber-500 to-orange-500","from-blue-500 to-indigo-600"];return t.jsx("div",{className:`relative rounded-xl cursor-pointer transition-all p-2.5 hover:scale-[1.02] ${q?`border-0 bg-gradient-to-r ${ge[H]} shadow-lg`:"border border-white/5 dark:border-white/5 hover:border-purple-500/30 bg-black/20 backdrop-blur-xl hover:bg-black/30 text-gray-300"}`,onClick:()=>{let ke=[...o.matchingPriorities];if(q)ke=ke.filter(z=>z!==L.value);else if(ke.length<3)ke.push(L.value);else{r({title:"Maximum Reached",description:"You can only select up to 3 priorities",variant:"default"});return}le("matchingPriorities",ke)},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:q?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex items-center justify-center h-7 w-7 rounded-full bg-white/20 text-white font-medium text-xs shadow-md backdrop-blur-sm",children:H+1}),t.jsx("span",{className:"text-sm font-medium text-white",children:L.label})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-7 w-7 rounded-full border border-purple-500/30 flex items-center justify-center bg-black/30 backdrop-blur-md shadow-inner",children:t.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-purple-400/50"})}),t.jsx("span",{className:"text-sm font-medium text-gray-300",children:L.label})]})}),q&&t.jsx(Ss,{className:"h-4 w-4 text-white ml-1"})]})},L.value)})})})]})]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-pink-100 dark:border-pink-900/30 p-4",children:o.matchingPriorities.length>0?t.jsxs("div",{className:"flex flex-col space-y-2.5",children:[o.matchingPriorities.map((L,q)=>{const H=M.find(ke=>ke.value===L);if(!H)return null;const ge=["from-pink-500 to-purple-600","from-amber-500 to-orange-500","from-blue-500 to-indigo-600"];return t.jsxs("div",{className:"flex items-center rounded-lg p-2.5 bg-gradient-to-r from-purple-50/90 to-pink-50/90 dark:from-purple-900/10 dark:to-pink-900/10 border border-purple-100 dark:border-purple-900/20",children:[t.jsx("div",{className:`flex items-center justify-center h-7 w-7 rounded-full bg-gradient-to-r ${ge[q]} text-white font-semibold text-sm mr-3 shadow-sm`,children:q+1}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:H.label}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:q===0?"Most important factor in matching":q===1?"Secondary matching priority":"Third matching priority"})]})]},L)}),o.matchingPriorities.length>0&&t.jsx("div",{className:"flex justify-end mt-2",children:t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>le("matchingPriorities",[]),className:"h-7 text-xs border-gray-300 text-gray-600 hover:bg-gray-100 flex items-center",children:[t.jsx(mt,{className:"h-3.5 w-3.5 mr-1 text-gray-500"}),"Clear All"]})})]}):t.jsxs("div",{className:"text-center py-3",children:[t.jsx(Ss,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500 text-sm italic",children:"Select your top matching priorities"})]})}),t.jsx("div",{className:"text-xs text-gray-500 mt-2 italic px-1",children:"Choose what matters most to you in a potential match"})]})]})]})}),m==="dealbreakers"&&!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs("div",{className:"animate-in fade-in duration-300 absolute inset-0 overflow-y-auto pb-10 max-h-full",children:[t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden",children:[t.jsx(On,{className:"py-1 px-1",children:t.jsx("div",{className:"h-1"})}),t.jsxs($r,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[w.map(L=>t.jsx("div",{className:`relative rounded-lg border cursor-pointer transition-all p-1 ${o.dealBreakers.includes(L.value)?"border-pink-500 bg-gradient-to-br from-pink-100 to-purple-100 dark:from-pink-900/60 dark:to-purple-900/60 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${S(L.value)}`,onClick:()=>{const q=o.dealBreakers.includes(L.value)?o.dealBreakers.filter(H=>H!==L.value):[...o.dealBreakers,L.value];le("dealBreakers",q)},children:t.jsxs("div",{className:"flex items-center gap-1",children:[o.dealBreakers.includes(L.value)?t.jsx(nC,{className:"h-3.5 w-3.5 text-pink-500 flex-shrink-0"}):t.jsx("div",{className:"h-3.5 w-3.5 rounded-full border-2 border-gray-300 dark:border-gray-600 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium",children:L.label})]})},L.value)),T.map(L=>{const q=`custom_${L.id}`;return t.jsx("div",{className:`relative rounded-lg border cursor-pointer transition-all p-1 ${o.dealBreakers.includes(q)?"border-pink-500 bg-gradient-to-br from-pink-100 to-purple-100 dark:from-pink-900/60 dark:to-purple-900/60 shadow-md":"border-gray-200 dark:border-gray-700 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50"} ${S(q)}`,onClick:()=>{const H=o.dealBreakers.includes(q)?o.dealBreakers.filter(ge=>ge!==q):[...o.dealBreakers,q];le("dealBreakers",H)},children:t.jsxs("div",{className:"flex items-center gap-1",children:[o.dealBreakers.includes(q)?t.jsx(nC,{className:"h-3.5 w-3.5 text-pink-500 flex-shrink-0"}):t.jsx("div",{className:"h-3.5 w-3.5 rounded-full border-2 border-gray-300 dark:border-gray-600 flex-shrink-0"}),t.jsx("span",{className:"text-xs font-medium",children:L.dealBreaker})]})},q)}),t.jsx("div",{className:"relative rounded-lg border border-dashed border-pink-300 dark:border-pink-700 cursor-pointer hover:border-pink-500 hover:bg-pink-50/30 dark:hover:bg-pink-900/10 transition-all p-1",onClick:()=>P(!0),children:t.jsxs("div",{className:"flex items-center justify-center gap-1 text-pink-500",children:[t.jsx(ka,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"text-xs font-medium",children:"Add Other"})]})})]}),t.jsx(Or,{open:N,onOpenChange:P,children:t.jsxs(Dr,{className:"sm:max-w-md",children:[t.jsx(pn,{children:t.jsx(Jr,{className:"text-center text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400",children:"Add Custom Deal Breaker"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rounded-full bg-pink-100 dark:bg-pink-900/30 p-2",children:t.jsx(iC,{className:"h-4 w-4 text-pink-500"})}),t.jsxs("div",{children:[t.jsx(mr,{htmlFor:"customDealBreaker",className:"text-sm font-medium",children:"What's a deal breaker for you?"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Add something specific that would make you not want to match with someone"})]})]}),t.jsx(Je,{id:"customDealBreaker",value:C,onChange:L=>I(L.target.value.slice(0,20)),placeholder:"e.g., Doesn't like pets (max 20 chars)",className:"w-full",maxLength:20}),t.jsxs("div",{className:"text-xs text-right text-gray-500",children:[C.length,"/20 characters"]}),k&&t.jsx("div",{className:"flex justify-center",children:t.jsx(sn,{className:"h-5 w-5 animate-spin text-pink-500"})})]}),t.jsxs(Tc,{className:"flex sm:justify-between",children:[t.jsx(de,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"}),t.jsx(de,{type:"button",onClick:ue,disabled:!C.trim()||F,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:from-pink-600 hover:to-purple-700",children:F?t.jsxs(t.Fragment,{children:[t.jsx(sn,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ka,{className:"mr-2 h-4 w-4"}),"Add Deal Breaker"]})})]})]})})]})]}),!xr(e==null?void 0:e.dateOfBirth)&&t.jsxs(wr,{className:"border-none shadow-sm overflow-hidden mt-4",children:[t.jsxs(On,{className:"py-3 px-4",children:[t.jsx(ca,{className:"text-base font-semibold text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400",children:"Relationship Goals"}),t.jsx(jo,{className:"text-xs text-gray-600 dark:text-gray-400",children:"Share what you're looking for in a relationship"})]}),t.jsx($r,{className:"p-4 space-y-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{id:"relationshipGoal",value:o.relationshipGoalPreference||"",onChange:L=>le("relationshipGoalPreference",L.target.value.slice(0,100)),placeholder:"e.g., Looking for someone serious about marriage, wanting to build a family together...",className:"w-full h-24 p-3 pr-12 border border-gray-200 dark:border-gray-700 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent bg-white dark:bg-gray-800 text-sm",maxLength:100}),t.jsx("div",{className:"absolute bottom-3 right-3",children:t.jsxs("span",{className:"text-xs text-gray-400",children:[(o.relationshipGoalPreference||"").length,"/100"]})})]}),o.relationshipGoalPreference&&o.relationshipGoalPreference.length>0&&t.jsx("div",{className:"p-2 rounded-lg border border-pink-100 dark:border-pink-800 bg-pink-50/50 dark:bg-pink-900/10",children:t.jsxs("p",{className:"text-xs text-pink-700 dark:text-pink-300",children:[t.jsx("span",{className:"font-medium",children:"Your relationship goal:"})," ",o.relationshipGoalPreference]})})]})})]}),t.jsx(wr,{className:"border-none shadow-sm overflow-hidden mt-4",children:t.jsxs($r,{className:"p-4",children:[t.jsx("div",{className:"mt-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 p-3 rounded-lg border border-purple-100 dark:border-purple-800 shadow-sm",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"rounded-full bg-purple-100 dark:bg-purple-900/50 p-1.5 mr-2.5 flex-shrink-0",children:t.jsx(xn,{className:"h-4 w-4 text-purple-500"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600 dark:from-pink-400 dark:to-purple-400",children:"AI-Powered Matching"}),t.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1 leading-relaxed",children:"CHARLEY AI uses your deal breakers and relationship goals to ensure you only see people who meet your requirements and share similar intentions."})]})]})}),o.dealBreakers.length>0&&t.jsx("div",{className:"mt-3 p-2 rounded-lg border border-pink-100 dark:border-pink-800 bg-pink-50/50 dark:bg-pink-900/10",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("p",{className:"text-xs text-pink-700 dark:text-pink-300",children:[t.jsx("span",{className:"font-medium",children:"Your deal breakers:"})," ",o.dealBreakers.map((L,q)=>{if(L.startsWith("custom_")){console.log(`Resolving deal breaker: ${L}`),console.log("globalDealBreakers array:",T),console.log("isLoading:",k);const ge=parseInt(L.replace("custom_",""));console.log("Looking for dealBreakerId:",ge);const ke=T.find(z=>z.id===ge);console.log("Found deal breaker:",ke)}const H=w.find(ge=>ge.value===L);if(H)return t.jsxs("span",{children:[q>0&&", ",H.label]},L);if(L.startsWith("custom_")){const ge=parseInt(L.replace("custom_",""));let ke=T.find(z=>z.id===ge);return ke||(ke=T.find(z=>Number(z.id)===Number(ge))),ke||(ke=T.find(z=>String(z.id)===String(ge))),ke?t.jsxs("span",{children:[q>0&&", ",ke.dealBreaker]},L):k?t.jsxs("span",{children:[q>0&&", ",t.jsx("span",{className:"inline-flex items-center",children:t.jsx("div",{className:"w-12 h-3 bg-pink-200 animate-pulse rounded"})})]},L):(console.warn(`Custom deal breaker ${L} not found in globalDealBreakers:`,T),t.jsxs("span",{children:[q>0&&", ",L]},L))}return null})]}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>le("dealBreakers",[]),className:"h-6 text-[10px] text-pink-600 hover:bg-pink-50 -mt-1 -mr-1",children:[t.jsx(mt,{className:"h-3 w-3 mr-1"}),"Clear All"]})]})})]})})]})]})]})}function vge(){const{user:e}=Sr();Wr();const r=()=>{window.history.back()},n={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},a={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}}};return t.jsxs(E.div,{className:"min-h-screen flex flex-col bg-gradient-to-b from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",initial:"initial",animate:"animate",exit:"exit",variants:n,children:[t.jsx("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-purple-600 to-pink-500 text-white flex-shrink-0 shadow-md",children:t.jsx("div",{className:"px-3 py-2 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{className:"mr-3 p-2 rounded-full bg-white/20 hover:bg-white/30 active:bg-white/40 transform hover:scale-105 active:scale-95 transition-all duration-200 text-white",onClick:r,"aria-label":"Go back",children:t.jsx(Wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),t.jsx("h2",{className:"font-heading text-lg sm:text-xl font-bold tracking-tight",children:xr(e==null?void 0:e.dateOfBirth)?"Friendship Preferences":"Dating Preferences"})]})})}),t.jsx("div",{className:"p-3 flex-grow flex flex-col",children:t.jsx(E.div,{variants:a,className:"relative",children:t.jsx(yge,{})})})]})}const uv=u.forwardRef(({className:e,...r},n)=>t.jsx("span",{ref:n,className:We("absolute w-px h-px p-0 overflow-hidden whitespace-nowrap clip-rect-0",e),...r}));uv.displayName="VisuallyHidden";function yS({matchedUser:e,currentUser:r,open:n,onClose:a,matchId:s}){const[,i]=lr();if(u.useEffect(()=>{if(n){try{const p=new(window.AudioContext||window.webkitAudioContext),f=p.createOscillator(),x=p.createGain();f.connect(x),x.connect(p.destination),f.type="sine",f.frequency.value=587.33,x.gain.value=.3,f.start(),setTimeout(()=>{f.frequency.value=659.25,setTimeout(()=>{f.frequency.value=783.99,setTimeout(()=>{f.stop()},200)},200)},200)}catch{console.log("Audio notification failed, but match popup still shown")}console.log(" MATCH POPUP OPEN AND DISPLAYED! ")}const d=p=>{if(n)return p.preventDefault(),p.returnValue="",""};window.addEventListener("beforeunload",d);const m=p=>{if(n){const f=p.target;!f.closest(".match-popup-content")&&!f.closest('[role="dialog"]')&&!f.classList.contains("match-action-button")&&(console.log(" Blocking navigation attempt during match popup"),p.preventDefault(),p.stopPropagation())}};document.addEventListener("click",m,!0);const h=p=>{n&&(p.key==="Escape"&&(p.preventDefault(),p.stopPropagation()),p.key==="Backspace"&&(!p.target||!p.target.closest("input, textarea"))&&p.preventDefault())};return document.addEventListener("keydown",h,!0),()=>{window.removeEventListener("beforeunload",d),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",h,!0)}},[n]),!e)return null;const o=Ma(),l=async()=>{const d=document.querySelector(".send-message-btn");if(d&&(d.disabled=!0,d.textContent="Opening Chat..."),s)try{Ri(()=>Promise.resolve().then(()=>Bx),void 0).then(m=>{m.sendMatchPopupClosed(s,r==null?void 0:r.id,!0)?console.log(` Successfully sent match_popup_closed WebSocket message using service for match ${s}`):(console.log(" WebSocket service failed to send message - will retry when connection is restored"),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,sendMessage:!0,userId:r==null?void 0:r.id,timestamp:new Date().toISOString()})),console.log(` Sent match_popup_closed WebSocket message with fallback for match ${s}`)))}).catch(m=>{console.error("Error importing WebSocket service:",m),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,sendMessage:!0,userId:r==null?void 0:r.id})),console.log(` Sent match_popup_closed WebSocket message with legacy method for match ${s}`))})}catch(m){console.error("Error sending WebSocket message:",m)}a();try{try{localStorage.removeItem("pending_match_popup")}catch{}try{sessionStorage.removeItem("pending_match_popup")}catch{}if(s){try{localStorage.removeItem(`displaying_match_${s}`)}catch{}try{sessionStorage.removeItem(`displaying_match_${s}`)}catch{}try{localStorage.removeItem(`match_display_time_${s}`)}catch{}try{sessionStorage.removeItem(`match_display_time_${s}`)}catch{}try{localStorage.setItem("match_popup_closed",String(s))}catch{}try{sessionStorage.setItem("match_popup_closed",String(s))}catch{}try{localStorage.setItem("match_popup_send_message","true")}catch{}try{sessionStorage.setItem("match_popup_send_message","true")}catch{}window.dispatchEvent(new CustomEvent("match:popup:closed",{detail:{matchId:s,sendMessage:!0}}))}}catch(m){console.error("Error clearing match popup flags:",m)}if(s){if(console.log(" Preparing match data before navigation to chat"),e&&s){const h=JSON.stringify({id:s,userId1:r.id,userId2:e.id,matched:!0,user:e,createdAt:new Date().toISOString()});try{sessionStorage.setItem(`match_data_${s}`,h),console.log(" Backup match data saved to sessionStorage")}catch(p){console.warn("Could not save match data to sessionStorage:",p)}try{localStorage.setItem(`match_data_${s}`,h),console.log(" Backup match data saved to localStorage")}catch(p){console.error("Error saving backup match data to localStorage:",p)}}const m=o.getQueryData(["/api/matches"]);if(!m||!m.find(h=>h.id===s)){console.log(" Match data not found in cache, pre-fetching for chat navigation");try{o.prefetchQuery({queryKey:["/api/matches"],staleTime:0}).catch(h=>console.error("Background match prefetch error:",h))}catch(h){console.error("Failed to start prefetch:",h)}}console.log(" Invalidating queries to ensure match appears in messages list"),o.invalidateQueries({queryKey:["/api/matches"]}),o.fetchQuery({queryKey:["/api/matches"]}).catch(h=>console.error("Error refetching matches:",h)),window.dispatchEvent(new CustomEvent("match:created",{detail:{matchId:s,userId1:r.id,userId2:e.id}}));try{sessionStorage.setItem("newly_created_match",s.toString()),console.log(" Match flag stored in sessionStorage")}catch(h){console.warn("Could not store match flag in sessionStorage:",h)}try{localStorage.setItem("newly_created_match",s.toString()),console.log(" Match flag stored in localStorage")}catch(h){console.warn("Could not store match flag in localStorage:",h)}console.log(" Navigating to chat immediately"),i(`/chat/${s}`)}else console.log(" No match ID available, falling back to messages page"),i("/messages")},c=()=>{if(s)try{Ri(()=>Promise.resolve().then(()=>Bx),void 0).then(d=>{d.sendMatchPopupClosed(s,r==null?void 0:r.id,!1)?console.log(` Successfully sent match_popup_closed WebSocket message using service for match ${s} (Keep Swiping)`):(console.log(" WebSocket service failed to send keep swiping message - will retry when connection is restored"),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,sendMessage:!1,userId:r==null?void 0:r.id,timestamp:new Date().toISOString()})),console.log(` Sent match_popup_closed WebSocket message with fallback for match ${s} (Keep Swiping)`)))}).catch(d=>{console.error("Error importing WebSocket service for keep swiping:",d),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,sendMessage:!1,userId:r==null?void 0:r.id})),console.log(` Sent match_popup_closed WebSocket message with legacy method for match ${s} (Keep Swiping)`))})}catch(d){console.error("Error sending WebSocket message for keep swiping:",d)}try{if(s){const d=`seen_matches_${r.id}`,m=JSON.parse(localStorage.getItem(d)||"[]");m.includes(s)||(m.push(s),localStorage.setItem(d,JSON.stringify(m))),localStorage.setItem("match_popup_closed",String(s)),localStorage.removeItem("match_popup_send_message"),window.dispatchEvent(new CustomEvent("match:popup:closed",{detail:{matchId:s,sendMessage:!1}}))}localStorage.removeItem("pending_match_popup"),s&&(localStorage.removeItem(`displaying_match_${s}`),localStorage.removeItem(`match_display_time_${s}`))}catch(d){console.error("Error updating seen matches:",d)}a()};return t.jsx(Or,{open:n,onOpenChange:a,children:t.jsxs(Dr,{className:"bg-gradient-to-br from-purple-900/80 via-fuchsia-900/70 to-pink-900/80 backdrop-blur-lg border-none text-white max-w-md p-0 overflow-hidden rounded-2xl shadow-2xl","aria-describedby":"match-description",hideCloseButton:!0,children:[t.jsxs(uv,{children:[t.jsx(Jr,{children:"Match Found"}),t.jsx("span",{id:"match-description",children:"You and another user have matched"})]}),t.jsxs(ud,{className:"absolute right-4 top-4 rounded-full p-1.5 bg-white/10 hover:bg-white/20 text-white transition-colors duration-200 z-50",children:[t.jsx(mt,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-md"}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:[...Array(25)].map((d,m)=>t.jsx(E.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-white",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",scale:Math.random()*.5+.5,opacity:0},animate:{y:[Math.random()*100+"%",Math.random()*100+"%"],opacity:[0,.8,0],scale:[Math.random()*.5+.5,Math.random()*.8+.2]},transition:{repeat:1/0,duration:Math.random()*4+3,delay:Math.random()*2}},`particle-${m}`))}),[...Array(8)].map((d,m)=>t.jsx(E.div,{className:"absolute text-pink-300/50",style:{left:`${Math.random()*90}%`,top:`${Math.random()*100}%`,fontSize:`${Math.random()*20+10}px`},initial:{y:100,opacity:0},animate:{y:[100,-20],opacity:[0,.7,0]},transition:{repeat:1/0,duration:Math.random()*5+6,delay:Math.random()*8},children:""},`heart-${m}`)),t.jsx(E.div,{className:"absolute -left-10 top-1/4 text-amber-300/60",animate:{rotate:360,scale:[1,1.2,1]},transition:{repeat:1/0,duration:8,ease:"linear"},children:t.jsx(xn,{className:"h-20 w-20"})}),t.jsx(E.div,{className:"absolute -right-5 bottom-1/3 text-pink-300/60",animate:{rotate:-360,scale:[1,1.1,1]},transition:{repeat:1/0,duration:10,ease:"linear"},children:t.jsx(xn,{className:"h-16 w-16"})})]}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center p-8 match-popup-content",children:[t.jsxs(E.div,{className:"relative mb-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",duration:.8},children:[t.jsx(E.div,{className:"absolute -inset-2 rounded-full bg-gradient-to-r from-purple-400 via-pink-500 to-amber-400",animate:{rotate:360},transition:{repeat:1/0,duration:8,ease:"linear"}}),t.jsx("div",{className:"relative w-28 h-28 rounded-full p-1 bg-black/30 backdrop-blur-sm",children:t.jsx("img",{src:e.photoUrl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",className:"w-full h-full rounded-full object-cover",alt:"Match profile"})}),[...Array(12)].map((d,m)=>t.jsx(E.div,{className:"absolute w-2 h-2 rounded-full",style:{background:`rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*100+155)}, ${Math.floor(Math.random()*100+155)})`},initial:{x:0,y:0,opacity:0},animate:{x:Math.cos(m*Math.PI/6)*90,y:Math.sin(m*Math.PI/6)*90,opacity:[0,1,0]},transition:{repeat:1/0,duration:1.5,delay:m*.1,repeatDelay:2}},`spark-${m}`))]}),t.jsx(E.h2,{className:"font-chopin text-6xl text-transparent bg-clip-text bg-gradient-to-r from-amber-300 via-pink-300 to-purple-300 mb-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:[1,1.05,1]},transition:{delay:.3,duration:.7,scale:{repeat:1/0,duration:2.5,repeatDelay:.5}},children:"It's a Match!"}),t.jsxs(E.p,{className:"text-center text-white/90 mb-8 text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.5},children:["You and ",t.jsx("span",{className:"font-semibold text-amber-300",children:e.fullName.split(" ")[0]})," both liked each other"]}),t.jsx(E.div,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-amber-400/20 pointer-events-none",style:{width:"300px",height:"300px",zIndex:-1},initial:{scale:0,opacity:0,rotate:0},animate:{scale:[0,2.5],opacity:[0,.2,0],rotate:45},transition:{repeat:1/0,duration:4,repeatDelay:1},children:t.jsx(xT,{className:"w-full h-full"})}),t.jsxs(E.div,{className:"flex flex-col space-y-4 w-full",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.5},children:[t.jsx(E.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:t.jsxs(de,{className:"w-full py-6 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold text-lg shadow-lg shadow-amber-800/30 transition-all send-message-btn",onClick:l,children:[t.jsx(wp,{className:"mr-2 h-5 w-5"}),"Send a Message"]})}),t.jsx(E.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:t.jsx(de,{variant:"outline",className:"w-full py-6 border-2 border-white/30 text-white bg-transparent hover:bg-white/10 font-semibold text-lg transition-all",onClick:c,children:"Keep Swiping"})})]})]})]})})}function hF({user:e,isOpen:r,onClose:n,mode:a,profileId:s,profileType:i="networking",additionalData:o,isConnectionResponse:l=!1,requesterUserId:c,isPremium:d=!1,onPremiumUpgradeClick:m}){var I,T,_,k,A,F,V,J;const{user:h}=Sr(),{toast:p}=Wr(),[f,x]=u.useState(!1),[g,v]=u.useState(null);u.useEffect(()=>{if(g){n();const M=setTimeout(()=>{v(null)},800);return()=>clearTimeout(M)}},[g,n]);const y=wt({mutationFn:async M=>{if(!h)throw new Error("User not authenticated");const R=await ze("/api/matches");if(!R.ok)throw new Error("Failed to check existing matches");const X=(await R.json()).find($=>$.userId1===M.userId&&$.userId2===h.id&&!$.matched&&!$.isDislike||$.userId1===h.id&&$.userId2===M.userId&&!$.matched&&!$.isDislike)&&M.action==="like",ae=await ze("/api/matches",{method:"POST",data:{userId1:h.id,userId2:M.userId,matched:X,isDislike:M.action==="dislike"}});if(!ae.ok)throw new Error("Failed to record swipe action");return ae.json()},onSuccess:M=>{M.isMatch&&p({title:"It's a Match! ",description:`You and ${e==null?void 0:e.fullName} liked each other!`}),me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/matches/counts"]}),me.invalidateQueries({queryKey:["/api/discover-users"]})},onError:M=>{p({title:"Error",description:M instanceof Error?M.message:"Failed to process action",variant:"destructive"}),x(!1)},onSettled:()=>{x(!1)}}),b=wt({mutationFn:async M=>{const R=l?"/api/suite/connections/networking/respond":"/api/suite/networking/swipe",B=l?{requesterUserId:M.requesterUserId,targetProfileId:M.profileId,action:M.action==="like"?"accept":"decline"}:M,O=await ze(R,{method:"POST",data:B});if(!O.ok){if(O.status===403){const X=await O.json();if(X.action==="create_profile"&&X.profileType){const ae=new Error("Profile required for networking");throw ae.profileValidationError={profileType:X.profileType,action:X.action},ae}}throw new Error("Failed to record networking swipe action")}return O.json()},onSuccess:M=>{M.isMatch?(p({title:"It's a Connection! ",description:`You and ${e==null?void 0:e.fullName} want to connect!`}),o!=null&&o.connectionId&&window.dispatchEvent(new CustomEvent("connectionCardRemoval",{detail:{connectionId:o.connectionId,isMatch:!0}}))):M.action==="like"||M.action,l&&(M.action==="decline"||M.action==="pass")&&(o!=null&&o.connectionId)&&window.dispatchEvent(new CustomEvent("connectionCardRemoval",{detail:{connectionId:o.connectionId,isMatch:!1}})),me.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),me.invalidateQueries({queryKey:["/api/suite/connections/counts"]})},onError:M=>{if(M!=null&&M.profileValidationError){const{profileType:R}=M.profileValidationError,B=R==="jobs"?"openJob":R==="mentorship"?"openMentorship":"openNetworking";n(),window.location.href=`/profile?${B}=true`;return}p({title:"Error",description:M instanceof Error?M.message:"Failed to process action",variant:"destructive"}),x(!1)},onSettled:()=>{x(!1)}}),w=wt({mutationFn:async M=>{const R=l?"/api/suite/connections/mentorship/respond":"/api/suite/mentorship/swipe",B=l?{requesterUserId:M.requesterUserId,targetProfileId:M.profileId,action:M.action==="like"?"accept":"decline"}:M,O=await ze(R,{method:"POST",data:B});if(!O.ok){if(O.status===403){const X=await O.json();if(X.action==="create_profile"&&X.profileType){const ae=new Error("Profile required for mentorship");throw ae.profileValidationError={profileType:X.profileType,action:X.action},ae}}throw new Error("Failed to record mentorship swipe action")}return O.json()},onSuccess:M=>{me.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),me.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),l&&(M.action==="decline"||M.action==="pass")&&(me.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),me.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),me.invalidateQueries({queryKey:["/api/suite/connections/counts"]}))},onError:M=>{if(M!=null&&M.profileValidationError){const{profileType:R}=M.profileValidationError,B=R==="jobs"?"openJob":R==="mentorship"?"openMentorship":"openNetworking";n(),window.location.href=`/profile?${B}=true`;return}p({title:"Error",description:M instanceof Error?M.message:"Failed to process action",variant:"destructive"}),x(!1)},onSettled:()=>{x(!1)}}),S=wt({mutationFn:async M=>{const R=l?`/api/suite/connections/jobs/${M.applicationId}/respond`:"/api/suite/job/swipe",B=l?{action:M.action==="like"?"accept":"decline"}:M,O=await ze(R,{method:"POST",data:B});if(!O.ok){if(O.status===403){const X=await O.json();if(X.action==="create_profile"&&X.profileType){const ae=new Error("Profile required for jobs");throw ae.profileValidationError={profileType:X.profileType,action:X.action},ae}}throw new Error("Failed to record job application")}return O.json()},onSuccess:M=>{M.isMatch,me.invalidateQueries({queryKey:["/api/suite/connections/job"]}),me.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),l&&(M.action==="decline"||M.action==="pass")&&(me.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),me.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),me.invalidateQueries({queryKey:["/api/suite/connections/job"]}),me.invalidateQueries({queryKey:["/api/suite/connections/counts"]}))},onError:M=>{if(M!=null&&M.profileValidationError){const{profileType:R}=M.profileValidationError,B=R==="jobs"?"openJob":R==="mentorship"?"openMentorship":"openNetworking";n(),window.location.href=`/profile?${B}=true`;return}p({title:"Error",description:M instanceof Error?M.message:"Failed to process job application",variant:"destructive"}),x(!1)},onSettled:()=>{x(!1)}}),N=()=>{!e||f||(x(!0),v("left"),setTimeout(()=>{a==="MEET"?y.mutate({userId:e.id,action:"dislike"}):a==="SUITE"&&s&&(i==="networking"?b.mutate({profileId:s,action:"pass",requesterUserId:l?c:void 0}):i==="mentorship"?w.mutate({profileId:s,action:"pass",requesterUserId:l?c:void 0}):i==="jobs"&&S.mutate({profileId:s,action:"pass",requesterUserId:l?c:void 0,applicationId:l?o==null?void 0:o.connectionId:void 0}))},100))},P=()=>{!e||f||(x(!0),v("right"),setTimeout(()=>{a==="MEET"?y.mutate({userId:e.id,action:"like"}):a==="SUITE"&&s&&(i==="networking"?b.mutate({profileId:s,action:"like",requesterUserId:l?c:void 0}):i==="mentorship"?w.mutate({profileId:s,action:"like",requesterUserId:l?c:void 0}):i==="jobs"&&S.mutate({profileId:s,action:"like",requesterUserId:l?c:void 0,applicationId:l?o==null?void 0:o.connectionId:void 0}))},100))},C=M=>{};return e?t.jsx(Or,{open:r,onOpenChange:n,children:t.jsxs(Dr,{className:"w-[95vw] max-w-md max-h-[95vh] overflow-hidden p-0 bg-transparent border-none shadow-none",children:[t.jsx(Jr,{className:"sr-only",children:"Profile Details"}),t.jsx("div",{className:"h-[calc(100vh-110px)] relative",children:a==="SUITE"&&(i==="networking"||i==="mentorship"||i==="jobs")?t.jsx("div",{className:"h-full flex flex-col",children:t.jsxs("div",{className:`flex-1 relative overflow-hidden rounded-xl bg-white shadow-lg ${g==="left"?i==="networking"?"animate-networking-swipe-left":i==="mentorship"?"animate-mentorship-swipe-left":"animate-job-swipe-left":g==="right"?i==="networking"?"animate-networking-swipe-right":i==="mentorship"?"animate-mentorship-swipe-right":"animate-job-swipe-right":""}`,children:[t.jsxs("div",{className:"relative h-[87%] overflow-hidden",children:[(()=>{let M=!0;if(o&&(o.fieldVisibility||o.visibilityPreferences))try{const B=o.fieldVisibility||o.visibilityPreferences;let O={};typeof B=="string"?O=JSON.parse(B):typeof B=="object"&&(O=B),O.showProfilePhoto===!1&&(M=!1),console.log("EXPANDED MODAL PHOTO VISIBILITY CHECK:",{profileType:i,visibilityData:B,parsedVisibility:O,showProfilePhoto:M})}catch(B){console.error("Error parsing photo visibility preferences:",B)}let R=e.photoUrl;return i==="networking"?o!=null&&o.networkingPrimaryPhotoUrl&&(R=o.networkingPrimaryPhotoUrl):i==="mentorship"&&(o!=null&&o.mentorshipPrimaryPhotoUrl)?R=o.mentorshipPrimaryPhotoUrl:i==="jobs"&&(o!=null&&o.jobPrimaryPhotoUrl)&&(R=o.jobPrimaryPhotoUrl),console.log("EXPANDED MODAL PHOTO DEBUG:",{profileType:i,networkingPrimaryPhotoUrl:o==null?void 0:o.networkingPrimaryPhotoUrl,mentorshipPrimaryPhotoUrl:o==null?void 0:o.mentorshipPrimaryPhotoUrl,userPhotoUrl:e.photoUrl,finalPhotoUrl:R,showProfilePhoto:M}),M&&R?t.jsx("img",{src:R,className:"w-full h-full object-cover",alt:`${e.fullName} photo`,loading:"eager"}):t.jsx("div",{className:`w-full h-full flex items-center justify-center ${i==="networking"?"bg-gradient-to-br from-emerald-50 via-teal-100 to-green-50":i==="mentorship"?"bg-gradient-to-br from-purple-50 via-pink-100 to-indigo-50":"bg-gradient-to-br from-blue-50 via-indigo-100 to-cyan-50"}`,children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm px-8 py-6 rounded-2xl shadow-lg",children:[t.jsx("div",{className:`w-16 h-16 ${i==="networking"?"bg-gradient-to-r from-emerald-600 to-teal-600":"bg-gradient-to-r from-purple-600 to-pink-600"} rounded-xl flex items-center justify-center mb-3 mx-auto`,children:i==="networking"?t.jsx(Jt,{className:"w-8 h-8 text-white"}):t.jsx(Qr,{className:"w-8 h-8 text-white"})}),t.jsx("span",{className:`text-lg ${i==="networking"?"bg-gradient-to-r from-emerald-600 to-teal-600":"bg-gradient-to-r from-purple-600 to-pink-600"} text-transparent bg-clip-text font-bold block text-center`,children:e.fullName})]})})})(),i==="mentorship"&&(o==null?void 0:o.role)&&t.jsx("div",{className:"absolute top-4 left-4 z-30",children:t.jsx(St,{className:"bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-500 text-amber-900 font-bold shadow-lg border-0 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10",children:o.role==="mentor"?"Mentor":"Mentee"})})}),t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsx("div",{className:`relative ${i==="networking"?"bg-gradient-to-r from-emerald-500/90 to-teal-600/90":i==="mentorship"?"bg-gradient-to-r from-purple-500/90 to-pink-600/90":"bg-gradient-to-r from-blue-500/90 to-indigo-600/90"} backdrop-blur-md rounded-xl px-3 py-2 border border-white/20 shadow-lg`,children:t.jsx("div",{className:"w-[3.1rem] h-[3.1rem] rounded-full bg-white flex items-center justify-center shadow-[inset_0_1px_3px_rgba(0,0,0,0.1),0_1px_2px_rgba(255,255,255,0.3)] transform transition-transform duration-300 hover:scale-105",children:t.jsx("div",{className:"relative flex items-center justify-center",children:t.jsx("span",{className:`text-lg font-extrabold ${i==="networking"?"bg-gradient-to-b from-emerald-600 to-teal-600":i==="mentorship"?"bg-gradient-to-b from-purple-600 to-pink-600":"bg-gradient-to-b from-blue-600 to-indigo-600"} text-transparent bg-clip-text drop-shadow-sm`,children:i==="networking"?"95":i==="mentorship"?"92%":"88%"})})})})}),e.isVerified&&t.jsx("div",{className:"absolute top-24 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-2 py-1 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[10px] font-bold shadow-[0_3px_12px_rgba(34,197,94,0.4),0_1px_6px_rgba(34,197,94,0.3),inset_0_1px_1px_rgba(255,255,255,0.4),inset_0_-1px_1px_rgba(0,0,0,0.2)] overflow-hidden border border-emerald-300/50 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2.5 w-2.5 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent px-4 pt-16 pb-3 flex flex-col",children:[t.jsx("div",{className:"mb-2",children:i==="mentorship"?t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)]",children:[t.jsx("span",{className:"text-4xl",children:((T=(I=e.fullName)==null?void 0:I.split(" ")[0])==null?void 0:T.charAt(0))||"U"}),((k=(_=e.fullName)==null?void 0:_.split(" ")[0])==null?void 0:k.slice(1))||"ser"]})}),(()=>{let M={};try{const R=(o==null?void 0:o.fieldVisibility)||(o==null?void 0:o.visibilityPreferences);R&&typeof R=="string"?M=JSON.parse(R):R&&typeof R=="object"&&(M=R)}catch{}return(o==null?void 0:o.role)==="mentee"&&o.industryAspiration&&(M==null?void 0:M.industryAspiration)!==!1?t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:o.industryAspiration})}):(o==null?void 0:o.role)==="mentor"&&o.industriesOrDomains&&o.industriesOrDomains.length>0&&(M==null?void 0:M.industriesOrDomains)!==!1?t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:o.industriesOrDomains[0]})}):null})()]}):t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)]",children:[t.jsx("span",{className:"text-4xl",children:((F=(A=e.fullName)==null?void 0:A.split(" ")[0])==null?void 0:F.charAt(0))||"U"}),((J=(V=e.fullName)==null?void 0:V.split(" ")[0])==null?void 0:J.slice(1))||"ser"]})}),i==="networking"&&(o==null?void 0:o.industry)&&(()=>{let M={industry:!0};if(o.visibilityPreferences)try{M=JSON.parse(o.visibilityPreferences)}catch(R){console.warn("Failed to parse visibility preferences:",R)}return M.industry})()&&t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg border border-white/20 backdrop-blur-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-300 rounded-full mr-1.5 animate-pulse"}),o.industry]})}),i==="jobs"&&((o==null?void 0:o.salary)||(o==null?void 0:o.salaryCurrency)&&(o==null?void 0:o.salaryPeriod))&&(()=>{let M={};try{const R=(o==null?void 0:o.fieldVisibility)||(o==null?void 0:o.visibilityPreferences);typeof R=="string"?M=JSON.parse(R):typeof R=="object"&&(M=R)}catch{}return(M==null?void 0:M.salary)!==!1})()&&t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg border border-white/20 backdrop-blur-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-300 rounded-full mr-1.5 animate-pulse"}),o.salaryCurrency||"$"," ",o.salary,o.salaryPeriod&&`/${o.salaryPeriod}`]})})]})}),i==="mentorship"&&o&&o.location&&o.location.trim()!==""&&(()=>{let M={};try{const R=o.fieldVisibility||o.visibilityPreferences;R&&typeof R=="string"?M=JSON.parse(R):R&&typeof R=="object"&&(M=R)}catch{}return(M==null?void 0:M.location)!==!1?t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-blue-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.location})]}):null})(),i==="networking"&&o&&(()=>{let M={currentRole:!0,currentCompany:!0,industry:!0,location:!0,professionalTagline:!0,lookingFor:!0,canOffer:!0,professionalInterests:!0,experienceYears:!0,workplace:!0,workingStyle:!0,highSchool:!0,collegeUniversity:!0};if(o.visibilityPreferences)try{M=JSON.parse(o.visibilityPreferences)}catch(R){console.warn("Failed to parse networking visibility preferences:",R)}return t.jsxs(t.Fragment,{children:[(o.highSchool||o.userHighSchool)&&M.highSchool&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ao,{className:"h-4 w-4 mr-2 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.highSchool||o.userHighSchool})]}),(o.collegeUniversity||o.userCollegeUniversity)&&M.collegeUniversity&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Qr,{className:"h-4 w-4 mr-2 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.collegeUniversity||o.userCollegeUniversity})]}),o.currentRole&&M.currentRole&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(zr,{className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("span",{className:"bg-gradient-to-r from-sky-400 to-teal-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:[o.currentRole,o.currentCompany&&M.currentCompany&&` @ ${o.currentCompany}`]}),o.experienceYears&&M.experienceYears&&t.jsxs("span",{className:"text-teal-100 text-sm ml-1 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:[" ",o.experienceYears]})]}),!o.currentRole&&o.currentCompany&&M.currentCompany&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 12h.01"}),t.jsx("path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}),t.jsx("path",{d:"M22 13a18.15 18.15 0 0 1-20 0"}),t.jsx("rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"})]}),t.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.currentCompany})]}),o.workplace&&M.workplace&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),t.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),t.jsx("span",{className:"font-medium text-sm text-orange-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.workplace})]}),o.location&&M.location&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ta,{className:"h-4 w-4 mr-1 text-rose-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"font-medium text-sm text-rose-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.location})]}),o.workingStyle&&M.workingStyle&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("path",{d:"M12 6v6l4 2"})]}),t.jsx("span",{className:"font-medium text-sm text-cyan-100 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.workingStyle})]}),o.professionalTagline&&M.professionalTagline&&t.jsx("div",{className:"mb-2 rounded-md overflow-hidden",children:t.jsxs("p",{className:"text-white/95 leading-tight text-xs font-medium bg-gradient-to-r from-black/15 to-purple-900/15 p-2 rounded-md drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] italic",children:['"',o.professionalTagline,'"']})}),o.lookingFor&&M.lookingFor&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Looking for:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.lookingFor})]}),o.canOffer&&M.canOffer&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"m2 17 10 5 10-5"}),t.jsx("path",{d:"m2 12 10 5 10-5"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Can offer:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.canOffer})]}),o.professionalInterests&&o.professionalInterests.length>0&&M.professionalInterests&&t.jsxs("div",{className:"mb-2",children:[t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Interests:"}),t.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[o.professionalInterests.slice(0,2).map((R,B)=>{const O=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90"],X=O[B%O.length];return t.jsx("span",{className:`inline-block bg-gradient-to-r ${X} text-white shadow-lg text-xs py-0 px-2.5 border-0 rounded-full`,children:R},`networking-interest-${B}`)}),o.professionalInterests.length>2&&t.jsxs("span",{className:"inline-block bg-white/20 text-white text-xs py-0 px-2.5 border-0 rounded-full",children:["+",o.professionalInterests.length-2]})]})]}),o.networkingGoals&&M.networkingGoals&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"m2 17 10 5 10-5"}),t.jsx("path",{d:"m2 12 10 5 10-5"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Networking goals:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.networkingGoals})]}),o.workingStyle&&M.workingStyle&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-purple-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 9V5a3 3 0 0 0-6 0v4"}),t.jsx("rect",{x:"2",y:"9",width:"20",height:"12",rx:"2",ry:"2"}),t.jsx("circle",{cx:"12",cy:"15",r:"1"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Working style:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.workingStyle})]}),o.lightUpWhenTalking&&M.lightUpWhenTalking&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10 13,2"})}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"I light up when talking about:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.lightUpWhenTalking})]}),o.currentProjects&&M.currentProjects&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),t.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Current projects:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.currentProjects})]}),o.openToCollaborateOn&&M.openToCollaborateOn&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),t.jsx("circle",{cx:"9",cy:"7",r:"4"}),t.jsx("path",{d:"m22 21-3.3-3.3a4.95 4.95 0 0 0 0-7.4L22 7"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Open to collaborate on:"})]}),t.jsx("p",{className:"text-white/90 text-xs leading-tight ml-5 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.openToCollaborateOn})]})]})})(),i==="mentorship"&&o&&(()=>{let M={};console.log("EXPANDED MODAL: Raw fieldVisibility data:",o.fieldVisibility),console.log("EXPANDED MODAL: fieldVisibility type:",typeof o.fieldVisibility),console.log("EXPANDED MODAL: Full additionalData:",o);try{const R=o.fieldVisibility||o.visibilityPreferences;R&&typeof R=="string"?(M=JSON.parse(R),console.log("EXPANDED MODAL: Successfully parsed visibility preferences:",M)):R&&typeof R=="object"?(M=R,console.log("EXPANDED MODAL: Using visibility object directly:",M)):(console.log("EXPANDED MODAL: No visibility preferences found, showing all fields"),M={})}catch(R){console.error("EXPANDED MODAL: Error parsing visibility preferences:",R),M={}}return console.log("EXPANDED MODAL: Final parsed visibility:",M),t.jsxs(t.Fragment,{children:[o.highSchool&&(M==null?void 0:M.highSchool)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ao,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:o.highSchool})]}),o.collegeUniversity&&(M==null?void 0:M.collegeUniversity)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Qr,{className:"h-4 w-4 mr-2 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:o.collegeUniversity})]}),o.role==="mentor"&&o.areasOfExpertise&&o.areasOfExpertise.length>0&&(M==null?void 0:M.areasOfExpertise)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Rn,{className:"h-4 w-4 mr-2 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Areas of Expertise:"}),t.jsx("div",{className:"text-emerald-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(o.areasOfExpertise)?o.areasOfExpertise.join(", "):o.areasOfExpertise})]})]}),(!o.areasOfExpertise||o.areasOfExpertise.length===0)&&(!o.learningGoals||o.learningGoals.length===0)&&!o.timeCommitment&&!o.availability&&(!o.languagesSpoken||o.languagesSpoken.length===0)&&!o.mentorshipStyle&&!o.whyMentor&&!o.whySeekMentorship&&!o.preferredMentorshipStyle&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(hn,{className:"h-4 w-4 mr-2 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-amber-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Profile setup in progress"})]}),o.role==="mentee"&&o.learningGoals&&o.learningGoals.length>0&&(M==null?void 0:M.learningGoals)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Nn,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Learning Goals:"}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(o.learningGoals)?o.learningGoals.join(", "):o.learningGoals})]})]}),o.timeCommitment&&o.timeCommitment.trim()!==""&&(M==null?void 0:M.timeCommitment)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ja,{className:"h-4 w-4 mr-2 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Time Commitment:"}),t.jsx("div",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.timeCommitment})]})]}),o.availability&&o.availability.trim()!==""&&(M==null?void 0:M.availability)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(tl,{className:"h-4 w-4 mr-2 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-green-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.availability})]}),o.languagesSpoken&&o.languagesSpoken.length>0&&(M==null?void 0:M.languagesSpoken)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(hn,{className:"h-4 w-4 mr-2 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.languagesSpoken.slice(0,3).map((R,B)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:R},B)),o.languagesSpoken.length>3&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:["+",o.languagesSpoken.length-3]})]})]}),o.role==="mentor"&&o.mentorshipStyle&&(M==null?void 0:M.mentorshipStyle)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Mentorship Style:"}),t.jsx("div",{className:"text-yellow-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.mentorshipStyle})]})]}),o.role==="mentor"&&o.whyMentor&&(M==null?void 0:M.whyMentor)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Yt,{className:"h-4 w-4 mr-2 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Mentor:"}),t.jsx("div",{className:"text-pink-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.whyMentor.length>60?`${o.whyMentor.substring(0,60)}...`:o.whyMentor})]})]}),o.role==="mentee"&&o.whySeekMentorship&&(M==null?void 0:M.whySeekMentorship)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Yt,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Seek Mentorship:"}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.whySeekMentorship.length>60?`${o.whySeekMentorship.substring(0,60)}...`:o.whySeekMentorship})]})]}),o.role==="mentee"&&o.preferredMentorshipStyle&&(M==null?void 0:M.preferredMentorshipStyle)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Preferred Style:"}),t.jsx("div",{className:"text-teal-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:o.preferredMentorshipStyle})]})]})]})})(),i==="jobs"&&o&&(()=>{let M={};console.log("EXPANDED MODAL: Raw Jobs fieldVisibility data:",o.fieldVisibility),console.log("EXPANDED MODAL: Jobs fieldVisibility type:",typeof o.fieldVisibility),console.log("EXPANDED MODAL: Full Jobs additionalData:",o);try{const R=o.fieldVisibility||o.visibilityPreferences;R&&typeof R=="string"?(M=JSON.parse(R),console.log("EXPANDED MODAL: Successfully parsed Jobs visibility preferences:",M)):R&&typeof R=="object"?(M=R,console.log("EXPANDED MODAL: Using Jobs visibility object directly:",M)):(console.log("EXPANDED MODAL: No Jobs visibility preferences found, showing all fields"),M={})}catch(R){console.error("EXPANDED MODAL: Error parsing Jobs visibility preferences:",R),M={}}return console.log("EXPANDED MODAL: Final parsed Jobs visibility:",M),t.jsxs(t.Fragment,{children:[o.jobTitle&&(M==null?void 0:M.jobTitle)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Rn,{className:"h-4 w-4 mr-2 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Job Title:"}),t.jsx("span",{className:"bg-gradient-to-r from-amber-200 via-yellow-300 to-amber-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:o.jobTitle})]})]}),(o.workType||o.jobType)&&((M==null?void 0:M.workType)!==!1||(M==null?void 0:M.jobType)!==!1)&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ja,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Work Style:"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:[o.workType,o.jobType].filter(Boolean).join("  ")})]})]}),(o.experienceLevel||o.requiredLevel)&&(M==null?void 0:M.experienceLevel)!==!1&&(M==null?void 0:M.requiredLevel)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Nn,{className:"h-4 w-4 mr-2 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Required Level:"}),t.jsx("span",{className:"bg-gradient-to-r from-emerald-200 via-green-300 to-emerald-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:o.experienceLevel||o.requiredLevel})]})]}),o.description&&(M==null?void 0:M.description)!==!1&&t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-purple-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M14 9V5a3 3 0 0 0-6 0v4"}),t.jsx("rect",{x:"2",y:"9",width:"20",height:"12",rx:"2",ry:"2"}),t.jsx("circle",{cx:"12",cy:"15",r:"1"})]}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Job Description:"})]}),t.jsx("p",{className:"text-purple-200 text-xs leading-tight ml-6 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.description})]}),o.whoShouldApply&&(M==null?void 0:M.whoShouldApply)!==!1&&t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Jt,{className:"h-4 w-4 mr-2 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Who Should Apply:"})]}),t.jsx("p",{className:"text-indigo-200 text-xs leading-tight ml-6 drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:o.whoShouldApply})]}),(o.applicationUrl||o.applyUrl)&&(M==null?void 0:M.applicationUrl)!==!1&&(M==null?void 0:M.applyUrl)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Apply:"}),t.jsx("span",{className:"bg-gradient-to-r from-cyan-200 via-teal-300 to-cyan-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:o.applicationUrl||o.applyUrl})]})]}),(o.applicationEmail||o.contactEmail)&&(M==null?void 0:M.applicationEmail)!==!1&&(M==null?void 0:M.contactEmail)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),t.jsx("polyline",{points:"22,6 12,13 2,6"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Email:"}),t.jsx("span",{className:"bg-gradient-to-r from-pink-200 via-rose-300 to-pink-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:o.applicationEmail||o.contactEmail})]})]}),!o.jobTitle&&!o.description&&!o.workType&&!o.jobType&&!o.requiredLevel&&!o.whoShouldApply&&!o.applyUrl&&!o.contactEmail&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(hn,{className:"h-4 w-4 mr-2 text-amber-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-amber-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Job profile setup in progress"})]})]})})()]})]}),t.jsxs("div",{className:"py-1.5 px-3 flex justify-center items-center gap-6 relative overflow-hidden backdrop-blur-md button-container",children:[t.jsx("div",{className:`absolute inset-0 ${i==="networking"?"bg-gradient-to-r from-emerald-200/80 via-teal-100/90 to-green-200/80":i==="mentorship"?"bg-gradient-to-r from-purple-200/80 via-pink-100/90 to-indigo-200/80":"bg-gradient-to-r from-blue-200/80 via-indigo-100/90 to-cyan-200/80"} z-0`}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-80 mix-blend-soft-light"}),t.jsx("div",{className:`absolute -top-2 left-[15%] w-3 h-3 rounded-full ${i==="networking"?"bg-emerald-300/70":i==="mentorship"?"bg-purple-300/70":"bg-blue-300/70"} blur-[2px] animate-pulse`}),t.jsx("div",{className:`absolute -bottom-1 right-[15%] w-2.5 h-2.5 rounded-full ${i==="networking"?"bg-teal-300/70":i==="mentorship"?"bg-pink-300/70":"bg-cyan-300/70"} blur-[2px] animate-pulse`,style:{animationDelay:"1.5s"}}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-rose-400 relative overflow-hidden z-10",onClick:N,disabled:f,style:{background:"linear-gradient(140deg, #fda4af 0%, #e11d48 100%)",boxShadow:"0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",M.currentTarget.style.boxShadow="0 6px 10px rgba(225, 29, 72, 0.35), 0 10px 30px rgba(225, 29, 72, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(10deg)",M.currentTarget.style.boxShadow="0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(mt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:`w-16 h-16 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 ${i==="networking"?"border border-emerald-400":i==="mentorship"?"border border-purple-400":"border border-blue-400"} relative overflow-hidden z-10`,onClick:P,disabled:f,style:{background:i==="networking"?"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)":i==="mentorship"?"linear-gradient(140deg, #c084fc 0%, #8b5cf6 100%)":"linear-gradient(140deg, #60a5fa 0%, #3b82f6 100%)",boxShadow:i==="networking"?"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",M.currentTarget.style.boxShadow=i==="networking"?"0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 6px 10px rgba(139, 92, 246, 0.35), 0 10px 30px rgba(139, 92, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 6px 10px rgba(59, 130, 246, 0.35), 0 10px 30px rgba(59, 130, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(10deg)",M.currentTarget.style.boxShadow=i==="networking"?"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:i==="networking"?t.jsx("span",{className:"text-4xl",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""}):i==="mentorship"?t.jsx("span",{className:"text-4xl",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""}):t.jsx("span",{className:"text-4xl",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""})}),t.jsx("button",{className:`w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 ${i==="networking"?"border border-emerald-400":i==="mentorship"?"border border-purple-400":"border border-blue-400"} relative overflow-hidden z-10`,onClick:P,disabled:f,style:{background:i==="networking"?"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)":i==="mentorship"?"linear-gradient(140deg, #c084fc 0%, #8b5cf6 100%)":"linear-gradient(140deg, #60a5fa 0%, #3b82f6 100%)",boxShadow:i==="networking"?"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",M.currentTarget.style.boxShadow=i==="networking"?"0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 6px 10px rgba(139, 92, 246, 0.35), 0 10px 30px rgba(139, 92, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 6px 10px rgba(59, 130, 246, 0.35), 0 10px 30px rgba(59, 130, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:M=>{M.currentTarget.style.transform="perspective(500px) rotateX(10deg)",M.currentTarget.style.boxShadow=i==="networking"?"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":i==="mentorship"?"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)":"0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(Yt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})})]})]})}):t.jsx("div",{className:`h-full ${g==="left"?"animate-meet-swipe-left":g==="right"?"animate-meet-swipe-right":""}`,children:t.jsx(gy,{user:e,onSwipeLeft:N,onSwipeRight:P,onMatchFound:C,mode:"match",isPremium:d,onPremiumUpgradeClick:m})})})]})}):null}function bge(e){if(e.showProfilePhoto===!1)return!1;if(e.visibilityPreferences)try{const r=JSON.parse(e.visibilityPreferences);if(r.photos!==void 0)return!!r.photos}catch(r){console.error("Error parsing visibility preferences for match:",r)}return e.showProfilePhoto!==!1}function wge({match:e,onClick:r,darkMode:n,hasBlurredCards:a=!1}){return t.jsx(E.div,{className:`cursor-pointer rounded-2xl overflow-hidden fast-card relative transition-all duration-700 ${n?"bg-gradient-to-br from-gray-800/95 via-gray-800/90 to-gray-900/95 shadow-2xl shadow-black/50 border border-gray-700/40 backdrop-blur-md hover:shadow-purple-500/30 hover:border-purple-500/50":"bg-white shadow-lg hover:shadow-2xl border border-purple-200/60 backdrop-blur-md"}`,style:{willChange:"transform",transform:"translateZ(0)",backfaceVisibility:"hidden",minHeight:"200px"},whileHover:{y:-6,scale:1.02,boxShadow:n?"0 25px 50px -12px rgba(168, 85, 247, 0.4), 0 20px 30px -5px rgba(168, 85, 247, 0.2)":"0 20px 40px -12px rgba(124, 58, 237, 0.15), 0 15px 20px -5px rgba(124, 58, 237, 0.1)"},whileTap:{scale:.98},onClick:r,initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:30,duration:.3,delay:e.isPendingLike?0:Math.random()*.1},children:t.jsxs("div",{className:"relative w-full h-full overflow-hidden group",children:[e.photoUrl&&bge(e)?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:`w-full h-full object-cover transform transition-all duration-700 group-hover:scale-105 card-image ${n?"brightness-95 contrast-110 saturate-110":""} ${a?"blur-xl":""}`,loading:"eager",decoding:"async"}),n&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/30 via-transparent to-gray-800/10"})]}):t.jsxs("div",{className:`w-full h-full flex items-center justify-center transition-all duration-700 ${n?"bg-gradient-to-br from-purple-600/90 via-purple-700/80 to-pink-600/90 shadow-inner shadow-black/30":"bg-gradient-to-br from-purple-400 via-purple-500 to-pink-500"} ${a?"blur-xl":""}`,children:[t.jsx("span",{className:`text-4xl font-bold drop-shadow-lg transition-all duration-700 ${n?"text-white/98 filter drop-shadow-2xl":"text-white"}`,children:e.fullName.charAt(0)}),n&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"})]}),t.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${n?"bg-gradient-to-t from-black/80 via-black/20 to-transparent":"bg-gradient-to-t from-black/70 via-black/10 to-transparent"}`}),t.jsx("div",{className:"absolute top-3 right-3 flex items-center space-x-1",children:e.isPendingLike?t.jsx(E.div,{className:`w-5 h-5 rounded-full bg-gradient-to-r from-pink-500 to-red-500 flex items-center justify-center transition-all duration-700 ${n?"shadow-lg shadow-pink-500/40 border border-pink-400/30":""}`,animate:{scale:[1,1.2,1],boxShadow:n?["0 0 0 0 rgba(236, 72, 153, 0.8)","0 0 0 8px rgba(236, 72, 153, 0)","0 0 0 0 rgba(236, 72, 153, 0.8)"]:["0 0 0 0 rgba(236, 72, 153, 0.7)","0 0 0 6px rgba(236, 72, 153, 0)","0 0 0 0 rgba(236, 72, 153, 0.7)"]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:t.jsx(Yt,{className:"h-3 w-3 text-white",fill:"white"})}):t.jsx("div",{className:`w-3 h-3 rounded-full bg-green-400 relative transition-all duration-700 ${n?"shadow-lg shadow-green-400/50":""}`,children:t.jsx("span",{className:`absolute inset-0 rounded-full bg-green-400 animate-ping opacity-75 ${n?"shadow-green-400/30":""}`})})}),t.jsxs("div",{className:`absolute bottom-0 left-0 right-0 p-3 transition-all duration-700 ${n?"bg-gradient-to-t from-black/70 via-black/30 to-transparent backdrop-blur-sm":""} ${a?"blur-xl":""}`,children:[t.jsx("h3",{className:"text-white text-lg font-bold truncate mb-1 transition-all duration-700",style:{textShadow:n?"4px 4px 12px rgba(0,0,0,0.95), 2px 2px 6px rgba(0,0,0,0.9), 0 0 20px rgba(168, 85, 247, 0.3)":"4px 4px 8px rgba(0,0,0,0.9), 2px 2px 4px rgba(0,0,0,0.8)"},children:a?"":e.fullName.split(" ")[0]}),e.location&&t.jsxs("p",{className:"text-xs font-medium text-white transition-all duration-700",style:{textShadow:n?"2px 2px 6px rgba(0,0,0,0.95), 0 0 10px rgba(168, 85, 247, 0.2)":"2px 2px 4px rgba(0,0,0,0.9)"},children:[" ",a?"":e.location]})]}),a&&t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-white p-4",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("p",{className:"text-sm font-semibold mb-1",children:"Premium Required"}),t.jsx("p",{className:"text-xs opacity-80",children:"Upgrade to see who likes you"})]})})]})})}function jge(){var Se,Ue,De;const{user:e}=Sr(),[,r]=lr(),{toast:n}=Wr(),{translate:a}=tn(),{darkMode:s}=Za(),{setMatchCount:i,setLikeCount:o}=k2(),[l,c]=u.useState(null),[d,m]=u.useState(!1),[h,p]=u.useState(null),[f,x]=u.useState(!1),[g,v]=u.useState([]),[y,b]=u.useState(!1),[w,S]=u.useState(null),[N,P]=u.useState(!1),[C,I]=u.useState(()=>{if(!e)return[];try{const se=`clicked_matches_${e.id}`;return bs(se)||[]}catch(se){return console.error("Error loading clicked matches from storage:",se),[]}}),{data:T=[],isLoading:_,refetch:k}=dt({queryKey:["/api/matches"],enabled:!!e,staleTime:0,gcTime:3e5,refetchOnMount:"always",refetchOnWindowFocus:!0,refetchInterval:3e4,refetchIntervalInBackground:!1,select:se=>[...se].sort((L,q)=>L.isPendingLike&&!q.isPendingLike?-1:!L.isPendingLike&&q.isPendingLike?1:L.compatibility&&q.compatibility?q.compatibility-L.compatibility:L.id-q.id)});u.useEffect(()=>{if(!e||!T||T.length===0){v([]);return}let se=!1;return(async()=>{const q=await Promise.all(T.map(async H=>{const ge=H.userId1===e.id?H.userId2:H.userId1;try{const z=await(await fetch(`/api/profile/${ge}`)).json();return{...H,user:z}}catch{return{...H,user:{id:ge,fullName:""}}}}));se||v(q)})(),()=>{se=!0}},[T,e]),u.useEffect(()=>{if(g&&Array.isArray(g)&&e){const se=g.filter(H=>!C.includes(H.id)),L=se.filter(H=>H.matchType==="confirmed").length,q=se.filter(H=>H.matchType==="pending").length;i(L),o(q)}},[g,C,e,i,o]),u.useEffect(()=>{console.log(" INITIAL LOAD: Ensuring fresh matches data right after login"),me.prefetchQuery({queryKey:["/api/matches"],staleTime:0}).then(()=>{console.log(" Initial prefetch of matches completed successfully")}).catch(L=>{console.error(" Error in initial matches prefetch:",L),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"})}),me.invalidateQueries({queryKey:["/api/matches/counts"],refetchType:"all"}),e&&(_t("force_match_popup",""),_t("pending_match_popup",""));const se=setTimeout(()=>{g&&g.length===0&&!_&&(console.log(" CRITICAL FIX: No matches loaded after timeout - forcing another reload"),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}))},500);return()=>clearTimeout(se)},[e,me,g,_]),u.useEffect(()=>{const se=ke=>{console.log("New like received via WebSocket, refreshing match data"),me.invalidateQueries({queryKey:["/api/matches"]})},L=ke=>{if(ke instanceof CustomEvent&&ke.detail){const{fromUserInfo:z,fromUserId:ie,match:pe}=ke.detail;console.log(" CRITICAL FIX: New like received event with user info:",z),z&&(me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}),((g==null?void 0:g.filter($e=>!$e.matched&&!$e.isDislike&&$e.userId1!==(e==null?void 0:e.id)&&$e.userId2===(e==null?void 0:e.id)))||[]).length===0&&!_&&(console.log(" CRITICAL FIX: Zero pending likes detected - forcing direct UI update for immediate visibility"),pe.id,pe.id,z.id,z.fullName,z.photoUrl,ue(z.dateOfBirth),z.location,z.bio,z.profession,z.ethnicity,z.secondaryTribe,z.religion,z.relationshipGoal,z.compatibility||p1(e,z),n({title:" New Like Received!",description:`${z.fullName} has liked your profile!`,variant:"default"})))}},q=ke=>{if(console.log(" MATCH POPUP HANDLER: Received match event with high priority handling"),ke instanceof CustomEvent&&ke.detail){const{fromUserInfo:z,matchId:ie,match:pe,forceDisplay:ye}=ke.detail,$e=localStorage.getItem("force_match_popup")==="true"||ye===!0;if(z||$e){console.log(" MATCH POPUP HANDLER: Processing match popup with priority",{forceMatchPopup:$e}),d&&m(!1);let Le=z;if(!Le)try{const te=localStorage.getItem("matched_user_data");te&&(Le=JSON.parse(te))}catch(te){console.error("Error parsing matched user data from localStorage:",te)}if(!Le){console.error(" MATCH POPUP HANDLER: No user data available for match popup");return}const Oe={...Le,showProfilePhoto:!0,createdAt:Le.createdAt||null};console.log(" MATCH POPUP HANDLER: Instantly showing match popup for:",Oe.fullName),me.invalidateQueries({queryKey:["/api/matches"]});const Ze=ie||Mr("current_match_id");if(Ze&&(_t("current_match_id",Ze.toString()),_t(`displayed_match_popup_${Ze}`,"true")),pe){const te=pe.userId1,Ne=pe.userId2;if(te&&Ne&&e){const rt=te===e.id?Ne:te;_t(`remove_like_${rt}`,"true"),I(at=>{const jt=ie?[...at,ie]:at,xt=`clicked_matches_${e.id}`;try{Zo(xt,jt)}catch(jr){console.error("Error saving clicked matches:",jr)}return jt})}}setTimeout(()=>{p(Oe),x(!0),console.log(" MATCH POPUP HANDLER: Match popup display forced in next tick")},0)}}},H=ke=>{if(ke instanceof CustomEvent&&ke.detail){const z=ke.detail;z.type==="new_like_received"&&(console.log(`[WebSocket] New like received from user ${z.fromUserId}:`,z.fromUserInfo),k(),L(ke)),(z.type==="discover:refresh"||z.type==="matches:refresh")&&(console.log("[WebSocket] Refresh event received, updating matches data"),k())}};if(window.addEventListener("match:newLike",se),window.addEventListener("match:newMatch",q),window.addEventListener("match:newLikeReceived",L),window.addEventListener("websocket:message",H),window.addEventListener("matches:refresh",()=>k()),me.invalidateQueries({queryKey:["/api/matches"],refetchType:"all"}),Mr("pending_match_popup")==="true"&&e){_t("pending_match_popup","");const ke=Mr("current_match_id");ke&&fetch(`/api/matches/${ke}`).then(z=>z.json()).then(z=>{if(z){const ie=z.userId1===e.id?z.userId2:z.userId1;return fetch(`/api/profile/${ie}`).then(pe=>pe.json()).then(pe=>{pe&&(p(pe),x(!0))})}}).catch(z=>console.error("Error loading pending match:",z))}return()=>{window.removeEventListener("match:newLike",se),window.removeEventListener("match:newMatch",q),window.removeEventListener("match:newLikeReceived",L)}},[e]);const A=wt({mutationFn:async se=>{try{console.log(`Creating match between users ${e.id} and ${se}`);const L=await TP("/api/matches","POST",{userId1:e.id,userId2:se,matched:!0});if(!L.success&&L.message)throw new Error(L.message);return L}catch(L){throw console.error("Match creation error:",L),L}},onSuccess:se=>{console.log("Match created successfully:",se),me.invalidateQueries({queryKey:["/api/liked-by"]}),me.invalidateQueries({queryKey:["/api/matches"]}),me.invalidateQueries({queryKey:["/api/messages/unread/count"]}),console.log(" MATCH POPUP TRIGGER: Implementing comprehensive match popup display"),localStorage.setItem("pending_match_popup","true"),localStorage.setItem("force_match_popup","true"),localStorage.setItem("current_match_id",se.id.toString()),localStorage.setItem(`displayed_match_popup_${se.id}`,"true");const L=Date.now();localStorage.setItem("match_timestamp",L.toString());const q=se.user;if(q&&localStorage.setItem("matched_user_data",JSON.stringify(q)),q&&window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{match:se,fromUserId:q.id,fromUserInfo:q,matchId:se.id,timestamp:L,forceDisplay:!0}})),window.dispatchEvent(new StorageEvent("storage",{key:"force_match_popup",newValue:"true"})),i(H=>H+1),o(H=>Math.max(0,H-1)),q){const H={...q,showProfilePhoto:!0,createdAt:q.createdAt||null};setTimeout(()=>{console.log(" MATCH POPUP TRIGGER: Direct popup display for:",H.fullName),p(H),x(!0)},0)}else n({title:"It's a match!",description:"You can now message each other.",variant:"default"})},onError:se=>{console.error("Match mutation error:",se),n({title:"Error",description:se instanceof Error?se.message:"Could not create match. Please try again.",variant:"destructive"})}}),F=wt({mutationFn:async se=>{try{console.log(`Rejecting match with ID ${se}`);const L=await TP(`/api/matches/${se}`,"DELETE");if(!L.success&&L.message)throw new Error(L.message);return L}catch(L){throw console.error("Match rejection error:",L),L}},onSuccess:()=>{console.log("Successfully rejected user"),me.invalidateQueries({queryKey:["/api/liked-by"]}),me.invalidateQueries({queryKey:["/api/matches"]}),o(se=>Math.max(0,se-1)),n({title:"User rejected",description:"This user will no longer appear in your matches.",variant:"default"})},onError:se=>{console.error("Reject mutation error:",se),n({title:"Error",description:se instanceof Error?se.message:"Could not reject user. Please try again.",variant:"destructive"})}}),V=async se=>{try{if(console.log(" CLICK DEBUG: Opening expandable swipe card for:",se.fullName),console.log(" CLICK DEBUG: Current user premium status:",e==null?void 0:e.premiumAccess),console.log(" CLICK DEBUG: Current premiumUpgradeOpen state:",N),!(e!=null&&e.premiumAccess)){console.log(" PREMIUM GATE: Non-premium user attempting to view blurred card - showing upgrade dialog"),P(!0),console.log(" PREMIUM GATE: setPremiumUpgradeOpen(true) called");return}const L=await fetch(`/api/profile/${se.userId}`);let q=null;L.ok?(q=await L.json(),console.log(`Retrieved profile data for ${se.userId}:`,q)):console.warn(`Failed to fetch profile data for user ${se.userId}, status: ${L.status}`);const H=await fetch(`/api/interests/${se.userId}`);let ge=null;H.ok?(ge=await H.json(),console.log(`Retrieved interests data for ${se.userId}:`,ge),Array.isArray(ge)&&(q=q||{},q.visibleInterests=ge.filter(z=>z.showOnProfile===!0).map(z=>z.interest),console.log(`Filtered visible interests for ${se.userId}:`,q.visibleInterests))):console.warn(`Failed to fetch interests data for user ${se.userId}, status: ${H.status}`);const ke=R(se);q&&(Object.assign(ke,{countryOfOrigin:q.countryOfOrigin||ke.countryOfOrigin,relationshipStatus:q.relationshipStatus||ke.relationshipStatus,interests:q.interests||ke.interests,bio:q.bio||ke.bio,profession:q.profession||ke.profession,religion:q.religion||ke.religion,visibilityPreferences:q.visibilityPreferences||ke.visibilityPreferences,highSchool:q.highSchool||q.high_school||ke.highSchool,collegeUniversity:q.collegeUniversity||q.college_university||ke.collegeUniversity,visibleInterests:q.visibleInterests||[],hasActivatedProfile:q.hasActivatedProfile||ke.hasActivatedProfile,photoUrl:q.photoUrl||ke.photoUrl,showProfilePhoto:q.showProfilePhoto||ke.showProfilePhoto}),console.log(`[ENHANCEMENT-DEBUG] Enhanced user data for ${se.userId}:`,{highSchool:ke.highSchool,collegeUniversity:ke.collegeUniversity,interests:ke.interests,visibleInterests:ke.visibleInterests,profileData_highSchool:q.highSchool,profileData_high_school:q.high_school,profileData_collegeUniversity:q.collegeUniversity,profileData_college_university:q.college_university,profileData_visibleInterests:q.visibleInterests})),S(ke),b(!0)}catch(L){console.error("Error opening user card:",L),n({title:a("error.generic"),description:a("error.tryAgain"),variant:"destructive"})}},J=()=>{if(l){const se=l.matchId;if(!l.matched)A.mutate(l.userId,{onSuccess:()=>{const L=R(l);p(L),m(!1),I(q=>{const H=[...q,se];if(e)try{const ge=`clicked_matches_${e.id}`;localStorage.setItem(ge,JSON.stringify(H))}catch(ge){console.error("Error saving matched IDs to localStorage:",ge)}return H}),setTimeout(()=>{x(!0)},300)}});else{n({title:"It's a match!",description:"You can now message each other.",variant:"default"});const L=R(l);p(L),m(!1),I(q=>{const H=[...q,se];if(e)try{const ge=`clicked_matches_${e.id}`;localStorage.setItem(ge,JSON.stringify(H))}catch(ge){console.error("Error saving matched IDs to localStorage:",ge)}return H}),setTimeout(()=>{x(!0)},300)}}},M=()=>{if(l){m(!1);const se=l.matchId;l.userId,c(null),g.filter(L=>L.matchId!==se),I(L=>{const q=[...L,se];if(e)try{const H=`clicked_matches_${e.id}`;localStorage.setItem(H,JSON.stringify(q))}catch(H){console.error("Error saving rejected matches to localStorage:",H)}return q}),F.mutate(se,{onSuccess:()=>{me.invalidateQueries({queryKey:["/api/matches"]}),n({title:"Profile removed",description:"This profile has been removed from your matches.",variant:"default"})},onError:L=>{I(q=>{const H=q.filter(ge=>ge!==se);if(e)try{const ge=`clicked_matches_${e.id}`;localStorage.setItem(ge,JSON.stringify(H))}catch(ge){console.error("Error updating rejected matches in localStorage:",ge)}return H}),n({title:"Error",description:"Could not remove this profile. Please try again.",variant:"destructive"})}})}},R=se=>{console.log("[SYNC] Converting match user to full User format:",se);const L=se.user;if(L){console.log("[SYNC] USING COMPLETE PROFILE DATA FROM API:",L);let ie=L.dateOfBirth?new Date(L.dateOfBirth):null;if(!ie&&se.age){const $e=new Date;ie=new Date($e.getFullYear()-se.age,0,1)}const pe=L.visibilityPreferences;console.log(`[SYNC] Visibility preferences for user ${se.userId}:`,pe),console.log(`[FIELD-DEBUG] API fields for user ${se.userId}:`,{highSchool:L.highSchool,collegeUniversity:L.collegeUniversity,hasActivatedProfile:L.hasActivatedProfile,photoUrl:L.photoUrl,showProfilePhoto:L.showProfilePhoto,interests:L.interests,high_school:L.high_school,college_university:L.college_university}),console.log(`[API-ALL-FIELDS] Complete API response for user ${se.userId}:`,Object.keys(L));let ye=L.interests||"[]";return console.log("[SYNC] CRITICAL FIELD VALUES FROM API:",{relationshipStatus:L.relationshipStatus,countryOfOrigin:L.countryOfOrigin}),{...L,location:L.location||"",bio:L.bio||"",profession:L.profession||"",ethnicity:L.ethnicity||"",secondaryTribe:L.secondaryTribe||"",religion:L.religion||"",relationshipGoal:L.relationshipGoal||"",interests:ye,visibilityPreferences:pe,dateOfBirth:ie,verifiedByPhone:L.verifiedByPhone||!1,twoFactorEnabled:L.twoFactorEnabled||!1,isOnline:L.isOnline||!1,lastActive:L.lastActive?new Date(L.lastActive):new Date,createdAt:L.createdAt?new Date(L.createdAt):new Date,showProfilePhoto:L.showProfilePhoto??!0,showAppModeSelection:L.showAppModeSelection||!1,showNationalitySelection:L.showNationalitySelection||!1,highSchool:L.highSchool||"",collegeUniversity:L.collegeUniversity||"",hasActivatedProfile:L.hasActivatedProfile??!0}}console.warn("[SYNC] WARNING: Using fallback data conversion - could lead to field synchronization issues");let q=null;if(se.age){const ie=new Date;q=new Date(ie.getFullYear()-se.age,0,1)}const H=se.visibilityPreferences||null;console.log(`[SYNC] Visibility preferences for user ${se.userId}:`,H);let ge="[]";try{if(se.visibilityPreferences){const ie=JSON.parse(se.visibilityPreferences);ie.interestsData&&(ge=JSON.stringify(ie.interestsData))}}catch(ie){console.warn("[SYNC] Failed to parse visibility preferences for interests",ie)}const ke=se.relationshipStatus||"",z=se.countryOfOrigin||"";return console.log("[SYNC] Field values without defaults:",{countryOfOrigin:z,relationshipStatus:ke}),console.log(`[FALLBACK-DEBUG] matchUser fields for user ${se.userId}:`,{highSchool:se.highSchool,collegeUniversity:se.collegeUniversity,interests:se.interests,keys:Object.keys(se)}),{id:se.userId,username:"",password:"",fullName:se.fullName,email:"",phoneNumber:null,gender:"",location:se.location||"",bio:se.bio||"",profession:se.profession||"",ethnicity:se.ethnicity||"",photoUrl:se.photoUrl||null,secondaryTribe:se.secondaryTribe||"",religion:se.religion||"",dateOfBirth:q,relationshipGoal:se.relationshipGoal||"",relationshipStatus:ke,interests:ge,verifiedByPhone:!1,twoFactorEnabled:!1,isOnline:!1,lastActive:new Date,createdAt:new Date,showProfilePhoto:se.showProfilePhoto??!0,countryOfOrigin:z,visibilityPreferences:H,showAppModeSelection:!1,showNationalitySelection:!1,highSchool:se.highSchool||"",collegeUniversity:se.collegeUniversity||"",hasActivatedProfile:!0}},B=se=>{p(se),x(!0)},O=()=>{x(!1),p(null)},X=localStorage.getItem("pending_match_popup");u.useEffect(()=>{if(!(!e||!g||g.length===0||f)&&X!=="true"){const se=g.find(L=>L.matchType==="confirmed"&&!C.includes(L.id));if(se){console.log("CRITICAL FIX: Found confirmed match that needs immediate popup:",se.id);try{try{const H=Object.keys(localStorage).filter(ge=>ge.startsWith("displayed_match_popup_")||ge.startsWith("remove_like_"));H.length>30&&H.sort().slice(0,15).forEach(ke=>{localStorage.removeItem(ke)})}catch(q){console.warn("Error while cleaning localStorage:",q)}localStorage.setItem("pending_match_popup","true")}catch(q){console.warn("Could not store pending match popup flag:",q)}const L=se.user;if(L){const q={...L,showProfilePhoto:!0,createdAt:L.createdAt||null,interests:L.interests||"[]",countryOfOrigin:L.countryOfOrigin||"Ghana",relationshipStatus:L.relationshipStatus||"Single"};if(p(q),se.id)try{Object.keys(localStorage).filter(ge=>ge.startsWith("displaying_match_")&&ge!==`displaying_match_${se.id}`).forEach(ge=>{localStorage.removeItem(ge)}),localStorage.setItem("current_match_id",se.id.toString()),localStorage.setItem(`displaying_match_${se.id}`,"true")}catch(H){console.warn("Could not store match display data:",H)}setTimeout(()=>{x(!0),I(H=>{const ge=[...H,se.id];if(e)try{const ke=`clicked_matches_${e.id}`;localStorage.setItem(ke,JSON.stringify(ge))}catch(ke){console.error("Error saving clicked matches to localStorage:",ke)}return ge})},100)}}}},[g,C,e,f,X]),u.useEffect(()=>{if(!f&&g&&g.length>0&&e){const se=g.find(L=>L.matchType==="confirmed"&&!C.includes(L.id));if(se){console.log("CRITICAL OVERRIDE: Found confirmed match in data, forcing popup:",se.id);try{const H=Object.keys(localStorage).filter(ge=>ge.startsWith("displayed_match_popup_")||ge.startsWith("remove_like_"));H.length>30&&H.sort().slice(0,15).forEach(ge=>{localStorage.removeItem(ge)}),localStorage.setItem("pending_match_popup","true")}catch(q){console.warn("Could not store pending match popup flag:",q)}const L=se.user;if(L){const q={...L,showProfilePhoto:!0,interests:L.interests||"[]",countryOfOrigin:L.countryOfOrigin||"Ghana",relationshipStatus:L.relationshipStatus||"Single"};p(q),x(!0),I(H=>{const ge=[...H,se.id];try{const ke=Object.keys(localStorage);if(ke.length>100){const z=ke.filter(ie=>ie.startsWith("displayed_match_popup_")||ie.startsWith("remove_like_"));z.length>60&&z.sort().slice(0,30).forEach(ie=>{localStorage.removeItem(ie)})}localStorage.setItem(`clicked_matches_${e.id}`,JSON.stringify(ge))}catch(ke){console.error("Error updating clicked matches:",ke)}return ge})}}}},[g,f,C,e]);const ae=(g==null?void 0:g.filter(se=>{if(se.matchType!=="confirmed"||C.includes(se.id))return!1;try{return!localStorage.getItem(`displayed_match_popup_${se.id}`)}catch(L){return console.warn("Error accessing localStorage:",L),!0}}))||[];if(ae.length>0&&!f){const se=ae[0];console.log("IMMEDIATE POPUP FIX: Found match requiring immediate popup:",se.id);try{const H=Object.keys(localStorage).filter(ge=>ge.startsWith("displayed_match_popup_"));H.length>50&&H.sort((ke,z)=>{const ie=parseInt(ke.replace("displayed_match_popup_","")),pe=parseInt(z.replace("displayed_match_popup_",""));return ie-pe}).slice(0,20).forEach(ke=>{localStorage.removeItem(ke)}),localStorage.setItem(`displayed_match_popup_${se.id}`,"true")}catch(q){console.warn("Could not store match popup state in localStorage:",q)}const L={...se.user||{},showProfilePhoto:!0,interests:((Se=se.user)==null?void 0:Se.interests)||"[]",countryOfOrigin:((Ue=se.user)==null?void 0:Ue.countryOfOrigin)||"Ghana",relationshipStatus:((De=se.user)==null?void 0:De.relationshipStatus)||"Single"};setTimeout(()=>{p(L),x(!0)},0)}const[$,re]=u.useState([]);u.useEffect(()=>{if(!g||!Array.isArray(g))return;if(console.log(" ENHANCED: Processing matches data for display",{matchCount:g.length,clicked:C.length,pendingMatchPopup:X}),X==="true"||f){re([]);return}const se=g.filter(L=>!C.includes(L.id)).filter(L=>L.matchType==="pending"||L.matchType==="confirmed").map(L=>({...L}));console.log(" DEBUG: Processed matches for display:",{total:g.length,afterFiltering:se.length,matchTypes:g.map(L=>L.matchType),processed:se.map(L=>{var q;return{id:L.id,type:L.matchType,user:(q=L.user)==null?void 0:q.fullName}})}),re(se)},[g,C,X,f]);const ce=$.filter(se=>{var L;if(se.matchType==="pending"){const q=(L=se.user)==null?void 0:L.id;if(q)try{if(localStorage.getItem(`remove_like_${q}`)==="true"){try{localStorage.removeItem(`remove_like_${q}`)}catch(ge){console.warn("Could not remove item from localStorage:",ge)}return!1}}catch(H){return console.warn("Error accessing localStorage:",H),!0}}return!0}).map(se=>({id:se.id,matchId:se.id,userId:se.user.id,fullName:se.user.fullName,photoUrl:se.user.photoUrl,age:ue(se.user.dateOfBirth),location:se.user.location,bio:se.user.bio,profession:se.user.profession,ethnicity:se.user.ethnicity,secondaryTribe:se.user.secondaryTribe,religion:se.user.religion,relationshipGoal:se.user.relationshipGoal,compatibility:se.user.compatibility||p1(e,se.user),matched:se.matchType==="confirmed",isPendingLike:se.matchType==="pending",lastMessageTime:se.lastMessageTime,visibilityPreferences:se.user.visibilityPreferences,showProfilePhoto:se.user.showProfilePhoto}));if(!e)return r("/auth"),null;function ue(se){if(!se)return;const L=new Date(se),q=new Date;let H=q.getFullYear()-L.getFullYear();const ge=q.getMonth()-L.getMonth();return(ge<0||ge===0&&q.getDate()<L.getDate())&&H--,H}const ee=_,Z=ce&&ce.length>0;return t.jsxs("div",{className:`h-screen flex flex-col overflow-hidden transition-all duration-700 ${s?"bg-gradient-to-br from-slate-900 via-gray-900 to-black":"bg-gradient-to-br from-gray-50 via-white to-gray-100"}`,children:[t.jsx(ks,{}),t.jsxs("div",{className:`relative pb-16 flex-1 overflow-hidden flex flex-col transition-all duration-700 ${s?"bg-gradient-to-b from-slate-900/80 via-gray-900/60 to-black/90":"bg-gradient-to-b from-purple-100 via-purple-50 to-purple-100"}`,children:[t.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none transition-all duration-700 ${s?"opacity-40":"opacity-50"}`,children:[t.jsx("div",{className:`absolute -top-10 -left-10 w-40 h-40 rounded-full blur-3xl transition-all duration-700 ${s?"bg-gradient-to-r from-purple-600/30 to-blue-600/20 shadow-2xl shadow-purple-500/20":"bg-purple-200"}`}),t.jsx("div",{className:`absolute top-20 right-10 w-72 h-72 rounded-full blur-3xl transition-all duration-700 ${s?"bg-gradient-to-r from-pink-500/20 to-purple-500/30 shadow-2xl shadow-pink-500/10":"bg-pink-200"}`}),t.jsx("div",{className:`absolute bottom-10 left-10 w-60 h-60 rounded-full blur-3xl transition-all duration-700 ${s?"bg-gradient-to-r from-blue-500/25 to-indigo-600/20 shadow-xl shadow-blue-500/15":"bg-blue-200"}`}),s&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute top-1/3 left-1/2 w-96 h-96 rounded-full bg-gradient-to-r from-violet-500/10 to-purple-500/15 blur-3xl transform -translate-x-1/2 animate-pulse"}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 rounded-full bg-gradient-to-r from-fuchsia-500/15 to-pink-500/10 blur-2xl animate-pulse"})]})]}),t.jsxs(E.div,{className:`relative z-10 pt-5 pb-7 mb-5 overflow-hidden transition-all duration-700 ${s?"border-b border-gray-700/50 bg-gradient-to-r from-slate-800/30 via-gray-800/20 to-slate-800/30 backdrop-blur-sm":"border-b border-purple-100"}`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:[t.jsx(E.div,{className:`absolute -right-32 top-0 w-64 h-64 rounded-full blur-3xl transition-all duration-700 ${s?"bg-gradient-to-r from-purple-500/25 to-blue-500/15 shadow-2xl shadow-purple-500/30":"bg-purple-200/30"}`,animate:{scale:[1,1.2,1],x:[0,-10,0],y:[0,5,0]},transition:{repeat:1/0,duration:8,ease:"easeInOut"}}),t.jsx(E.div,{className:`absolute left-10 -bottom-16 w-32 h-32 rounded-full blur-2xl transition-all duration-700 ${s?"bg-gradient-to-r from-pink-500/20 to-purple-500/25 shadow-xl shadow-pink-500/20":"bg-pink-200/20"}`,animate:{scale:[1,1.3,1],x:[-10,10,-10],opacity:[.5,.7,.5]},transition:{repeat:1/0,duration:10,ease:"easeInOut"}}),s&&t.jsx(E.div,{className:"absolute right-1/4 top-1/2 w-40 h-40 bg-gradient-to-r from-violet-500/15 to-fuchsia-500/10 rounded-full blur-2xl",animate:{scale:[1,1.1,1],rotate:[0,180,360],opacity:[.3,.6,.3]},transition:{repeat:1/0,duration:12,ease:"easeInOut"}})]}),t.jsxs("div",{className:"relative",children:[t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-600/10 via-fuchsia-500/10 to-pink-500/10 rounded-full",animate:{opacity:[.3,.5,.3]},transition:{repeat:1/0,duration:3}}),t.jsx(E.h1,{className:`text-5xl font-extrabold text-center my-4 bg-gradient-to-r from-purple-600 via-fuchsia-500 to-pink-500 bg-clip-text text-transparent animate-gradient relative z-10 transition-all duration-700 ${s?"drop-shadow-2xl":""}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,textShadow:s?["0 0 10px rgba(168, 85, 247, 0.4)","0 0 20px rgba(168, 85, 247, 0.6)","0 0 10px rgba(168, 85, 247, 0.4)"]:["0 0 2px rgba(168, 85, 247, 0.3)","0 0 4px rgba(168, 85, 247, 0.4)","0 0 2px rgba(168, 85, 247, 0.3)"]},transition:{delay:.2,duration:.5,textShadow:{repeat:1/0,duration:s?3:2}},style:s?{filter:"drop-shadow(0 0 20px rgba(168, 85, 247, 0.3))"}:{},children:a("matches.matches")})]}),t.jsx("div",{className:"relative",children:t.jsx(E.div,{className:"w-24 h-1 mx-auto mt-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 relative overflow-hidden",initial:{width:0},animate:{width:"6rem"},transition:{delay:.4,duration:.8},children:t.jsx(E.div,{className:"absolute inset-0 bg-white/70",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,repeatDelay:1},style:{width:"30%"}})})}),!ee&&Z&&t.jsx(E.p,{className:`text-center text-sm mt-3 bg-gradient-to-r from-purple-500/80 via-fuchsia-500/80 to-pink-500/80 bg-clip-text text-transparent font-medium transition-all duration-700 ${s?"drop-shadow-lg":""}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},style:s?{filter:"drop-shadow(0 0 10px rgba(168, 85, 247, 0.2))"}:{},children:a("matches.connectWithPeople")})]}),ee?t.jsxs(E.div,{className:`flex flex-col justify-center items-center flex-1 transition-all duration-700 ${s?"bg-gradient-to-b from-transparent to-gray-900/20":""}`,animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2},children:[t.jsxs("div",{className:"relative",children:[t.jsx(sn,{className:`h-12 w-12 animate-spin transition-all duration-700 ${s?"text-purple-400 drop-shadow-lg":"text-purple-500"}`}),t.jsx("div",{className:`absolute inset-0 h-12 w-12 rounded-full border-t-2 animate-ping opacity-20 transition-all duration-700 ${s?"border-purple-400 shadow-lg shadow-purple-500/30":"border-purple-300"}`}),s&&t.jsx("div",{className:"absolute inset-0 h-12 w-12 rounded-full bg-gradient-to-r from-purple-500/20 to-pink-500/10 blur-xl animate-pulse"})]}),t.jsx("p",{className:`mt-4 text-sm animate-pulse transition-all duration-700 ${s?"text-gray-300 drop-shadow-sm":"text-gray-600"}`,children:a("matches.loadingMatches")})]}):Z?t.jsx(E.div,{className:`px-3 sm:px-4 flex-1 overflow-y-auto transition-all duration-700 ${s?"bg-gradient-to-b from-transparent to-gray-900/10":""}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:t.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4 max-w-6xl mx-auto",children:ce.map(se=>t.jsx(wge,{match:se,onClick:()=>V(se),darkMode:s,hasBlurredCards:!(e!=null&&e.premiumAccess)},`${se.matched?"match":"like"}-${se.id}`))})}):t.jsxs(E.div,{className:`flex flex-col items-center justify-center flex-1 text-center p-4 h-full transition-all duration-700 ${s?"bg-gradient-to-b from-transparent via-gray-900/10 to-gray-800/20":""}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[t.jsxs("div",{className:"relative w-28 h-28 mb-6",children:[t.jsx("div",{className:`absolute inset-0 rounded-full blur-lg opacity-60 animate-pulse transition-all duration-700 ${s?"bg-gradient-to-r from-purple-500/50 to-pink-500/40 shadow-2xl shadow-purple-500/30":"bg-gradient-to-r from-purple-400 to-pink-400"}`}),t.jsxs("div",{className:`relative w-full h-full rounded-full flex items-center justify-center border-4 shadow-lg transition-all duration-700 ${s?"bg-gradient-to-br from-gray-800 to-gray-900 border-purple-500/30 shadow-2xl shadow-purple-500/20":"bg-white border-purple-100"}`,children:[t.jsx(Yt,{className:`h-12 w-12 transition-all duration-700 ${s?"text-purple-400 drop-shadow-lg":"text-purple-500"}`}),s&&t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500/10 to-pink-500/5 animate-pulse"})]})]}),t.jsx(E.h3,{className:`text-2xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent transition-all duration-700 ${s?"drop-shadow-lg":""}`,animate:{scale:[1,1.02,1]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},style:s?{filter:"drop-shadow(0 0 15px rgba(168, 85, 247, 0.3))"}:{},children:a("matches.noMatches")}),t.jsx("p",{className:`max-w-md transition-all duration-700 ${s?"text-gray-300 drop-shadow-sm":"text-gray-600"}`,children:a("matches.whenYouMatch")}),t.jsx(E.div,{className:`mt-8 bg-gradient-to-r from-purple-500 to-pink-500 p-px rounded-full transition-all duration-700 ${s?"shadow-2xl shadow-purple-500/30":""}`,whileHover:{scale:1.05},whileTap:{scale:.98},animate:{boxShadow:s?["0 0 0 0 rgba(168, 85, 247, 0.6)","0 0 0 15px rgba(168, 85, 247, 0)","0 0 0 0 rgba(168, 85, 247, 0.6)"]:["0 0 0 0 rgba(168, 85, 247, 0.4)","0 0 0 10px rgba(168, 85, 247, 0)","0 0 0 0 rgba(168, 85, 247, 0.4)"]},transition:{repeat:1/0,duration:2},children:t.jsx(E.button,{className:`py-2 px-6 rounded-full font-medium transition-all duration-700 ${s?"bg-gradient-to-r from-gray-800 to-gray-900 text-purple-300 shadow-inner shadow-purple-500/20 hover:shadow-purple-500/30":"bg-white text-purple-700"}`,onClick:()=>r("/"),children:a("matches.startSwiping")})})]}),f&&h&&e&&l&&t.jsx(yS,{matchedUser:h,currentUser:e,open:f,onClose:O,matchId:l.matchId}),t.jsx(Xt,{children:l&&t.jsx(Or,{open:d,onOpenChange:m,children:t.jsxs(Dr,{className:"sm:max-w-[600px] p-0 border-0 overflow-hidden max-h-[90vh] h-[80vh] flex flex-col","aria-describedby":"profile-description",children:[t.jsxs(uv,{children:[t.jsx(Jr,{children:"User Profile"}),t.jsx("div",{id:"profile-description",children:"View and interact with this user's profile"})]}),t.jsx("div",{className:"flex-1 h-full",children:t.jsx(gy,{user:R(l),onSwipeLeft:M,onSwipeRight:J,onMatchFound:B,mode:"match",isPremium:(e==null?void 0:e.premiumAccess)||!1,onPremiumUpgradeClick:()=>P(!0)})})]})})})]}),t.jsx(Ns,{}),t.jsx(hF,{user:w,isOpen:y,onClose:()=>b(!1),mode:"MEET",isPremium:(e==null?void 0:e.premiumAccess)||!1,onPremiumUpgradeClick:()=>P(!0)}),t.jsx(Af,{open:N,onOpenChange:P})]})}function Nge({match:e,onClick:r}){return t.jsxs(E.div,{className:"cursor-pointer rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-200 bg-white dark:bg-gray-800 border border-green-300 dark:border-green-700",whileHover:{y:-5,scale:1.02},onClick:r,children:[t.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[e.photoUrl?t.jsx("img",{src:e.photoUrl,alt:e.fullName,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center text-white text-4xl font-bold",children:e.fullName.charAt(0)}),t.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 rounded-full bg-green-500 animate-pulse"})]}),t.jsxs("div",{className:"p-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.fullName}),e.age&&t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.age})]}),e.location&&t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.location})]})]})}function kge(){lr();const{toast:e}=Wr(),{translate:r}=tn(),n={id:9999,username:"test_user",password:"**********",fullName:"Test User",email:"test@example.com",phoneNumber:"+1234567890",gender:"Prefer not to say",location:"Accra, Ghana",bio:"This is a test user account for demonstration purposes.",profession:"Developer",ethnicity:"Test",photoUrl:"https://randomuser.me/api/portraits/lego/1.jpg",secondaryTribe:"Test",religion:"Test",dateOfBirth:new Date(1990,0,1),relationshipGoal:"Testing",interests:JSON.stringify(["Testing","Programming","UI Design"]),verifiedByPhone:!0,twoFactorEnabled:!1,isOnline:!0,lastActive:new Date,createdAt:new Date},[a,s]=u.useState(null),[i,o]=u.useState(!1),[l,c]=u.useState(null),[d,m]=u.useState(!1),[h,p]=u.useState([]),f=[{id:101,matchId:101,userId:1001,fullName:"Kofi Mensah",photoUrl:"https://randomuser.me/api/portraits/men/32.jpg",age:31,location:"Accra, Ghana",bio:"Software developer passionate about creating technologies that unite the Ghanaian diaspora.",compatibility:92,matched:!0},{id:102,matchId:102,userId:1002,fullName:"Abena Osei",photoUrl:"https://randomuser.me/api/portraits/women/67.jpg",age:33,location:"London, UK",bio:"Medical doctor in London with roots in Ghana.",compatibility:88,matched:!0}],x=[{id:103,matchId:103,userId:1003,fullName:"Kwame Boateng",photoUrl:"https://randomuser.me/api/portraits/men/59.jpg",age:35,location:"New York, USA",bio:"Fintech entrepreneur connecting Africa to global markets. Passionate about bringing financial services to underserved communities.",compatibility:79,matched:!0},{id:104,matchId:104,userId:1004,fullName:"Adwoa Asamoah",photoUrl:"https://randomuser.me/api/portraits/women/16.jpg",age:30,location:"Kumasi, Ghana",bio:"Fashion designer blending traditional Kente with modern styles. Creating contemporary accessories inspired by cultural heritage.",compatibility:85,matched:!0},{id:105,matchId:105,userId:1005,fullName:"Kwesi Adjei",photoUrl:"https://randomuser.me/api/portraits/men/85.jpg",age:38,location:"Toronto, Canada",bio:"University professor specializing in African diaspora studies. Published author on cultural identity and globalization.",compatibility:91,matched:!0}],g=C=>{s(C),o(!0)},v=()=>{if(a){e({title:"It's a match!",description:"You can now message each other.",variant:"default"}),a.matched=!0;const C=b(a);c(C),o(!1),setTimeout(()=>{m(!0)},300)}},y=()=>{a&&(e({title:"User rejected",description:"This user will no longer appear in your matches.",variant:"default"}),p(C=>[...C,a.matchId]),o(!1),s(null))},b=C=>({id:C.userId,username:"",password:"",fullName:C.fullName,email:"",phoneNumber:null,gender:"",location:C.location||"",bio:C.bio||null,profession:null,ethnicity:"",photoUrl:C.photoUrl||null,secondaryTribe:"",religion:"",dateOfBirth:null,relationshipGoal:"",interests:"[]",verifiedByPhone:!1,twoFactorEnabled:!1,isOnline:!1,lastActive:null,createdAt:null}),w=C=>{c(C),m(!0)},S=()=>{m(!1),c(null)},N=[...f.filter(C=>!h.includes(C.matchId)).map(C=>C),...x.filter(C=>!h.includes(C.matchId)).map(C=>C)],P=N.length>0;return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsxs("div",{className:"relative border-t border-white pb-16 overflow-hidden",children:[t.jsx("h1",{className:"text-2xl font-bold text-center my-3 bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent",children:r("matches.matches")}),P?t.jsx("div",{className:"px-2",children:t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-4",children:N.map(C=>t.jsx(Nge,{match:C,onClick:()=>g(C)},`${C.matched?"match":"like"}-${C.id}`))})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-4",children:[t.jsx("div",{className:"w-20 h-20 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mb-4",children:t.jsx(Yt,{className:"h-10 w-10 text-purple-500"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",children:r("matches.noMatches")}),t.jsxs("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:[r("matches.whenYouMatch"),t.jsx("span",{className:"font-medium text-purple-600 dark:text-purple-400 block mt-2",children:r("matches.keepSwiping")})]})]}),d&&l&&t.jsx(yS,{matchedUser:l,currentUser:n,open:d,onClose:S}),t.jsx(Xt,{children:a&&t.jsx(Or,{open:i,onOpenChange:o,children:t.jsxs(Dr,{className:"sm:max-w-[600px] p-0 border-0 overflow-hidden max-h-[90vh]","aria-describedby":"profile-description",children:[t.jsxs(uv,{children:[t.jsx(Jr,{children:"User Profile"}),t.jsx("div",{id:"profile-description",children:"View and interact with this user's profile"})]}),t.jsx(gy,{user:b(a),onSwipeLeft:y,onSwipeRight:v,onMatchFound:w})]})})})]}),t.jsx(Ns,{})]})}const pF=u.forwardRef(({className:e,...r},n)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",e),...r})}));pF.displayName="Table";const fF=u.forwardRef(({className:e,...r},n)=>t.jsx("thead",{ref:n,className:We("[&_tr]:border-b",e),...r}));fF.displayName="TableHeader";const gF=u.forwardRef(({className:e,...r},n)=>t.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",e),...r}));gF.displayName="TableBody";const Sge=u.forwardRef(({className:e,...r},n)=>t.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));Sge.displayName="TableFooter";const yg=u.forwardRef(({className:e,...r},n)=>t.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));yg.displayName="TableRow";const Tl=u.forwardRef(({className:e,...r},n)=>t.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));Tl.displayName="TableHead";const Wo=u.forwardRef(({className:e,...r},n)=>t.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));Wo.displayName="TableCell";const Cge=u.forwardRef(({className:e,...r},n)=>t.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",e),...r}));Cge.displayName="TableCaption";function Ege(){const{user:e}=Sr(),[,r]=lr(),{data:n,isLoading:a,isError:s}=dt({queryKey:["/api/admin/users"]});return u.useEffect(()=>{e||r("/auth")},[e,r]),a?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx(sn,{className:"h-8 w-8 animate-spin text-primary"})}):s?t.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-screen",children:[t.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Data"}),t.jsx("p",{className:"text-gray-700 mb-6",children:"Could not load user data. Please try again later."}),t.jsx(de,{onClick:()=>r("/"),children:"Back to Home"})]}):t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"CHARLEY Admin"}),t.jsxs(de,{variant:"outline",onClick:()=>r("/"),className:"flex items-center gap-2",children:[t.jsx(Wn,{className:"h-4 w-4"}),"Back to App"]})]}),t.jsxs(wr,{className:"mb-8",children:[t.jsxs(On,{children:[t.jsx(ca,{children:"Registered Users"}),t.jsxs(jo,{children:["Total users: ",Array.isArray(n)?n.length:0]})]}),t.jsx($r,{children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(pF,{children:[t.jsx(fF,{children:t.jsxs(yg,{children:[t.jsx(Tl,{children:"ID"}),t.jsx(Tl,{children:"Username"}),t.jsx(Tl,{children:"Full Name"}),t.jsx(Tl,{children:"Email"}),t.jsx(Tl,{children:"Gender"}),t.jsx(Tl,{children:"Location"}),t.jsx(Tl,{children:"Created At"})]})}),t.jsxs(gF,{children:[Array.isArray(n)&&n.map(i=>t.jsxs(yg,{children:[t.jsx(Wo,{children:i.id}),t.jsx(Wo,{children:i.username}),t.jsx(Wo,{children:i.fullName||"-"}),t.jsx(Wo,{children:i.email||"-"}),t.jsx(Wo,{children:i.gender||"-"}),t.jsx(Wo,{children:i.location||"-"}),t.jsx(Wo,{children:i.createdAt?new Date(i.createdAt).toLocaleString():"-"})]},i.id)),(!n||!Array.isArray(n)||n.length===0)&&t.jsx(yg,{children:t.jsx(Wo,{colSpan:7,className:"text-center py-4",children:"No users found"})})]})]})})})]}),t.jsxs(wr,{children:[t.jsxs(On,{children:[t.jsx(ca,{children:"Database Tables"}),t.jsx(jo,{children:"Overview of all database tables"})]}),t.jsx($r,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Users"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores user account information"}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Count: ",Array.isArray(n)?n.length:0]})]}),t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Matches"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores user match connections"})]}),t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Messages"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores chat messages between users"})]}),t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"User Preferences"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores user dating preferences"})]}),t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"User Interests"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores user interests and hobbies"})]}),t.jsxs("div",{className:"border rounded-md p-4",children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Video Calls"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Stores video call session data"})]})]})})]})]})}function Pge(){const{currentMode:e,setAppMode:r}=Ts(),{user:n}=Sr();return u.useEffect(()=>{localStorage.setItem("last_app_page","/heat"),localStorage.setItem("origin_app_page","/heat"),console.log("[HEAT-PAGE] Set origin page to /heat"),console.log("[HEAT-PAGE] Setting app mode to HEAT, current mode:",e),r("HEAT")},[r,e]),u.useEffect(()=>{if(n!=null&&n.id)try{sessionStorage.setItem("userId",n.id.toString());try{localStorage.setItem("userId",n.id.toString()),localStorage.setItem(`last_used_app_${n.id}`,"heat")}catch{console.warn("[STORAGE] localStorage quota exceeded, using sessionStorage fallback"),sessionStorage.setItem(`last_used_app_${n.id}`,"heat")}sessionStorage.setItem("appModeSelected","true")}catch(a){console.error("[STORAGE] Error setting storage values:",a)}},[n]),t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsxs("div",{className:"h-[calc(100vh-120px)] relative flex flex-col items-center justify-center p-4",children:[t.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-yellow-300 rounded-full overflow-hidden shadow-xl mb-6 animate-pulse-slow",children:t.jsx(Hs,{className:"h-10 w-10 text-white animate-icon-wave",fill:"rgba(255,255,255,0.3)"})}),t.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent mb-4",children:"HEAT"}),t.jsxs("div",{className:"text-center max-w-md bg-white/60 backdrop-blur-sm p-6 rounded-xl shadow-lg border border-gray-100",children:[t.jsx("p",{className:"text-xl font-semibold mb-4 text-orange-600",children:"Coming Soon!"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"We're still working on HEAT, the social app that will help you connect with other Ghanaians for events, gatherings, and social activities."}),t.jsx("p",{className:"italic text-sm text-gray-500",children:"Use the app switcher in the bottom navigation to switch between apps."})]})]}),t.jsx(Ns,{})]})}function Age(){Ts();const{user:e}=Sr(),[,r]=lr();return u.useEffect(()=>{if(e!=null&&e.id)try{sessionStorage.setItem("userId",e.id.toString());try{localStorage.setItem("userId",e.id.toString()),localStorage.setItem(`last_used_app_${e.id}`,"suite")}catch{console.warn("[STORAGE] localStorage quota exceeded, using sessionStorage fallback"),sessionStorage.setItem(`last_used_app_${e.id}`,"suite")}sessionStorage.setItem("appModeSelected","true"),r("/suite/network")}catch(n){console.error("[STORAGE] Error setting storage values:",n),r("/suite/network")}},[e,r]),null}function zb(e,r=!0){const n=Ma(),a=u.useRef(null),s=u.useRef(0),i=u.useCallback(()=>{switch(e){case"networking":return["/api/suite/discovery/networking"];case"mentorship":return["/api/suite/discovery/mentorship"];case"job":return["/api/suite/discovery/jobs"];default:return["/api/discover-users"]}},[e]),o=u.useCallback((h=!1)=>{const p=Date.now(),f=p-s.current;!h&&f<5e3||(s.current=p,n.invalidateQueries({queryKey:i(),exact:!0}),console.log(`[RealTimeDiscovery]  Cache invalidated for ${e} discovery`))},[n,i,e]),l=u.useCallback(h=>{const p=i();console.log(" [CARD-REMOVAL-DEBUG] Attempting to remove card:",{removeProfileId:h.removeProfileId,removeUserId:h.removeUserId,context:e,cacheKey:p}),n.setQueryData(p,f=>{if(!Array.isArray(f))return console.log(" [CARD-REMOVAL-DEBUG] No data to filter, oldData:",f),f;console.log(" [CARD-REMOVAL-DEBUG] Current cards before filtering:",f.map(g=>({id:g.id,userId:g.userId,name:g.fullName||g.role||"Unknown"})));const x=f.filter(g=>{var S,N,P,C;const v=(S=g.id)==null?void 0:S.toString(),y=(N=g.userId)==null?void 0:N.toString(),b=(P=h.removeProfileId)==null?void 0:P.toString(),w=(C=h.removeUserId)==null?void 0:C.toString();return console.log(" [CARD-REMOVAL-DEBUG] Checking card:",{cardId:v,cardUserId:y,removeId:b,removeUserId:w,cardMatches:v===b||y===w}),v!==b&&y!==w?!0:(console.log(` [CARD-REMOVAL-DEBUG] REMOVING card ${v} from ${e} discovery`),!1)});return console.log(" [CARD-REMOVAL-DEBUG] Cards after filtering:",x.map(g=>({id:g.id,userId:g.userId,name:g.fullName||g.role||"Unknown"}))),x})},[n,i,e]),c=u.useCallback(h=>{if(h.newProfiles&&Array.isArray(h.newProfiles)){const p=i();n.setQueryData(p,f=>{if(!Array.isArray(f))return h.newProfiles;const x=new Set(f.map(v=>{var y;return(y=v.id)==null?void 0:y.toString()})),g=h.newProfiles.filter(v=>{var y;return!x.has((y=v.id)==null?void 0:y.toString())});return g.length>0?(console.log(`[RealTimeDiscovery] Adding ${g.length} new cards to ${e} discovery`),[...f,...g]):f})}},[n,i,e]);u.useEffect(()=>{if(!r)return;const h=f=>{try{const x=JSON.parse(f.data);x.type==="suite_remove_from_discover"&&console.log(" [WEBSOCKET-DEBUG] Received removal message:",{type:x.type,suiteType:x.suiteType,removeProfileId:x.removeProfileId,removeUserId:x.removeUserId,reason:x.reason,currentContext:e});const g=x.suiteType===e||x.suiteType==="jobs"&&e==="job";x.type==="suite_remove_from_discover"&&g&&(console.log(` [WEBSOCKET-DEBUG] Processing removal for context ${e}, suiteType matches: ${g}`),l(x)),(x.type==="discovery:refresh"||x.type===`${e}:refresh`)&&o(!0),x.type==="discovery:new_profiles"&&x.context===e&&c(x),x.type===`${e}_profile_updated`&&o()}catch(x){console.error("[RealTimeDiscovery] Error parsing WebSocket message:",x)}};if(window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN)return window.chatSocket.addEventListener("message",h),()=>{window.chatSocket&&window.chatSocket.removeEventListener("message",h)};const p=()=>{window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&window.chatSocket.addEventListener("message",h)};return window.addEventListener("websocket:connected",p),()=>{window.removeEventListener("websocket:connected",p),window.chatSocket&&window.chatSocket.removeEventListener("message",h)}},[r,e,l,c,o]),u.useEffect(()=>{if(!r)return;const h=p=>{const{detail:f}=p,x=f.suiteType===e||f.suiteType==="jobs"&&e==="job";p.type==="suite_remove_from_discover"&&x&&l(f),(p.type==="discovery:refresh"||p.type===`${e}:refresh`)&&o(!0)};return window.addEventListener("suite_remove_from_discover",h),window.addEventListener("discovery:refresh",h),window.addEventListener(`${e}:refresh`,h),()=>{window.removeEventListener("suite_remove_from_discover",h),window.removeEventListener("discovery:refresh",h),window.removeEventListener(`${e}:refresh`,h)}},[r,e,l,o]),u.useEffect(()=>r?((()=>{a.current&&clearInterval(a.current),a.current=setInterval(()=>{o()},12e4)})(),()=>{a.current&&(clearInterval(a.current),a.current=null)}):void 0,[r,o]);const d=u.useCallback(()=>{o(!0)},[o]),m=u.useCallback(()=>n.getQueryData(i()),[n,i]);return{refreshDiscovery:d,getCachedData:m,cacheKey:i()}}function R4(){const{user:e}=Sr();Ts();const{darkMode:r}=Za(),[,n]=lr(),{toast:a}=Wr(),{translate:s}=tn(),i=Ma(),{showSplash:o}=y_(),[l,c]=u.useState(0),[d,m]=u.useState(()=>{try{const ne=new URLSearchParams(window.location.search).get("tab");if(ne&&(ne==="job"||ne==="mentorship"||ne==="networking"))return ne}catch(j){console.warn("Failed to parse URL parameters:",j)}try{const j=localStorage.getItem(`suite_network_last_tab_${e==null?void 0:e.id}`);if(j&&(j==="job"||j==="mentorship"||j==="networking"))return j}catch(j){console.warn("Failed to load saved tab preference:",j)}return"networking"}),[h,p]=u.useState(null),[f,x]=u.useState(!1),[g,v]=u.useState(null),[y,b]=u.useState(!1),[w,S]=u.useState(null),[N,P]=u.useState(!1),[C,I]=u.useState(null),[T,_]=u.useState(!1),[k,A]=u.useState(!1),[F,V]=u.useState(null),[J,M]=u.useState(!1),[R,B]=u.useState(null),[O,X]=u.useState(!1),[ae,$]=u.useState(!1),[re,le]=u.useState(!1),{data:ce,isLoading:ue}=dt({queryKey:["/api/premium/status"],enabled:!!e}),ee=(ce==null?void 0:ce.premiumAccess)||!1,[Z,Se]=u.useState(!1),[Ue,De]=u.useState(!1),se=()=>{Se(!0)},L=u.useRef(null),q=u.useRef(null),H=u.useRef(null),ge=u.useRef(null),ke=u.useRef(null),z=u.useRef(320),{data:ie,isLoading:pe}=dt({queryKey:["/api/suite/networking-profile"],queryFn:async()=>{console.log("[PROFILE-CHECK]  Checking networking profile...");const j=Date.now(),ne=await ze("/api/suite/networking-profile");if(!ne.ok)throw new Error("Failed to fetch user networking profile");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[PROFILE-CHECK]  Networking profile checked in ${Me}ms`),oe},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:ye,isLoading:$e}=dt({queryKey:["/api/suite/mentorship-profile"],queryFn:async()=>{console.log("[PROFILE-CHECK]  Checking mentorship profile...");const j=Date.now(),ne=await ze("/api/suite/mentorship-profile");if(!ne.ok)throw new Error("Failed to fetch user mentorship profile");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[PROFILE-CHECK]  Mentorship profile checked in ${Me}ms`),oe},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:Le,isLoading:Oe}=dt({queryKey:["/api/suite/job-profile"],queryFn:async()=>{console.log("[PROFILE-CHECK]  Checking job profile...");const j=Date.now(),ne=await ze("/api/suite/job-profile");if(!ne.ok)throw new Error("Failed to fetch user job profile");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[PROFILE-CHECK]  Job profile checked in ${Me}ms`),oe},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3});zb("networking",!!e);const{data:Ze,isLoading:te,isError:Ne,error:rt,refetch:at}=dt({queryKey:["/api/suite/discovery/networking"],queryFn:async()=>{console.log("[SUITE-DISCOVERY]  Loading networking profiles...");const j=Date.now(),ne=await ze("/api/suite/discovery/networking");if(!ne.ok)throw new Error("Failed to fetch networking profiles");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[SUITE-DISCOVERY]  Networking loaded in ${Me}ms`),oe},enabled:!!e,staleTime:10*60*1e3,gcTime:30*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,retry:1,retryDelay:300}),{mutate:jt}=wt({mutationFn:async j=>{const ne=await fetch("/api/suite/compatibility/batch",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileIds:j})});if(!ne.ok)throw new Error("Failed to calculate batch compatibility");return ne.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["suite-compatibility-rating"]})}});u.useEffect(()=>{if(Ze&&Array.isArray(Ze)&&Ze.length>0){const j=Ze.map(ne=>ne.id).filter(ne=>ne);j.length>0&&jt(j)}},[Ze,jt]),zb("mentorship",!!e),zb("job",!!e);const{data:xt,isLoading:jr,isError:zt,error:Wt,refetch:Et}=dt({queryKey:["/api/suite/discovery/mentorship"],queryFn:async()=>{console.log("[SUITE-DISCOVERY]  Loading mentorship profiles...");const j=Date.now(),ne=await ze("/api/suite/discovery/mentorship");if(!ne.ok)throw new Error("Failed to fetch mentorship profiles");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[SUITE-DISCOVERY]  Mentorship loaded in ${Me}ms`),oe},enabled:!!e,staleTime:10*60*1e3,gcTime:30*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,retry:1,retryDelay:300});u.useEffect(()=>{var j;if(d==="mentorship"&&xt&&xt[l]){const ne=xt[l],oe=((j=ne==null?void 0:ne.userId)==null?void 0:j.toString())||(ne==null?void 0:ne.id);F!==null&&F!==oe&&(A(!1),_(!1),Xe(!1),console.log(`[BRIEFCASE-RESTORE] Briefcase restored and padlock reset for new mentorship card: ${oe}`)),V(oe)}},[d,xt,l,F]);const[ut,cr]=u.useState(!1),[Ir,Bt]=u.useState(!1),[vt,Ft]=u.useState(null),[$t,dr]=u.useState(null),[Vt,vn]=u.useState(!1),[Sn,Rt]=u.useState(!1),[Te,Xe]=u.useState(!1),{data:nt,isLoading:U,isError:K,error:je,refetch:Ae}=dt({queryKey:["/api/suite/discovery/jobs"],queryFn:async()=>{console.log("[SUITE-DISCOVERY]  Loading job profiles...");const j=Date.now(),ne=await ze("/api/suite/discovery/jobs");if(!ne.ok)throw new Error("Failed to fetch job profiles");const oe=await ne.json(),Me=Date.now()-j;return console.log(`[SUITE-DISCOVERY]  Jobs loaded in ${Me}ms`),oe},enabled:!!e,staleTime:10*60*1e3,gcTime:30*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchInterval:!1,retry:1,retryDelay:300});u.useEffect(()=>{var j;if(d==="networking"&&Ze&&Ze[l]){const ne=Ze[l],oe=((j=ne==null?void 0:ne.userId)==null?void 0:j.toString())||(ne==null?void 0:ne.id);vt!==null&&vt!==oe&&(cr(!1),Bt(!1),Rt(!1),console.log(`[HANDSHAKE-RESTORE] Handshake restored and padlock reset for new networking card: ${oe}`)),Ft(oe)}},[d,Ze,l,vt]),u.useEffect(()=>{var j;if(d==="job"&&nt&&nt[l]){const ne=nt[l],oe=((j=ne==null?void 0:ne.userId)==null?void 0:j.toString())||(ne==null?void 0:ne.id);$t!==null&&$t!==oe&&(A(!1),_(!1),vn(!1),console.log(`[BRIEFCASE-RESTORE] Briefcase restored and padlock reset for new job card: ${oe}`)),dr(oe)}},[d,nt,l,$t]);const st=wt({mutationFn:async j=>{const ne=await ze("/api/suite/networking/swipe",{method:"POST",data:j});if(!ne.ok){if(ne.status===403){const oe=await ne.json();if(oe.action==="create_profile"&&oe.profileType){const Me=new Error("Profile required for networking");throw Me.profileValidationError={profileType:oe.profileType,action:oe.action},Me}}throw new Error("Failed to record swipe action")}return ne.json()},onMutate:async j=>{await i.cancelQueries({queryKey:["/api/suite/discovery/networking"]});const ne=i.getQueryData(["/api/suite/discovery/networking"]),oe=ne==null?void 0:ne.find(Me=>Me.id===j.profileId);return oe&&i.setQueryData(["/api/suite/networking/removed-profiles"],Me=>[oe,...(Me||[]).slice(0,9)]),i.setQueryData(["/api/suite/discovery/networking"],Me=>Me&&Me.filter(Be=>Be.id!==j.profileId)),{previousData:ne}},onError:(j,ne,oe)=>{if(j!=null&&j.profileValidationError){const{profileType:Me}=j.profileValidationError,Be=Me==="jobs"?"openJob":Me==="mentorship"?"openMentorship":"openNetworking";window.location.href=`/profile?${Be}=true`;return}oe!=null&&oe.previousData&&i.setQueryData(["/api/suite/discovery/networking"],oe.previousData),a({title:"Action Failed",description:"Could not process your action. Please try again.",variant:"destructive"})},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_NETWORKING"]}),i.setQueryData(["/api/swipe/history","SUITE_NETWORKING"],(j=0)=>Math.min(j+1,9))},onSettled:()=>{i.invalidateQueries({queryKey:["/api/suite/discovery/networking"]})}}),Pt=wt({mutationFn:async j=>{const ne=await ze("/api/suite/mentorship/swipe",{method:"POST",data:j});if(!ne.ok){if(ne.status===403){const oe=await ne.json();if(oe.action==="create_profile"&&oe.profileType){const Me=new Error("Profile required for mentorship");throw Me.profileValidationError={profileType:oe.profileType,action:oe.action},Me}}throw new Error("Failed to record swipe action")}return ne.json()},onMutate:async j=>{await i.cancelQueries({queryKey:["/api/suite/discovery/mentorship"]});const ne=i.getQueryData(["/api/suite/discovery/mentorship"]),oe=ne==null?void 0:ne.find(Me=>Me.id===j.profileId);return oe&&i.setQueryData(["/api/suite/mentorship/removed-profiles"],Me=>[oe,...(Me||[]).slice(0,9)]),i.setQueryData(["/api/suite/discovery/mentorship"],Me=>Me&&Me.filter(Be=>Be.id!==j.profileId)),{previousData:ne}},onError:(j,ne,oe)=>{if(j!=null&&j.profileValidationError){const{profileType:Me}=j.profileValidationError,Be=Me==="jobs"?"openJob":Me==="mentorship"?"openMentorship":"openNetworking";window.location.href=`/profile?${Be}=true`;return}oe!=null&&oe.previousData&&i.setQueryData(["/api/suite/discovery/mentorship"],oe.previousData),a({title:s("suite.actionFailed"),description:s("suite.couldNotProcess"),variant:"destructive"})},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_MENTORSHIP"]}),i.setQueryData(["/api/swipe/history","SUITE_MENTORSHIP"],(j=0)=>Math.min(j+1,9))},onSettled:()=>{i.invalidateQueries({queryKey:["/api/suite/discovery/mentorship"]})}}),{data:Nt=0}=dt({queryKey:["/api/swipe/history","SUITE_MENTORSHIP"],queryFn:async()=>{if(!e)return 0;const j=await ze("/api/swipe/history?appMode=SUITE_MENTORSHIP");if(!j.ok)return 0;const ne=await j.json();return Math.min(ne.length,9)},enabled:!!e,refetchInterval:!1,staleTime:0}),Ce=wt({mutationFn:async()=>{const j=await ze("/api/suite/mentorship/undo",{method:"POST"});if(!j.ok)throw new Error("Failed to undo mentorship action");return j.json()},onMutate:async()=>{console.log(`[MENTORSHIP-UNDO] Starting synchronized bidirectional animations: lastSwipeDirection=${g}`),b(!0),S(g),P(!0),I(g),await i.cancelQueries({queryKey:["/api/suite/discovery/mentorship"]});const j=i.getQueryData(["/api/suite/discovery/mentorship"]),oe=(i.getQueryData(["/api/suite/mentorship/removed-profiles"])||[])[0];return setTimeout(()=>{oe&&(i.setQueryData(["/api/suite/discovery/mentorship"],Me=>Me?[oe,...Me]:[oe]),i.setQueryData(["/api/suite/mentorship/removed-profiles"],Me=>Me?Me.slice(1):[]),console.log(`[MENTORSHIP-UNDO] Delayed restored profile ${oe.id} after animation completes`)),b(!1),S(null),P(!1),I(null)},250),{previousDiscoveryData:j,profileToRestore:oe}},onSuccess:(j,ne,oe)=>{console.log(`[MENTORSHIP-UNDO] Server undo completed for profile ${j==null?void 0:j.profileId}`),i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_MENTORSHIP"]}),i.setQueryData(["/api/swipe/history","SUITE_MENTORSHIP"],(Me=0)=>Math.max(Me-1,0)),console.log("[MENTORSHIP-UNDO] Undo operation completed successfully")},onError:(j,ne,oe)=>{oe!=null&&oe.previousDiscoveryData&&i.setQueryData(["/api/suite/discovery/mentorship"],oe.previousDiscoveryData),oe!=null&&oe.profileToRestore&&i.setQueryData(["/api/suite/mentorship/removed-profiles"],Me=>{const Be=Me||[];return[oe.profileToRestore,...Be]}),console.log("[MENTORSHIP-UNDO] Rolled back undo due to error")}}),{data:qe=0}=dt({queryKey:["/api/swipe/history","SUITE_NETWORKING"],queryFn:async()=>{if(!e)return 0;const j=await ze("/api/swipe/history?appMode=SUITE_NETWORKING");if(!j.ok)return 0;const ne=await j.json();return Math.min(ne.length,9)},enabled:!!e,refetchInterval:!1,staleTime:0}),Qe=wt({mutationFn:async()=>{const j=await ze("/api/suite/networking/undo",{method:"POST"});if(!j.ok)throw new Error("Failed to undo networking action");return j.json()},onMutate:async()=>{console.log(`[NETWORKING-UNDO] Starting synchronized bidirectional animations: lastSwipeDirection=${g}`),b(!0),S(g),P(!0),I(g),await i.cancelQueries({queryKey:["/api/suite/discovery/networking"]});const j=i.getQueryData(["/api/suite/discovery/networking"]),oe=(i.getQueryData(["/api/suite/networking/removed-profiles"])||[])[0];return setTimeout(()=>{oe&&(i.setQueryData(["/api/suite/discovery/networking"],Me=>Me?[oe,...Me]:[oe]),i.setQueryData(["/api/suite/networking/removed-profiles"],Me=>Me?Me.slice(1):[]),console.log(`[NETWORKING-UNDO] Delayed restored profile ${oe.id} after animation completes`)),b(!1),S(null),P(!1),I(null)},250),{previousDiscoveryData:j,profileToRestore:oe}},onSuccess:(j,ne,oe)=>{console.log(`[NETWORKING-UNDO] Server undo completed for profile ${j==null?void 0:j.profileId}`),i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_NETWORKING"]}),i.setQueryData(["/api/swipe/history","SUITE_NETWORKING"],(Me=0)=>Math.max(Me-1,0)),console.log("[NETWORKING-UNDO] Undo operation completed successfully")},onError:(j,ne,oe)=>{oe!=null&&oe.previousDiscoveryData&&i.setQueryData(["/api/suite/discovery/networking"],oe.previousDiscoveryData),oe!=null&&oe.profileToRestore&&i.setQueryData(["/api/suite/networking/removed-profiles"],Me=>{const Be=Me||[];return[oe.profileToRestore,...Be]}),console.log("[NETWORKING-UNDO] Rolled back undo due to error")}}),{data:Mt=0}=dt({queryKey:["/api/swipe/history","SUITE_JOBS"],queryFn:async()=>{if(!e)return 0;const j=await ze("/api/swipe/history?appMode=SUITE_JOBS");if(!j.ok)return 0;const ne=await j.json();return Math.min(ne.length,9)},enabled:!!e&&d==="job",refetchInterval:!1,staleTime:0}),Ut=wt({mutationFn:async()=>{const j=await ze("/api/suite/jobs/undo",{method:"POST"});if(!j.ok)throw new Error("Failed to undo job action");return j.json()},onMutate:async()=>{await i.cancelQueries({queryKey:["/api/suite/discovery/jobs"]});const j=i.getQueryData(["/api/suite/discovery/jobs"]),oe=(i.getQueryData(["/api/suite/jobs/removed-profiles"])||[])[0];if(oe){const Me=oe.lastSwipeDirection||"right";S(Me),b(!0),P(!0),i.setQueryData(["/api/suite/discovery/jobs"],Be=>Be?[oe,...Be]:[oe]),i.setQueryData(["/api/suite/jobs/removed-profiles"],Be=>Be?Be.slice(1):[]),setTimeout(()=>{b(!1),P(!1),console.log("[JOBS-UNDO] Synchronized animations completed")},250),console.log(`[JOBS-UNDO] Synchronized animation started for profile ${oe.id} - ${Me} direction`)}return{previousDiscoveryData:j,profileToRestore:oe}},onSuccess:(j,ne,oe)=>{console.log(`[JOBS-UNDO] Server undo completed for profile ${j==null?void 0:j.profileId}`),i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_JOBS"]}),i.setQueryData(["/api/swipe/history","SUITE_JOBS"],(Me=0)=>Math.max(Me-1,0)),console.log("[JOBS-UNDO] Undo operation completed successfully")},onError:(j,ne,oe)=>{oe!=null&&oe.previousDiscoveryData&&i.setQueryData(["/api/suite/discovery/jobs"],oe.previousDiscoveryData),oe!=null&&oe.profileToRestore&&i.setQueryData(["/api/suite/jobs/removed-profiles"],Me=>{const Be=Me||[];return[oe.profileToRestore,...Be]}),console.log("[JOBS-UNDO] Rolled back undo due to error")}}),Ct=wt({mutationFn:async j=>{const ne=await ze("/api/suite/jobs/apply",{method:"POST",data:j});if(!ne.ok){if(ne.status===403){const oe=await ne.json();if(oe.action==="create_profile"&&oe.profileType){const Me=new Error("Profile required for jobs");throw Me.profileValidationError={profileType:oe.profileType,action:oe.action},Me}}throw new Error("Failed to record job application")}return ne.json()},onMutate:async j=>{await i.cancelQueries({queryKey:["/api/suite/discovery/jobs"]});const ne=i.getQueryData(["/api/suite/discovery/jobs"]),oe=i.getQueryData(["/api/suite/discovery/jobs"]),Me=oe==null?void 0:oe.find(Be=>Be.id===j.profileId);return Me&&(i.setQueryData(["/api/suite/jobs/removed-profiles"],Be=>[Me,...Be||[]].slice(0,10)),console.log(`[JOBS-SWIPE] Cached removed profile ${Me.id} for undo functionality`)),i.setQueryData(["/api/suite/discovery/jobs"],Be=>Be&&Be.filter(Q=>Q.id!==j.profileId)),{previousData:ne,removedProfile:Me}},onError:(j,ne,oe)=>{if(j!=null&&j.profileValidationError){const{profileType:Me}=j.profileValidationError,Be=Me==="jobs"?"openJob":Me==="mentorship"?"openMentorship":"openNetworking";window.location.href=`/profile?${Be}=true`;return}oe!=null&&oe.previousData&&i.setQueryData(["/api/suite/discovery/jobs"],oe.previousData),oe!=null&&oe.removedProfile&&i.setQueryData(["/api/suite/jobs/removed-profiles"],Me=>Me?Me.filter(Be=>Be.id!==oe.removedProfile.id):[]),a({title:"Application Failed",description:"Could not process your application. Please try again.",variant:"destructive"})},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/swipe/history","SUITE_JOBS"]}),i.setQueryData(["/api/swipe/history","SUITE_JOBS"],(j=0)=>Math.min(j+1,9))},onSettled:()=>{i.invalidateQueries({queryKey:["/api/suite/discovery/jobs"]})}}),ht=nt?nt.map(j=>{var Me,Be,Q,Pe;let ne={showProfilePhoto:!0,professionalTagline:!0,jobTitle:!0,company:!0,workType:!0,jobType:!0,experienceLevel:!0,skills:!0,industry:!0,description:!0,requirements:!0,whoShouldApply:!0,compensation:!0,applicationUrl:!0,applicationEmail:!0,location:!0,highSchool:!0,collegeUniversity:!0};if(j.visibilityPreferences)try{ne={...ne,...JSON.parse(j.visibilityPreferences)}}catch(Re){console.error("Error parsing job visibility preferences:",Re)}console.log(`[SALARY-DEBUG] Profile ${j.id} salary data:`,{salary:j.salary,compensation:j.compensation,jobs_salary_currency:j.jobs_salary_currency,jobs_salary_min:j.jobs_salary_min,jobs_salary_max:j.jobs_salary_max,jobs_salary_period:j.jobs_salary_period});const oe=ne.showProfilePhoto?j.jobPrimaryPhotoUrl||((Me=j.user)==null?void 0:Me.photoUrl):void 0;return{id:String(j.id),type:"job",role:j.role||"job-seeker",fullName:((Be=j.user)==null?void 0:Be.fullName)||"Anonymous User",jobTitle:j.jobTitle||"Job Opportunity",workType:j.workType||"Remote",jobType:j.jobType||"Full-time",experienceLevel:j.experienceLevel||"Mid",skills:j.skillTags?j.skillTags.split(",").map(Re=>Re.trim()):[],desiredIndustry:j.industryTags?(Q=j.industryTags.split(",")[0])==null?void 0:Q.trim():void 0,photoUrl:oe,userId:j.userId,company:j.company||void 0,compensation:j.compensation||void 0,salary:j.salary||void 0,salaryCurrency:j.jobs_salary_currency||void 0,salaryMin:j.jobs_salary_min||void 0,salaryMax:j.jobs_salary_max||void 0,salaryPeriod:j.jobs_salary_period||void 0,description:j.description||void 0,requirements:j.requirements||void 0,whoShouldApply:j.whoShouldApply||void 0,applicationUrl:j.applicationUrl||void 0,applicationEmail:j.applicationEmail||void 0,isVerified:((Pe=j.user)==null?void 0:Pe.isVerified)||!1,fieldVisibility:ne}}):[],tr=Ze?Ze.map(j=>{var Me,Be,Q;let ne={showProfilePhoto:!0,professionalTagline:!0,currentRole:!0,currentCompany:!0,industry:!0,workplace:!0,experienceYears:!0,lookingFor:!0,canOffer:!0,workingStyle:!0,professionalInterests:!0,networkingGoals:!0,lightUpWhenTalking:!0,languagesSpoken:!0,openToCollaborateOn:!0,preferredNetworkingFormat:!0,signatureAchievement:!0,timezone:!0,location:!0,highSchool:!0,collegeUniversity:!0};if(j.visibilityPreferences)try{ne={...ne,...JSON.parse(j.visibilityPreferences)}}catch(Pe){console.error("Error parsing networking visibility preferences:",Pe)}const oe=ne.showProfilePhoto?j.networkingPrimaryPhotoUrl||((Me=j.user)==null?void 0:Me.photoUrl):void 0;return{id:String(j.id),type:"networking",name:((Be=j.user)==null?void 0:Be.fullName)||"Anonymous User",professionalTag:j.professionalTagline||"",currentRole:j.currentRole||"",currentCompany:j.currentCompany||"",industry:j.industry||"",lookingFor:j.lookingFor||"",canOffer:j.canOffer||"",sharedInterests:j.professionalInterests?j.professionalInterests.split(",").map(Pe=>Pe.trim()):[],sparkIndicator:Math.floor(Math.random()*3)+3,photoUrl:oe,location:j.location,highSchool:j.highSchool,collegeUniversity:j.collegeUniversity,isVerified:((Q=j.user)==null?void 0:Q.isVerified)||!1,fieldVisibility:ne}}):[],we=xt?xt.map(j=>{var Me,Be,Q,Pe;let ne={showProfilePhoto:!0,professionalTagline:!0,role:!0,areasOfExpertise:!0,learningGoals:!0,currentLevel:!0,mentorshipStyle:!0,preferredFormat:!0,communicationStyle:!0,availability:!0,timeCommitment:!0,location:!0,successStories:!1,whyMentor:!0,whySeekMentorship:!0,preferredMentorshipStyle:!0,industryAspiration:!0,preferredMenteeLevel:!1,preferredMentorExperience:!1,preferredIndustries:!1,maxMentees:!0,languagesSpoken:!0,timezone:!0,industriesOrDomains:!0,highSchool:!0,collegeUniversity:!0};if(j.visibilityPreferences)try{ne={...ne,...JSON.parse(j.visibilityPreferences)}}catch(Re){console.error("Error parsing mentorship visibility preferences:",Re)}const oe=ne.showProfilePhoto?j.mentorshipPrimaryPhotoUrl||((Me=j.user)==null?void 0:Me.photoUrl):void 0;return{id:String(j.id),type:"mentorship",name:((Be=j.user)==null?void 0:Be.fullName)||"Anonymous User",profession:((Q=j.user)==null?void 0:Q.profession)||"",field:j.industriesOrDomains?j.industriesOrDomains.join(", "):"",mentorshipStyle:j.role==="mentor"?j.mentorshipStyle||"":j.whySeekMentorship||"",availability:j.availability||"",isMentor:j.role==="mentor",role:j.role,areasOfExpertise:j.areasOfExpertise||[],learningGoals:j.learningGoals||[],languagesSpoken:j.languagesSpoken||[],industriesOrDomains:j.industriesOrDomains||[],timeCommitment:j.timeCommitment||"",photoUrl:oe,whyMentor:j.whyMentor,whySeekMentorship:j.whySeekMentorship,preferredMentorshipStyle:j.preferredMentorshipStyle,preferredFormat:j.preferredFormat,communicationStyle:j.communicationStyle,location:j.location,successStories:j.successStories,preferredMenteeLevel:j.preferredMenteeLevel,preferredMentorExperience:j.preferredMentorExperience,preferredIndustries:j.preferredIndustries,maxMentees:j.maxMentees,currentMentees:j.currentMentees,visibilityPreferences:j.visibilityPreferences,highSchool:j.highSchool,collegeUniversity:j.collegeUniversity,isVerified:((Pe=j.user)==null?void 0:Pe.isVerified)||!1,fieldVisibility:ne,industryAspiration:j.industryAspiration,sparkIndicator:Math.floor(Math.random()*3)+3}}):[],ot=(()=>{switch(d){case"job":return ht;case"mentorship":return we;case"networking":return tr;default:return ht}})();u.useEffect(()=>{ot.length>0&&l>=ot.length&&c(0)},[ot.length]),u.useEffect(()=>{c(0)},[d]);const qt=ot[l],bn=N&&ot[l-1]?ot[l-1]:null;if(console.log("Networking cards array:",tr),console.log("Current card type:",d),console.log("Current card index:",l),console.log("Current card being rendered:",qt),console.log("Route check - should be on /suite/network"),u.useEffect(()=>{const j=localStorage.getItem("last_app_page"),ne=localStorage.getItem("origin_app_page");if(localStorage.setItem("last_app_page","/suite/network"),localStorage.setItem("origin_app_page","/suite/network"),console.log("[SUITE-NETWORK-PAGE]  Page Visit Debug"),console.log("[SUITE-NETWORK-PAGE] Previous last page:",j),console.log("[SUITE-NETWORK-PAGE] Previous origin page:",ne),console.log("[SUITE-NETWORK-PAGE]  Set origin page to /suite/network"),console.log("[SUITE-NETWORK-PAGE]  Set last page to /suite/network"),e!=null&&e.id)try{sessionStorage.setItem("userId",e.id.toString()),sessionStorage.setItem("appModeSelected","true"),sessionStorage.setItem(`last_used_app_${e.id}`,"suite")}catch(oe){console.warn("Storage error in suite network page:",oe)}},[e]),u.useEffect(()=>{const ne=new URLSearchParams(window.location.search).get("tab");if(ne&&(ne==="job"||ne==="mentorship"||ne==="networking")&&d!==ne&&m(ne),e!=null&&e.id)try{localStorage.setItem(`suite_network_last_tab_${e.id}`,d)}catch(oe){console.warn("Failed to save tab preference:",oe)}},[d,e==null?void 0:e.id]),u.useEffect(()=>{const j=()=>{const oe=new URLSearchParams(window.location.search).get("tab");oe&&(oe==="job"||oe==="mentorship"||oe==="networking")&&m(oe)};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[]),u.useEffect(()=>{const j=Be=>{const Pe=Be.detail;if(Pe.type==="suite_remove_from_discover"){console.log("[SUITE Network] SUITE targeted card removal received:",Pe),console.log("[DEBUG] Current cardType:",d,"Message suiteType:",Pe.suiteType),console.log(`[DEBUG] Jobs condition check: suiteType === "jobs" (${Pe.suiteType==="jobs"}) && cardType === "job" (${d==="job"})`);const{suiteType:Re,removeProfileId:_e,removeUserId:et,reason:Gt}=Pe;if(Re==="networking"&&d==="networking"){const Dt=i.getQueryData(["/api/suite/discovery/networking"]);if(Dt){const Gr=Dt.filter(Qt=>Qt.id!==_e);i.setQueryData(["/api/suite/discovery/networking"],Gr),console.log(`[SUITE Network] Removed networking profile ${_e} from discover deck (${Gt})`)}}if(Re==="mentorship"&&d==="mentorship"){const Dt=i.getQueryData(["/api/suite/discovery/mentorship"]);if(Dt){const Gr=Dt.filter(Qt=>Qt.id!==_e);i.setQueryData(["/api/suite/discovery/mentorship"],Gr),console.log(`[SUITE Network] Removed mentorship profile ${_e} from discover deck (${Gt})`)}}if(Re==="jobs"&&d==="job"){const Dt=i.getQueryData(["/api/suite/discovery/jobs"]);if(Dt){const Gr=Dt.filter(Qt=>Qt.id!==_e);i.setQueryData(["/api/suite/discovery/jobs"],Gr),console.log(`[SUITE Network] Removed jobs profile ${_e} from discover deck (${Gt})`)}}}},ne=Be=>{console.log("[SUITE Network] Networking profile update received:",Be.detail),i.invalidateQueries({queryKey:["/api/suite/discovery/networking"]})},oe=()=>{console.log("[SUITE Network] Discovery refresh event received"),i.invalidateQueries({queryKey:["/api/suite/discovery/networking"]})},Me=Be=>{const Q=Be,{suiteType:Pe,reason:Re}=Q.detail;console.log(`[SUITE Network] SUITE connections refresh: ${Pe} (${Re})`)};return window.addEventListener("websocket:message",j),window.addEventListener("suite_remove_from_discover",j),window.addEventListener("networking:profile:updated",ne),window.addEventListener("suite:discovery:refresh",oe),window.addEventListener("suite:connections:refresh",Me),()=>{window.removeEventListener("websocket:message",j),window.removeEventListener("suite_remove_from_discover",j),window.removeEventListener("networking:profile:updated",ne),window.removeEventListener("suite:discovery:refresh",oe),window.removeEventListener("suite:connections:refresh",Me)}},[i,d]),u.useEffect(()=>{const j=ne=>{if(ne.target instanceof HTMLElement){const oe=ne.target.closest(".swipe-card");oe&&(ne.animationName.includes("job-swipe")||ne.animationName.includes("mentorship-swipe")||ne.animationName.includes("networking-swipe")||ne.animationName.includes("card-entrance")||ne.animationName.includes("undo-exit"))&&(oe.style.transform="translateZ(0) translate3d(0, 0, 0)",oe.style.opacity="1")}};return document.addEventListener("animationend",j),document.addEventListener("animationcancel",j),()=>{document.removeEventListener("animationend",j),document.removeEventListener("animationcancel",j)}},[]),d==="networking"&&te&&!Ze)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx(sn,{className:"h-8 w-8 animate-spin text-indigo-600"}),t.jsx("p",{className:"text-gray-600",children:"Loading networking profiles..."})]})}),t.jsx(Ns,{})]});if(d==="networking"&&Ne)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center p-6",children:[t.jsx(mt,{className:"h-8 w-8 text-red-500"}),t.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load networking profiles"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please try again later"})]})}),t.jsx(Ns,{})]});if(d==="mentorship"&&jr&&!xt)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx(sn,{className:"h-8 w-8 animate-spin text-indigo-600"}),t.jsx("p",{className:"text-gray-600",children:"Loading mentorship profiles..."})]})}),t.jsx(Ns,{})]});if(d==="mentorship"&&zt)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center p-6",children:[t.jsx(mt,{className:"h-8 w-8 text-red-500"}),t.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load mentorship profiles"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please try again later"})]})}),t.jsx(Ns,{})]});if(d==="job"&&U&&!nt)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[t.jsx(sn,{className:"h-8 w-8 animate-spin text-indigo-600"}),t.jsx("p",{className:"text-gray-600",children:"Loading job opportunities..."})]})}),t.jsx(Ns,{})]});if(d==="job"&&K)return t.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50",children:[t.jsx(ks,{}),t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center p-6",children:[t.jsx(mt,{className:"h-8 w-8 text-red-500"}),t.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load job opportunities"}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Please try again later"})]})}),t.jsx(Ns,{})]});const Cn=()=>{switch(d){case"job":return L;case"mentorship":return q;case"networking":return H;default:return L}},dn=j=>{const ne=Cn();ne&&ne.current&&j(ne.current)},Ga=()=>ie&&ie.isActive===!0,D=()=>Ga()?!0:(X(!0),!1),Ve=()=>ye&&Array.isArray(ye)&&ye.length>0&&ye.some(j=>j.isActive===!0),Ke=()=>Ve()?!0:($(!0),!1),Ot=()=>Le&&Le.isActive===!0,Nr=()=>Ot()?!0:(le(!0),!1),Fr=j=>{if(!h){if(!ee){se();return}p("right"),v("right"),setTimeout(()=>{if(j.type==="job"){if(!Nr()){p(null);return}Ct.mutate({profileId:parseInt(j.id),action:"like"})}else if(j.type==="mentorship"){if(!Ke()){p(null);return}A(!0),_(!0),setTimeout(()=>{_(!1)},2300),Pt.mutate({profileId:parseInt(j.id),action:"like"})}else if(j.type==="networking"){if(!D()){p(null);return}st.mutate({profileId:parseInt(j.id),action:"like"})}p(null),x(!0),setTimeout(()=>x(!1),800)},250)}},Br=()=>{h||(p("left"),v("left"),setTimeout(()=>{if((qt==null?void 0:qt.type)==="networking"){if(!D()){p(null);return}st.mutate({profileId:parseInt(qt.id),action:"pass"})}else if((qt==null?void 0:qt.type)==="mentorship"){if(!Ke()){p(null);return}Pt.mutate({profileId:parseInt(qt.id),action:"pass"})}else if((qt==null?void 0:qt.type)==="job"){if(!Nr()){p(null);return}Ct.mutate({profileId:parseInt(qt.id),action:"pass"})}p(null),x(!0),setTimeout(()=>x(!1),800)},250))},ra=()=>{if(!ee){se();return}if((qt==null?void 0:qt.type)==="mentorship"){if(Nt>0&&!Ce.isPending){Ce.mutate();return}return}if((qt==null?void 0:qt.type)==="networking"){if(qe>0&&!Qe.isPending){Qe.mutate();return}return}if((qt==null?void 0:qt.type)==="job"){if(Mt>0&&!Ut.isPending){Ut.mutate();return}return}l>0?c(l-1):c(ot.length-1)},fs=async j=>{if(!ee){se();return}if(!(j.type==="networking"&&!D())&&!(j.type==="mentorship"&&!Ke())&&!(j.type==="job"&&!Nr())){setTimeout(()=>{const ne=new CustomEvent("suite_remove_from_discover",{detail:{suiteType:j.type,removeProfileId:parseInt(j.id),removeUserId:parseInt((j.userId||j.id).toString()),reason:`${j.type}_message_button_clicked`,timestamp:new Date().toISOString()}});window.dispatchEvent(ne),console.log(`[CARD-REMOVAL] Removed ${j.type} profile ${j.id} from discover deck during splash screen (message button clicked)`)},2500);try{const ne=await fetch("/api/suite/connections/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:parseInt((j.userId||j.id).toString()),connectionType:j.type==="job"?"jobs":j.type,profileId:parseInt(j.id)})});if(!ne.ok){const Be=await ne.json();throw new Error(Be.message||"Failed to create connection")}const oe=await ne.json();a({title:"Instant Match Created! ",description:`You can now message ${j.type==="job"?j.fullName:(j.type==="mentorship",j.name)} directly.`});const Me=ot.filter((Be,Q)=>Q!==l);if(l>=Me.length&&Me.length>0?c(Me.length-1):Me.length===0&&c(0),oe.chatId){try{const Be={id:oe.chatId,userId1:e==null?void 0:e.id,userId2:parseInt(j.userId.toString()),matched:!0,createdAt:new Date().toISOString(),otherUser:{id:parseInt(j.userId.toString()),fullName:j.type==="job"?j.fullName:j.type==="mentorship"||j.type==="networking"?j.name:"Anonymous",photoUrl:j.photoUrl,bio:j.type==="job"?j.jobTitle:j.type==="mentorship"?j.profession:j.type==="networking"?j.professionalTag:"Professional",profession:j.type==="mentorship"?j.profession:j.type==="networking"?j.professionalTag:"Professional",location:j.type==="networking"||j.type==="mentorship"?j.location:"Ghana"}};sessionStorage.setItem(`match_data_${oe.chatId}`,JSON.stringify(Be)),localStorage.setItem(`match_data_${oe.chatId}`,JSON.stringify(Be)),i.setQueryData(["/api/match",oe.chatId],Be),i.invalidateQueries({queryKey:["/api/matches"]}),sessionStorage.setItem("newly_created_match",oe.chatId.toString()),console.log(`SUITE ${j.type} message success, prefilled cache and showing splash for chat ${oe.chatId}`)}catch(Be){console.error("Error storing match data:",Be)}setTimeout(()=>{o({currentUser:{fullName:(e==null?void 0:e.fullName)||"",photoUrl:(e==null?void 0:e.photoUrl)||void 0},targetUser:{fullName:j.type==="job"?j.fullName:j.type==="mentorship"||j.type==="networking"?j.name:"Anonymous",photoUrl:j.photoUrl||void 0},matchId:oe.chatId,type:j.type})},1500)}else console.log(`SUITE ${j.type} message incomplete data, showing splash and navigating to messages`),setTimeout(()=>{o({currentUser:{fullName:(e==null?void 0:e.fullName)||"",photoUrl:(e==null?void 0:e.photoUrl)||void 0},targetUser:{fullName:j.type==="job"?j.fullName:j.type==="mentorship"||j.type==="networking"?j.name:"Anonymous",photoUrl:j.photoUrl||void 0},matchId:Date.now(),error:!0,type:j.type})},1500);i.invalidateQueries({queryKey:["/api/suite/connections"]})}catch(ne){console.error("Error creating message connection:",ne),console.log(`SUITE ${j.type} message failed, showing splash and navigating to messages`),o({currentUser:{fullName:(e==null?void 0:e.fullName)||"",photoUrl:(e==null?void 0:e.photoUrl)||void 0},targetUser:{fullName:j.type==="job"?j.fullName:j.type==="mentorship"||j.type==="networking"?j.name:"Anonymous",photoUrl:j.photoUrl||void 0},matchId:Date.now(),error:!0,type:j.type}),a({title:"Connection Failed",description:ne instanceof Error?ne.message:"Please try again later.",variant:"destructive"})}}},Va=()=>{p("left"),setTimeout(()=>{Br(),p(null)},300)},gi=()=>{p("right"),setTimeout(()=>{Fr(qt),p(null)},300)},qd=()=>{Mt>0&&!Ut.isPending&&Ut.mutate()},Fo=j=>{ge.current=j.clientX,ke.current=j.clientY;const ne=Cn();ne&&ne.current&&(z.current=ne.current.offsetWidth)},Oc=j=>{const ne=Cn();if(ge.current!==null&&ne&&ne.current){const oe=j.clientX-ge.current,Me=Math.min(Math.max(oe/15,-15),15),Be=1-Math.abs(oe)/z.current*.04;ne.current.style.transform=`
        translate3d(${oe}px, 0px, 0) 
        rotateZ(${Me}deg) 
        scale(${Be})
      `;const Q=Math.min(Math.abs(oe)/(z.current*.5),1);if(oe>75){const Pe=document.querySelector(".right-indicator");Pe&&(Pe.style.opacity=Q.toString());const Re=document.querySelector(".left-indicator");Re&&(Re.style.opacity="0")}else if(oe<-75){const Pe=document.querySelector(".left-indicator");Pe&&(Pe.style.opacity=Q.toString());const Re=document.querySelector(".right-indicator");Re&&(Re.style.opacity="0")}else{const Pe=document.querySelector(".left-indicator"),Re=document.querySelector(".right-indicator");Pe&&(Pe.style.opacity="0"),Re&&(Re.style.opacity="0")}}},Y=j=>{if(ge.current!==null&&Cn()){const ne=j.clientX-ge.current,oe=z.current*.3;Math.abs(ne)>oe?ne>0?gi():Va():(dn(Q=>{Q.style.transform=""}),dn(Q=>{Q.style.transition="transform 0.3s ease-out"}),setTimeout(()=>{dn(Q=>{Q.style.transition=""})},300));const Me=document.querySelector(".left-indicator"),Be=document.querySelector(".right-indicator");Me&&(Me.style.opacity="0"),Be&&(Be.style.opacity="0")}ge.current=null,ke.current=null},he=()=>{if(ge.current!==null&&Cn()){dn(oe=>{oe.style.transform=""}),dn(oe=>{oe.style.transition="transform 0.3s ease-out"}),setTimeout(()=>{dn(oe=>{oe.style.transition=""})},300);const j=document.querySelector(".left-indicator"),ne=document.querySelector(".right-indicator");j&&(j.style.opacity="0"),ne&&(ne.style.opacity="0")}ge.current=null,ke.current=null},W=j=>{const ne=j.touches[0];ge.current=ne.clientX,ke.current=ne.clientY,Cn()&&(z.current=Cn().current.offsetWidth)},xe=j=>{if(ge.current!==null&&Cn()){const oe=j.touches[0].clientX-ge.current,Me=Math.min(Math.max(oe/15,-15),15),Be=1-Math.abs(oe)/z.current*.04;dn(Pe=>{Pe.style.transform=`
        translate3d(${oe}px, 0px, 0) 
        rotateZ(${Me}deg) 
        scale(${Be})
      `});const Q=Math.min(Math.abs(oe)/(z.current*.5),1);if(oe>75){const Pe=document.querySelector(".right-indicator");Pe&&(Pe.style.opacity=Q.toString());const Re=document.querySelector(".left-indicator");Re&&(Re.style.opacity="0")}else if(oe<-75){const Pe=document.querySelector(".left-indicator");Pe&&(Pe.style.opacity=Q.toString());const Re=document.querySelector(".right-indicator");Re&&(Re.style.opacity="0")}else{const Pe=document.querySelector(".left-indicator"),Re=document.querySelector(".right-indicator");Pe&&(Pe.style.opacity="0"),Re&&(Re.style.opacity="0")}}},fe=j=>{if(ge.current!==null&&Cn()){const oe=j.changedTouches[0].clientX-ge.current,Me=z.current*.3;Math.abs(oe)>Me?oe>0?gi():Va():(dn(Pe=>{Pe.style.transform=""}),dn(Pe=>{Pe.style.transition="transform 0.3s ease-out"}),setTimeout(()=>{dn(Pe=>{Pe.style.transition=""})},300));const Be=document.querySelector(".left-indicator"),Q=document.querySelector(".right-indicator");Be&&(Be.style.opacity="0"),Q&&(Q.style.opacity="0")}ge.current=null,ke.current=null},Ee=j=>{var ne,oe,Me,Be,Q,Pe,Re,_e,et,Gt,Dt,Gr,Qt,Cr,Hr,na,Ia,rr;return t.jsxs("div",{className:"swipe-card h-full p-2 transition-transform duration-300 ease-out overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-start pl-8 left-indicator",children:t.jsx("div",{className:"bg-rose-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform -rotate-12 backdrop-blur-sm",children:"PASS"})}),t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-end pr-8 right-indicator",children:t.jsx("div",{className:"bg-blue-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform rotate-12 backdrop-blur-sm",children:"APPLY"})}),t.jsxs(wr,{ref:L,className:`overflow-hidden h-full flex flex-col border border-white 
        rounded-xl relative overscroll-none
        drop-shadow-[0_0_20px_rgba(59,130,246,0.2)]
        shadow-[0_0_15px_rgba(59,130,246,0.15),inset_0_1px_3px_rgba(255,255,255,0.7)]
        transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_25px_rgba(59,130,246,0.35),inset_0_1px_3px_rgba(255,255,255,0.9)]
        ${h==="left"?"animate-job-swipe-left":h==="right"?"animate-job-swipe-right":""}
        ${f?"animate-job-card-entrance":""}
        ${y?"animate-job-undo-exit":""}
        ${y&&w==="left"?"animate-jobs-current-exit-left":y&&w==="right"?"animate-jobs-current-exit-right":""}
        `,style:{perspective:"1500px",transformStyle:"preserve-3d",willChange:"transform",backfaceVisibility:"hidden",transform:h||f||y?void 0:"translateZ(0) translate3d(0, 0, 0)"},onMouseDown:Fo,onMouseMove:Oc,onMouseUp:Y,onMouseLeave:he,onTouchStart:W,onTouchMove:xe,onTouchEnd:fe,children:[t.jsxs("div",{className:"relative h-[90%] overflow-hidden overscroll-none touch-none",children:[j.photoUrl&&((ne=j.fieldVisibility)==null?void 0:ne.showNetworkingPhotos)!==!1?t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${j.photoUrl})`},children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-black/20"})}):t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-black/10"})}),t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("button",{onClick:()=>{if(!Vt){M(!0),B("job"),setTimeout(()=>{M(!1),B(null)},2e3);return}if(!(e!=null&&e.premiumAccess)){Se(!0);return}if(!Le||!Le.isActive){le(!0);return}n(`/suite/jobs/review/${j.userId}`)},className:`relative bg-gradient-to-br from-blue-500/90 via-blue-600/90 to-indigo-600/90 backdrop-blur-md rounded-xl px-3 py-2 border border-white/20 
                         shadow-[0_8px_25px_rgba(59,130,246,0.3),0_4px_12px_rgba(0,0,0,0.2),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.1)]
                         hover:shadow-[0_12px_35px_rgba(59,130,246,0.4),0_6px_18px_rgba(0,0,0,0.25),inset_0_1px_3px_rgba(255,255,255,0.4),inset_0_-2px_3px_rgba(0,0,0,0.15)]
                         transition-all duration-300 hover:scale-105 hover:-translate-y-1 group percentage-badge-container
                         transform-gpu perspective-1000`,style:{transformStyle:"preserve-3d"},children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border border-blue-300/30",style:{animation:"expand-circle 2s ease-out infinite"}}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-blue-400/60 animate-ping opacity-0",style:{animation:"ripple 3s cubic-bezier(0.4, 0, 0.6, 1) infinite"}}),t.jsxs("div",{className:`w-[3.1rem] h-[3.1rem] rounded-full bg-gradient-to-br from-white via-gray-50 to-gray-100 flex items-center justify-center 
                           shadow-[inset_0_2px_6px_rgba(0,0,0,0.1),inset_0_-2px_4px_rgba(255,255,255,0.8),0_3px_8px_rgba(59,130,246,0.2),0_1px_3px_rgba(0,0,0,0.3)]
                           transform transition-all duration-300 group-hover:scale-110 group-hover:shadow-[inset_0_3px_8px_rgba(0,0,0,0.15),inset_0_-3px_6px_rgba(255,255,255,0.9),0_4px_12px_rgba(59,130,246,0.3),0_2px_4px_rgba(0,0,0,0.4)]
                           relative z-10 border border-white/50 group-hover:-translate-y-0.5`,style:{transformStyle:"preserve-3d",transform:"translateZ(8px)"},children:[t.jsxs("div",{className:"relative flex items-center justify-center transform transition-transform duration-300 group-hover:scale-105",style:{transformStyle:"preserve-3d"},children:[t.jsx("span",{className:"absolute text-xl font-extrabold text-blue-600/20 transform translate-x-0.5 translate-y-0.5 blur-[0.5px]",children:"95%"}),t.jsx("span",{className:`relative text-xl font-extrabold bg-gradient-to-b from-blue-600 via-blue-700 to-indigo-600 text-transparent bg-clip-text 
                                   drop-shadow-[0_1px_2px_rgba(0,0,0,0.3)] transform transition-all duration-300 group-hover:scale-105 ${Vt?"percentage-revealed":"percentage-blurred"}`,style:{textShadow:"0 1px 3px rgba(59,130,246,0.3), 0 0 8px rgba(59,130,246,0.2)",transform:"translateZ(4px)"},children:"95%"}),t.jsx("span",{className:"absolute text-xl font-extrabold bg-gradient-to-t from-transparent to-white/30 text-transparent bg-clip-text transform -translate-y-0.5 scale-95",children:"95%"})]}),!Vt&&t.jsx("div",{className:"padlock-overlay padlock-jobs",children:""})]})]})}),J&&R==="job"&&t.jsxs("div",{className:"unlock-guide-arrow arrow-jobs",children:[t.jsx("div",{className:"unlock-guide-text",children:"Click  to unlock"}),t.jsxs("div",{className:"arrow-line-container",children:[t.jsx("div",{className:"arrow-line"}),t.jsx("div",{className:"arrow-head"})]})]}),j.isVerified&&t.jsx("div",{className:"absolute top-24 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-2 py-1 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[10px] font-bold shadow-[0_3px_12px_rgba(34,197,94,0.4),0_1px_6px_rgba(34,197,94,0.3),inset_0_1px_1px_rgba(255,255,255,0.4),inset_0_-1px_1px_rgba(0,0,0,0.2)] overflow-hidden border border-emerald-300/50 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2.5 w-2.5 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsx("div",{className:"absolute top-4 left-4 z-30",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-2xl font-bold text-orange-300 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:"HIRING"})})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 via-black/50 to-transparent px-4 pt-14 pb-3 flex flex-col text-white",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)]",children:[t.jsx("span",{className:"text-4xl",children:((Me=(oe=j.fullName)==null?void 0:oe.split(" ")[0])==null?void 0:Me.charAt(0))||"U"}),((Q=(Be=j.fullName)==null?void 0:Be.split(" ")[0])==null?void 0:Q.slice(1))||"ser"]})}),(j.salary||j.compensation||j.salaryMin&&j.salaryMax)&&(((Pe=j.fieldVisibility)==null?void 0:Pe.salary)!==!1||((Re=j.fieldVisibility)==null?void 0:Re.compensation)!==!1)&&t.jsxs("div",{className:"relative bg-gradient-to-r from-green-400 via-emerald-500 to-green-600 backdrop-blur-md rounded-xl px-4 py-2 border border-white/30 shadow-2xl transform transition-all duration-300 hover:scale-105 hover:shadow-3xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-xl opacity-80"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-white/30 rounded-xl"}),t.jsxs("div",{className:"relative flex items-center gap-1.5",children:[t.jsx(LN,{className:"h-4 w-4 text-white drop-shadow-lg"}),t.jsx("span",{className:"text-white text-sm font-extrabold drop-shadow-lg tracking-wide",children:j.salaryMin&&j.salaryMax?`${j.salaryCurrency||"$"}${j.salaryMin} - ${j.salaryMax}${j.salaryPeriod||"/year"}`:`${j.salary||j.compensation}${j.salaryPeriod||"/year"}`})]}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white/40 rounded-full blur-sm"}),t.jsx("div",{className:"absolute top-1 left-2 w-1 h-1 bg-white/60 rounded-full"})]}),j.role==="job-seeker"&&j.desiredIndustry&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden",children:t.jsx("span",{className:"relative z-10 text-xs",children:j.desiredIndustry})})]}),j.jobTitle&&((_e=j.fieldVisibility)==null?void 0:_e.jobTitle)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Rn,{className:"h-4 w-4 mr-1 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Job Title:"}),t.jsx("span",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:j.jobTitle})]})}),(j.workType||j.jobType)&&((et=j.fieldVisibility)==null?void 0:et.workType)!==!1&&((Gt=j.fieldVisibility)==null?void 0:Gt.jobType)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ja,{className:"h-4 w-4 mr-1 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Work Style:"}),t.jsx("span",{className:"text-yellow-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:[j.workType,j.jobType].filter(Boolean).join("  ")})]})}),j.experienceLevel&&((Dt=j.fieldVisibility)==null?void 0:Dt.experienceLevel)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(FN,{className:"h-4 w-4 mr-1 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Required Level:"}),t.jsx("span",{className:"text-emerald-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:j.experienceLevel})]})}),j.company&&((Gr=j.fieldVisibility)==null?void 0:Gr.company)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(el,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Company:"}),t.jsx("span",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1",children:j.company})]})}),j.skills&&j.skills.length>0&&((Qt=j.fieldVisibility)==null?void 0:Qt.skills)!==!1&&t.jsxs("div",{className:"mb-3",children:[t.jsx("span",{className:"font-semibold text-white bg-gradient-to-r from-amber-300 to-blue-400 bg-clip-text text-transparent text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Skills"}),t.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:j.skills.slice(0,3).map((ft,un)=>{const aa=["from-blue-500/90 to-indigo-500/90","from-indigo-500/90 to-purple-500/90","from-purple-500/90 to-pink-500/90"],rn=aa[un%aa.length];return t.jsx(St,{className:`bg-gradient-to-r ${rn} text-white shadow-lg text-xs py-0 px-2.5 border-0`,children:ft},`${j.id}-skill-${un}`)})})]}),j.description&&((Cr=j.fieldVisibility)==null?void 0:Cr.description)!==!1&&t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(bp,{className:"h-4 w-4 mr-1 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)] mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] block",children:"Job Description:"}),t.jsx("span",{className:"text-cyan-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:j.description})]})]})}),j.requirements&&((Hr=j.fieldVisibility)==null?void 0:Hr.requirements)!==!1&&t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(jp,{className:"h-4 w-4 mr-1 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)] mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] block",children:"Requirements:"}),t.jsx("span",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:j.requirements})]})]})}),j.whoShouldApply&&((na=j.fieldVisibility)==null?void 0:na.whoShouldApply)!==!1&&t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(jp,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)] mt-0.5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] block",children:"Who Should Apply:"}),t.jsx("span",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] line-clamp-2",children:j.whoShouldApply})]})]})}),j.applicationUrl&&((Ia=j.fieldVisibility)==null?void 0:Ia.applicationUrl)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(vT,{className:"h-4 w-4 mr-1 text-purple-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Apply:"}),t.jsx("span",{className:"text-purple-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1 truncate",children:j.applicationUrl})]})}),j.applicationEmail&&((rr=j.fieldVisibility)==null?void 0:rr.applicationEmail)!==!1&&t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ks,{className:"h-4 w-4 mr-1 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Email:"}),t.jsx("span",{className:"text-pink-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] ml-1 truncate",children:j.applicationEmail})]})})]})]}),t.jsxs("div",{className:"py-1.5 px-3 flex justify-between items-center relative overflow-hidden backdrop-blur-md button-container",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-200/80 via-indigo-100/90 to-purple-200/80 z-0"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-80 mix-blend-soft-light"}),t.jsx("div",{className:"absolute -top-2 left-[15%] w-3 h-3 rounded-full bg-blue-300/70 blur-[2px] animate-pulse"}),t.jsx("div",{className:"absolute -bottom-1 right-[15%] w-2.5 h-2.5 rounded-full bg-indigo-300/70 blur-[2px] animate-pulse",style:{animationDelay:"1.5s"}}),t.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-sky-400 relative overflow-hidden z-10",onClick:Mt>0?qd:ra,style:{background:"linear-gradient(140deg, #a5b4fc 0%, #6366f1 100%)",boxShadow:"0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(99, 102, 241, 0.35), 0 10px 30px rgba(99, 102, 241, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:Mt>0?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("path",{d:"M3 7v6h6"}),t.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("path",{d:"M9 14 4 9l5-5"}),t.jsx("path",{d:"M4 9h9a6 6 0 0 1 0 12H9"})]})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-rose-400 relative overflow-hidden z-10",onClick:Br,style:{background:"linear-gradient(140deg, #fda4af 0%, #e11d48 100%)",boxShadow:"0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(225, 29, 72, 0.35), 0 10px 30px rgba(225, 29, 72, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(mt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-16 h-16 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-blue-400 relative overflow-hidden z-10",onClick:ft=>{if(ft.preventDefault(),ft.stopPropagation(),T)return;_(!0),A(!0);const un=ft.currentTarget.getBoundingClientRect(),aa=un.left+un.width/2,rn=un.top+un.height/2,Rr=document.createElement("div");Rr.className="briefcase-flying",Rr.style.left=`${aa-20}px`,Rr.style.top=`${rn-20}px`,Rr.style.fontSize="40px",Rr.textContent="",document.body.appendChild(Rr);const ya=ft.currentTarget.closest(".swipe-card");if(ya){const ma=ya.querySelector(".percentage-badge-container");let wn,Fn;if(ma){const Pr=ma.getBoundingClientRect();wn=Pr.left+Pr.width/2,Fn=Pr.top+Pr.height/2}else{const Pr=ya.getBoundingClientRect();wn=Pr.right-50,Fn=Pr.top+30}const va=wn-aa,nn=Fn-rn;Rr.style.setProperty("--target-x",`${va}px`),Rr.style.setProperty("--target-y",`${nn}px`),Rr.style.animation="emoji-fly-to-target 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards",setTimeout(()=>{const Pr=ya.querySelector(".percentage-badge-container");if(Pr){const _a=Pr.querySelector(".padlock-overlay");_a&&(_a.classList.add("padlock-unlock"),setTimeout(()=>{vn(!0)},400)),Pr.classList.add("percentage-badge-hit"),setTimeout(()=>{Pr.classList.remove("percentage-badge-hit")},600),Pr.classList.add("badge-unlock-glow"),setTimeout(()=>{Pr.classList.remove("badge-unlock-glow")},1e3)}const En=document.createElement("div");En.className="unlock-sparkle",En.textContent="",En.style.left=`${wn}px`,En.style.top=`${Fn}px`,document.body.appendChild(En),setTimeout(()=>{document.body.removeChild(En)},800);const _r=document.createElement("div");_r.className="confetti-container",_r.style.left=`${wn}px`,_r.style.top=`${Fn}px`;for(let _a=0;_a<5;_a++){const xi=document.createElement("div");xi.className="confetti-particle",_r.appendChild(xi)}document.body.appendChild(_r),setTimeout(()=>{document.body.removeChild(_r)},600)},1500)}setTimeout(()=>{document.body.removeChild(Rr),_(!1)},1500)},style:{background:"linear-gradient(140deg, #93c5fd 0%, #3b82f6 100%)",boxShadow:"0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(59, 130, 246, 0.35), 0 10px 30px rgba(59, 130, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(59, 130, 246, 0.25), 0 8px 24px rgba(59, 130, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:!k&&t.jsx("span",{className:"text-4xl animate-spin-3d",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-emerald-400 relative overflow-hidden z-10",onClick:()=>Fr(j),style:{background:"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(Yt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-sky-400 relative overflow-hidden z-10",onClick:()=>fs(j),style:{background:"linear-gradient(140deg, #7dd3fc 0%, #0ea5e9 100%)",boxShadow:"0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(14, 165, 233, 0.35), 0 10px 30px rgba(14, 165, 233, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})]})]})]})},ve=j=>{var ne,oe,Me,Be,Q,Pe,Re,_e,et,Gt,Dt,Gr,Qt,Cr,Hr,na,Ia;return t.jsxs("div",{className:"swipe-card h-full p-2 transition-transform duration-300 ease-out overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-start pl-8 left-indicator",children:t.jsx("div",{className:"bg-rose-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform -rotate-12 backdrop-blur-sm",children:"PASS"})}),t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-end pr-8 right-indicator",children:t.jsx("div",{className:"bg-purple-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform rotate-12 backdrop-blur-sm",children:"CONNECT"})}),t.jsxs(wr,{ref:q,className:`overflow-hidden h-full flex flex-col border border-white
        rounded-xl relative overscroll-none
        drop-shadow-[0_0_20px_rgba(139,92,246,0.2)]
        shadow-[0_0_15px_rgba(139,92,246,0.15),inset_0_1px_3px_rgba(255,255,255,0.7)]
        transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_25px_rgba(139,92,246,0.35),inset_0_1px_3px_rgba(255,255,255,0.9)]
        ${h==="left"?"animate-mentorship-swipe-left":h==="right"?"animate-mentorship-swipe-right":""}
        ${f?"animate-mentorship-card-entrance":""}
        ${y?"animate-mentorship-undo-exit":""}
        ${y&&w==="left"?"animate-mentorship-current-exit-left":y&&w==="right"?"animate-mentorship-current-exit-right":""}`,style:{perspective:"1500px",transformStyle:"preserve-3d",willChange:"transform",backfaceVisibility:"hidden",transform:h||f||y?void 0:"translateZ(0) translate3d(0, 0, 0)"},onMouseDown:Fo,onMouseMove:Oc,onMouseUp:Y,onMouseLeave:he,onTouchStart:W,onTouchMove:xe,onTouchEnd:fe,children:[t.jsxs("div",{className:"relative h-[90%] overflow-hidden overscroll-none touch-none",children:[j.photoUrl?t.jsx("img",{src:j.photoUrl,className:"w-full h-full object-cover",alt:`${j.name} photo`,loading:"eager"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-purple-50 via-pink-100 to-indigo-50",children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm px-8 py-6 rounded-2xl shadow-lg",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center mb-3 mx-auto",children:t.jsx(Qr,{className:"w-8 h-8 text-white"})}),t.jsx("span",{className:"text-lg bg-gradient-to-r from-purple-600 to-pink-600 text-transparent bg-clip-text font-bold block text-center",children:j.name})]})}),t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("button",{onClick:rr=>{if(rr.stopPropagation(),!Te){M(!0),B("mentorship"),setTimeout(()=>{M(!1),B(null)},2e3);return}if(!(e!=null&&e.premiumAccess)){Se(!0);return}if(!Ve()){$(!0);return}n(`/suite/mentorship/compatibility/${j.id}`)},className:`relative bg-gradient-to-br from-purple-500/90 via-purple-600/90 to-pink-600/90 backdrop-blur-md rounded-xl px-3 py-2 border border-white/20 
                         shadow-[0_8px_25px_rgba(139,69,199,0.3),0_4px_12px_rgba(0,0,0,0.2),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.1)]
                         hover:shadow-[0_12px_35px_rgba(139,69,199,0.4),0_6px_18px_rgba(0,0,0,0.25),inset_0_1px_3px_rgba(255,255,255,0.4),inset_0_-2px_3px_rgba(0,0,0,0.15)]
                         transition-all duration-300 hover:scale-105 hover:-translate-y-1 group
                         transform-gpu perspective-1000`,style:{transformStyle:"preserve-3d"},children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border border-purple-300/30",style:{animation:"expand-circle 2s ease-out infinite"}}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-purple-400/60 animate-ping opacity-0",style:{animation:"ripple 3s cubic-bezier(0.4, 0, 0.6, 1) infinite"}}),t.jsxs("div",{className:`percentage-badge-container w-[3.1rem] h-[3.1rem] rounded-full bg-gradient-to-br from-white via-gray-50 to-gray-100 flex items-center justify-center 
                           shadow-[inset_0_2px_6px_rgba(0,0,0,0.1),inset_0_-2px_4px_rgba(255,255,255,0.8),0_3px_8px_rgba(139,69,199,0.2),0_1px_3px_rgba(0,0,0,0.3)]
                           transform transition-all duration-300 group-hover:scale-110 group-hover:shadow-[inset_0_3px_8px_rgba(0,0,0,0.15),inset_0_-3px_6px_rgba(255,255,255,0.9),0_4px_12px_rgba(139,69,199,0.3),0_2px_4px_rgba(0,0,0,0.4)]
                           relative z-10 border border-white/50 group-hover:-translate-y-0.5`,style:{transformStyle:"preserve-3d",transform:"translateZ(8px)"},children:[t.jsxs("div",{className:"relative flex items-center justify-center transform transition-transform duration-300 group-hover:scale-105",style:{transformStyle:"preserve-3d"},children:[t.jsx("span",{className:"absolute text-xl font-extrabold text-purple-600/20 transform translate-x-0.5 translate-y-0.5 blur-[0.5px]",children:"92%"}),t.jsx("span",{className:`relative text-xl font-extrabold bg-gradient-to-b from-purple-600 via-purple-700 to-pink-600 text-transparent bg-clip-text 
                                   drop-shadow-[0_1px_2px_rgba(0,0,0,0.3)] transform transition-all duration-300 group-hover:scale-105 ${Te?"percentage-revealed":"percentage-blurred"}`,style:{textShadow:"0 1px 3px rgba(139,69,199,0.3), 0 0 8px rgba(139,69,199,0.2)",transform:"translateZ(4px)"},children:"92%"}),t.jsx("span",{className:"absolute text-xl font-extrabold bg-gradient-to-t from-transparent to-white/30 text-transparent bg-clip-text transform -translate-y-0.5 scale-95",children:"92%"})]}),!Te&&t.jsx("div",{className:"padlock-overlay padlock-mentorship",children:""})]})]})}),J&&R==="mentorship"&&t.jsxs("div",{className:"unlock-guide-arrow arrow-mentorship",children:[t.jsx("div",{className:"unlock-guide-text",children:"Click  to unlock"}),t.jsxs("div",{className:"arrow-line-container",children:[t.jsx("div",{className:"arrow-line"}),t.jsx("div",{className:"arrow-head"})]})]}),j.isVerified&&t.jsx("div",{className:"absolute top-24 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-2 py-1 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[10px] font-bold shadow-[0_3px_12px_rgba(34,197,94,0.4),0_1px_6px_rgba(34,197,94,0.3),inset_0_1px_1px_rgba(255,255,255,0.4),inset_0_-1px_1px_rgba(0,0,0,0.2)] overflow-hidden border border-emerald-300/50 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2.5 w-2.5 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsx("div",{className:"absolute top-4 left-4 z-30",children:t.jsx(St,{className:"bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-500 text-amber-900 font-bold shadow-lg border-0 relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10",children:j.isMentor?"Mentor":"Mentee"})})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent px-4 pt-16 pb-3 flex flex-col",children:[t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)] static-gradient",children:[t.jsx("span",{className:"text-4xl",children:((oe=(ne=j.name)==null?void 0:ne.split(" ")[0])==null?void 0:oe.charAt(0))||"U"}),((Be=(Me=j.name)==null?void 0:Me.split(" ")[0])==null?void 0:Be.slice(1))||"ser"]})}),j.role==="mentee"&&j.industryAspiration&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:j.industryAspiration})}),j.role==="mentor"&&j.industriesOrDomains&&Array.isArray(j.industriesOrDomains)&&j.industriesOrDomains.length>0&&((Q=j.fieldVisibility)==null?void 0:Q.industriesOrDomains)!==!1&&t.jsx(St,{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white border-0 w-fit shadow-md relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/30 before:to-transparent before:-skew-x-12 before:animate-[shimmer_2s_infinite]",children:t.jsx("span",{className:"relative z-10 text-xs",children:j.industriesOrDomains[0]})})]}),j.type==="mentorship"&&j.location&&((Pe=j.fieldVisibility)==null?void 0:Pe.location)!==!1&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-blue-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.location})]})]}),j.role==="mentor"&&j.areasOfExpertise&&j.areasOfExpertise.length>0&&((Re=j.fieldVisibility)==null?void 0:Re.areasOfExpertise)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Rn,{className:"h-4 w-4 mr-2 text-emerald-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Areas of Expertise:"}),t.jsx("div",{className:"text-emerald-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(j.areasOfExpertise)?j.areasOfExpertise.join(", "):j.areasOfExpertise})]})]}),j.role==="mentee"&&j.learningGoals&&j.learningGoals.length>0&&((_e=j.fieldVisibility)==null?void 0:_e.learningGoals)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Nn,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Learning Goals:"}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:Array.isArray(j.learningGoals)?j.learningGoals.join(", "):j.learningGoals})]})]}),j.type==="mentorship"&&j.timeCommitment&&j.timeCommitment.trim()!==""&&((et=j.fieldVisibility)==null?void 0:et.timeCommitment)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ja,{className:"h-4 w-4 mr-2 text-orange-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Time Commitment:"}),t.jsx("div",{className:"text-orange-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.timeCommitment})]})]}),j.type==="mentorship"&&j.availability&&j.availability.trim()!==""&&((Gt=j.fieldVisibility)==null?void 0:Gt.availability)!==!1&&t.jsxs("div",{className:"mb-1.5 flex items-center",children:[t.jsx(tl,{className:"h-4 w-4 mr-2 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-green-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.availability})]}),j.type==="mentorship"&&j.languagesSpoken&&j.languagesSpoken.length>0&&((Dt=j.fieldVisibility)==null?void 0:Dt.languagesSpoken)!==!1&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(hn,{className:"h-4 w-4 text-cyan-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.languagesSpoken.slice(0,3).map((rr,ft)=>t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:rr},ft)),j.languagesSpoken.length>3&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-200 border border-cyan-400/30 backdrop-blur-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:["+",j.languagesSpoken.length-3]})]})]})}),j.type==="mentorship"&&j.highSchool&&((Gr=j.fieldVisibility)==null?void 0:Gr.highSchool)!==!1&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ao,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:j.highSchool})]}),j.type==="mentorship"&&j.collegeUniversity&&((Qt=j.fieldVisibility)==null?void 0:Qt.collegeUniversity)!==!1&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:j.collegeUniversity})]}),j.type==="mentorship"&&j.role==="mentor"&&j.mentorshipStyle&&((Cr=j.fieldVisibility)==null?void 0:Cr.mentorshipStyle)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Mentorship Style:"}),t.jsx("div",{className:"text-yellow-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.mentorshipStyle})]})]}),j.type==="mentorship"&&j.role==="mentor"&&j.whyMentor&&((Hr=j.fieldVisibility)==null?void 0:Hr.whyMentor)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Yt,{className:"h-4 w-4 mr-2 text-pink-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Mentor:"}),t.jsx("div",{className:"text-pink-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.whyMentor.length>60?`${j.whyMentor.substring(0,60)}...`:j.whyMentor})]})]}),j.type==="mentorship"&&j.role==="mentee"&&j.whySeekMentorship&&((na=j.fieldVisibility)==null?void 0:na.whySeekMentorship)!==!1&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Yt,{className:"h-4 w-4 mr-2 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Why I Seek Mentorship:"}),t.jsx("div",{className:"text-blue-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.whySeekMentorship.length>60?`${j.whySeekMentorship.substring(0,60)}...`:j.whySeekMentorship})]})]}),j.type==="mentorship"&&j.role==="mentee"&&j.preferredMentorshipStyle&&((Ia=j.fieldVisibility)==null?void 0:Ia.preferredMentorshipStyle)!==!1&&t.jsxs("div",{className:"mb-1.5",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(Ea,{className:"h-4 w-4 mr-1 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-white text-xs font-semibold drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Preferred Style:"})]}),t.jsx("div",{className:"text-teal-200 text-xs font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.preferredMentorshipStyle})]})]})]}),t.jsxs("div",{className:"py-1.5 px-3 flex justify-between items-center relative overflow-hidden backdrop-blur-md button-container",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-200/80 via-pink-100/90 to-indigo-200/80 z-0"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-80 mix-blend-soft-light"}),t.jsx("div",{className:"absolute -top-2 left-[15%] w-3 h-3 rounded-full bg-purple-300/70 blur-[2px] animate-pulse"}),t.jsx("div",{className:"absolute -bottom-1 right-[15%] w-2.5 h-2.5 rounded-full bg-pink-300/70 blur-[2px] animate-pulse",style:{animationDelay:"1.5s"}}),t.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-sky-400 relative overflow-hidden z-10",onClick:ra,style:{background:"linear-gradient(140deg, #a5b4fc 0%, #6366f1 100%)",boxShadow:"0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",rr.currentTarget.style.boxShadow="0 6px 10px rgba(99, 102, 241, 0.35), 0 10px 30px rgba(99, 102, 241, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(10deg)",rr.currentTarget.style.boxShadow="0 4px 6px rgba(99, 102, 241, 0.25), 0 8px 24px rgba(99, 102, 241, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx("div",{className:"relative flex items-center justify-center",children:d==="mentorship"&&Nt>0?t.jsx(uC,{className:"w-5 h-5 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("path",{d:"M9 14 4 9l5-5"}),t.jsx("path",{d:"M4 9h9a6 6 0 0 1 0 12H9"})]})})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-rose-400 relative overflow-hidden z-10",onClick:Br,style:{background:"linear-gradient(140deg, #fda4af 0%, #e11d48 100%)",boxShadow:"0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",rr.currentTarget.style.boxShadow="0 6px 10px rgba(225, 29, 72, 0.35), 0 10px 30px rgba(225, 29, 72, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(10deg)",rr.currentTarget.style.boxShadow="0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(mt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-16 h-16 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-purple-400 relative overflow-hidden z-10",onClick:rr=>{if(!T){A(!0),_(!0),console.log("[GRADUATION-CAP-ANIMATION] Started graduation cap flight animation for mentorship card");const ft=rr.currentTarget.getBoundingClientRect(),un=ft.left+ft.width/2,aa=ft.top+ft.height/2,rn=document.createElement("div");rn.className="briefcase-flying",rn.style.left=`${un-20}px`,rn.style.top=`${aa-20}px`,rn.style.fontSize="40px",rn.textContent="",document.body.appendChild(rn);const Rr=rr.currentTarget.closest(".swipe-card");if(Rr){const ya=Rr.querySelector(".percentage-badge-container");let ma,wn;if(ya){const nn=ya.getBoundingClientRect();ma=nn.left+nn.width/2,wn=nn.top+nn.height/2}else{const nn=Rr.getBoundingClientRect();ma=nn.right-50,wn=nn.top+30}const Fn=ma-un,va=wn-aa;rn.style.setProperty("--target-x",`${Fn}px`),rn.style.setProperty("--target-y",`${va}px`),rn.style.animation="emoji-fly-to-target 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards",setTimeout(()=>{const nn=Rr.querySelector(".percentage-badge-container");if(nn){const En=nn.querySelector(".padlock-overlay");En&&(En.classList.add("padlock-unlock"),setTimeout(()=>{Xe(!0)},400)),nn.classList.add("percentage-badge-hit"),setTimeout(()=>{nn.classList.remove("percentage-badge-hit")},600)}const Pr=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#f0932b"];for(let En=0;En<5;En++)setTimeout(()=>{const _r=document.createElement("div");_r.innerHTML="",_r.className="confetti-particle",_r.style.position="fixed",_r.style.left=ma+"px",_r.style.top=wn+"px",_r.style.fontSize="1.2rem",_r.style.pointerEvents="none",_r.style.zIndex="9998",_r.style.color=Pr[En],document.body.appendChild(_r);const _a=Math.PI*2*En/5,xi=60+Math.random()*40,qf=Math.cos(_a)*xi,Yd=Math.sin(_a)*xi;_r.style.transition="all 0.6s ease-out",_r.style.transform=`translate(${qf}px, ${Yd}px) scale(0.5)`,_r.style.opacity="0",setTimeout(()=>{_r.parentNode&&_r.parentNode.removeChild(_r)},600)},En*50);setTimeout(()=>{rn.parentNode&&rn.parentNode.removeChild(rn)},200)},1500)}setTimeout(()=>{_(!1),console.log("[GRADUATION-CAP-ANIMATION] Animation completed")},2300)}},style:{background:"linear-gradient(140deg, #c084fc 0%, #8b5cf6 100%)",boxShadow:"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",rr.currentTarget.style.boxShadow="0 6px 10px rgba(139, 92, 246, 0.35), 0 10px 30px rgba(139, 92, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(10deg)",rr.currentTarget.style.boxShadow="0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:!k&&t.jsx("span",{className:"text-4xl",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-emerald-400 relative overflow-hidden z-10",onClick:()=>Fr(j),style:{background:"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",rr.currentTarget.style.boxShadow="0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(10deg)",rr.currentTarget.style.boxShadow="0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(Yt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-sky-400 relative overflow-hidden z-10",onClick:()=>fs(j),style:{background:"linear-gradient(140deg, #7dd3fc 0%, #0ea5e9 100%)",boxShadow:"0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",rr.currentTarget.style.boxShadow="0 6px 10px rgba(14, 165, 233, 0.35), 0 10px 30px rgba(14, 165, 233, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:rr=>{rr.currentTarget.style.transform="perspective(500px) rotateX(10deg)",rr.currentTarget.style.boxShadow="0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})]})]})]})},Ie=j=>{var ne,oe,Me,Be,Q,Pe,Re,_e,et,Gt,Dt,Gr,Qt,Cr,Hr,na,Ia,rr;return t.jsxs("div",{className:"swipe-card h-full p-2 transition-transform duration-300 ease-out overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-start pl-8 left-indicator",children:t.jsx("div",{className:"bg-rose-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform -rotate-12 backdrop-blur-sm",children:"PASS"})}),t.jsx("div",{className:"absolute inset-0 z-20 pointer-events-none opacity-0 transition-opacity duration-200 flex items-center justify-end pr-8 right-indicator",children:t.jsx("div",{className:"bg-emerald-500/80 text-white text-xl font-bold py-2 px-6 rounded-lg transform rotate-12 backdrop-blur-sm",children:"LIKE"})}),t.jsxs(wr,{ref:H,className:`overflow-hidden h-full flex flex-col border border-white
        rounded-xl relative overscroll-none
        drop-shadow-[0_0_20px_rgba(16,185,129,0.2)]
        shadow-[0_0_15px_rgba(16,185,129,0.15),inset_0_1px_3px_rgba(255,255,255,0.7)]
        transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_25px_rgba(16,185,129,0.35),inset_0_1px_3px_rgba(255,255,255,0.9)]
        ${h==="left"?"animate-networking-swipe-left":h==="right"?"animate-networking-swipe-right":""}
        ${f?"animate-networking-card-entrance":""}
        ${y?"animate-networking-undo-exit":""}
        ${y&&w==="left"?"animate-networking-current-exit-left":y&&w==="right"?"animate-networking-current-exit-right":""}
        `,style:{perspective:"1500px",transformStyle:"preserve-3d",willChange:"transform",backfaceVisibility:"hidden",transform:h||f||y?void 0:"translateZ(0) translate3d(0, 0, 0)"},onMouseDown:Fo,onMouseMove:Oc,onMouseUp:Y,onMouseLeave:he,onTouchStart:W,onTouchMove:xe,onTouchEnd:fe,children:[t.jsxs("div",{className:"relative h-[90%] overflow-hidden overscroll-none touch-none",children:[j.photoUrl?t.jsx("img",{src:j.photoUrl,className:"w-full h-full object-cover",alt:`${j.name} photo`,loading:"eager"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-teal-100 to-green-50",children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm px-8 py-6 rounded-2xl shadow-lg",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-xl flex items-center justify-center mb-3 mx-auto",children:t.jsx(Jt,{className:"w-8 h-8 text-white"})}),t.jsx("span",{className:"text-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-transparent bg-clip-text font-bold block text-center",children:j.name})]})}),t.jsx("div",{className:"absolute top-4 right-4 z-30",children:t.jsxs("button",{onClick:()=>{if(!Sn){M(!0),B("networking"),setTimeout(()=>{M(!1),B(null)},2e3);return}if(!(e!=null&&e.premiumAccess)){Se(!0);return}if(!Ga()){X(!0);return}n(`/suite/compatibility/${j.id}`)},className:`relative bg-gradient-to-br from-emerald-500/90 via-emerald-600/90 to-green-600/90 backdrop-blur-md rounded-xl px-3 py-2 border border-white/20 
                         shadow-[0_8px_25px_rgba(16,185,129,0.3),0_4px_12px_rgba(0,0,0,0.2),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.1)]
                         hover:shadow-[0_12px_35px_rgba(16,185,129,0.4),0_6px_18px_rgba(0,0,0,0.25),inset_0_1px_3px_rgba(255,255,255,0.4),inset_0_-2px_3px_rgba(0,0,0,0.15)]
                         transition-all duration-300 hover:scale-105 hover:-translate-y-1 group percentage-badge-container
                         transform-gpu perspective-1000`,style:{transformStyle:"preserve-3d"},children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border border-emerald-300/30",style:{animation:"expand-circle 2s ease-out infinite"}}),t.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-emerald-400/60 animate-ping opacity-0",style:{animation:"ripple 3s cubic-bezier(0.4, 0, 0.6, 1) infinite"}}),t.jsxs("div",{className:`w-[3.1rem] h-[3.1rem] rounded-full bg-gradient-to-br from-white via-gray-50 to-gray-100 flex items-center justify-center 
                           shadow-[inset_0_2px_6px_rgba(0,0,0,0.1),inset_0_-2px_4px_rgba(255,255,255,0.8),0_3px_8px_rgba(16,185,129,0.2),0_1px_3px_rgba(0,0,0,0.3)]
                           transform transition-all duration-300 group-hover:scale-110 group-hover:shadow-[inset_0_3px_8px_rgba(0,0,0,0.15),inset_0_-3px_6px_rgba(255,255,255,0.9),0_4px_12px_rgba(16,185,129,0.3),0_2px_4px_rgba(0,0,0,0.4)]
                           relative z-10 border border-white/50 group-hover:-translate-y-0.5`,style:{transformStyle:"preserve-3d",transform:"translateZ(8px)"},children:[t.jsxs("div",{className:"relative flex items-center justify-center transform transition-transform duration-300 group-hover:scale-105",style:{transformStyle:"preserve-3d"},children:[t.jsx("span",{className:"absolute text-xl font-extrabold text-emerald-600/20 transform translate-x-0.5 translate-y-0.5 blur-[0.5px]",children:"87%"}),t.jsx("span",{className:`relative text-xl font-extrabold bg-gradient-to-b from-emerald-600 via-emerald-700 to-green-600 text-transparent bg-clip-text 
                                   drop-shadow-[0_1px_2px_rgba(0,0,0,0.3)] transform transition-all duration-300 group-hover:scale-105 ${Sn?"percentage-revealed":"percentage-blurred"}`,style:{textShadow:"0 1px 3px rgba(16,185,129,0.3), 0 0 8px rgba(16,185,129,0.2)",transform:"translateZ(4px)"},children:"87%"}),t.jsx("span",{className:"absolute text-xl font-extrabold bg-gradient-to-t from-transparent to-white/30 text-transparent bg-clip-text transform -translate-y-0.5 scale-95",children:"87%"})]}),!Sn&&t.jsx("div",{className:"padlock-overlay padlock-networking",children:""})]})]})}),J&&R==="networking"&&t.jsxs("div",{className:"unlock-guide-arrow arrow-networking",children:[t.jsx("div",{className:"unlock-guide-text",children:"Click  to unlock"}),t.jsxs("div",{className:"arrow-line-container",children:[t.jsx("div",{className:"arrow-line"}),t.jsx("div",{className:"arrow-head"})]})]}),j.isVerified&&t.jsx("div",{className:"absolute top-24 right-4 z-30",children:t.jsxs("div",{className:"relative inline-flex items-center gap-0.5 px-2 py-1 rounded-full bg-gradient-to-br from-emerald-400 via-green-500 to-emerald-600 text-white text-[10px] font-bold shadow-[0_3px_12px_rgba(34,197,94,0.4),0_1px_6px_rgba(34,197,94,0.3),inset_0_1px_1px_rgba(255,255,255,0.4),inset_0_-1px_1px_rgba(0,0,0,0.2)] overflow-hidden border border-emerald-300/50 transform hover:scale-105 transition-all duration-200",children:[t.jsx(gn,{className:"h-2.5 w-2.5 drop-shadow-sm"}),t.jsx("span",{className:"drop-shadow-sm tracking-wide",children:"Verified"}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent skew-x-12 transform -translate-x-full animate-[shimmer_2s_infinite]"})]})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/60 to-transparent px-4 pt-16 pb-3 flex flex-col",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h2",{className:"text-3xl font-extrabold",children:t.jsxs("span",{className:"bg-gradient-to-r from-amber-400 to-fuchsia-500 bg-clip-text text-transparent drop-shadow-[0_2px_2px_rgba(0,0,0,0.95)]",children:[t.jsx("span",{className:"text-4xl",children:((oe=(ne=j.name)==null?void 0:ne.split(" ")[0])==null?void 0:oe.charAt(0))||"U"}),((Be=(Me=j.name)==null?void 0:Me.split(" ")[0])==null?void 0:Be.slice(1))||"ser"]})}),j.industry&&((Q=j.fieldVisibility)==null?void 0:Q.industry)&&t.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg border border-white/20 backdrop-blur-sm",children:[t.jsx("span",{className:"w-1.5 h-1.5 bg-yellow-300 rounded-full mr-1.5 animate-pulse"}),j.industry]})]}),j.location&&((Pe=j.fieldVisibility)==null?void 0:Pe.location)&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ta,{className:"h-4 w-4 mr-2 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-indigo-200 text-sm font-medium drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.location})]}),(j.currentRole&&((Re=j.fieldVisibility)==null?void 0:Re.currentRole)||j.currentCompany&&((_e=j.fieldVisibility)==null?void 0:_e.currentCompany))&&t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(zr,{className:"h-4 w-4 mr-2 text-teal-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"text-teal-400 font-medium text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.currentRole&&((et=j.fieldVisibility)!=null&&et.currentRole)&&j.currentCompany&&((Gt=j.fieldVisibility)!=null&&Gt.currentCompany)?`${j.currentRole} @ ${j.currentCompany}`:j.currentRole&&((Dt=j.fieldVisibility)!=null&&Dt.currentRole)?j.currentRole:j.currentCompany&&((Gr=j.fieldVisibility)!=null&&Gr.currentCompany)?j.currentCompany:""})]}),j.highSchool&&((Qt=j.fieldVisibility)==null?void 0:Qt.highSchool)&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(ao,{className:"h-4 w-4 mr-1 text-blue-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-blue-200 via-cyan-300 to-blue-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:j.highSchool})]}),j.collegeUniversity&&((Cr=j.fieldVisibility)==null?void 0:Cr.collegeUniversity)&&t.jsxs("div",{className:"flex items-center mb-1.5",children:[t.jsx(Qr,{className:"h-4 w-4 mr-1 text-indigo-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)]"}),t.jsx("span",{className:"bg-gradient-to-r from-indigo-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-medium text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient",children:j.collegeUniversity})]}),j.professionalTag&&((Hr=j.fieldVisibility)==null?void 0:Hr.professionalTagline)&&t.jsx("div",{className:"mb-3 rounded-md overflow-hidden",children:t.jsxs("p",{className:"text-white/95 leading-tight text-xs font-medium bg-gradient-to-r from-black/15 to-purple-900/15 p-2 rounded-md drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)] static-gradient italic",children:['"',j.professionalTag,'"']})}),j.lookingFor&&((na=j.fieldVisibility)==null?void 0:na.lookingFor)&&t.jsx("div",{className:"mb-2",children:t.jsxs("div",{className:"flex items-start mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-green-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)] mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("path",{d:"m21 21-4.35-4.35"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-white text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Looking for:"}),t.jsx("p",{className:"text-white/90 text-sm leading-tight drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.lookingFor})]})]})}),j.canOffer&&((Ia=j.fieldVisibility)==null?void 0:Ia.canOffer)&&t.jsx("div",{className:"mb-1.5",children:t.jsxs("div",{className:"flex items-start mb-1",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-yellow-400 drop-shadow-[0_1.5px_1.5px_rgba(0,0,0,0.9)] mt-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"m2 17 10 5 10-5"}),t.jsx("path",{d:"m2 12 10 5 10-5"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-semibold text-white text-sm drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Can offer:"}),t.jsx("p",{className:"text-white/90 text-sm leading-tight drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:j.canOffer})]})]})}),j.sharedInterests&&j.sharedInterests.length>0&&((rr=j.fieldVisibility)==null?void 0:rr.professionalInterests)&&t.jsxs("div",{className:"mb-2",children:[t.jsx("span",{className:"font-semibold text-white text-xs drop-shadow-[0_1.8px_1.8px_rgba(0,0,0,0.95)]",children:"Interests:"}),t.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[j.sharedInterests.slice(0,2).map((ft,un)=>{const aa=["from-purple-500/90 to-fuchsia-500/90","from-amber-500/90 to-orange-500/90"],rn=aa[un%aa.length];return t.jsx(St,{className:`bg-gradient-to-r ${rn} text-white shadow-lg text-xs py-0 px-2.5 border-0`,children:ft},`${j.id}-interest-${un}`)}),j.sharedInterests.length>2&&t.jsxs(St,{className:"bg-white/20 text-white text-xs py-0 px-2.5 border-0",children:["+",j.sharedInterests.length-2]})]})]})]})})]}),t.jsxs("div",{className:"py-1.5 px-3 flex justify-between items-center relative overflow-hidden backdrop-blur-md button-container",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-200/80 via-teal-100/90 to-green-200/80 z-0"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-80 mix-blend-soft-light"}),t.jsx("div",{className:"absolute -top-2 left-[15%] w-3 h-3 rounded-full bg-emerald-300/70 blur-[2px] animate-pulse"}),t.jsx("div",{className:"absolute -bottom-1 right-[15%] w-2.5 h-2.5 rounded-full bg-teal-300/70 blur-[2px] animate-pulse",style:{animationDelay:"1.5s"}}),t.jsx("button",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform border border-sky-400 relative overflow-hidden z-10 ${d==="mentorship"&&Nt===0||d==="job"&&Mt===0?"opacity-50 cursor-not-allowed":d==="networking"&&qe===0?"opacity-50 cursor-pointer":"hover:scale-110 cursor-pointer"}`,onClick:ra,disabled:d==="mentorship"&&Nt===0||d==="job"&&Mt===0,style:{background:"linear-gradient(140deg, #c084fc 0%, #8b5cf6 100%)",boxShadow:"0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{d==="mentorship"&&Nt===0||d==="job"&&Mt===0||(ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(139, 92, 246, 0.35), 0 10px 30px rgba(139, 92, 246, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)")},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(139, 92, 246, 0.25), 0 8px 24px rgba(139, 92, 246, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsxs("div",{className:"relative flex items-center justify-center",children:[d==="mentorship"&&Nt>0||d==="networking"&&qe>0||d==="job"&&Mt>0?t.jsx(uC,{className:"w-5 h-5 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:[t.jsx("path",{d:"M9 14 4 9l5-5"}),t.jsx("path",{d:"M4 9h9a6 6 0 0 1 0 12H9"})]}),d==="job"&&Mt>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center text-xs font-bold text-white border border-white shadow-lg",children:Mt>9?"9+":Mt})]})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-rose-400 relative overflow-hidden z-10",onClick:Br,style:{background:"linear-gradient(140deg, #fda4af 0%, #e11d48 100%)",boxShadow:"0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(225, 29, 72, 0.35), 0 10px 30px rgba(225, 29, 72, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(225, 29, 72, 0.25), 0 8px 24px rgba(225, 29, 72, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(mt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-16 h-16 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-emerald-400 relative overflow-hidden z-10",onClick:ft=>{if(j.type==="networking"&&!Ir){cr(!0),Bt(!0),console.log("[HANDSHAKE-ANIMATION] Started handshake flight animation for networking card");const un=ft.currentTarget.getBoundingClientRect(),aa=un.left+un.width/2,rn=un.top+un.height/2,Rr=document.createElement("div");Rr.className="handshake-flying",Rr.style.left=`${aa-20}px`,Rr.style.top=`${rn-20}px`,Rr.style.fontSize="40px",Rr.textContent="",document.body.appendChild(Rr);const ya=ft.currentTarget.closest(".swipe-card");if(ya){const ma=ya.querySelector(".percentage-badge-container");let wn,Fn;if(ma){const Pr=ma.getBoundingClientRect();wn=Pr.left+Pr.width/2,Fn=Pr.top+Pr.height/2}else{const Pr=ya.getBoundingClientRect();wn=Pr.right-50,Fn=Pr.top+30}const va=wn-aa,nn=Fn-rn;Rr.style.setProperty("--target-x",`${va}px`),Rr.style.setProperty("--target-y",`${nn}px`),Rr.style.animation="emoji-fly-to-target 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards",setTimeout(()=>{const Pr=ya.querySelector(".percentage-badge-container");if(Pr){const _a=Pr.querySelector(".padlock-overlay");_a&&(_a.classList.add("padlock-unlock"),setTimeout(()=>{Rt(!0)},400)),Pr.classList.add("percentage-badge-hit"),setTimeout(()=>{Pr.classList.remove("percentage-badge-hit")},600),Pr.classList.add("badge-unlock-glow"),setTimeout(()=>{Pr.classList.remove("badge-unlock-glow")},1e3)}const En=document.createElement("div");En.className="unlock-sparkle",En.textContent="",En.style.left=`${wn}px`,En.style.top=`${Fn}px`,document.body.appendChild(En),setTimeout(()=>{En.parentNode&&En.parentNode.removeChild(En)},800);const _r=document.createElement("div");_r.className="confetti-container",_r.style.left=`${wn}px`,_r.style.top=`${Fn}px`;for(let _a=1;_a<=5;_a++){const xi=document.createElement("div");xi.className=`confetti-particle confetti-particle-${_a}`,_r.appendChild(xi)}document.body.appendChild(_r),setTimeout(()=>{_r.parentNode&&_r.parentNode.removeChild(_r)},1e3)},1500)}setTimeout(()=>{Rr.parentNode&&Rr.parentNode.removeChild(Rr)},1500),setTimeout(()=>{Bt(!1),console.log("[HANDSHAKE-ANIMATION] Animation completed")},2300)}else Fr(j)},style:{background:"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:!ut&&t.jsx("span",{className:"text-4xl",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))",animation:"spin3d 2s linear infinite"},children:""})}),t.jsx("button",{className:"w-14 h-14 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-emerald-400 relative overflow-hidden z-10",onClick:()=>Fr(j),style:{background:"linear-gradient(140deg, #6ee7b7 0%, #10b981 100%)",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(16, 185, 129, 0.35), 0 10px 30px rgba(16, 185, 129, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(16, 185, 129, 0.25), 0 8px 24px rgba(16, 185, 129, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx(Yt,{className:"w-6 h-6 text-white",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"}})}),t.jsx("button",{className:"w-12 h-12 rounded-full flex items-center justify-center text-lg transition-all transform hover:scale-110 border border-sky-400 relative overflow-hidden z-10",onClick:()=>fs(j),style:{background:"linear-gradient(140deg, #7dd3fc 0%, #0ea5e9 100%)",boxShadow:"0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)",transform:"perspective(500px) rotateX(10deg)"},onMouseOver:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(5deg) scale(1.05)",ft.currentTarget.style.boxShadow="0 6px 10px rgba(14, 165, 233, 0.35), 0 10px 30px rgba(14, 165, 233, 0.3), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},onMouseOut:ft=>{ft.currentTarget.style.transform="perspective(500px) rotateX(10deg)",ft.currentTarget.style.boxShadow="0 4px 6px rgba(14, 165, 233, 0.25), 0 8px 24px rgba(14, 165, 233, 0.2), inset 0 2px 6px rgba(255, 255, 255, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.1)"},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 3px rgba(0,0,0,0.3))"},children:t.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})})]})]})]})},Fe=j=>{switch(console.log("renderCard called with card:",j),j.type){case"job":return console.log("Rendering job card"),Ee(j);case"mentorship":return console.log("Rendering mentorship card"),ve(j);case"networking":return console.log("Rendering networking card"),Ie(j)}};return t.jsxs(t.Fragment,{children:[t.jsx(ks,{}),t.jsxs("div",{className:`relative border-t pb-14 overflow-hidden ${r?"border-slate-700/30 bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900":"border-gray-200 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50"}`,children:[t.jsx("div",{className:`absolute inset-0 pointer-events-none ${r?"bg-gradient-to-t from-indigo-900/20 via-transparent to-blue-900/10":"bg-gradient-to-t from-blue-100/40 via-transparent to-purple-100/20"}`}),t.jsx("div",{className:`absolute top-0 left-1/4 w-96 h-96 rounded-full blur-3xl pointer-events-none ${r?"bg-blue-500/5":"bg-blue-400/20"}`}),t.jsx("div",{className:`absolute bottom-0 right-1/4 w-80 h-80 rounded-full blur-3xl pointer-events-none ${r?"bg-indigo-500/5":"bg-purple-400/20"}`}),t.jsxs("div",{className:`shadow-2xl border-b px-3 py-2 backdrop-blur-xl ${r?"bg-gradient-to-r from-slate-800/60 via-slate-700/70 to-slate-800/60 border-slate-600/30":"bg-gradient-to-r from-white/80 via-blue-50/90 to-white/80 border-gray-200/50"}`,children:[t.jsxs("div",{className:"flex gap-2 max-w-sm mx-auto",children:[t.jsxs("button",{className:`
                flex-1 relative overflow-hidden rounded-lg px-3 py-2 
                transition-all duration-300 ease-out transform
                ${d==="job"?"bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white shadow-lg shadow-blue-500/30 scale-105 border-blue-400/40":r?"bg-gradient-to-r from-slate-700/70 via-slate-600/80 to-slate-700/70 text-slate-300 hover:from-blue-900/60 hover:via-blue-800/70 hover:to-indigo-900/60 hover:text-blue-200 shadow-md hover:shadow-lg hover:shadow-blue-500/20":"bg-gradient-to-r from-white/80 via-gray-50/90 to-white/80 text-gray-700 hover:from-blue-100/80 hover:via-blue-50/90 hover:to-indigo-100/80 hover:text-blue-700 shadow-md hover:shadow-lg hover:shadow-blue-500/20"}
                border ${r?"border-slate-600/40":"border-gray-300/40"} backdrop-blur-sm
                hover:scale-102 active:scale-98
              `,onClick:()=>{m("job"),c(0);const j=new URL(window.location.href);j.searchParams.set("tab","job"),window.history.replaceState({},"",j.toString())},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${d==="job"?"from-blue-400/20 to-cyan-400/20":"from-transparent to-transparent hover:from-blue-400/10 hover:to-cyan-400/10"} transition-all duration-300`}),t.jsxs("div",{className:"relative flex items-center justify-center gap-1.5 font-medium",children:[t.jsx(zr,{className:`w-3.5 h-3.5 transition-all duration-300 ${d==="job"?"text-blue-100":r?"text-slate-500":"text-gray-500"}`}),t.jsx("span",{className:"text-xs font-semibold tracking-wide",children:s("navigation.jobs")})]}),d==="job"&&t.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-gradient-to-r from-transparent via-blue-300 to-transparent rounded-full"})]}),t.jsxs("button",{className:`
                flex-1 relative overflow-hidden rounded-lg px-3 py-2 
                transition-all duration-300 ease-out transform
                ${d==="mentorship"?"bg-gradient-to-r from-purple-600 via-purple-700 to-pink-700 text-white shadow-lg shadow-purple-500/30 scale-105 border-purple-400/40":r?"bg-gradient-to-r from-slate-700/70 via-slate-600/80 to-slate-700/70 text-slate-300 hover:from-purple-900/60 hover:via-purple-800/70 hover:to-pink-900/60 hover:text-purple-200 shadow-md hover:shadow-lg hover:shadow-purple-500/20":"bg-gradient-to-r from-white/80 via-gray-50/90 to-white/80 text-gray-700 hover:from-purple-100/80 hover:via-purple-50/90 hover:to-pink-100/80 hover:text-purple-700 shadow-md hover:shadow-lg hover:shadow-purple-500/20"}
                border ${r?"border-slate-600/40":"border-gray-300/40"} backdrop-blur-sm
                hover:scale-102 active:scale-98
              `,onClick:()=>{m("mentorship"),c(0);const j=new URL(window.location.href);j.searchParams.set("tab","mentorship"),window.history.replaceState({},"",j.toString())},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${d==="mentorship"?"from-purple-400/20 to-pink-400/20":"from-transparent to-transparent hover:from-purple-400/10 hover:to-pink-400/10"} transition-all duration-300`}),t.jsxs("div",{className:"relative flex items-center justify-center gap-1.5 font-medium",children:[t.jsx(Qr,{className:`w-3.5 h-3.5 transition-all duration-300 ${d==="mentorship"?"text-purple-100":r?"text-slate-500":"text-gray-500"}`}),t.jsx("span",{className:"text-xs font-semibold tracking-wide",children:s("navigation.mentorship")})]}),d==="mentorship"&&t.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-gradient-to-r from-transparent via-purple-300 to-transparent rounded-full"})]}),t.jsxs("button",{className:`
                flex-1 relative overflow-hidden rounded-lg px-3 py-2 
                transition-all duration-300 ease-out transform
                ${d==="networking"?"bg-gradient-to-r from-emerald-600 via-emerald-700 to-teal-700 text-white shadow-lg shadow-emerald-500/30 scale-105 border-emerald-400/40":r?"bg-gradient-to-r from-slate-700/70 via-slate-600/80 to-slate-700/70 text-slate-300 hover:from-emerald-900/60 hover:via-emerald-800/70 hover:to-teal-900/60 hover:text-emerald-200 shadow-md hover:shadow-lg hover:shadow-emerald-500/20":"bg-gradient-to-r from-white/80 via-gray-50/90 to-white/80 text-gray-700 hover:from-emerald-100/80 hover:via-emerald-50/90 hover:to-teal-100/80 hover:text-emerald-700 shadow-md hover:shadow-lg hover:shadow-emerald-500/20"}
                border ${r?"border-slate-600/40":"border-gray-300/40"} backdrop-blur-sm
                hover:scale-102 active:scale-98
              `,onClick:()=>{m("networking"),c(0);const j=new URL(window.location.href);j.searchParams.set("tab","networking"),window.history.replaceState({},"",j.toString())},children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${d==="networking"?"from-emerald-400/20 to-teal-400/20":"from-transparent to-transparent hover:from-emerald-400/10 hover:to-teal-400/10"} transition-all duration-300`}),t.jsxs("div",{className:"relative flex items-center justify-center gap-1.5 font-medium",children:[t.jsx(Jt,{className:`w-3.5 h-3.5 transition-all duration-300 ${d==="networking"?"text-emerald-100":r?"text-slate-500":"text-gray-500"}`}),t.jsx("span",{className:"text-xs font-semibold tracking-wide",children:s("navigation.network")})]}),d==="networking"&&t.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-0.5 bg-gradient-to-r from-transparent via-emerald-300 to-transparent rounded-full"})]})]}),t.jsx("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:t.jsx("div",{className:"w-full h-full",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(0,0,0,0.15) 1px, transparent 0)",backgroundSize:"20px 20px"}})})]}),t.jsxs("div",{className:"flex items-center justify-center px-3 py-1 overflow-hidden relative",style:{height:"calc(100vh - 160px)"},children:[bn&&N&&t.jsx("div",{className:"w-full max-w-lg absolute z-10",style:{height:"calc(100vh - 170px)",maxHeight:"900px"},children:Fe(bn)}),qt?t.jsx("div",{className:"w-full max-w-lg relative z-20",style:{height:"calc(100vh - 170px)",maxHeight:"900px"},children:Fe(qt)}):t.jsxs("div",{className:"text-center p-8",children:[t.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 relative transform transition-all duration-500 hover:scale-110 ${r?"bg-gradient-to-br from-slate-600 via-slate-700 to-slate-800 border border-slate-500/50":"bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300 border border-gray-400/50"}`,style:{boxShadow:r?`
                      0 8px 16px rgba(0, 0, 0, 0.4),
                      0 4px 8px rgba(0, 0, 0, 0.3),
                      inset 0 2px 4px rgba(255, 255, 255, 0.1),
                      inset 0 -3px 6px rgba(0, 0, 0, 0.3)
                    `:`
                      0 8px 16px rgba(0, 0, 0, 0.15),
                      0 4px 8px rgba(0, 0, 0, 0.1),
                      inset 0 2px 4px rgba(255, 255, 255, 0.8),
                      inset 0 -3px 6px rgba(0, 0, 0, 0.1)
                    `,transform:"perspective(1000px) rotateX(10deg)"},children:d==="mentorship"?t.jsx(Qr,{className:`w-12 h-12 transform transition-all duration-300 ${r?"text-slate-300":"text-gray-700"}`,style:{filter:r?"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))":"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))",transform:"translateZ(8px)"}}):d==="networking"?t.jsx(Jt,{className:`w-12 h-12 transform transition-all duration-300 ${r?"text-slate-300":"text-gray-700"}`,style:{filter:r?"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))":"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))",transform:"translateZ(8px)"}}):t.jsx(zr,{className:`w-12 h-12 transform transition-all duration-300 ${r?"text-slate-300":"text-gray-700"}`,style:{filter:r?"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))":"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))",transform:"translateZ(8px)"}})}),t.jsxs("h3",{className:`text-xl font-semibold mb-2 ${r?"text-slate-300":"text-gray-800"}`,children:["No more ",d," cards"]}),t.jsx("p",{className:`${r?"text-slate-400":"text-gray-600"}`,children:"Check back later for new opportunities!"})]})]})]}),O&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-white via-emerald-50/30 to-teal-50/40 rounded-3xl p-6 max-w-sm w-full mx-4 shadow-2xl border border-emerald-200/30 backdrop-blur-sm animate-in zoom-in-95 duration-300 slide-in-from-bottom-8",children:[t.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-xl"}),t.jsx("div",{className:"absolute -bottom-2 -left-2 w-12 h-12 bg-gradient-to-br from-teal-400/20 to-emerald-400/20 rounded-full blur-lg"}),t.jsxs("div",{className:"relative text-center",children:[t.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[t.jsx(Jt,{className:"w-7 h-7 text-white drop-shadow-sm"}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur opacity-30 -z-10"})]}),t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 via-emerald-700 to-teal-700 bg-clip-text text-transparent mb-2 leading-tight",children:"Create Your Networking Profile"}),t.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-6 max-w-xs mx-auto font-medium",children:"To connect with professionals, you need to set up your networking profile first."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>{X(!1),n("/profile?openNetworking=true")},className:"group relative py-3.5 px-6 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-2xl font-semibold shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/40 hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),t.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Create Profile"]})]}),t.jsx("button",{onClick:()=>X(!1),className:"py-2.5 px-6 text-slate-500 hover:text-slate-700 font-medium transition-colors duration-200 hover:bg-slate-100/50 rounded-xl",children:"Cancel"})]})]})]})}),ae&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-white via-purple-50/30 to-indigo-50/40 rounded-3xl p-6 max-w-sm w-full mx-4 shadow-2xl border border-purple-200/30 backdrop-blur-sm animate-in zoom-in-95 duration-300 slide-in-from-bottom-8",children:[t.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-gradient-to-br from-purple-400/20 to-indigo-400/20 rounded-full blur-xl"}),t.jsx("div",{className:"absolute -bottom-2 -left-2 w-12 h-12 bg-gradient-to-br from-indigo-400/20 to-purple-400/20 rounded-full blur-lg"}),t.jsxs("div",{className:"relative text-center",children:[t.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-purple-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[t.jsx(Qr,{className:"w-7 h-7 text-white drop-shadow-sm"}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-400 to-indigo-400 rounded-2xl blur opacity-30 -z-10"})]}),t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 via-purple-700 to-indigo-700 bg-clip-text text-transparent mb-2 leading-tight",children:"Create Your Mentorship Profile"}),t.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-6 max-w-xs mx-auto font-medium",children:"You cannot connect without having a Mentorship profile. Click here to build your card."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>{$(!1),n("/profile?openMentorship=true")},className:"group relative py-3.5 px-6 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-2xl font-semibold shadow-lg shadow-purple-500/30 hover:shadow-purple-500/40 hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),t.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[t.jsx(Qr,{className:"w-4 h-4"}),"Create Profile"]})]}),t.jsx("button",{onClick:()=>$(!1),className:"py-2.5 px-6 text-slate-500 hover:text-slate-700 font-medium transition-colors duration-200 hover:bg-slate-100/50 rounded-xl",children:"Cancel"})]})]})]})}),re&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-white via-blue-50/30 to-cyan-50/40 rounded-3xl p-6 max-w-sm w-full mx-4 shadow-2xl border border-blue-200/30 backdrop-blur-sm animate-in zoom-in-95 duration-300 slide-in-from-bottom-8",children:[t.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-gradient-to-br from-blue-400/20 to-cyan-400/20 rounded-full blur-xl"}),t.jsx("div",{className:"absolute -bottom-2 -left-2 w-12 h-12 bg-gradient-to-br from-cyan-400/20 to-blue-400/20 rounded-full blur-lg"}),t.jsxs("div",{className:"relative text-center",children:[t.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-cyan-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[t.jsx(zr,{className:"w-7 h-7 text-white drop-shadow-sm"}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-2xl blur opacity-30 -z-10"})]}),t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 via-blue-700 to-cyan-700 bg-clip-text text-transparent mb-2 leading-tight",children:"Create Your Job Profile"}),t.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-6 max-w-xs mx-auto font-medium",children:"To apply for jobs or post opportunities, you need to set up your job profile first."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>{le(!1),n("/profile?openJob=true")},className:"group relative py-3.5 px-6 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-2xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-cyan-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),t.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[t.jsx(zr,{className:"w-4 h-4"}),"Create Profile"]})]}),t.jsx("button",{onClick:()=>le(!1),className:"py-2.5 px-6 text-slate-500 hover:text-slate-700 font-medium transition-colors duration-200 hover:bg-slate-100/50 rounded-xl",children:"Cancel"})]})]})]})}),Ue&&t.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-white via-emerald-50/30 to-teal-50/40 rounded-3xl p-6 max-w-sm w-full mx-4 shadow-2xl border border-emerald-200/30 backdrop-blur-sm animate-in zoom-in-95 duration-300 slide-in-from-bottom-8",children:[t.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-xl"}),t.jsx("div",{className:"absolute -bottom-2 -left-2 w-12 h-12 bg-gradient-to-br from-teal-400/20 to-emerald-400/20 rounded-full blur-lg"}),t.jsxs("div",{className:"relative text-center",children:[t.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 via-emerald-600 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-emerald-500/30 transform rotate-3 hover:rotate-0 transition-transform duration-300",children:[t.jsx(Jt,{className:"w-7 h-7 text-white drop-shadow-sm"}),t.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur opacity-30 -z-10"})]}),t.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-slate-800 via-emerald-700 to-teal-700 bg-clip-text text-transparent mb-2 leading-tight",children:"Create Your Networking Profile"}),t.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-6 max-w-xs mx-auto font-medium",children:"To access compatibility analysis and connect with professionals, you need to set up your networking profile first."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("button",{onClick:()=>{De(!1),n("/profile?openNetworking=true")},className:"group relative py-3.5 px-6 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-2xl font-semibold shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/40 hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-500 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),t.jsxs("span",{className:"relative flex items-center justify-center gap-2",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Create Profile"]})]}),t.jsx("button",{onClick:()=>De(!1),className:"py-2.5 px-6 text-slate-500 hover:text-slate-700 font-medium transition-colors duration-200 hover:bg-slate-100/50 rounded-xl",children:"Cancel"})]})]})]})}),t.jsx(Af,{open:Z,onOpenChange:Se,onPremiumActivated:()=>{i.invalidateQueries({queryKey:["/api/premium/status"]})}}),t.jsx(Ns,{})]})}function O4(){const{user:e}=Sr(),{darkMode:r}=Za(),{toast:n}=Wr(),{translate:a}=tn(),s=Ma(),{networkingCount:i,mentorshipCount:o,jobsCount:l}=b_(),[,c]=lr(),[d,m]=u.useState("jobs"),[h,p]=u.useState(null),[f,x]=u.useState([]),[g,v]=u.useState([]),[y,b]=u.useState(null),[w,S]=u.useState(new Set),[N,P]=u.useState(!1),[C,I]=u.useState(null),[T,_]=u.useState(void 0),[k,A]=u.useState("networking"),[F,V]=u.useState(null),[J,M]=u.useState(!1),[R,B]=u.useState(!1),[O,X]=u.useState(void 0),ae=(H,ge)=>{if(console.log("[CONNECTIONS-PAGE] Card clicked, checking premium access for user:",e==null?void 0:e.premiumAccess),!(e!=null&&e.premiumAccess)){console.log("[CONNECTIONS-PAGE] Non-premium user clicked blurred card, showing upgrade dialog"),B(!0);return}console.log("[CONNECTIONS-PAGE] Premium user clicked card, opening expandable modal"),$(H,ge)},$=async(H,ge)=>{var ke;try{console.log("Opening expandable swipe card for:",H.targetUser.fullName);let z="",ie={};if(ge==="jobs"){z=H.targetUser.profession||"Professional";try{const $e=H.userId;console.log(`[JOBS-PROFILE] FIXED: Fetching APPLICANT's job profile for user ${$e} (was incorrectly using targetUserId ${H.targetUserId})`);const Le=await fetch(`/api/suite/job-profile/${$e}`,{credentials:"include"});if(Le.ok){const Oe=await Le.json();console.log("[JOBS-PROFILE] Successfully fetched job profile:",Oe),console.log("[JOBS-PROFILE] Raw job profile fields:",Object.keys(Oe)),console.log("[JOBS-PROFILE] Job title:",Oe.jobTitle),console.log("[JOBS-PROFILE] Description:",Oe.description),console.log("[JOBS-PROFILE] Who should apply:",Oe.whoShouldApply),console.log("[JOBS-PROFILE] Apply URL:",Oe.applyUrl),console.log("[JOBS-PROFILE] Contact email:",Oe.contactEmail),console.log("[JOBS-PROFILE] Visibility preferences:",Oe.visibilityPreferences),ie={...Oe,mentorshipPrimaryPhotoUrl:H.mentorshipPrimaryPhotoUrl,networkingPrimaryPhotoUrl:H.networkingPrimaryPhotoUrl,fieldVisibility:H.fieldVisibility}}else console.log(`[JOBS-PROFILE] Job profile not found for applicant user ${$e}, using empty profile`),ie={}}catch($e){console.error(`[JOBS-PROFILE] Error fetching job profile for applicant user ${applicantUserId}:`,$e),ie={}}}else z=H.targetUser.profession||((ke=H.targetProfile)==null?void 0:ke.currentRole)||"Professional",ie={...H.targetProfile,mentorshipPrimaryPhotoUrl:H.mentorshipPrimaryPhotoUrl,networkingPrimaryPhotoUrl:H.networkingPrimaryPhotoUrl,fieldVisibility:H.fieldVisibility};const ye={id:ge==="jobs"?H.userId:H.targetUserId,fullName:H.targetUser.fullName,photoUrl:H.targetUser.photoUrl,profession:z,location:H.targetUser.location,bio:"",interests:"[]",countryOfOrigin:"",relationshipStatus:"",username:"",email:"",phoneNumber:"",gender:"",ethnicity:null,secondaryTribe:null,religion:"",dateOfBirth:null,showProfilePhoto:!0,isVerified:H.targetUser.isVerified||!1,createdAt:new Date};I(ye),_(H.targetProfileId),A(ge),V({...ie,connectionId:H.id}),M(!0),X(H.userId),P(!0)}catch(z){console.error("Error opening expandable card:",z),n({title:"Error",description:"Failed to open card details",variant:"destructive"})}};u.useEffect(()=>{if(e!=null&&e.id)try{const H=localStorage.getItem(`suite_connections_last_tab_${e.id}`);H&&["jobs","mentorship","networking"].includes(H)&&m(H)}catch(H){console.warn("Failed to load tab preference:",H)}},[e==null?void 0:e.id]),u.useEffect(()=>{if(e!=null&&e.id)try{localStorage.setItem(`suite_connections_last_tab_${e.id}`,d)}catch(H){console.warn("Failed to save tab preference:",H)}},[d,e==null?void 0:e.id]),u.useEffect(()=>{const H=ge=>{const ke=ge,{connectionId:z,isMatch:ie}=ke.detail;console.log(`[CONNECTIONS-PAGE] Removing connection card ${z}, isMatch: ${ie}`),S(pe=>new Set([...pe,z]))};return window.addEventListener("connectionCardRemoval",H),()=>{window.removeEventListener("connectionCardRemoval",H)}},[]),u.useEffect(()=>{if(!e)return;const H=ie=>{const pe=ie.detail;console.log("[CONNECTIONS-PAGE] Received networking notification via global handler:",pe);const ye={id:pe.connection.id,userId:pe.fromUserId,targetProfileId:pe.targetProfileId,targetUserId:e.id,action:pe.connection.action,matched:pe.isMatch,createdAt:pe.timestamp,targetProfile:{id:pe.targetProfileId,professionalTagline:"New Professional Connection",currentRole:"Professional"},targetUser:{id:pe.fromUserId,fullName:pe.fromUserInfo.fullName,photoUrl:void 0}};x($e=>[ye,...$e]),y&&b($e=>({...$e,networking:{...$e.networking,pending:$e.networking.pending+1,total:$e.networking.total+1}})),s.refetchQueries({queryKey:["/api/suite/connections/networking"],type:"active"}),s.refetchQueries({queryKey:["/api/suite/connections/counts"],type:"active"}),s.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),pe.isMatch?n({title:"Professional Match!",description:"You've made a new professional connection!"}):n({title:"New Professional Like",description:"Someone liked your networking profile!"}),console.log("[CONNECTIONS-PAGE] INSTANT UI UPDATE + Forced data refresh triggered")};document.addEventListener("networkingNotification",H),console.log("[CONNECTIONS-PAGE] Global networking notification listener attached");const ge=ie=>{var $e,Le;const pe=ie.detail;console.log("[CONNECTIONS-PAGE] Received mentorship notification via global handler:",pe);const ye={id:pe.connection.id,userId:pe.fromUserId,targetProfileId:pe.targetProfileId,targetUserId:(e==null?void 0:e.id)||0,action:pe.connection.action,matched:pe.isMatch,createdAt:pe.timestamp,targetProfile:{id:pe.targetProfileId,role:"Mentor/Mentee",field:"Professional Development"},targetUser:{id:pe.fromUserId,fullName:(($e=pe.fromUserInfo)==null?void 0:$e.fullName)||"New Connection",photoUrl:(Le=pe.fromUserInfo)==null?void 0:Le.photoUrl}};v(Oe=>[ye,...Oe]),y&&b(Oe=>({...Oe,mentorship:{...Oe.mentorship,pending:Oe.mentorship.pending+1,total:Oe.mentorship.total+1}})),s.refetchQueries({queryKey:["/api/suite/connections/mentorship"],type:"active"}),s.refetchQueries({queryKey:["/api/suite/connections/counts"],type:"active"}),s.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),pe.isMatch?n({title:"Mentorship Match!",description:"You've made a new mentorship connection!"}):n({title:"New Mentorship Request",description:"Someone is interested in mentorship with you!"}),console.log("[CONNECTIONS-PAGE] INSTANT MENTORSHIP UI UPDATE + Forced data refresh triggered")};document.addEventListener("mentorshipNotification",ge),console.log("[CONNECTIONS-PAGE] Global mentorship notification listener attached");const ke=setInterval(()=>{document.visibilityState==="visible"&&d==="networking"&&(s.refetchQueries({queryKey:["/api/suite/connections/networking"],type:"active"}),console.log("[CONNECTIONS-PAGE] Refresh cycle - checking for new connections"))},3e4),z=setInterval(()=>{window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN?console.log("[CONNECTIONS-PAGE] WebSocket ACTIVE - Ready for instant notifications"):console.log("[CONNECTIONS-PAGE] WebSocket INACTIVE - Notifications may be delayed")},6e4);return console.log("[CONNECTIONS-PAGE] Aggressive notification system initialized"),()=>{clearInterval(ke),clearInterval(z),document.removeEventListener("networkingNotification",H),document.removeEventListener("mentorshipNotification",ge),console.log("[CONNECTIONS-PAGE] Aggressive notification system cleaned up")}},[e,s,n,d]);const{data:re}=dt({queryKey:["/api/suite/connections/counts"],enabled:!!e,staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:3e4,refetchIntervalInBackground:!1}),{data:le=[],isLoading:ce}=dt({queryKey:["/api/suite/connections/networking"],enabled:!!e&&d==="networking",staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:d==="networking"?3e4:!1,refetchIntervalInBackground:!1}),{data:ue=[],isLoading:ee}=dt({queryKey:["/api/suite/connections/mentorship"],enabled:!!e&&d==="mentorship",staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:d==="mentorship"?3e4:!1,refetchIntervalInBackground:!1}),Z=[...f,...le.filter(H=>!f.some(ge=>ge.id===H.id)&&!w.has(H.id))].filter(H=>!w.has(H.id));u.useEffect(()=>{re&&!y&&b(re),le.length===0&&f.length>0&&(console.log("[CONNECTIONS-PAGE] Clearing stale networking real-time connections"),x([])),ue.length===0&&g.length>0&&(console.log("[CONNECTIONS-PAGE] Clearing stale mentorship real-time connections"),v([]))},[re,le,ue,f.length,g.length]);const Se=[...g,...ue.filter(H=>!g.some(ge=>ge.id===H.id)&&!w.has(H.id))].filter(H=>!w.has(H.id)),{data:Ue=[],isLoading:De}=dt({queryKey:["/api/suite/connections/jobs"],enabled:!!e&&d==="jobs",staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchInterval:d==="jobs"?3e4:!1,refetchIntervalInBackground:!1}),se=wt({mutationFn:async({connectionId:H,action:ge,type:ke})=>{const z=ke==="networking"?`/api/suite/connections/networking/${H}/respond`:`/api/suite/connections/mentorship/${H}/respond`,ie=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:ge})});if(!ie.ok)throw new Error("Failed to respond to connection");return ie.json()},onSuccess:(H,ge)=>{const{type:ke,action:z}=ge;s.invalidateQueries({queryKey:[`/api/suite/connections/${ke}`]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),n({title:z==="accept"?"Connection Accepted!":"Connection Declined",description:z==="accept"?"You can now message this professional contact.":"Connection request has been declined."}),H.isMatch&&z==="accept"&&n({title:"It's a Professional Match!",description:"Both of you have connected. Start networking!"})},onError:H=>{n({title:"Error",description:"Failed to respond to connection request.",variant:"destructive"})}});u.useEffect(()=>{const H=z=>{var ie,pe;if(z instanceof CustomEvent){const ye=z.detail;console.log(" Received networking connection event:",ye),s.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),ye.isMatch?n({title:" Professional Match!",description:`You matched with ${((ie=ye.fromUserInfo)==null?void 0:ie.fullName)||"someone"}! Start networking now.`}):n({title:" New Professional Like!",description:`${((pe=ye.fromUserInfo)==null?void 0:pe.fullName)||"Someone"} has liked your networking profile!`})}},ge=z=>{var ie,pe;if(z instanceof CustomEvent){const ye=z.detail;console.log(" Received mentorship connection event:",ye),s.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),ye.isMatch?n({title:" Mentorship Match!",description:`You matched with ${((ie=ye.fromUserInfo)==null?void 0:ie.fullName)||"someone"}! Start your mentorship journey now.`}):n({title:" New Mentorship Interest!",description:`${((pe=ye.fromUserInfo)==null?void 0:pe.fullName)||"Someone"} is interested in mentorship with you!`})}},ke=z=>{z instanceof CustomEvent&&(s.invalidateQueries({queryKey:["/api/suite/connections/jobs"]}),s.invalidateQueries({queryKey:["/api/suite/connections/counts"]}),n({title:"New Job Application!",description:"Someone has applied to your job posting."}))};return document.addEventListener("networkingNotification",H),document.addEventListener("mentorshipNotification",ge),window.addEventListener("job_application_received",ke),window.addEventListener("networking:connection",H),window.addEventListener("networking_connection_request",H),window.addEventListener("networking_match",H),window.addEventListener("mentorship_connection_request",ge),window.addEventListener("mentorship_match",ge),()=>{document.removeEventListener("networkingNotification",H),document.removeEventListener("mentorshipNotification",ge),window.removeEventListener("job_application_received",ke),window.removeEventListener("networking:connection",H),window.removeEventListener("networking_connection_request",H),window.removeEventListener("networking_match",H),window.removeEventListener("mentorship_connection_request",ge),window.removeEventListener("mentorship_match",ge)}},[s,n]);const L=(H,ge)=>{const ke=H.matched,z=!ke&&H.action==="like",pe=(ye=>{switch(ye){case"networking":return{gradient:"from-blue-500/10 to-cyan-500/10",border:"border-blue-500/20",accent:"text-blue-400",bg:"bg-blue-500/20"};case"mentorship":return{gradient:"from-emerald-500/10 to-teal-500/10",border:"border-emerald-500/20",accent:"text-emerald-400",bg:"bg-emerald-500/20"};case"jobs":return{gradient:"from-purple-500/10 to-pink-500/10",border:"border-purple-500/20",accent:"text-purple-400",bg:"bg-purple-500/20"};default:return{gradient:"from-slate-500/10 to-gray-500/10",border:"border-slate-500/20",accent:"text-slate-400",bg:"bg-slate-500/20"}}})(ge);return t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{type:"tween",duration:.2,ease:"easeOut"},className:"w-full group cursor-pointer transform-gpu will-change-transform",onClick:()=>{ae(H,ge)},"data-connection-id":H.id,style:{contain:"layout style paint",transform:"translateZ(0)"},children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl transform-gpu will-change-transform shadow-lg",style:{transition:"none",contain:"layout style paint"},children:[t.jsxs("div",{className:"absolute inset-0",children:[(()=>{let ye=H.targetUser.photoUrl;return ge==="networking"&&H.networkingPrimaryPhotoUrl?ye=H.networkingPrimaryPhotoUrl:ge==="mentorship"&&H.mentorshipPrimaryPhotoUrl&&(ye=H.mentorshipPrimaryPhotoUrl),ye?t.jsx("img",{src:ye,alt:H.targetUser.fullName,className:"w-full h-full object-cover"}):t.jsx("div",{className:`w-full h-full bg-gradient-to-br ${pe.gradient}`})})(),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${pe.gradient} opacity-60`}),!(e!=null&&e.premiumAccess)&&t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md z-20 flex items-center justify-center",children:t.jsxs("div",{className:"text-center p-4",children:[t.jsx("div",{className:"mx-auto mb-3 flex items-center justify-center",children:t.jsx("span",{className:"text-4xl",children:""})}),t.jsx("p",{className:"text-white text-sm font-semibold",children:"Premium Required"}),t.jsx("p",{className:"text-white/80 text-xs mt-1",children:"Upgrade to view connections"})]})})]}),t.jsx("div",{className:"absolute top-3 right-3 w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 border-2 border-white flex items-center justify-center z-10",children:ke?t.jsx(ds,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white"}):z?t.jsx(Ja,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white"}):t.jsx(xn,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white"})}),ge==="mentorship"&&t.jsx("div",{className:"absolute top-3 left-3 z-10",children:t.jsx(E.div,{className:"inline-flex items-center px-2 py-1 rounded-lg bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 border border-yellow-300 text-black backdrop-blur-sm shadow-lg",style:{boxShadow:"0 4px 8px rgba(251, 191, 36, 0.4), 0 0 16px rgba(251, 191, 36, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},whileHover:{scale:1.05},children:t.jsx("span",{className:"text-xs font-bold",children:H.targetProfile.role==="mentor"?"Mentor":"Mentee"})})}),ke&&ge!=="mentorship"&&t.jsx("div",{className:"absolute top-3 left-3 z-10",children:t.jsxs(E.div,{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-green-500/90 border border-green-400 text-white backdrop-blur-sm",whileHover:{scale:1.05},children:[t.jsx(ds,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs font-semibold",children:"Connected"})]})}),ke&&ge==="mentorship"&&t.jsx("div",{className:"absolute top-3 right-12 z-10",children:t.jsxs(E.div,{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-green-500/90 border border-green-400 text-white backdrop-blur-sm",whileHover:{scale:1.05},children:[t.jsx(ds,{className:"w-3 h-3"}),t.jsx("span",{className:"text-xs font-semibold",children:"Connected"})]})}),t.jsx("div",{className:"relative p-3 sm:p-4 h-48 flex flex-col",children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"pb-1",children:[t.jsx("h3",{className:"text-white text-3xl sm:text-4xl font-black truncate mb-1",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8)",contain:"layout style paint"},children:H.targetUser.fullName.split(" ")[0]}),H.targetUser.location&&t.jsxs("div",{className:"flex items-center gap-1",style:{contain:"layout style paint"},children:[t.jsx(ta,{className:"w-3 h-3 text-yellow-400 drop-shadow-sm"}),t.jsx("span",{className:"text-xs font-medium text-white",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.8)"},children:H.targetUser.location})]})]}),ke&&t.jsx("div",{className:"pb-3",children:t.jsxs(E.button,{className:"w-full px-4 py-3 rounded-2xl bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 text-white font-black flex items-center justify-center gap-2 shadow-2xl border-2 border-white/40 backdrop-blur-md",whileHover:{scale:1.1,y:-3,background:"linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},whileTap:{scale:.95},initial:{opacity:0,y:15,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.3,type:"spring",stiffness:300},style:{textShadow:"2px 2px 4px rgba(0,0,0,0.9)"},children:[t.jsx(hn,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-black",children:"Message"})]})})]})})]})},H.id)},q=H=>{const ke=(z=>{switch(z){case"networking":return{title:a("suiteConnections.noNetworkingConnectionsYet"),subtitle:a("suiteConnections.noNetworkingConnectionsSubtitle"),buttonText:a("suiteConnections.startNetworking"),route:"/suite/network"};case"mentorship":return{title:a("suiteConnections.noMentorshipConnectionsYet"),subtitle:a("suiteConnections.noMentorshipConnectionsSubtitle"),buttonText:a("suiteConnections.findMentors"),route:"/suite/network"};case"jobs":return{title:a("suiteConnections.noJobApplicationsYet"),subtitle:a("suiteConnections.noJobApplicationsSubtitle"),buttonText:a("suiteConnections.browseJobs"),route:"/suite/jobs"};default:return{title:"Ready to connect?",subtitle:"Start building your professional network today",buttonText:"Get Started",route:"/suite/network"}}})(H);return t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-center py-16 px-6",children:t.jsxs("div",{className:"max-w-sm mx-auto space-y-4",children:[t.jsx("h3",{className:`text-xl font-semibold leading-tight ${r?"text-slate-200":"text-gray-800"}`,children:ke.title}),t.jsx("p",{className:`text-sm leading-relaxed font-light ${r?"text-slate-400":"text-gray-600"}`,children:ke.subtitle}),t.jsx(E.button,{onClick:()=>{c(H==="mentorship"?"/suite/network?tab=mentorship":H==="jobs"?"/suite/network?tab=job":"/suite/network?tab=networking")},className:"mt-6 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium text-sm rounded-xl hover:shadow-lg transition-all duration-300",whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},children:ke.buttonText})]})})};return t.jsxs("div",{className:`min-h-screen relative overflow-hidden ${r?"bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-900":"bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50"}`,children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:`absolute inset-0 pointer-events-none ${r?"bg-gradient-to-t from-indigo-900/20 via-transparent to-blue-900/10":"bg-gradient-to-t from-blue-100/40 via-transparent to-purple-100/20"}`}),t.jsx("div",{className:`absolute top-0 left-1/4 w-96 h-96 rounded-full blur-3xl pointer-events-none ${r?"bg-blue-500/5":"bg-blue-400/20"}`}),t.jsx("div",{className:`absolute bottom-0 right-1/4 w-80 h-80 rounded-full blur-3xl pointer-events-none ${r?"bg-indigo-500/5":"bg-purple-400/20"}`}),t.jsx("div",{className:"absolute top-1/4 -left-20 w-80 h-80 bg-blue-500/5 rounded-full blur-2xl transform-gpu",style:{transform:"translate3d(0, 0, 0)",animation:"float1 20s ease-in-out infinite",contain:"layout style paint"}}),t.jsx("div",{className:"absolute bottom-1/4 -right-20 w-80 h-80 bg-indigo-500/5 rounded-full blur-2xl transform-gpu",style:{transform:"translate3d(0, 0, 0)",animation:"float2 25s ease-in-out infinite",contain:"layout style paint"}})]}),t.jsx(ks,{}),t.jsx("div",{className:"relative z-10 flex-1 container mx-auto px-4 py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:t.jsx("div",{className:`relative backdrop-blur-xl rounded-2xl p-1.5 shadow-2xl ${r?"bg-gradient-to-r from-slate-800/80 via-blue-900/30 to-slate-800/80 border border-slate-600/40":"bg-gradient-to-r from-white/95 via-blue-50/80 to-white/95 border border-gray-200/60"}`,children:t.jsx("div",{className:"grid grid-cols-3 gap-1",children:[{id:"jobs",icon:zr,label:a("suiteConnections.jobsTab"),gradient:"from-blue-500 to-cyan-500"},{id:"mentorship",icon:Qr,label:a("suiteConnections.mentorshipTab"),gradient:"from-purple-500 to-pink-500"},{id:"networking",icon:Jt,label:a("suiteConnections.networkTab"),gradient:"from-emerald-500 to-teal-500"}].map((H,ge)=>t.jsxs("button",{onClick:()=>m(H.id),className:`relative p-2.5 rounded-xl font-semibold transform-gpu will-change-transform ${d===H.id?`bg-gradient-to-r ${H.gradient} text-white shadow-lg scale-105`:r?"text-slate-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,style:{transition:"background-color 0.2s ease, color 0.2s ease, transform 0.2s ease",contain:"layout style paint"},children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx(H.icon,{className:"w-4 h-4"}),t.jsx(Mh,{count:H.id==="jobs"?l:H.id==="mentorship"?o:H.id==="networking"?i:0,className:"top-[-6px] right-[-6px]"})]}),t.jsx("span",{className:"text-xs font-medium",children:H.label})]}),d===H.id&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-white/5 rounded-xl",style:{transition:"opacity 0.3s ease",contain:"layout style paint"}})]},H.id))})})}),t.jsxs(Wd,{value:d,onValueChange:m,className:"w-full",children:[t.jsx(Kn,{value:"jobs",className:"mt-6",children:t.jsx(Xt,{mode:"wait",children:De?t.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading applications..."}):Ue.length===0?q("jobs"):t.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ue.map(H=>L(H,"jobs"))})})}),t.jsx(Kn,{value:"mentorship",className:"mt-6",children:t.jsx(Xt,{mode:"wait",children:ee?t.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading connections..."}):Se.length===0?q("mentorship"):t.jsx("div",{className:"grid grid-cols-2 gap-3",children:Se.map(H=>L(H,"mentorship"))})})}),t.jsx(Kn,{value:"networking",className:"mt-6",children:t.jsx(Xt,{mode:"wait",children:ce?t.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading connections..."}):Z.length===0?q("networking"):t.jsx("div",{className:"grid grid-cols-2 gap-3",children:Z.map(H=>L(H,"networking"))})})})]})]})}),t.jsx(Ns,{}),h&&t.jsx(Or,{open:!!h,onOpenChange:()=>p(null),children:t.jsx(Dr,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto p-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-2 border-white/30 shadow-2xl rounded-2xl",children:t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-400/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),t.jsxs("div",{className:"relative p-6",children:[t.jsx("button",{onClick:()=>p(null),className:"absolute top-4 right-4 z-10 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors duration-200",children:t.jsx(mt,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex items-start space-x-6 mb-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-gradient-to-br from-white/20 to-white/5 border border-white/20 flex items-center justify-center",children:h.targetUser.photoUrl?t.jsx("img",{src:h.targetUser.photoUrl,alt:h.targetUser.fullName,className:"w-full h-full object-cover"}):t.jsx(Jt,{className:"w-12 h-12 text-blue-400"})}),t.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full bg-pink-500 border-2 border-white flex items-center justify-center",children:t.jsx(Yt,{className:"w-3 h-3 text-white",fill:"white"})})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:h.targetUser.fullName}),t.jsx("p",{className:"text-blue-300 text-lg mb-2",children:h.targetProfile.currentRole}),h.targetProfile.industry&&t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vp,{className:"w-4 h-4 text-slate-300"}),t.jsx("span",{className:"text-slate-300",children:h.targetProfile.industry})]}),h.targetUser.location&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ta,{className:"w-4 h-4 text-slate-300"}),t.jsx("span",{className:"text-slate-300",children:h.targetUser.location})]})]})]}),h.targetProfile.professionalTagline&&t.jsx("div",{className:"mb-6 p-4 rounded-xl bg-white/10 border border-white/20",children:t.jsxs("p",{className:"text-white italic text-center",children:['"',h.targetProfile.professionalTagline,'"']})}),h.targetProfile.lookingFor&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[t.jsx(ni,{className:"w-5 h-5 text-blue-400"}),"Looking For"]}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:h.targetProfile.lookingFor})]}),h.targetProfile.canOffer&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[t.jsx(xn,{className:"w-5 h-5 text-emerald-400"}),"Can Offer"]}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:h.targetProfile.canOffer})]}),t.jsx("div",{className:"flex gap-3",children:h.matched?t.jsxs(E.button,{className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-medium flex items-center justify-center gap-2 hover:shadow-2xl transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(hn,{className:"w-5 h-5"}),t.jsx("span",{children:"Start Conversation"})]}):h.action==="like"&&h.userId!==(e==null?void 0:e.id)?t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsxs(E.button,{onClick:()=>{se.mutate({connectionId:h.id,action:"accept",type:"networking"}),p(null)},disabled:se.isPending,className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-medium flex items-center justify-center gap-2 hover:shadow-2xl transition-all duration-300 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(Yt,{className:"w-5 h-5"}),t.jsx("span",{children:"Accept"})]}),t.jsxs(E.button,{onClick:()=>{se.mutate({connectionId:h.id,action:"decline",type:"networking"}),p(null)},disabled:se.isPending,className:"px-6 py-3 rounded-xl bg-white/10 border border-white/20 text-slate-300 font-medium flex items-center justify-center gap-2 hover:bg-white/20 transition-all duration-300 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[t.jsx(mt,{className:"w-5 h-5"}),t.jsx("span",{children:"Decline"})]})]}):null})]})]})})}),t.jsx(hF,{user:C,isOpen:N,onClose:()=>P(!1),mode:"SUITE",profileId:T,profileType:k,additionalData:F,isConnectionResponse:J,requesterUserId:O,isPremium:(e==null?void 0:e.premiumAccess)||!1,onPremiumUpgradeClick:()=>B(!0)}),t.jsx(Af,{open:R,onOpenChange:B})]})}function Mge(){var v,y,b,w,S;const{targetProfileId:e}=Rm(),[r,n]=lr(),[a,s]=u.useState("overview"),[i,o]=u.useState(!1);tt.useEffect(()=>{const N=()=>{const I=document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches;o(I)};N();const P=new MutationObserver(N);P.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const C=window.matchMedia("(prefers-color-scheme: dark)");return C.addEventListener("change",N),()=>{P.disconnect(),C.removeEventListener("change",N)}},[]);const[l,c]=u.useState({"professional-overview":!1,"compatibility-insights":!1,"suggested-actions":!1,"detailed-breakdown":!1}),d=N=>{c(P=>{if(P[N])return{...P,[N]:!1};const I=Object.keys(P).find(_=>P[_]),T={[N]:!0};return I&&I!==N&&(T[I]=!1),{...P,...T}})},m=({id:N,title:P,icon:C,isExpanded:I,onToggle:T,children:_})=>t.jsxs(E.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl overflow-hidden shadow-lg transition-all duration-300 hover:bg-white/15",whileHover:{scale:1.02},transition:{duration:.2},children:[t.jsxs(E.button,{onClick:()=>T(N),className:"w-full p-4 flex items-center justify-between transition-colors duration-200 hover:bg-white/5",whileTap:{scale:.98},children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(E.div,{className:"p-2 rounded-xl bg-white/10 text-white",whileHover:{scale:1.1,backgroundColor:"rgba(255, 255, 255, 0.2)"},children:t.jsx(C,{className:"w-5 h-5"})}),t.jsx("span",{className:"font-semibold text-white",children:P})]}),t.jsx(E.div,{animate:{rotate:I?180:0},transition:{duration:.3,ease:"easeInOut"},children:t.jsx(ls,{className:"w-5 h-5 text-white/70"})})]}),t.jsx(Xt,{children:I&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:t.jsx("div",{className:"border-t border-white/10 p-4 space-y-4 bg-black/10",children:_})})})]}),{data:h,isLoading:p,error:f}=dt({queryKey:["suite-compatibility-dashboard",e],queryFn:async()=>{const N=await fetch(`/api/suite/compatibility/dashboard/${e}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!N.ok){const C=await N.text();throw console.error("Compatibility dashboard error:",N.status,C),new Error(`Failed to fetch compatibility data: ${N.status}`)}return await N.json()},enabled:!!e,staleTime:5*60*1e3}),x=()=>{n("/suite/network")},g=[{key:"synergyScore",label:"Synergy Index",icon:ni,description:"Professional goals and industry alignment",color:"emerald"},{key:"networkValueScore",label:"Network Value",icon:Jt,description:"Professional influence and reach potential",color:"blue"},{key:"collaborationScore",label:"Collaboration Potential",icon:hm,description:"Working style and project compatibility",color:"purple"},{key:"exchangeScore",label:"Mutual Exchange",icon:uG,description:"Knowledge and skill exchange potential",color:"indigo"},{key:"geographicFit",label:"Geographic Advantage",icon:$n,description:"Location and timezone compatibility",color:"orange"},{key:"culturalAlignment",label:"Cultural Synergy",icon:Yt,description:"Cross-cultural networking potential",color:"pink"}];return f?t.jsx("div",{className:We("min-h-screen p-4 transition-colors duration-500",i?"bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900":"bg-gradient-to-br from-purple-50 to-indigo-100"),children:t.jsx("div",{className:"max-w-md mx-auto mt-20",children:t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:t.jsxs(wr,{className:We("shadow-lg",i?"bg-gray-900/90 border-gray-700":"bg-white"),children:[t.jsx(On,{children:t.jsxs(ca,{className:We("flex items-center gap-2",i?"text-red-400":"text-red-600"),children:[t.jsx(Ea,{className:"w-5 h-5"}),"Error Loading Analysis"]})}),t.jsxs($r,{children:[t.jsx("p",{className:We("mb-4",i?"text-gray-300":"text-gray-600"),children:"Unable to load compatibility analysis. Please try again."}),t.jsxs(de,{onClick:x,className:"w-full",children:[t.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Back to Discover"]})]})]})})})}):p?t.jsx("div",{className:We("min-h-screen p-4 transition-colors duration-500",i?"bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900":"bg-gradient-to-br from-purple-50 to-indigo-100"),children:t.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-96",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-20 h-20 border-4 border-emerald-500/30 rounded-full animate-spin border-t-emerald-500"}),t.jsx("div",{className:"absolute inset-0 w-20 h-20 border-4 border-teal-500/30 rounded-full animate-spin border-t-teal-500",style:{animationDirection:"reverse",animationDelay:"0.2s"}})]}),t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-6 text-center",children:[t.jsx("h3",{className:We("text-xl font-semibold mb-2",i?"text-white":"text-gray-900"),children:"Analyzing Professional Compatibility"}),t.jsx("p",{className:We(i?"text-gray-400":"text-gray-600"),children:"AI is processing relationship dynamics..."})]})]})})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 via-teal-700 to-green-800 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[Array.from({length:60}).map((N,P)=>t.jsx(E.div,{className:`absolute rounded-full ${P%4===0?"w-2 h-2 bg-emerald-400/30":P%4===1?"w-1.5 h-1.5 bg-teal-300/40":P%4===2?"w-1 h-1 bg-emerald-200/50":"w-0.5 h-0.5 bg-white/60"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,filter:"blur(0.5px)"},animate:{y:[0,-120,0],x:[0,Math.sin(P)*30,0],opacity:[0,.8,0],scale:[0,1.2,0],rotate:[0,360,720]},transition:{duration:4+Math.random()*3,repeat:1/0,delay:Math.random()*3,ease:"easeInOut"}},P)),Array.from({length:15}).map((N,P)=>t.jsx(E.div,{className:"absolute w-8 h-8 bg-gradient-to-br from-emerald-400/10 via-teal-300/15 to-emerald-500/10 rounded-full backdrop-blur-sm",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-200,0],x:[0,Math.sin(P*2)*50,0],opacity:[0,.3,0],scale:[.5,1.5,.5]},transition:{duration:8+Math.random()*4,repeat:1/0,delay:Math.random()*5,ease:"easeInOut"}},`orb-${P}`))]}),t.jsxs("div",{className:"relative z-10 max-w-md mx-auto px-4 py-4 min-h-screen",children:[t.jsx(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"absolute top-1 left-1 z-50",children:t.jsx(de,{onClick:x,variant:"ghost",size:"sm",className:"w-10 h-10 rounded-full backdrop-blur-xl bg-white/10 hover:bg-white/20 border border-white/20 shadow-lg transition-all duration-300 hover:scale-105",children:t.jsx(Wn,{className:"w-4 h-4 text-white"})})}),h&&t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsx(Xt,{children:a==="overview"&&t.jsx(E.div,{className:"relative w-full -mt-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,scale:0,transition:{duration:.8,ease:"easeInOut"}},transition:{duration:.8,ease:"easeOut"},children:t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative flex items-start justify-center mb-4 min-h-[180px] pt-4 gap-8 px-2",children:[t.jsx("div",{className:"flex-shrink-0 relative",children:t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.2,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-500 to-emerald-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-300 to-teal-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(16, 185, 129, 0.3)","0 0 40px rgba(16, 185, 129, 0.5)","0 0 20px rgba(16, 185, 129, 0.3)"]},transition:{duration:3,repeat:1/0},children:[t.jsx("div",{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-emerald-400/30 backdrop-blur-sm rounded-full overflow-hidden",children:t.jsx("img",{src:((v=h.currentUser)==null?void 0:v.networkingPhotoUrl)||((y=h.currentUser)==null?void 0:y.photoUrl)||"/default-current-user.png",alt:"You",className:"w-full h-full object-cover"})}),[...Array(6)].map((N,P)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-emerald-300 rounded-full opacity-60",style:{top:`${20+P*10}%`,left:`${10+P*15}%`},animate:{y:[-5,-15,-5],opacity:[.3,.8,.3],scale:[.8,1.2,.8]},transition:{duration:2+P*.3,repeat:1/0,delay:P*.2}},`user-particle-${P}`))]})]})}),t.jsx("div",{className:"flex flex-col items-center justify-center z-20 relative",children:t.jsxs(E.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:.3,duration:1,type:"spring",stiffness:100},whileHover:{scale:1.1,rotate:5},className:"relative group",children:[[...Array(12)].map((N,P)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-gradient-to-r from-yellow-300 to-amber-400 rounded-full opacity-80",style:{top:`${15+Math.sin(P*Math.PI/6)*45}px`,left:`${15+Math.cos(P*Math.PI/6)*45}px`},animate:{scale:[0,1.5,0],opacity:[0,1,0],rotate:[0,360]},transition:{duration:2,repeat:1/0,delay:P*.15}},`sparkle-${P}`)),t.jsxs("div",{className:"relative w-24 h-24",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"networkingBackgroundGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.2)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0.05)"})]}),t.jsxs("linearGradient",{id:"networkingCentralGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#10B981"}),t.jsx("stop",{offset:"50%",stopColor:"#14B8A6"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),t.jsxs("filter",{id:"networkingGlow",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"scoreBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"scoreBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#networkingBackgroundGradient)",strokeWidth:"2"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#networkingCentralGradient)",strokeWidth:"6",strokeLinecap:"round",filter:"url(#networkingGlow)",strokeDasharray:"251.2",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*(h.score.overallStarRating*10)/100},transition:{delay:1.5,duration:2,ease:"easeOut"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:2,type:"spring"},className:"text-center bg-black/20 backdrop-blur-sm rounded-full w-14 h-14 flex flex-col items-center justify-center border border-white/20",children:[t.jsxs("div",{className:"text-sm font-bold text-emerald-200",children:[(h.score.overallStarRating*10).toFixed(0),"%"]}),t.jsx("div",{className:"text-xs text-white/60",children:"Match"})]})})]})]})}),t.jsx("div",{className:"flex-shrink-0 relative",children:t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.3,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:-5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-cyan-500 to-cyan-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-cyan-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(6, 182, 212, 0.3)","0 0 40px rgba(6, 182, 212, 0.5)","0 0 20px rgba(6, 182, 212, 0.3)"]},transition:{duration:3,repeat:1/0,delay:1.5},children:[t.jsx("div",{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-cyan-400/30 backdrop-blur-sm rounded-full overflow-hidden",children:t.jsx("img",{src:h.targetUser.profile.photoUrl||"/default-avatar.png",alt:"Target",className:"w-full h-full object-cover"})}),[...Array(6)].map((N,P)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-cyan-300 rounded-full opacity-60",style:{top:`${25+P*8}%`,right:`${15+P*12}%`},animate:{y:[-3,-12,-3],opacity:[.4,.9,.4],scale:[.9,1.3,.9]},transition:{duration:2.5+P*.2,repeat:1/0,delay:P*.3}},`target-particle-${P}`))]})]})})]})})}),t.jsx(Xt,{children:a==="overview"&&t.jsx(E.div,{className:"w-full max-w-full mx-auto px-1 sm:px-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0,transition:{duration:.8,ease:"easeInOut"}},transition:{delay:1,duration:.8,type:"spring",stiffness:100},children:t.jsxs(E.h1,{className:`relative font-black text-center mb-4 leading-none whitespace-nowrap ${(()=>{var C,I,T;const P=3+(((T=(I=(C=h.targetUser)==null?void 0:C.profile)==null?void 0:I.fullName)==null?void 0:T.split(" ")[0])||"Professional").length+3;return P>18?"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl":P>15?"text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl":P>12?"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl":P>8?"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl":"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl"})()}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.8,type:"spring",stiffness:100},style:{wordBreak:"keep-all",overflowWrap:"normal"},children:[t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-emerald-200 via-teal-300 to-emerald-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(16, 185, 129, 0.3)","0 0 40px rgba(16, 185, 129, 0.5)","0 0 20px rgba(16, 185, 129, 0.3)"]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:"You"})}),t.jsx(E.span,{className:"inline-block mx-2 sm:mx-3 md:mx-4",animate:{scale:[1,1.1,1],textShadow:["0 0 15px rgba(255, 255, 255, 0.5)","0 0 25px rgba(255, 255, 255, 0.7)","0 0 15px rgba(255, 255, 255, 0.5)"]},transition:{duration:4,repeat:1/0},whileHover:{scale:1.2},children:t.jsx("span",{className:"text-white font-bold",children:"&"})}),t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-cyan-200 via-blue-300 to-cyan-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(6, 182, 212, 0.3)","0 0 40px rgba(6, 182, 212, 0.5)","0 0 20px rgba(6, 182, 212, 0.3)"]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},children:((S=(w=(b=h.targetUser)==null?void 0:b.profile)==null?void 0:w.fullName)==null?void 0:S.split(" ")[0])||"Professional"})})]})})}),t.jsx(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0,paddingTop:a==="overview"?void 0:"2rem"},transition:{delay:a==="overview"?1.4:.3,duration:.6,paddingTop:{duration:1.8,ease:"easeInOut"}},className:a!=="overview"?"pt-8":"",children:t.jsxs(Wd,{value:a,onValueChange:s,className:"w-full",children:[t.jsx(E.div,{className:"relative z-20 mb-2",animate:{marginTop:a==="overview"?"0.5rem":"0.25rem"},transition:{duration:1.8,ease:"easeInOut"},children:t.jsxs(Hd,{className:`grid w-full grid-cols-3 backdrop-blur-xl p-0.5 sm:p-1 rounded-lg shadow-lg min-h-[32px] sm:min-h-[36px] gap-0.5 sm:gap-1 transition-all duration-700 ${i?"bg-gray-800/60 border border-emerald-600/30 shadow-emerald-900/40":"bg-white/80 border border-emerald-400/40 shadow-emerald-200/20"}`,children:[t.jsx(da,{value:"overview",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${i?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Overview"}),t.jsx(da,{value:"breakdown",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${i?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Analysis"}),t.jsx(da,{value:"insights",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${i?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Insights"})]})}),t.jsxs(Xt,{mode:"wait",children:[t.jsx(Kn,{value:"overview",className:"mt-6",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4",children:t.jsx(m,{id:"professional-overview",title:"Professional Compatibility Metrics",icon:hG,isExpanded:l["professional-overview"],onToggle:d,children:t.jsx("div",{className:"space-y-4",children:g.map((N,P)=>{const C=h.score[N.key],I=Math.round(C*10);return t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:P*.1},className:"bg-gradient-to-br from-white/10 via-emerald-500/5 to-white/5 backdrop-blur-xl border border-emerald-300/20 rounded-2xl p-5 shadow-lg shadow-emerald-900/20 hover:shadow-emerald-500/30 transition-all duration-500 hover:scale-[1.02]",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-emerald-400/20 to-teal-500/20 border border-emerald-300/30 shadow-lg",children:t.jsx(N.icon,{className:"w-5 h-5 text-emerald-100"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-sm text-white",children:N.label}),t.jsx("p",{className:"text-xs text-white/70",children:N.description})]})]}),t.jsxs("div",{className:"text-lg font-bold text-white",children:[I,"%"]})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"h-3 rounded-full overflow-hidden bg-white/20 shadow-inner",children:t.jsxs(E.div,{className:"h-full rounded-full bg-gradient-to-r from-emerald-400 via-teal-400 to-emerald-500 shadow-lg relative overflow-hidden",initial:{width:0},animate:{width:`${I}%`},transition:{duration:1.5,delay:P*.2,ease:"easeOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 animate-pulse"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-transparent"})]})})})]},N.key)})})})},"overview")}),t.jsx(Kn,{value:"insights",className:"mt-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4",children:[t.jsx(m,{id:"compatibility-insights",title:"Key Professional Insights",icon:bo,isExpanded:l["compatibility-insights"],onToggle:d,children:t.jsx("div",{className:"space-y-4",children:h.insights.map((N,P)=>t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.1},className:"flex items-start gap-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm border border-white/10",children:[t.jsx(xn,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-yellow-400"}),t.jsx("p",{className:"text-sm leading-relaxed text-white/90",children:N})]},P))})}),t.jsx(m,{id:"suggested-actions",title:"Recommended Actions",icon:Nn,isExpanded:l["suggested-actions"],onToggle:d,children:t.jsx("div",{className:"space-y-4",children:h.suggestedActions.map((N,P)=>t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.1},className:"flex items-start gap-3 p-4 rounded-xl bg-white/5 backdrop-blur-sm border border-white/10 cursor-pointer group hover:bg-white/10 transition-all duration-200",children:[t.jsx(Nn,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-blue-400"}),t.jsx("p",{className:"text-sm leading-relaxed text-white/90 flex-1",children:N}),t.jsx(ia,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity text-blue-400"})]},P))})})]},"insights")}),t.jsx(Kn,{value:"breakdown",className:"mt-6",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4",children:t.jsx(m,{id:"detailed-breakdown",title:"Detailed Score Breakdown",icon:yp,isExpanded:l["detailed-breakdown"],onToggle:d,children:t.jsx("div",{className:"space-y-4",children:Object.entries(h.breakdown||{}).map(([N,P],C)=>{const I={industryAlignment:"Industry Alignment",goalsSynergy:"Goals Synergy",skillComplementarity:"Skill Complementarity",locationAdvantage:"Location Advantage",experienceMatch:"Experience Match"};return t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"bg-gradient-to-br from-white/10 via-emerald-500/5 to-white/5 backdrop-blur-xl border border-emerald-300/20 rounded-2xl p-5 shadow-lg shadow-emerald-900/20 hover:shadow-emerald-500/30 transition-all duration-500 hover:scale-[1.02]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("span",{className:"font-medium text-white",children:I[N]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-lg font-bold text-white",children:[P,"/10"]}),t.jsx(ds,{className:"w-5 h-5 text-emerald-400"})]})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"h-3 rounded-full overflow-hidden bg-white/20 shadow-inner",children:t.jsxs(E.div,{className:"h-full bg-gradient-to-r from-emerald-400 via-teal-400 to-emerald-500 rounded-full shadow-lg relative overflow-hidden",initial:{width:0},animate:{width:`${P/10*100}%`},transition:{duration:1.5,delay:C*.2,ease:"easeOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20 animate-pulse"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-white/10 to-transparent"})]})})})]},N)})})})},"breakdown")})]})]})})]})]})]})}const Wb=()=>{const[e,r]=u.useState([]);return u.useEffect(()=>{(()=>{const a=Array.from({length:50},(s,i)=>({id:i,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+1,duration:Math.random()*20+10}));r(a)})()},[]),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:e.map(n=>t.jsx(E.div,{className:"absolute rounded-full bg-white/10",style:{width:n.size,height:n.size,left:`${n.x}%`,top:`${n.y}%`},animate:{y:[0,-100,0],opacity:[0,1,0]},transition:{duration:n.duration,repeat:1/0,ease:"easeInOut"}},n.id))})},Hb=()=>{const e=Array.from({length:8},(r,n)=>({id:n,size:Math.random()*200+100,x:Math.random()*100,y:Math.random()*100,duration:Math.random()*20+15}));return t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:e.map(r=>t.jsx(E.div,{className:"absolute rounded-full blur-xl",style:{width:r.size,height:r.size,left:`${r.x}%`,top:`${r.y}%`,background:`radial-gradient(circle, ${["rgba(147, 51, 234, 0.15)","rgba(168, 85, 247, 0.15)","rgba(139, 69, 244, 0.15)","rgba(124, 58, 237, 0.15)","rgba(109, 40, 217, 0.15)","rgba(99, 102, 241, 0.15)","rgba(79, 70, 229, 0.15)","rgba(67, 56, 202, 0.15)"][r.id%8]} 0%, transparent 70%)`},animate:{x:[0,50,-30,20,0],y:[0,-30,50,-20,0],scale:[1,1.2,.8,1.1,1]},transition:{duration:r.duration,repeat:1/0,ease:"easeInOut"}},r.id))})};function Tge(){var I,T,_,k,A,F,V,J;const{targetProfileId:e}=Rm(),[,r]=lr(),[n,a]=u.useState("overview"),[s,i]=u.useState(!1);tt.useEffect(()=>{const M=()=>{const O=document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches;i(O)};M();const R=new MutationObserver(M);R.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const B=window.matchMedia("(prefers-color-scheme: dark)");return B.addEventListener("change",M),()=>{R.disconnect(),B.removeEventListener("change",M)}},[]);const[o,l]=u.useState({"mentorship-overview":!1,"compatibility-insights":!1,"conversation-starters":!1,"roadmap-breakdown":!1,"milestone-pathway":!1,"skill-forecast":!1}),c=M=>{l(R=>{if(R[M])return{...R,[M]:!1};const O=Object.keys(R).find(ae=>R[ae]),X={[M]:!0};return O&&O!==M&&(X[O]=!1),{...R,...X}})},{data:d,isLoading:m,error:h}=dt({queryKey:["suite-mentorship-compatibility-dashboard",e],queryFn:async()=>{const M=await fetch(`/api/suite/mentorship/compatibility/dashboard/${e}`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!M.ok){const B=await M.text();throw console.error("Mentorship compatibility dashboard error:",M.status,B),new Error(`Failed to fetch mentorship compatibility data: ${M.status}`)}return await M.json()},enabled:!!e,staleTime:5*60*1e3}),{data:p}=dt({queryKey:["/api/user"]}),f=()=>{r("/suite/network")};if(m)return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-violet-800 to-indigo-900 relative overflow-hidden flex items-center justify-center",children:[t.jsx(Hb,{}),t.jsx(Wb,{}),t.jsxs("div",{className:"relative z-10 text-center space-y-4",children:[t.jsx(E.div,{className:"w-16 h-16 border-4 border-purple-400/30 border-t-purple-400 rounded-full mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),t.jsx(E.p,{className:"text-xl font-medium text-white/90",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Analyzing mentorship compatibility..."})]})]});if(h||!d)return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-violet-800 to-indigo-900 relative overflow-hidden flex items-center justify-center",children:[t.jsx(Hb,{}),t.jsx(Wb,{}),t.jsxs(E.div,{className:"relative z-10 text-center space-y-6 p-8 rounded-3xl backdrop-blur-xl bg-white/10 border border-white/20 shadow-2xl",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[t.jsx("div",{className:"text-6xl",children:""}),t.jsx("h2",{className:"text-3xl font-bold text-white",children:"Analysis Unavailable"}),t.jsx("p",{className:"text-white/70 max-w-md text-lg",children:"Unable to load mentorship compatibility data. Please try again later."}),t.jsxs(de,{onClick:f,className:"bg-purple-600 hover:bg-purple-700 text-white border-none shadow-lg",children:[t.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Back to Discover"]})]})]});const{score:x,analysis:g,targetProfile:v}=d,y=x.overallCompatibilityScore||0,b=(M,R)=>{try{return JSON.parse(M)}catch{return R}},w=b(x.insights,g.insights||[]);b(x.conversationStarters,g.conversationStarters||[]);const S=b(x.mentorshipRoadmap,g.mentorshipRoadmap||[]),N=b(x.milestonePathway,g.milestonePathway||[]),P=b(x.skillGapForecast,g.skillGapForecast||[]),C=tt.memo(({id:M,title:R,icon:B,badge:O,children:X,className:ae="",delay:$=0})=>{const re=o[M];return t.jsxs("div",{className:`bg-gradient-to-br backdrop-blur-xl border rounded-2xl overflow-hidden ${ae}`,children:[t.jsxs("button",{onClick:()=>c(M),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors duration-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center backdrop-blur-sm",children:B}),t.jsx("h3",{className:"font-bold text-white",children:R}),O&&t.jsx(St,{className:`${O.color} text-white px-2 py-0.5 text-xs`,children:O.text})]}),t.jsx(E.div,{animate:{rotate:re?180:0},transition:{duration:.2},className:"w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center",children:t.jsx(ls,{className:"h-4 w-4 text-white/80"})})]}),t.jsx(Xt,{mode:"wait",children:re&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:t.jsx("div",{className:"p-4 pt-0",children:X})},`${M}-content`)})]})});return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-violet-800 to-indigo-900 relative overflow-hidden",children:[t.jsx(Hb,{}),t.jsx(Wb,{}),t.jsx(E.button,{onClick:f,className:"absolute top-1 left-1 z-50 w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center hover:bg-white/20 hover:scale-110 transition-all duration-300 shadow-lg",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},whileHover:{scale:1.1},whileTap:{scale:.95},children:t.jsx(Wn,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"relative z-10 px-6",children:[t.jsxs(E.div,{className:"flex items-center justify-center mb-4 space-x-6 relative px-2 max-w-3xl mx-auto -ml-6 mt-1",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,ease:"easeOut"},children:[t.jsx(E.div,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-56 h-0.5 bg-gradient-to-r from-transparent via-white/30 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{delay:1.2,duration:1.5}}),t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.2,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 via-violet-500 to-purple-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-300 to-violet-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.3)","0 0 40px rgba(168, 85, 247, 0.5)","0 0 20px rgba(168, 85, 247, 0.3)"]},transition:{duration:3,repeat:1/0},children:[t.jsx("div",{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-purple-400/30 backdrop-blur-sm rounded-full overflow-hidden",children:p!=null&&p.photoUrl?t.jsx("img",{src:p.photoUrl,alt:p.fullName||"You",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 via-violet-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:((I=p==null?void 0:p.fullName)==null?void 0:I.charAt(0))||"Y"})}),[...Array(6)].map((M,R)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-purple-300 rounded-full opacity-60",style:{top:`${20+R*10}%`,left:`${10+R*15}%`},animate:{y:[-5,-15,-5],opacity:[.3,.8,.3],scale:[.8,1.2,.8]},transition:{duration:2+R*.3,repeat:1/0,delay:R*.2}},`user-particle-${R}`))]})]}),t.jsx(E.div,{className:"relative flex-shrink-0",initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:.6,duration:1,type:"spring",bounce:.3},whileHover:{scale:1.05},children:t.jsxs("div",{className:"relative w-24 h-24",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"mentorshipBackgroundGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.2)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0.05)"})]}),t.jsxs("linearGradient",{id:"mentorshipCentralGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),t.jsx("stop",{offset:"50%",stopColor:"#A855F7"}),t.jsx("stop",{offset:"100%",stopColor:"#6366F1"})]}),t.jsxs("filter",{id:"mentorshipGlow",children:[t.jsx("feGaussianBlur",{stdDeviation:"3",result:"scoreBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"scoreBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#mentorshipBackgroundGradient)",strokeWidth:"2"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#mentorshipCentralGradient)",strokeWidth:"6",strokeLinecap:"round",filter:"url(#mentorshipGlow)",strokeDasharray:"251.2",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*y/100},transition:{delay:1.5,duration:2,ease:"easeOut"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:2,type:"spring"},className:"text-center bg-black/20 backdrop-blur-sm rounded-full w-14 h-14 flex flex-col items-center justify-center border border-white/20",children:[t.jsxs("div",{className:"text-sm font-bold text-violet-200",children:[y,"%"]}),t.jsx("div",{className:"text-xs text-white/60",children:"Match"})]})})]})}),t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.3,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:-5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-cyan-500 to-cyan-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-cyan-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(6, 182, 212, 0.3)","0 0 40px rgba(6, 182, 212, 0.5)","0 0 20px rgba(6, 182, 212, 0.3)"]},transition:{duration:3,repeat:1/0,delay:1.5},children:[t.jsx("div",{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-cyan-400/30 backdrop-blur-sm rounded-full overflow-hidden",children:v!=null&&v.primaryPhotoUrl?t.jsx("img",{src:v.primaryPhotoUrl,alt:((T=v==null?void 0:v.user)==null?void 0:T.fullName)||"Professional",className:"w-full h-full object-cover"}):(_=v==null?void 0:v.user)!=null&&_.photoUrl?t.jsx("img",{src:v.user.photoUrl,alt:((k=v==null?void 0:v.user)==null?void 0:k.fullName)||"Professional",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 via-cyan-500 to-blue-600 flex items-center justify-center text-white text-2xl font-bold",children:((F=(A=v==null?void 0:v.user)==null?void 0:A.fullName)==null?void 0:F.charAt(0))||"P"})}),[...Array(6)].map((M,R)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-cyan-300 rounded-full opacity-60",style:{top:`${25+R*8}%`,right:`${15+R*12}%`},animate:{y:[-3,-12,-3],opacity:[.4,.9,.4],scale:[.9,1.3,.9]},transition:{duration:2.5+R*.2,repeat:1/0,delay:R*.3}},`target-particle-${R}`))]})]})]}),t.jsxs(E.div,{className:"text-center mb-12 relative overflow-hidden",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.6},children:[t.jsxs("div",{className:"absolute inset-0 flex justify-center items-center",children:[t.jsx(E.div,{className:"absolute w-96 h-24 bg-gradient-to-r from-violet-500/20 via-purple-500/30 to-indigo-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}}),t.jsx(E.div,{className:"absolute w-80 h-20 bg-gradient-to-r from-indigo-400/30 via-violet-400/40 to-purple-400/30 rounded-full blur-2xl",animate:{scale:[1.1,.9,1.1],rotate:[0,180,360]},transition:{duration:8,repeat:1/0}})]}),t.jsx("div",{className:"w-full max-w-full mx-auto px-1 sm:px-2",children:t.jsxs(E.h1,{className:`relative font-black text-center mb-4 leading-none whitespace-nowrap ${(()=>{var B,O;const R=3+(((O=(B=v==null?void 0:v.user)==null?void 0:B.fullName)==null?void 0:O.split(" ")[0])||"Mentor").length+3;return R>18?"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl":R>15?"text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl":R>12?"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl":R>8?"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl":"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl"})()}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.8,type:"spring",stiffness:100},style:{wordBreak:"keep-all",overflowWrap:"normal"},children:[t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-violet-200 via-purple-300 to-violet-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(139, 69, 244, 0.3)","0 0 40px rgba(139, 69, 244, 0.5)","0 0 20px rgba(139, 69, 244, 0.3)"]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},style:{backgroundSize:"200% 200%",filter:"drop-shadow(0 0 15px rgba(139, 69, 244, 0.4))"},children:"You"})}),t.jsx(E.span,{className:"inline-block mx-2 sm:mx-3 md:mx-4",animate:{scale:[1,1.1,1],textShadow:["0 0 15px rgba(255, 255, 255, 0.5)","0 0 25px rgba(255, 255, 255, 0.7)","0 0 15px rgba(255, 255, 255, 0.5)"]},transition:{duration:4,repeat:1/0},whileHover:{scale:1.2},children:t.jsx("span",{className:"text-white font-bold",children:"&"})}),t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-indigo-200 via-violet-300 to-purple-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(99, 102, 241, 0.3)","0 0 40px rgba(99, 102, 241, 0.5)","0 0 20px rgba(99, 102, 241, 0.3)"]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:3},style:{backgroundSize:"200% 200%",filter:"drop-shadow(0 0 15px rgba(99, 102, 241, 0.4))"},children:((J=(V=v==null?void 0:v.user)==null?void 0:V.fullName)==null?void 0:J.split(" ")[0])||"Mentor"})})]})}),t.jsx(E.div,{className:"w-32 h-1 bg-gradient-to-r from-violet-400 via-purple-400 to-indigo-400 mx-auto rounded-full shadow-lg",initial:{scaleX:0},animate:{scaleX:1},transition:{delay:1.5,duration:.8}})]})]}),t.jsx("div",{className:"px-6",children:t.jsxs(Wd,{value:n,onValueChange:a,className:"max-w-6xl mx-auto",children:[t.jsx(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.6},className:"relative z-20 mb-2",children:t.jsxs(Hd,{className:"grid w-full grid-cols-4 backdrop-blur-xl p-0.5 sm:p-1 rounded-lg shadow-lg min-h-[32px] sm:min-h-[36px] gap-0.5 sm:gap-1 transition-all duration-700 mb-8 bg-white/80 border border-violet-400/40 shadow-violet-200/20",children:[t.jsx(da,{value:"overview",className:"rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10",children:"Overview"}),t.jsx(da,{value:"breakdown",className:"rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10",children:"Analysis"}),t.jsx(da,{value:"roadmap",className:"rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10",children:"Roadmap"}),t.jsx(da,{value:"insights",className:"rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10",children:"Insights"})]})}),t.jsxs(Kn,{value:"overview",className:"space-y-8 animate-in fade-in-50 duration-500",children:[t.jsx(C,{id:"compatibility-summary",title:"Compatibility Summary",icon:t.jsx(Nn,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[t.jsxs(E.div,{className:"relative flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6},children:[t.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-violet-500/30 to-purple-500/30 blur-lg animate-pulse"}),t.jsxs("div",{className:"relative w-full h-full",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#violetGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:251.2,initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-x.overallCompatibilityScore/100*251.2},transition:{duration:2,ease:"easeInOut"}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"violetGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#8b5cf6"}),t.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]})})]}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(Nn,{className:"w-5 h-5 text-violet-400 mb-1"}),t.jsxs(E.span,{className:"text-xl font-bold text-white",initial:{scale:0},animate:{scale:1},transition:{delay:1.5,duration:.5},children:[x.overallCompatibilityScore,"%"]})]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-white font-medium text-base mb-1",children:"Overall Match"}),t.jsx("p",{className:"text-violet-200/70 text-xs",children:"Comprehensive compatibility"})]})]}),t.jsxs(E.div,{className:"relative flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4,duration:.6},children:[t.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-emerald-500/30 to-green-500/30 blur-lg animate-pulse"}),t.jsxs("div",{className:"relative w-full h-full",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#emeraldGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:251.2,initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-x.successProbability/100*251.2},transition:{duration:2,delay:.3,ease:"easeInOut"}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"emeraldGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#10b981"}),t.jsx("stop",{offset:"100%",stopColor:"#059669"})]})})]}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(ni,{className:"w-5 h-5 text-emerald-400 mb-1"}),t.jsxs(E.span,{className:"text-xl font-bold text-white",initial:{scale:0},animate:{scale:1},transition:{delay:1.8,duration:.5},children:[x.successProbability,"%"]})]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-white font-medium text-base mb-1",children:"Success Rate"}),t.jsx("p",{className:"text-emerald-200/70 text-xs",children:"Predicted outcome likelihood"})]})]}),t.jsxs(E.div,{className:"relative flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6,duration:.6},children:[t.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-amber-500/30 to-yellow-500/30 blur-lg animate-pulse"}),t.jsxs("div",{className:"relative w-full h-full",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#amberGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:251.2,initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-(11-x.plateauRiskAssessment)/10*251.2},transition:{duration:2,delay:.6,ease:"easeInOut"}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"amberGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#f59e0b"}),t.jsx("stop",{offset:"100%",stopColor:"#d97706"})]})})]}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(bo,{className:"w-5 h-5 text-amber-400 mb-1"}),t.jsxs(E.span,{className:"text-xl font-bold text-white",initial:{scale:0},animate:{scale:1},transition:{delay:2.1,duration:.5},children:[Math.round((11-x.plateauRiskAssessment)/10*100),"%"]})]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-white font-medium text-base mb-1",children:"Growth Potential"}),t.jsx("p",{className:"text-amber-200/70 text-xs",children:"Development capacity"})]})]})]})})}),t.jsx(C,{id:"6d-analysis",title:"6D Compatibility Analysis",icon:t.jsx(ni,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx(E.div,{className:"bg-gradient-to-r from-purple-500/15 to-purple-600/20 rounded-xl p-4 border border-purple-400/30 backdrop-blur-sm hover:border-purple-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500/30",children:t.jsx(Ql,{className:"w-4 h-4 text-purple-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Expertise Relevance"}),t.jsx("p",{className:"text-purple-200/70 text-sm",children:"Domain knowledge alignment"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-blue-500/15 to-blue-600/20 rounded-xl p-4 border border-blue-400/30 backdrop-blur-sm hover:border-blue-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/30",children:t.jsx(Jt,{className:"w-4 h-4 text-blue-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Style Compatibility"}),t.jsx("p",{className:"text-blue-200/70 text-sm",children:"Mentoring approach fit"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-green-500/15 to-green-600/20 rounded-xl p-4 border border-green-400/30 backdrop-blur-sm hover:border-green-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-500/30",children:t.jsx(Ja,{className:"w-4 h-4 text-green-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Time Synergy"}),t.jsx("p",{className:"text-green-200/70 text-sm",children:"Schedule compatibility"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-orange-500/15 to-orange-600/20 rounded-xl p-4 border border-orange-400/30 backdrop-blur-sm hover:border-orange-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-orange-500/30",children:t.jsx(wp,{className:"w-4 h-4 text-orange-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Communication Fit"}),t.jsx("p",{className:"text-orange-200/70 text-sm",children:"Interaction effectiveness"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-teal-500/15 to-teal-600/20 rounded-xl p-4 border border-teal-400/30 backdrop-blur-sm hover:border-teal-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-teal-500/30",children:t.jsx($n,{className:"w-4 h-4 text-teal-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Cultural Alignment"}),t.jsx("p",{className:"text-teal-200/70 text-sm",children:"Environmental fit"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-rose-500/15 to-rose-600/20 rounded-xl p-4 border border-rose-400/30 backdrop-blur-sm hover:border-rose-300/50 transition-all duration-300",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-rose-500/30",children:t.jsx(Nn,{className:"w-4 h-4 text-rose-200"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-white font-semibold",children:"Growth Potential"}),t.jsx("p",{className:"text-rose-200/70 text-sm",children:"Development capacity"})]})]})})]})})]}),t.jsx(Kn,{value:"breakdown",className:"space-y-8 animate-in fade-in-50 duration-500",children:t.jsx(C,{id:"mentorship-overview",title:"Detailed Compatibility Analysis",icon:t.jsx(Ql,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[t.jsx(ni,{className:"w-6 h-6 text-green-400"}),"Success Predictions"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(E.div,{className:"bg-gradient-to-r from-green-500/20 to-emerald-600/20 border border-green-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:t.jsx(Nn,{className:"w-6 h-6 text-green-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Success Rate"}),t.jsx("p",{className:"text-white/70 text-sm",children:"High probability of achieving your mentorship goals"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-green-400",children:[x.successProbability,"%"]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-blue-500/20 to-cyan-600/20 border border-blue-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:t.jsx(Ja,{className:"w-6 h-6 text-blue-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Breakthrough"}),t.jsx("p",{className:"text-white/70 text-sm",children:"Expected timeline for significant progress"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-blue-400",children:[x.breakthroughMomentPrediction," ",t.jsx("span",{className:"text-lg text-white/80",children:"weeks"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-purple-500/20 to-violet-600/20 border border-purple-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:t.jsx(bo,{className:"w-6 h-6 text-purple-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Growth"}),t.jsx("p",{className:"text-white/70 text-sm",children:"Potential for sustained learning and development"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-purple-400",children:[11-x.plateauRiskAssessment,t.jsx("span",{className:"text-lg text-white/80",children:"/10"})]})]})})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[t.jsx(Jt,{className:"w-6 h-6 text-yellow-400"}),"Compatibility Breakdown"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(E.div,{className:"bg-gradient-to-r from-yellow-500/20 to-orange-600/20 border border-yellow-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-xl",children:t.jsx(Ql,{className:"w-6 h-6 text-yellow-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Expertise Match"}),t.jsx("p",{className:"text-white/70 text-sm",children:"Domain knowledge alignment with your growth areas"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-yellow-400",children:[g.breakdown.expertiseAlignment,t.jsx("span",{className:"text-lg text-white/80",children:"/10"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 border border-cyan-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-xl",children:t.jsx(Nn,{className:"w-6 h-6 text-cyan-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Learning Alignment"}),t.jsx("p",{className:"text-white/70 text-sm",children:"How well your learning goals match their expertise"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-cyan-400",children:[g.breakdown.learningGoalsMatch,t.jsx("span",{className:"text-lg text-white/80",children:"/10"})]})]})}),t.jsx(E.div,{className:"bg-gradient-to-r from-emerald-500/20 to-green-600/20 border border-emerald-400/30 rounded-2xl p-6 backdrop-blur-sm",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl",children:t.jsx($n,{className:"w-6 h-6 text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-white text-lg",children:"Cultural Fit"}),t.jsx("p",{className:"text-white/70 text-sm",children:"Shared values and working style compatibility"})]})]}),t.jsxs("div",{className:"text-4xl font-bold text-emerald-400",children:[g.breakdown.culturalFit,t.jsx("span",{className:"text-lg text-white/80",children:"/10"})]})]})})]})]})]})})}),t.jsxs(Kn,{value:"roadmap",className:"space-y-8 animate-in fade-in-50 duration-500",children:[t.jsx(C,{id:"roadmap-breakdown",title:"Strategic Mentorship Roadmap",icon:t.jsx(ao,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-2xl font-bold text-white mb-3",children:"Your Personalized Growth Journey"}),t.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:"A structured pathway designed to maximize your potential through targeted mentorship phases"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gradient-to-b from-violet-400 via-purple-400 to-indigo-400"}),t.jsx("div",{className:"space-y-8",children:S.map((M,R)=>{var B,O;return t.jsxs(E.div,{className:"relative bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 ml-12 backdrop-blur-sm hover:from-white/15 hover:to-white/10 transition-all duration-300",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.2},whileHover:{scale:1.02},children:[t.jsx("div",{className:"absolute -left-12 top-6 w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg border-4 border-white/20",children:t.jsx("span",{className:"text-white font-bold text-lg",children:R+1})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t.jsx("h4",{className:"text-xl font-bold text-white",children:M.phase}),t.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-full px-4 py-2",children:[t.jsx(Ja,{className:"w-4 h-4 text-violet-400"}),t.jsx("span",{className:"text-white/90 font-medium text-sm",children:M.duration})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("h5",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[t.jsx(Nn,{className:"w-4 h-4 text-violet-400"}),"Focus Areas"]}),t.jsx("ul",{className:"space-y-2",children:(B=M.focusAreas)==null?void 0:B.map((X,ae)=>t.jsxs("li",{className:"text-white/80 text-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-violet-400 rounded-full flex-shrink-0"}),X]},ae))})]}),t.jsxs("div",{children:[t.jsxs("h5",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[t.jsx(bo,{className:"w-4 h-4 text-emerald-400"}),"Expected Outcomes"]}),t.jsx("ul",{className:"space-y-2",children:(O=M.expectedOutcomes)==null?void 0:O.map((X,ae)=>t.jsxs("li",{className:"text-white/80 text-sm flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full flex-shrink-0"}),X]},ae))})]})]})]})]},R)})})]})]})}),t.jsx(C,{id:"milestone-pathway",title:"Key Milestones & Progress Tracker",icon:t.jsx(Nn,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Achievement Timeline"}),t.jsx("p",{className:"text-white/80",children:"Track your mentorship progress with data-driven milestones"})]}),t.jsx("div",{className:"grid gap-6",children:N.map((M,R)=>t.jsx(E.div,{className:"relative bg-gradient-to-r from-white/5 to-white/10 border border-white/20 rounded-2xl p-6 backdrop-blur-sm hover:from-white/10 hover:to-white/15 transition-all duration-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},whileHover:{scale:1.02},children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"text-lg font-bold text-white",children:["W",M.week]})})}),t.jsxs("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-emerald-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:[M.probability,"%"]})]})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h4",{className:"text-lg font-bold text-white mb-2 flex items-center gap-2",children:[t.jsx(xn,{className:"w-4 h-4 text-violet-400"}),M.milestone]}),t.jsx("p",{className:"text-white/80 text-sm leading-relaxed mb-3",children:M.description}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex-1 bg-white/20 rounded-full h-2",children:t.jsx(E.div,{className:"bg-gradient-to-r from-emerald-400 to-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${M.probability}%`},transition:{delay:R*.2+.5,duration:1}})}),t.jsxs("span",{className:"text-emerald-400 font-semibold text-sm",children:["Success Rate: ",M.probability,"%"]})]})]})]})},R))})]})})]}),t.jsxs(Kn,{value:"insights",className:"space-y-8 animate-in fade-in-50 duration-500",children:[t.jsx(C,{id:"key-insights",title:"Strategic Mentorship Insights",icon:t.jsx(bo,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"AI-Powered Analysis"}),t.jsx("p",{className:"text-white/80",children:"Discover actionable insights to maximize your mentorship potential"})]}),t.jsx("div",{className:"grid gap-4",children:w.map((M,R)=>t.jsx(E.div,{className:"bg-gradient-to-r from-white/5 to-white/10 border border-white/20 rounded-xl p-5 backdrop-blur-sm hover:from-white/10 hover:to-white/15 transition-all duration-300",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.1},whileHover:{scale:1.02},children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center",children:t.jsx(xn,{className:"w-4 h-4 text-white"})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-white/95 leading-relaxed",children:M})})]})},R))})]})}),t.jsx(C,{id:"skill-forecast",title:"Advanced Skill Development Forecast",icon:t.jsx(ni,{className:"w-5 h-5 text-white"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Growth Trajectory Analysis"}),t.jsx("p",{className:"text-white/80",children:"Data-driven predictions for your skill development journey"})]}),t.jsx("div",{className:"grid gap-6",children:P.map((M,R)=>t.jsxs(E.div,{className:"bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6 backdrop-blur-sm hover:from-white/15 hover:to-white/10 transition-all duration-300",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:R*.1},whileHover:{scale:1.02},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h4",{className:"text-lg font-bold text-white flex items-center gap-2",children:[t.jsx(Ql,{className:"w-5 h-5 text-violet-400"}),M.skill]}),t.jsxs("div",{className:"flex items-center gap-2 bg-emerald-500/20 rounded-full px-3 py-1",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),t.jsxs("span",{className:"text-emerald-400 font-semibold text-sm",children:[M.confidence,"% confidence"]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-white/70 text-sm font-medium block mb-1",children:"Current Level"}),t.jsx("div",{className:"text-white font-bold text-lg",children:M.currentLevel})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-white/70 text-sm font-medium block mb-1",children:"Target Level"}),t.jsx("div",{className:"text-white font-bold text-lg",children:M.targetLevel})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-white/70 text-sm font-medium block mb-1",children:"Timeline"}),t.jsx("div",{className:"text-white font-bold text-lg",children:M.timeToAchieve})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-white/80 text-sm",children:"Development Progress"}),t.jsxs("span",{className:"text-violet-400 text-sm font-medium",children:[M.confidence,"%"]})]}),t.jsx("div",{className:"w-full bg-white/20 rounded-full h-3",children:t.jsx(E.div,{className:"bg-gradient-to-r from-violet-400 to-purple-500 h-3 rounded-full",initial:{width:0},animate:{width:`${M.confidence}%`},transition:{delay:R*.2+.5,duration:1.5}})})]})]},R))})]})})]})]})})]})}const Kb=[{id:"overall",label:"Overall Performance",icon:yp,color:"from-purple-500 to-indigo-600"},{id:"reliability",label:"Reliability & Trust",icon:gn,color:"from-blue-500 to-cyan-600"},{id:"communication",label:"Communication Skills",icon:Jt,color:"from-green-500 to-emerald-600"},{id:"technical",label:"Technical Skills",icon:Ql,color:"from-orange-500 to-red-600"}];function Ige(){var B,O,X,ae;const{userId:e}=Rm(),[r,n]=lr(),{toast:a}=Wr(),s=Ma(),[i,o]=u.useState("overall"),[l,c]=u.useState(0),[d,m]=u.useState(""),[h,p]=u.useState(!1),[f,x]=u.useState(0),[g,v]=u.useState(!1),y=parseInt(e||"0"),{data:b}=dt({queryKey:["/api/user"]}),{data:w}=dt({queryKey:[`/api/users/${y}`],enabled:!!y}),{data:S}=dt({queryKey:[`/api/photos/${y}`],enabled:!!y}),N=u.useMemo(()=>{if(console.log(" [JOB-PHOTO-DEBUG] Photos data:",S),!S||!Array.isArray(S))return console.log(" [JOB-PHOTO-DEBUG] No photos data available"),null;console.log(" [JOB-PHOTO-DEBUG] All photos:",S);const $=S.find(le=>le.isPrimaryForJob);console.log(" [JOB-PHOTO-DEBUG] Primary job photo found:",$);const re=($==null?void 0:$.photoUrl)||null;return console.log(" [JOB-PHOTO-DEBUG] Final photo URL:",re),re},[S]),{data:P,isLoading:C}=dt({queryKey:[`/api/professional-reviews/${y}`],enabled:!!y,refetchInterval:5e3}),{data:I}=dt({queryKey:[`/api/professional-reviews/${y}/user/${b==null?void 0:b.id}`,i],enabled:!!(y&&(b!=null&&b.id)),select:u.useCallback($=>$,[])}),T=wt({mutationFn:async $=>ze("/api/professional-reviews",{method:"POST",data:$}),onSuccess:()=>{v(!0),setTimeout(()=>v(!1),2e3),c(0),m(""),s.invalidateQueries({queryKey:[`/api/professional-reviews/${y}`]}),s.invalidateQueries({queryKey:[`/api/professional-reviews/${y}/user/${b==null?void 0:b.id}`]}),a({title:"Review Submitted Successfully",description:"Your professional review has been recorded."})},onError:$=>{a({title:"Review Submission Failed",description:($==null?void 0:$.message)||"Failed to submit review",variant:"destructive"})}}),_=wt({mutationFn:async $=>ze(`/api/professional-reviews/${$}`,{method:"DELETE"}),onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/professional-reviews/${y}`]}),s.invalidateQueries({queryKey:[`/api/professional-reviews/${y}/user/${b==null?void 0:b.id}`]}),c(0),m(""),p(!1),a({title:"Review Deleted",description:"Your review has been successfully deleted."})},onError:$=>{a({title:"Delete Failed",description:($==null?void 0:$.message)||"Please try again later.",variant:"destructive"})}});u.useEffect(()=>{I!=null&&I.review?(c(I.review.rating),m(I.review.reviewText),p(I.review.isAnonymous)):(c(0),m(""),p(!1))},[I,i]);const k=u.useCallback(()=>{if(!y||!b||l===0||!d.trim()){a({title:"Incomplete Review",description:"Please provide a rating and review text.",variant:"destructive"});return}T.mutate({reviewedUserId:y,rating:l,reviewText:d.trim(),isAnonymous:h,category:i})},[y,b,l,d,h,i,T,a]),A=u.useCallback($=>{c($)},[]),F=u.useCallback(()=>{n("/suite/network")},[n]),V=u.useCallback($=>{_.mutate($)},[_]),J=u.useMemo(()=>Kb.find($=>$.id===i)||Kb[0],[i]),M=u.useMemo(()=>{var $;return(($=P==null?void 0:P.reviews)==null?void 0:$.filter(re=>re.category===i))||[]},[P==null?void 0:P.reviews,i]),R=u.useMemo(()=>{if(!M.length)return{averageRating:0,totalReviews:0,ratingDistribution:{1:0,2:0,3:0,4:0,5:0}};const $=M.length,re=M.reduce((ce,ue)=>ce+ue.rating,0)/$,le={1:0,2:0,3:0,4:0,5:0};return M.forEach(ce=>{le[ce.rating]++}),{averageRating:Math.round(re*10)/10,totalReviews:$,ratingDistribution:le}},[M]);return w?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 opacity-20",children:[t.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full filter blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full filter blur-3xl animate-pulse",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full filter blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"grid grid-cols-12 h-full",children:Array.from({length:12},($,re)=>t.jsx("div",{className:"border-r border-cyan-500 h-full"},re))}),t.jsx("div",{className:"absolute inset-0 grid grid-rows-12 h-full",children:Array.from({length:12},($,re)=>t.jsx("div",{className:"border-b border-cyan-500 w-full"},re))})]}),t.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:20},($,re)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],opacity:[0,1,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},re))}),t.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8 max-w-6xl",children:[t.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center mb-8",children:[t.jsx(de,{onClick:F,variant:"outline",className:"bg-black/20 border-cyan-500/30 text-white hover:bg-cyan-500/10 backdrop-blur-sm p-2 h-10 w-10 rounded-full",children:t.jsx(Wn,{className:"w-5 h-5"})}),t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"mx-4",children:t.jsxs("div",{className:"relative w-20 h-20",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/20 via-orange-400/20 to-red-400/20 rounded-xl blur-lg"}),t.jsxs("div",{className:"relative w-full h-full bg-black/40 backdrop-blur-xl border border-yellow-400/30 rounded-xl p-2 shadow-xl flex flex-col items-center justify-center",children:[t.jsx("div",{className:"flex items-center space-x-0.5 mb-1",children:[1,2,3,4,5].map($=>{var ce,ue,ee,Z;const re=$<=Math.round(((ce=P==null?void 0:P.stats)==null?void 0:ce.averageRating)||0),le=$===Math.ceil(((ue=P==null?void 0:P.stats)==null?void 0:ue.averageRating)||0)&&(((ee=P==null?void 0:P.stats)==null?void 0:ee.averageRating)||0)%1>0;return t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+$*.05},className:"relative",children:[t.jsx(E.div,{animate:re?{scale:[1,1.1,1]}:{},transition:{duration:1.5,repeat:1/0,delay:$*.1},children:t.jsx(Rn,{className:`w-3 h-3 transition-all duration-300 ${re?"text-yellow-400 fill-yellow-400 drop-shadow-[0_0_4px_rgba(250,204,21,0.6)]":"text-gray-600 fill-transparent"}`})}),le&&t.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:`${(((Z=P==null?void 0:P.stats)==null?void 0:Z.averageRating)||0)%1*100}%`},children:t.jsx(Rn,{className:"w-3 h-3 text-yellow-400 fill-yellow-400 drop-shadow-[0_0_4px_rgba(250,204,21,0.6)]"})})]},$)})}),t.jsxs(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center",children:[t.jsx(E.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},className:"text-lg font-bold bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 bg-clip-text text-transparent leading-none",children:(B=P==null?void 0:P.stats)!=null&&B.averageRating?P.stats.averageRating.toFixed(1):"0.0"},((O=P==null?void 0:P.stats)==null?void 0:O.averageRating)||0),t.jsxs(E.p,{animate:{opacity:[.6,1,.6]},transition:{duration:2,repeat:1/0},className:"text-[10px] text-cyan-400 font-medium leading-none",children:[((X=P==null?void 0:P.stats)==null?void 0:X.totalReviews)||0," review",(((ae=P==null?void 0:P.stats)==null?void 0:ae.totalReviews)||0)!==1?"s":""]})]}),t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(3)].map(($,re)=>t.jsx(E.div,{className:"absolute w-0.5 h-0.5 bg-yellow-400 rounded-full",style:{left:`${25+Math.random()*50}%`,top:`${25+Math.random()*50}%`},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:re*.5}},re))})]})]})}),t.jsx(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"ml-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"w-28 h-28 rounded-2xl bg-gradient-to-br from-purple-500 via-cyan-500 to-indigo-500 p-1 shadow-xl shadow-cyan-500/25",children:t.jsx("div",{className:"w-full h-full rounded-xl bg-black flex items-center justify-center overflow-hidden",children:N?t.jsx("img",{src:N,alt:`${w==null?void 0:w.fullName} - Job Profile`,className:"w-full h-full object-cover rounded-xl"}):w!=null&&w.photoUrl?t.jsx("img",{src:w.photoUrl,alt:w.fullName,className:"w-full h-full object-cover rounded-xl"}):t.jsx(Po,{className:"w-10 h-10 text-gray-400"})})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-2xl font-bold text-white mb-2 bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:w.fullName}),t.jsx("p",{className:"text-cyan-400 font-medium text-lg",children:w.profession})]})]})})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3},children:t.jsx(wr,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:t.jsx(Mi,{type:"single",collapsible:!0,className:"w-full",children:t.jsxs(yr,{value:"categories",className:"border-none",children:[t.jsx(vr,{className:"px-6 py-3 text-white hover:no-underline hover:bg-black/20",children:t.jsxs("div",{className:"flex items-center text-base",children:[t.jsx(Nn,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Review Categories"]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx("div",{className:"space-y-3",children:Kb.map($=>{const re=$.icon,le=i===$.id;return t.jsx(E.button,{onClick:()=>o($.id),className:`w-full p-3 rounded-lg border transition-all duration-300 ${le?"bg-gradient-to-r "+$.color+" border-white/20 shadow-lg shadow-purple-500/25":"bg-black/20 border-gray-600/30 hover:border-cyan-500/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${le?"bg-white/20":"bg-gray-700"}`,children:t.jsx(re,{className:`w-3 h-3 ${le?"text-white":"text-gray-400"}`})}),t.jsx("span",{className:`text-sm font-medium ${le?"text-white":"text-gray-300"}`,children:$.label})]})},$.id)})})})]})})})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:t.jsx(wr,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:t.jsx(Mi,{type:"single",collapsible:!0,className:"w-full",children:t.jsxs(yr,{value:"stats",className:"border-none",children:[t.jsx(vr,{className:"px-6 py-3 text-white hover:no-underline hover:bg-black/20",children:t.jsxs("div",{className:"flex items-center text-base",children:[t.jsx(ni,{className:"w-4 h-4 mr-2 text-cyan-400"}),J.label," Stats"]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:R.averageRating.toFixed(1)}),t.jsx("div",{className:"flex justify-center space-x-1 mb-2",children:[1,2,3,4,5].map($=>t.jsx(Rn,{className:`w-4 h-4 ${$<=Math.round(R.averageRating)?"text-yellow-400 fill-current":"text-gray-600"}`},$))}),t.jsxs("p",{className:"text-gray-400 text-xs",children:["Based on ",R.totalReviews," reviews"]})]}),t.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map($=>{const re=R.ratingDistribution[$]||0,le=R.totalReviews>0?re/R.totalReviews*100:0;return t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-white text-sm w-4",children:$}),t.jsx(Rn,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:t.jsx(E.div,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full",initial:{width:0},animate:{width:`${le}%`},transition:{duration:.8,delay:$*.1}})}),t.jsx("span",{className:"text-gray-400 text-sm w-8",children:re})]},$)})})]})})]})})})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:t.jsxs(wr,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:[t.jsx(On,{className:"pb-3",children:t.jsxs(ca,{className:"text-white flex items-center text-base",children:[t.jsx(Jt,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Recent Reviews"]})}),t.jsx($r,{className:"max-h-96 overflow-y-auto space-y-4",children:t.jsx(Xt,{children:M.length>0?M.slice(0,5).map(($,re)=>{var le,ce;return t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:re*.1},className:"bg-black/20 rounded-lg p-4 border border-gray-600/20",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-cyan-500 p-0.5",children:t.jsx("div",{className:"w-full h-full rounded-full bg-black flex items-center justify-center overflow-hidden",children:$.isAnonymous?t.jsx(Jc,{className:"w-4 h-4 text-gray-400"}):(le=$.reviewer)!=null&&le.photoUrl?t.jsx("img",{src:$.reviewer.photoUrl,alt:"Reviewer",className:"w-full h-full object-cover"}):t.jsx(Po,{className:"w-4 h-4 text-gray-400"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-white font-medium text-xs",children:$.isAnonymous?"Anonymous Reviewer":((ce=$.reviewer)==null?void 0:ce.fullName)||"Unknown"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[t.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(ue=>t.jsx(Rn,{className:`w-3 h-3 ${ue<=$.rating?"text-yellow-400 fill-current":"text-gray-600"}`},ue))}),t.jsxs("div",{className:"flex items-center text-gray-500 text-xs",children:[t.jsx(Ja,{className:"w-3 h-3 mr-1"}),new Date($.createdAt).toLocaleDateString()]})]}),b&&$.reviewerUserId===b.id&&t.jsx(E.button,{onClick:()=>V($.id),disabled:_.isPending,className:"text-red-400 hover:text-red-300 transition-colors p-1",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Delete your review",children:t.jsx(Zn,{className:"w-3 h-3"})})]})]}),t.jsx("p",{className:"text-gray-300 text-xs leading-relaxed mt-2",children:$.reviewText})]})]})},$.id)}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx(vo,{className:"w-10 h-10 text-gray-600 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"No reviews in this category yet"}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Be the first to share your experience!"})]})})})]})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:t.jsxs(wr,{className:"bg-black/40 border-cyan-500/20 backdrop-blur-xl",children:[t.jsx(On,{className:"pb-3",children:t.jsxs(ca,{className:"text-white flex items-center text-base",children:[t.jsx(Md,{className:"w-4 h-4 mr-2 text-cyan-400"}),"Write Review"]})}),t.jsxs($r,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-white text-xs font-medium mb-2 block",children:"Rate this professional"}),t.jsx("div",{className:"flex space-x-2 justify-center",children:[1,2,3,4,5].map($=>t.jsx(E.button,{onClick:()=>A($),onMouseEnter:()=>x($),onMouseLeave:()=>x(0),className:"transition-transform hover:scale-110",whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx(Rn,{className:`w-6 h-6 transition-colors ${$<=(f||l)?"text-yellow-400 fill-current":"text-gray-600 hover:text-yellow-200"}`})},$))}),l>0&&t.jsxs(E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-cyan-400 text-xs mt-1",children:[l===1&&"Poor",l===2&&"Fair",l===3&&"Good",l===4&&"Very Good",l===5&&"Excellent"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-white text-xs font-medium mb-2 block",children:"Share your experience"}),t.jsx(oa,{value:d,onChange:$=>m($.target.value),placeholder:`Describe your experience with ${w.fullName} in ${J.label.toLowerCase()}...`,className:"bg-black/20 border-gray-600/30 text-white placeholder-gray-500 resize-none h-32 focus:border-cyan-500/50"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[h?t.jsx(Jc,{className:"w-5 h-5 text-gray-400"}):t.jsx(vo,{className:"w-5 h-5 text-cyan-400"}),t.jsx("span",{className:"text-white text-sm",children:"Submit anonymously"})]}),t.jsx(Ye,{checked:h,onCheckedChange:p,className:"data-[state=checked]:bg-cyan-500"})]}),t.jsxs(E.div,{className:"relative",children:[t.jsx(de,{onClick:k,disabled:l===0||!d.trim()||T.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-700 hover:to-cyan-700 text-white border-0 h-12 relative overflow-hidden",children:t.jsx(Xt,{children:T.isPending?t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),t.jsx("span",{children:"Submitting..."})]}):t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[t.jsx(Md,{className:"w-4 h-4"}),t.jsx("span",{children:I!=null&&I.review?"Update Review":"Submit Review"})]})})}),t.jsx(Xt,{children:g&&t.jsx(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute inset-0 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yp,{className:"w-5 h-5 text-white"}),t.jsx("span",{className:"text-white font-medium",children:"Success!"})]})})})]})]})]})})]})]})]}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center",children:t.jsx(Ql,{className:"w-8 h-8 text-white animate-pulse"})}),t.jsx("p",{className:"text-white text-lg",children:"Loading Professional Review System..."})]})})}const xF={mentorshipLookingFor:"mentorship_looking_for",mentorshipExperienceLevel:"mentorship_experience_level",mentorshipIndustries:"mentorship_industries",mentorshipAreasOfExpertise:"mentorship_areas_of_expertise",mentorshipEducationLevel:"mentorship_education_level",mentorshipSkills:"mentorship_skills",mentorshipTopics:"mentorship_topics",mentorshipFormat:"mentorship_format",mentorshipTimeCommitment:"mentorship_time_commitment",mentorshipLocationPreference:"mentorship_location_preference",mentorshipWeights:"mentorship_weights",networkingPurpose:"networking_purpose",networkingCompanySize:"networking_company_size",networkingSeniority:"networking_seniority",networkingIndustries:"networking_industries",networkingAreasOfExpertise:"networking_areas_of_expertise",networkingEducationLevel:"networking_education_level",networkingSkills:"networking_skills",networkingFunctionalAreas:"networking_functional_areas",networkingLocationPreference:"networking_location_preference",networkingEventPreference:"networking_event_preference",networkingWeights:"networking_weights",jobsTypes:"jobs_types",jobsSalaryRange:"jobs_salary_range",jobsWorkArrangement:"jobs_work_arrangement",jobsCompanySize:"jobs_company_size",jobsIndustries:"jobs_industries",jobsEducationLevel:"jobs_education_level",jobsSkills:"jobs_skills",jobsExperienceLevel:"jobs_experience_level",jobsFunctionalAreas:"jobs_functional_areas",jobsGeographic:"jobs_geographic",jobsWorkLocation:"jobs_work_location",jobsWeights:"jobs_weights",dealBreakers:"deal_breakers",preferenceProfiles:"preference_profiles"};Object.fromEntries(Object.entries(xF).map(([e,r])=>[r,e]));const _ge=e=>{const r={};return Object.entries(e).forEach(([n,a])=>{const s=xF[n]||n;r[s]=a}),r},L4=`
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(1deg); }
    66% { transform: translateY(5px) rotate(-1deg); }
  }
  .animate-float {
    animation: float linear infinite;
  }
`,Ai={technology:{label:"Technology",areasOfExpertise:[{value:"software_development",label:"Software Development"},{value:"data_science",label:"Data Science & Analytics"},{value:"cybersecurity",label:"Cybersecurity"},{value:"cloud_computing",label:"Cloud Computing"},{value:"ai_machine_learning",label:"AI & Machine Learning"},{value:"product_management",label:"Product Management"},{value:"devops",label:"DevOps & Infrastructure"},{value:"mobile_development",label:"Mobile Development"}],skills:[{value:"python",label:"Python"},{value:"javascript",label:"JavaScript"},{value:"react",label:"React"},{value:"aws",label:"AWS"},{value:"docker",label:"Docker"},{value:"kubernetes",label:"Kubernetes"},{value:"machine_learning",label:"Machine Learning"},{value:"data_analysis",label:"Data Analysis"},{value:"api_design",label:"API Design"},{value:"agile",label:"Agile Methodology"}]},finance:{label:"Finance",areasOfExpertise:[{value:"investment_banking",label:"Investment Banking"},{value:"financial_planning",label:"Financial Planning"},{value:"risk_management",label:"Risk Management"},{value:"corporate_finance",label:"Corporate Finance"},{value:"wealth_management",label:"Wealth Management"},{value:"fintech",label:"Financial Technology"},{value:"trading",label:"Trading & Markets"},{value:"accounting",label:"Accounting"}],skills:[{value:"financial_modeling",label:"Financial Modeling"},{value:"excel",label:"Excel"},{value:"bloomberg",label:"Bloomberg Terminal"},{value:"valuation",label:"Valuation"},{value:"portfolio_management",label:"Portfolio Management"},{value:"derivatives",label:"Derivatives"},{value:"regulatory_compliance",label:"Regulatory Compliance"},{value:"quantitative_analysis",label:"Quantitative Analysis"}]},healthcare:{label:"Healthcare",areasOfExpertise:[{value:"clinical_research",label:"Clinical Research"},{value:"medical_device",label:"Medical Device Development"},{value:"pharmaceuticals",label:"Pharmaceuticals"},{value:"healthcare_administration",label:"Healthcare Administration"},{value:"telemedicine",label:"Telemedicine"},{value:"health_informatics",label:"Health Informatics"},{value:"public_health",label:"Public Health"},{value:"biotechnology",label:"Biotechnology"}],skills:[{value:"clinical_trials",label:"Clinical Trials"},{value:"regulatory_affairs",label:"Regulatory Affairs"},{value:"medical_writing",label:"Medical Writing"},{value:"biostatistics",label:"Biostatistics"},{value:"gcp",label:"Good Clinical Practice"},{value:"hipaa",label:"HIPAA Compliance"},{value:"electronic_health_records",label:"Electronic Health Records"},{value:"healthcare_analytics",label:"Healthcare Analytics"}]},marketing:{label:"Marketing",areasOfExpertise:[{value:"digital_marketing",label:"Digital Marketing"},{value:"content_marketing",label:"Content Marketing"},{value:"brand_management",label:"Brand Management"},{value:"performance_marketing",label:"Performance Marketing"},{value:"social_media",label:"Social Media Marketing"},{value:"email_marketing",label:"Email Marketing"},{value:"seo_sem",label:"SEO/SEM"},{value:"marketing_analytics",label:"Marketing Analytics"}],skills:[{value:"google_ads",label:"Google Ads"},{value:"facebook_ads",label:"Facebook Ads"},{value:"analytics",label:"Google Analytics"},{value:"hubspot",label:"HubSpot"},{value:"salesforce",label:"Salesforce"},{value:"copywriting",label:"Copywriting"},{value:"a_b_testing",label:"A/B Testing"},{value:"conversion_optimization",label:"Conversion Optimization"}]},consulting:{label:"Consulting",areasOfExpertise:[{value:"strategy_consulting",label:"Strategy Consulting"},{value:"management_consulting",label:"Management Consulting"},{value:"operations_consulting",label:"Operations Consulting"},{value:"technology_consulting",label:"Technology Consulting"},{value:"hr_consulting",label:"HR Consulting"},{value:"financial_consulting",label:"Financial Consulting"},{value:"change_management",label:"Change Management"},{value:"business_transformation",label:"Business Transformation"}],skills:[{value:"problem_solving",label:"Problem Solving"},{value:"presentation_skills",label:"Presentation Skills"},{value:"stakeholder_management",label:"Stakeholder Management"},{value:"project_management",label:"Project Management"},{value:"business_analysis",label:"Business Analysis"},{value:"process_improvement",label:"Process Improvement"},{value:"client_relationship",label:"Client Relationship Management"},{value:"strategic_planning",label:"Strategic Planning"}]},education:{label:"Education",areasOfExpertise:[{value:"curriculum_development",label:"Curriculum Development"},{value:"educational_technology",label:"Educational Technology"},{value:"learning_design",label:"Learning Design"},{value:"student_affairs",label:"Student Affairs"},{value:"academic_administration",label:"Academic Administration"},{value:"research",label:"Academic Research"},{value:"online_learning",label:"Online Learning"},{value:"assessment",label:"Assessment & Evaluation"}],skills:[{value:"instructional_design",label:"Instructional Design"},{value:"learning_management_systems",label:"Learning Management Systems"},{value:"educational_assessment",label:"Educational Assessment"},{value:"classroom_management",label:"Classroom Management"},{value:"curriculum_mapping",label:"Curriculum Mapping"},{value:"educational_research",label:"Educational Research"},{value:"student_support",label:"Student Support"},{value:"pedagogical_methods",label:"Pedagogical Methods"}]},retail:{label:"Retail",areasOfExpertise:[{value:"merchandising",label:"Merchandising"},{value:"supply_chain",label:"Supply Chain Management"},{value:"e_commerce",label:"E-commerce"},{value:"retail_operations",label:"Retail Operations"},{value:"customer_experience",label:"Customer Experience"},{value:"inventory_management",label:"Inventory Management"},{value:"retail_analytics",label:"Retail Analytics"},{value:"visual_merchandising",label:"Visual Merchandising"}],skills:[{value:"pos_systems",label:"POS Systems"},{value:"inventory_software",label:"Inventory Software"},{value:"customer_service",label:"Customer Service"},{value:"sales_techniques",label:"Sales Techniques"},{value:"retail_metrics",label:"Retail Metrics"},{value:"vendor_management",label:"Vendor Management"},{value:"loss_prevention",label:"Loss Prevention"},{value:"omnichannel",label:"Omnichannel Strategy"}]},manufacturing:{label:"Manufacturing",areasOfExpertise:[{value:"production_management",label:"Production Management"},{value:"quality_control",label:"Quality Control"},{value:"lean_manufacturing",label:"Lean Manufacturing"},{value:"supply_chain_ops",label:"Supply Chain Operations"},{value:"process_engineering",label:"Process Engineering"},{value:"automation",label:"Industrial Automation"},{value:"safety_management",label:"Safety Management"},{value:"continuous_improvement",label:"Continuous Improvement"}],skills:[{value:"six_sigma",label:"Six Sigma"},{value:"kaizen",label:"Kaizen"},{value:"iso_standards",label:"ISO Standards"},{value:"plc_programming",label:"PLC Programming"},{value:"cad_software",label:"CAD Software"},{value:"erp_systems",label:"ERP Systems"},{value:"statistical_process_control",label:"Statistical Process Control"},{value:"maintenance_planning",label:"Maintenance Planning"}]}},yF={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}},ar=(e,r)=>{const n=e[r];return Array.isArray(n)?n.length>0:typeof n=="object"&&n!==null?Object.keys(n).length>0:n!=null&&n!==""},Dge=e=>{const r=["jobsTypes","jobsWorkArrangement","jobsIndustries","jobsEducationLevel","jobsSkills","jobsExperienceLevel","jobsWorkLocation","jobsWeights"],n=e.jobsSalaryMin&&e.jobsSalaryMax,a=r.filter(o=>ar(e,o)).length,s=r.length+1,i=a+(n?1:0);return Math.round(i/s*100)},Rge=e=>{const r=["mentorshipLookingFor","mentorshipExperienceLevel","mentorshipIndustries","mentorshipAreasOfExpertise","mentorshipEducationLevel","mentorshipSkills","mentorshipLocationPreference","mentorshipWeights"],n=r.filter(a=>ar(e,a)).length;return Math.round(n/r.length*100)},Oge=e=>{const r=["networkingPurpose","networkingCompanySize","networkingSeniority","networkingIndustries","networkingAreasOfExpertise","networkingEducationLevel","networkingSkills","networkingLocationPreference","networkingWeights"],n=r.filter(a=>ar(e,a)).length;return Math.round(n/r.length*100)},Lge=e=>{const r=["dealBreakers"],n=r.filter(a=>ar(e,a)).length;return Math.round(n/r.length*100)},qb=e=>e<20?"#cc0000":e<40?"#ff4500":e<60?"#ffc107":e<80?"#90ee90":e<100?"#32cd32":"#006400";function $ge(){const{user:e}=Sr(),{toast:r}=Wr(),[n,a]=lr(),{translate:s}=tn(),[i,o]=u.useState(""),[l,c]=u.useState(()=>{try{const X=new URLSearchParams(window.location.search).get("tab");if(X&&["jobs","mentorship","networking","global"].includes(X))return X}catch(O){console.warn("Failed to parse URL parameters:",O)}try{const O=localStorage.getItem(`suite_network_last_tab_${e==null?void 0:e.id}`);if(O){const ae={job:"jobs",mentorship:"mentorship",networking:"networking"}[O];if(ae)return console.log(`[Connections Preferences] Synced tab from SUITE discover: ${O} -> ${ae}`),ae}}catch(O){console.warn("Failed to sync tab from SUITE discover:",O)}return"jobs"}),m={jobs:{bgGradient:"from-slate-900 via-blue-900 to-slate-900",orb1:"from-blue-500 to-cyan-500",orb2:"from-blue-600 to-indigo-500",orb3:"from-cyan-500 to-blue-500",spinner:"border-t-cyan-400",text:"from-cyan-400 to-blue-400"},mentorship:{bgGradient:"from-slate-900 via-purple-900 to-slate-900",orb1:"from-purple-500 to-pink-500",orb2:"from-violet-500 to-purple-500",orb3:"from-pink-500 to-purple-500",spinner:"border-t-purple-400",text:"from-purple-400 to-pink-400"},networking:{bgGradient:"from-slate-900 via-emerald-900 to-slate-900",orb1:"from-emerald-500 to-teal-500",orb2:"from-green-500 to-emerald-500",orb3:"from-teal-500 to-green-500",spinner:"border-t-emerald-400",text:"from-emerald-400 to-teal-400"},global:{bgGradient:"from-slate-900 via-pink-900 to-slate-900",orb1:"from-pink-500 to-rose-500",orb2:"from-rose-500 to-pink-500",orb3:"from-fuchsia-500 to-pink-500",spinner:"border-t-pink-400",text:"from-pink-400 to-rose-400"}}[l],[h,p]=u.useState(!1),[f,x]=u.useState(null),{data:g}=dt({queryKey:["/api/suite/job-profile"],queryFn:async()=>{try{return await(await ze("/api/suite/job-profile")).json()}catch{return null}},enabled:!!e}),{data:v}=dt({queryKey:["/api/suite/mentorship-profiles"],queryFn:async()=>{try{return await(await ze("/api/suite/mentorship-profiles")).json()}catch{return[]}},enabled:!!e}),{data:y}=dt({queryKey:["/api/suite/networking-profile"],queryFn:async()=>{try{return await(await ze("/api/suite/networking-profile")).json()}catch{return null}},enabled:!!e}),{data:b}=dt({queryKey:["/api/suite/profile-settings"],queryFn:async()=>{try{return await(await ze("/api/suite/profile-settings")).json()}catch{return null}},enabled:!!e}),w=O=>{switch(O){case"jobs":return!!(g&&Object.keys(g).length>0);case"mentorship":return!!(v&&v.length>0);case"networking":return!!(y&&(b!=null&&b.networkingProfileActive));default:return!1}},S=()=>{if(!f)return;p(!1),a(`/profile?${f==="jobs"?"openJob":f==="mentorship"?"openMentorship":"openNetworking"}=true`),console.log(`[Connections Preferences] Redirecting to profile creation for ${f}`)},N=O=>{if(O==="global"){c(O),P(O);return}if(!w(O)){x(O),p(!0),console.log(`[Connections Preferences] Profile needed for ${O} section - showing modal dialog`);return}c(O),P(O)},P=O=>{try{const ae={jobs:"job",mentorship:"mentorship",networking:"networking"}[O];ae&&(e!=null&&e.id)&&(localStorage.setItem(`suite_network_last_tab_${e.id}`,ae),console.log(`[Connections Preferences] Synced tab to SUITE discover: ${O} -> ${ae}`))}catch(X){console.warn("Failed to sync tab to SUITE discover:",X)}},C={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},I={initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}}},T={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{type:"spring",stiffness:300,damping:24}},exit:{opacity:0,x:-20,transition:{duration:.2}}},_={mentorshipLookingFor:[],mentorshipExperienceLevel:[],mentorshipIndustries:[],mentorshipAreasOfExpertise:[],mentorshipEducationLevel:[],mentorshipSkills:[],mentorshipTopics:[],mentorshipFormat:[],mentorshipTimeCommitment:"",mentorshipLocationPreference:"",mentorshipWeights:{experience:3,industry:3,location:3,availability:3,compatibility:3},networkingPurpose:[],networkingCompanySize:[],networkingSeniority:[],networkingIndustries:[],networkingAreasOfExpertise:[],networkingEducationLevel:[],networkingSkills:[],networkingFunctionalAreas:[],networkingEventPreference:[],networkingWeights:{industry:3,seniority:3,company:3,location:3,purpose:3},jobsTypes:[],jobsSalaryRange:{min:5e4,max:15e4,currency:"USD"},jobsWorkArrangement:[],jobsCompanySize:[],jobsIndustries:[],jobsEducationLevel:[],jobsSkills:[],jobsExperienceLevel:[],jobsFunctionalAreas:[],jobsWorkLocation:null,jobsWeights:{salary:3,location:3,company:3,role:3,benefits:3},dealBreakers:[],preferenceProfiles:[]},[k,A]=u.useState(_),{data:F,isLoading:V}=dt({queryKey:["/api/connections/preferences"],enabled:!!(e!=null&&e.id)});u.useEffect(()=>{if(F&&typeof F=="object"){const O=F;console.log("Raw fetched preferences:",O),console.log("jobsSalaryRange from DB:",O.jobsSalaryRange,typeof O.jobsSalaryRange),console.log("CRITICAL DEBUG: jobsEducationLevel from DB:",O.jobsEducationLevel,typeof O.jobsEducationLevel),console.log("CRITICAL DEBUG: jobs_education_level from DB:",O.jobs_education_level,typeof O.jobs_education_level);const X=()=>{if(!O.mentorshipWeights)return _.mentorshipWeights;try{if(typeof O.mentorshipWeights=="string")return{..._.mentorshipWeights,...JSON.parse(O.mentorshipWeights)};if(typeof O.mentorshipWeights=="object"){const ce={};return Object.keys(_.mentorshipWeights).forEach(ee=>{O.mentorshipWeights[ee]!==void 0&&(ce[ee]=O.mentorshipWeights[ee])}),{..._.mentorshipWeights,...ce}}return _.mentorshipWeights}catch{return _.mentorshipWeights}},ae=()=>{if(!O.networkingWeights)return _.networkingWeights;try{if(typeof O.networkingWeights=="string")return{..._.networkingWeights,...JSON.parse(O.networkingWeights)};if(typeof O.networkingWeights=="object"){const ce={};return Object.keys(_.networkingWeights).forEach(ee=>{O.networkingWeights[ee]!==void 0&&(ce[ee]=O.networkingWeights[ee])}),{..._.networkingWeights,...ce}}return _.networkingWeights}catch{return _.networkingWeights}},$=()=>{if(!O.jobsWeights)return _.jobsWeights;try{if(typeof O.jobsWeights=="string")return{..._.jobsWeights,...JSON.parse(O.jobsWeights)};if(typeof O.jobsWeights=="object"){const ce={};return Object.keys(_.jobsWeights).forEach(ee=>{O.jobsWeights[ee]!==void 0&&(ce[ee]=O.jobsWeights[ee])}),{..._.jobsWeights,...ce}}return _.jobsWeights}catch{return _.jobsWeights}},re=ce=>{if(!ce)return[];if(Array.isArray(ce))return ce;if(typeof ce=="string")try{return JSON.parse(ce)}catch{return[]}return[]},le=re(O.jobsSalaryRange);console.log("Parsed jobsSalaryRange:",le),A(ce=>({..._,...O,jobsSalaryRange:le,jobsWorkArrangement:re(O.jobsWorkArrangement),jobsExperienceLevel:re(O.jobsExperienceLevel),jobsTypes:re(O.jobsTypes),mentorshipWeights:X(),networkingWeights:ae(),jobsWeights:$()}))}},[F]);const J=wt({mutationFn:async O=>{const X=_ge(O);return console.log("Field mapping applied:",{original:O,mapped:X}),ze("/api/connections/preferences",{method:"POST",data:X})},onSuccess:()=>{r({title:s("connectionsPreferences.successSaved"),description:s("connectionsPreferences.successSaved")}),me.invalidateQueries({queryKey:["/api/connections/preferences"]})},onError:O=>{console.error("Error saving preferences:",O),r({title:s("connectionsPreferences.errorSaving"),description:s("connectionsPreferences.errorSaving"),variant:"destructive"})}}),M=(O,X,ae)=>{console.log("updateArrayField called:",{category:O,field:X,value:ae}),A($=>{const re=X.charAt(0).toUpperCase()+X.slice(1),le=`${O}${re}`;console.log("Previous preferences for category:",O,"field:",le,$[le]);const ce=Array.isArray($[le])?$[le]:[];let ue;ce.includes(ae)?(ue=ce.filter(Z=>Z!==ae),console.log("Removing value:",ae,"New array:",ue)):(ue=[...ce,ae],console.log("Adding value:",ae,"New array:",ue));const ee={...$,[le]:ue};return console.log("Updated preferences:",ee),console.log("Auto-saving preferences after selection change"),J.mutate(ee),ee})},R=(O,X,ae)=>{A($=>{const re=X.charAt(0).toUpperCase()+X.slice(1),le=`${O}${re}`,ce={...$,[le]:ae};return console.log(" GEOGRAPHIC DEBUG - updateSingleField called:",{category:O,field:X,value:ae,capitalizedField:re,fieldKey:le,newFieldValue:ce[le]}),console.log(" GEOGRAPHIC DEBUG - Full updated preferences:",ce),J.mutate(ce),ce})},B=(O,X,ae)=>{A($=>{const re={...$},le=`${O}Weights`,ce=re[le]||{};return re[le]={...ce,[X]:ae},console.log(" WEIGHTS UPDATE - Auto-saving preferences:",re),console.log(" WEIGHTS DEBUG - Updated weights object:",re[le]),J.mutate(re),re})};return V?t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:L4}}),t.jsxs(E.div,{className:`min-h-screen flex flex-col bg-gradient-to-br ${m.bgGradient} relative overflow-hidden`,initial:"initial",animate:"animate",exit:"exit",variants:C,children:[t.jsxs("div",{className:"absolute inset-0 opacity-20",children:[t.jsx("div",{className:`absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-to-r ${m.orb1} rounded-full mix-blend-multiply filter blur-xl animate-pulse`}),t.jsx("div",{className:`absolute top-1/3 right-1/4 w-64 h-64 bg-gradient-to-r ${m.orb2} rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000`}),t.jsx("div",{className:`absolute bottom-1/4 left-1/3 w-64 h-64 bg-gradient-to-r ${m.orb3} rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000`})]}),t.jsx("div",{className:"flex items-center justify-center min-h-[600px] relative z-10",children:t.jsxs(E.div,{className:"flex flex-col items-center space-y-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:`animate-spin w-12 h-12 rounded-full border-4 border-white/20 ${m.spinner}`}),t.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-to-r ${m.orb1}/20 blur-md animate-pulse`})]}),t.jsx(E.p,{className:`text-lg text-white font-medium bg-gradient-to-r ${m.text} bg-clip-text text-transparent`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Initializing neural preferences..."})]})})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:L4}}),t.jsxs(E.div,{className:`min-h-screen flex flex-col bg-gradient-to-br ${m.bgGradient} relative overflow-hidden`,initial:"initial",animate:"animate",exit:"exit",variants:C,children:[t.jsxs("div",{className:"absolute inset-0 opacity-30",children:[t.jsx("div",{className:`absolute top-1/6 left-1/5 w-96 h-96 bg-gradient-to-r ${m.orb1} rounded-full mix-blend-screen filter blur-2xl animate-pulse`,style:{filter:"blur(40px) drop-shadow(0 0 40px currentColor)"}}),t.jsx("div",{className:`absolute top-1/3 right-1/6 w-80 h-80 bg-gradient-to-r ${m.orb2} rounded-full mix-blend-screen filter blur-2xl animate-pulse delay-1000`,style:{filter:"blur(35px) drop-shadow(0 0 50px currentColor)"}}),t.jsx("div",{className:`absolute bottom-1/4 left-1/2 w-72 h-72 bg-gradient-to-r ${m.orb3} rounded-full mix-blend-screen filter blur-2xl animate-pulse delay-2000`,style:{filter:"blur(30px) drop-shadow(0 0 60px currentColor)"}}),t.jsx("div",{className:`absolute bottom-1/6 right-1/3 w-64 h-64 bg-gradient-to-r ${m.orb1} rounded-full mix-blend-screen filter blur-xl animate-pulse delay-3000`,style:{filter:"blur(25px) drop-shadow(0 0 35px currentColor)"}})]}),t.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",children:t.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 1000 1000",children:[t.jsx("defs",{children:t.jsxs("pattern",{id:"neural-net",x:"0",y:"0",width:"50",height:"50",patternUnits:"userSpaceOnUse",children:[t.jsx("circle",{cx:"25",cy:"25",r:"1.5",fill:"currentColor",className:"text-white",opacity:"0.6"}),t.jsx("line",{x1:"25",y1:"25",x2:"50",y2:"0",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.3"}),t.jsx("line",{x1:"25",y1:"25",x2:"50",y2:"50",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.3"}),t.jsx("line",{x1:"25",y1:"25",x2:"0",y2:"50",stroke:"currentColor",strokeWidth:"0.5",opacity:"0.3"})]})}),t.jsx("rect",{width:"100%",height:"100%",fill:"url(#neural-net)",className:"text-white"})]})}),t.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map((O,X)=>t.jsx(E.div,{className:"absolute bg-white rounded-full opacity-40",style:{width:Math.random()*4+2,height:Math.random()*4+2,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,boxShadow:`0 0 ${Math.random()*10+5}px rgba(255,255,255,0.8)`},animate:{x:[0,Math.random()*200-100],y:[0,Math.random()*200-100],opacity:[.1,Math.random()*.6+.2,.1],scale:[.5,1.5,.5]},transition:{duration:Math.random()*15+10,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:Math.random()*5}},X))}),t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/10 to-transparent pointer-events-none",style:{height:"3px"},animate:{y:["0vh","100vh"],opacity:[0,1,.8,1,0]},transition:{duration:6,repeat:1/0,ease:"linear"}}),t.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[t.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 border-l-2 border-t-2 border-cyan-400/40 rounded-tl-md opacity-60"}),t.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 border-r-2 border-t-2 border-purple-400/40 rounded-tr-md opacity-60"}),t.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 border-l-2 border-b-2 border-emerald-400/40 rounded-bl-md opacity-60"}),t.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-16 border-r-2 border-b-2 border-pink-400/40 rounded-br-md opacity-60"})]}),t.jsxs("div",{className:"sticky top-0 z-50 backdrop-blur-xl border-b border-cyan-400/20 text-white flex-shrink-0 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(20,20,40,0.9) 50%, rgba(0,0,0,0.8) 100%)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-purple-500/10 to-pink-500/5"}),t.jsxs("div",{className:"px-4 py-3 flex items-center relative z-10",children:[t.jsx(E.button,{className:"mr-3 p-2 rounded-lg bg-gradient-to-r from-cyan-500/20 to-purple-500/20 hover:from-cyan-400/30 hover:to-purple-400/30 backdrop-blur-md border border-cyan-400/30 text-white transition-all duration-300 shadow-lg hover:shadow-cyan-400/20",onClick:()=>window.history.back(),"aria-label":"Go back",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(34, 211, 238, 0.4)"},whileTap:{scale:.95},style:{background:"linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(147, 51, 234, 0.2))",borderImage:"linear-gradient(45deg, #22d3ee, #9333ea) 1"},children:t.jsx(Wn,{className:"h-4 w-4"})}),t.jsx(E.h2,{className:"font-bold text-xl tracking-tight relative",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2,duration:.8},style:{background:"linear-gradient(90deg, #22d3ee 0%, #a855f7 30%, #ec4899 60%, #f59e0b 100%)",backgroundSize:"200% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",animation:"gradient-shift 3s ease-in-out infinite"},children:s("connectionsPreferences.pageTitle")})]})]}),t.jsx("div",{className:"p-3 flex-grow flex flex-col",children:t.jsx(E.div,{variants:I,className:"relative",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs(E.div,{className:"grid grid-cols-4 gap-2 p-3 relative backdrop-blur-xl rounded-2xl border shadow-2xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.6) 0%, rgba(20,20,40,0.8) 50%, rgba(0,0,0,0.6) 100%)",borderImage:"linear-gradient(45deg, rgba(34, 211, 238, 0.3), rgba(147, 51, 234, 0.3), rgba(236, 72, 153, 0.3)) 1",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 40px rgba(34, 211, 238, 0.1)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:[t.jsx("div",{className:"absolute inset-0 opacity-20",children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 via-purple-500/10 to-pink-500/10 animate-pulse"})}),[{id:"jobs",label:s("connectionsPreferences.jobs"),icon:zr,color:"from-blue-500 to-cyan-500",shadow:"shadow-blue-500/50"},{id:"mentorship",label:s("connectionsPreferences.mentorship"),icon:Jt,color:"from-violet-500 to-purple-500",shadow:"shadow-purple-500/50"},{id:"networking",label:s("connectionsPreferences.networking"),icon:Eo,color:"from-emerald-500 to-teal-500",shadow:"shadow-emerald-500/50"},{id:"global",label:s("connectionsPreferences.global"),icon:$n,color:"from-pink-500 to-rose-500",shadow:"shadow-pink-500/50"}].map((O,X)=>t.jsxs(E.button,{onClick:()=>{const ae=O.id;N(ae)},className:`
                    relative flex flex-col items-center py-4 px-3 rounded-2xl text-xs font-medium transition-all duration-500 group overflow-hidden
                    ${l===O.id?"text-white transform scale-105 z-20":"text-gray-400 hover:text-white hover:scale-102 z-10"}
                  `,style:l===O.id?{background:`linear-gradient(135deg, ${O.color.includes("blue")?"rgba(59, 130, 246, 0.8)":O.color.includes("violet")?"rgba(139, 92, 246, 0.8)":O.color.includes("emerald")?"rgba(16, 185, 129, 0.8)":"rgba(236, 72, 153, 0.8)"} 0%, ${O.color.includes("blue")?"rgba(34, 211, 238, 0.6)":O.color.includes("violet")?"rgba(168, 85, 247, 0.6)":O.color.includes("emerald")?"rgba(20, 184, 166, 0.6)":"rgba(244, 63, 94, 0.6)"} 100%)`,boxShadow:`0 8px 32px ${O.color.includes("blue")?"rgba(59, 130, 246, 0.3)":O.color.includes("violet")?"rgba(139, 92, 246, 0.3)":O.color.includes("emerald")?"rgba(16, 185, 129, 0.3)":"rgba(236, 72, 153, 0.3)"}, inset 0 1px 0 rgba(255,255,255,0.2)`,border:"1px solid rgba(255,255,255,0.3)"}:{background:"linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(30,30,60,0.6) 100%)",border:"1px solid rgba(255,255,255,0.1)"},whileHover:{scale:1.08,boxShadow:`0 12px 40px ${O.color.includes("blue")?"rgba(59, 130, 246, 0.4)":O.color.includes("violet")?"rgba(139, 92, 246, 0.4)":O.color.includes("emerald")?"rgba(16, 185, 129, 0.4)":"rgba(236, 72, 153, 0.4)"}`},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+X*.1,duration:.5},children:[l===O.id&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`absolute inset-0 rounded-2xl bg-gradient-to-r ${O.color} opacity-30 blur-xl`}),t.jsx(E.div,{className:"absolute inset-0 rounded-2xl bg-white opacity-10",animate:{opacity:[.1,.2,.1]},transition:{duration:2,repeat:1/0}})]}),t.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsx(O.icon,{className:"h-6 w-6 mb-2 relative z-10 drop-shadow-lg"}),t.jsx("span",{className:"text-[11px] relative z-10 font-bold tracking-wide",children:O.label}),l===O.id&&t.jsx(E.div,{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-10 h-1 bg-white rounded-full",layoutId:"activeTabIndicator",style:{boxShadow:"0 0 10px rgba(255,255,255,0.8)"}})]},O.id))]}),(()=>{const O=l==="jobs"?Dge(k):l==="mentorship"?Rge(k):l==="networking"?Oge(k):Lge(k),ae={jobs:{label:s("connectionsPreferences.jobsPreferences"),color:"from-blue-500 to-cyan-500",shadow:"rgba(59, 130, 246, 0.3)",missingFields:[...ar(k,"jobsTypes")?[]:[s("connectionsPreferences.jobTypes")],...k.jobsSalaryMin&&k.jobsSalaryMax&&k.jobsSalaryCurrency&&k.jobsSalaryPeriod?[]:[s("connectionsPreferences.salaryRange")],...ar(k,"jobsWorkArrangement")?[]:[s("connectionsPreferences.workArrangement")],...ar(k,"jobsIndustries")?[]:[s("connectionsPreferences.industry")],...ar(k,"jobsEducationLevel")?[]:[s("connectionsPreferences.educationLevel")],...ar(k,"jobsSkills")?[]:[s("connectionsPreferences.skills")],...ar(k,"jobsExperienceLevel")?[]:[s("connectionsPreferences.experienceLevel")],...ar(k,"jobsWorkLocation")?[]:[s("connectionsPreferences.workLocation")],...ar(k,"jobsWeights")?[]:[s("connectionsPreferences.matchingPriorities")]]},mentorship:{label:s("connectionsPreferences.mentorshipPreferences"),color:"from-violet-500 to-purple-500",shadow:"rgba(139, 92, 246, 0.3)",missingFields:[...ar(k,"mentorshipLookingFor")?[]:[s("connectionsPreferences.whatLookingFor")],...ar(k,"mentorshipExperienceLevel")?[]:[s("connectionsPreferences.experienceLevel")],...ar(k,"mentorshipIndustries")?[]:[s("connectionsPreferences.industry")],...ar(k,"mentorshipAreasOfExpertise")?[]:[s("connectionsPreferences.areasOfExpertise")],...ar(k,"mentorshipEducationLevel")?[]:[s("connectionsPreferences.educationLevel")],...ar(k,"mentorshipSkills")?[]:[s("connectionsPreferences.skills")],...ar(k,"mentorshipLocationPreference")?[]:[s("connectionsPreferences.locationPreference")],...ar(k,"mentorshipWeights")?[]:[s("connectionsPreferences.matchingPriorities")]]},networking:{label:s("connectionsPreferences.networkingPreferences"),color:"from-emerald-500 to-teal-500",shadow:"rgba(16, 185, 129, 0.3)",missingFields:[...ar(k,"networkingPurpose")?[]:[s("connectionsPreferences.networkingPurpose")],...ar(k,"networkingCompanySize")?[]:[s("connectionsPreferences.companySize")],...ar(k,"networkingSeniority")?[]:[s("connectionsPreferences.seniorityLevel")],...ar(k,"networkingIndustries")?[]:[s("connectionsPreferences.industry")],...ar(k,"networkingAreasOfExpertise")?[]:[s("connectionsPreferences.areasOfExpertise")],...ar(k,"networkingEducationLevel")?[]:[s("connectionsPreferences.educationLevel")],...ar(k,"networkingSkills")?[]:[s("connectionsPreferences.skills")],...ar(k,"networkingLocationPreference")?[]:[s("connectionsPreferences.locationPreference")],...ar(k,"networkingWeights")?[]:[s("connectionsPreferences.matchingPriorities")]]},global:{label:s("connectionsPreferences.globalPreferences"),color:"from-pink-500 to-rose-500",shadow:"rgba(236, 72, 153, 0.3)",missingFields:[...ar(k,"dealBreakers")?[]:[s("connectionsPreferences.dealBreakers")]]}}[l];return t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mb-4 p-4 backdrop-blur-xl rounded-2xl border border-white/20 shadow-lg",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(20,20,40,0.5) 50%, rgba(0,0,0,0.3) 100%)",boxShadow:`0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 20px ${ae.shadow}`},children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-xs font-bold text-white tracking-wide font-['Space_Grotesk']",children:s("connectionsPreferences.completeFieldsMessage")}),t.jsxs("span",{className:"text-sm font-bold text-white",children:[O,"%"]})]}),t.jsx("div",{className:"relative h-4 w-full bg-gray-700/50 rounded-full border border-gray-600/50 overflow-hidden mb-3",children:t.jsxs(E.div,{initial:{width:"0%"},animate:{width:`${O}%`},transition:{duration:1.2,ease:"easeOut",delay:.3},className:"h-full rounded-full transition-all duration-500 ease-out relative",style:{background:`linear-gradient(90deg, ${qb(O)}, ${qb(Math.min(O+20,100))})`,boxShadow:O>0?`0 0 15px ${qb(O)}`:"none"},children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-white/30 rounded-t-full"}),t.jsx(E.div,{className:"absolute inset-0 rounded-full bg-white/20",animate:{opacity:[.2,.4,.2]},transition:{duration:2,repeat:1/0}})]})}),O<100&&ae.missingFields.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[ae.missingFields.slice(0,8).map(($,re)=>t.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+re*.1,duration:.3},onClick:()=>{setTimeout(()=>{const ce=Array.from(document.querySelectorAll("button")).find(ue=>{var Z;return(((Z=ue.textContent)==null?void 0:Z.trim())||"")===$});if(ce){const ue=ce.getAttribute("aria-expanded")==="true";ue||ce.click(),setTimeout(()=>{var Z;const ee=ce.closest('div[class*="bg-white"]')||ce.closest('div[class*="backdrop-blur"]')||((Z=ce.parentElement)==null?void 0:Z.parentElement);if(ee){ee.scrollIntoView({behavior:"smooth",block:"center"});const Se=ee;Se.style.transform="scale(1.02)",Se.style.boxShadow=`0 0 30px ${l==="jobs"?"rgba(59, 130, 246, 0.6)":l==="mentorship"?"rgba(139, 92, 246, 0.6)":l==="networking"?"rgba(16, 185, 129, 0.6)":"rgba(236, 72, 153, 0.6)"}`,setTimeout(()=>{Se.style.transform="",Se.style.boxShadow=""},2e3)}},ue?0:300)}},100)},className:"px-3 py-1.5 cursor-pointer font-bold text-[10px] rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95",style:{fontSize:"9px",background:"linear-gradient(145deg, #ff6b35, #f7931e)",color:"white",boxShadow:`
                              0 4px 15px rgba(255, 107, 53, 0.4),
                              inset 0 1px 0 rgba(255, 255, 255, 0.3),
                              inset 0 -1px 0 rgba(0, 0, 0, 0.2),
                              0 0 20px rgba(255, 107, 53, 0.2)
                            `,textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:$},$)),ae.missingFields.length>8&&t.jsx("span",{className:"px-3 py-1.5 font-bold text-[10px] rounded-full",style:{fontSize:"9px",background:"linear-gradient(145deg, #6b7280, #4b5563)",color:"white",boxShadow:`
                              0 4px 15px rgba(107, 114, 128, 0.4),
                              inset 0 1px 0 rgba(255, 255, 255, 0.3),
                              inset 0 -1px 0 rgba(0, 0, 0, 0.2),
                              0 0 20px rgba(107, 114, 128, 0.2)
                            `,textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:s("connectionsPreferences.moreMissing",{count:ae.missingFields.length-8})})]}),O===100&&t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1.2,duration:.5},className:"flex items-center justify-center space-x-2 py-2",children:[t.jsx(At,{className:"w-4 h-4 text-green-400"}),t.jsx("span",{className:"text-green-400 text-sm font-medium",children:s("connectionsPreferences.allCompleted")})]})]})})(),t.jsxs(E.div,{initial:"hidden",animate:"visible",exit:"exit",variants:T,className:"relative overflow-hidden rounded-2xl backdrop-blur-xl border shadow-2xl",style:{background:"linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(20,20,40,0.6) 30%, rgba(0,0,0,0.4) 100%)",borderImage:`linear-gradient(45deg, ${l==="jobs"?"rgba(59, 130, 246, 0.3), rgba(34, 211, 238, 0.3)":l==="mentorship"?"rgba(139, 92, 246, 0.3), rgba(168, 85, 247, 0.3)":l==="networking"?"rgba(16, 185, 129, 0.3), rgba(20, 184, 166, 0.3)":"rgba(236, 72, 153, 0.3), rgba(244, 63, 94, 0.3)"}) 1`,boxShadow:`0 20px 60px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1), 0 0 40px ${l==="jobs"?"rgba(59, 130, 246, 0.1)":l==="mentorship"?"rgba(139, 92, 246, 0.1)":l==="networking"?"rgba(16, 185, 129, 0.1)":"rgba(236, 72, 153, 0.1)"}`},children:[t.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none",children:t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l==="jobs"?"from-blue-500/10 via-cyan-500/5 to-transparent":l==="mentorship"?"from-violet-500/10 via-purple-500/5 to-transparent":l==="networking"?"from-emerald-500/10 via-teal-500/5 to-transparent":"from-pink-500/10 via-rose-500/5 to-transparent"}`})}),t.jsxs("div",{className:"relative z-10 p-6",children:[l==="jobs"&&t.jsx(Bge,{preferences:k,updateArrayField:M,updateSingleField:R,updateWeight:B,setPreferences:A,savePreferencesMutation:J,openAccordionSection:i,setOpenAccordionSection:o,translate:s}),l==="mentorship"&&t.jsx(Fge,{preferences:k,updateArrayField:M,updateSingleField:R,updateWeight:B,setPreferences:A,savePreferencesMutation:J,openAccordionSection:i,setOpenAccordionSection:o,translate:s}),l==="networking"&&t.jsx(Uge,{preferences:k,updateArrayField:M,updateSingleField:R,updateWeight:B,setPreferences:A,savePreferencesMutation:J,openAccordionSection:i,setOpenAccordionSection:o,translate:s}),l==="global"&&t.jsx(Gge,{preferences:k,updateArrayField:M,updateSingleField:R,setPreferences:A,savePreferencesMutation:J,openAccordionSection:i,setOpenAccordionSection:o,translate:s})]})]},l)]})})}),t.jsx(Or,{open:h,onOpenChange:p,children:t.jsxs(Dr,{className:"max-w-[85vw] sm:max-w-md mx-auto bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 border border-blue-500/30 shadow-2xl rounded-2xl",children:[t.jsx(pn,{children:t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-full",children:t.jsx(pm,{className:"h-5 w-5 text-yellow-400"})}),t.jsx(Jr,{className:"text-lg font-semibold text-white",children:s("connectionsPreferences.profileRequired")})]})}),t.jsx("div",{className:"py-4",children:t.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:s("connectionsPreferences.profileRequiredMessage",{section:s(f==="jobs"?"connectionsPreferences.jobs":f==="mentorship"?"connectionsPreferences.mentorship":"connectionsPreferences.networking"),profile:s(f==="jobs"?"connectionsPreferences.jobProfile":f==="mentorship"?"connectionsPreferences.mentorshipProfile":"connectionsPreferences.networkingProfile")})})}),t.jsxs(Tc,{className:"flex flex-row justify-center gap-3 pt-4",children:[t.jsxs(de,{variant:"outline",onClick:()=>p(!1),className:"flex-1 bg-gray-700/50 border-gray-600 text-gray-300 hover:bg-gray-600/50 hover:text-white",children:[t.jsx(mt,{className:"w-4 h-4 mr-2"}),s("connectionsPreferences.cancel")]}),t.jsxs(de,{onClick:S,className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white shadow-lg",children:[t.jsx(zr,{className:"w-4 h-4 mr-2"}),s("connectionsPreferences.createProfile")]})]})]})})]})]})}function pa({title:e,description:r,icon:n,options:a=[],values:s,onChange:i,colorClass:o="bg-blue-500 hover:bg-blue-600",searchPlaceholder:l="Search options...",allowCustomInput:c=!1,customOptions:d=[],translate:m}){const[h,p]=u.useState(""),[f,x]=u.useState(""),[g,v]=u.useState(!1),y=Array.isArray(s)?s:[],b=[...a,...d],w=b.filter(N=>N.label.toLowerCase().includes(h.toLowerCase())),S=()=>{if(f.trim()){const N=`custom_${f.toLowerCase().replace(/\s+/g,"_")}`;i(N),x(""),v(!1)}};return t.jsxs(E.div,{variants:yF,transition:{duration:.2},children:[(e||r)&&t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"text-xs font-medium text-gray-300 leading-relaxed",children:e||r})}),t.jsxs("div",{className:"mb-4 space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:l,value:h,onChange:N=>p(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50"})]}),c&&t.jsx("div",{className:"space-y-2",children:g?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:m("connectionsPreferences.enterCustomOption"),value:f,onChange:N=>x(N.target.value),onKeyPress:N=>N.key==="Enter"&&S(),className:"flex-1 px-3 py-2 bg-white/5 border border-white/10 rounded-lg text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50",autoFocus:!0}),t.jsx(de,{onClick:S,size:"sm",className:"bg-blue-500 hover:bg-blue-600",disabled:!f.trim(),children:"Add"}),t.jsx(de,{onClick:()=>{v(!1),x("")},size:"sm",variant:"outline",className:"border-white/20 text-gray-300 hover:bg-white/10",children:"Cancel"})]}):t.jsxs(de,{onClick:()=>v(!0),variant:"outline",size:"sm",className:"w-full bg-white/5 border-white/20 text-gray-300 hover:bg-white/10",children:[t.jsx(ka,{className:"h-4 w-4 mr-2"}),m("connectionsPreferences.addCustomOption")]})})]}),t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:w.map((N,P)=>t.jsx(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.05,duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},children:t.jsxs("button",{onClick:()=>{if(console.log(" CRITICAL DEBUG: CLICKED OPTION:",N.value,"Current values:",y),console.log(" CRITICAL DEBUG: onChange function:",typeof i),console.log(" CRITICAL DEBUG: About to call onChange..."),y.length<=1){const C=y.includes(N.value);console.log(" CRITICAL DEBUG: Single-value field, isSelected:",C,"will call onChange with:",C?"":N.value),i(C?"":N.value)}else console.log(" CRITICAL DEBUG: Multi-value field, calling onChange with:",N.value),i(N.value);console.log(" CRITICAL DEBUG: onChange call completed")},className:`
                relative w-full px-2 py-1.5 rounded-md text-xs font-medium transition-all duration-300 flex items-center justify-between group overflow-hidden
                ${y.includes(N.value)?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-lg border border-white/30":"bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 text-gray-300 hover:text-white"}
              `,children:[y.includes(N.value)&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 blur-md"}),t.jsx("span",{className:"relative z-10 text-xs truncate",children:N.label}),y.includes(N.value)&&t.jsx(E.div,{initial:{scale:0},animate:{scale:1},className:"relative z-10 ml-1",children:t.jsx(At,{className:"h-3 w-3"})})]})},N.value))}),h&&w.length===0&&t.jsxs("div",{className:"text-center py-4 text-gray-400 text-sm",children:['No options found matching "',h,'"']}),y.length>0&&t.jsxs("div",{className:"mt-4 pt-3 border-t border-white/10",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-xs font-medium text-gray-300",children:["Selected (",y.length,")"]}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>{console.log("Clear All clicked, current values:",y),i("__CLEAR_ALL__")},className:"h-5 text-[10px] text-gray-400 hover:text-white hover:bg-white/10 px-2",children:[t.jsx(mt,{className:"h-2 w-2 mr-1"}),"Clear All"]})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(N=>{const P=b.find(I=>I.value===N),C=(P==null?void 0:P.label)||(N.startsWith("custom_")?N.replace("custom_","").replace(/_/g," "):N);return t.jsxs(St,{className:`text-[10px] px-1.5 py-0.5 h-5 ${o} cursor-pointer flex items-center gap-1`,onClick:()=>i(N),children:[t.jsx("span",{className:"truncate max-w-20",children:C}),t.jsx(mt,{className:"h-2 w-2 flex-shrink-0"})]},N)})})]})]})}function vS({title:e,description:r,weights:n,onWeightChange:a,colorClass:s="text-blue-400",borderClass:i="border-blue-200/50 dark:border-blue-900/50",bgClass:o="bg-blue-100/80 dark:bg-blue-900/30",iconClass:l="text-blue-600 dark:text-blue-400",weightCategories:c=[],themeGradient:d="from-blue-500 to-cyan-500"}){const m=h=>{switch(h){case 1:return"Low Priority";case 2:return"Minor Interest";case 3:return"Important";case 4:return"High Priority";case 5:return"Critical";default:return"Important"}};return t.jsx(E.div,{variants:yF,className:"relative",children:t.jsxs("div",{className:"relative bg-white/5 backdrop-blur-xl rounded-xl border border-white/20 overflow-hidden",children:[t.jsx("div",{className:"px-4 py-2 border-b border-white/10",children:t.jsx("p",{className:"text-xs text-gray-300",children:"Adjust priority levels from 1 (lowest) to 5 (highest importance)"})}),t.jsx("div",{className:"p-4 space-y-3",children:c.map(({key:h,label:p},f)=>{const x=n[h]||3;return t.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:f*.05},className:"group relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${d} opacity-60`}),t.jsx("label",{className:"text-xs font-medium text-white",children:p})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs text-gray-400",children:m(x)}),t.jsx("div",{className:`px-2 py-0.5 rounded-md bg-gradient-to-r ${d} text-white text-xs font-semibold`,children:x})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-2 bg-white/10 rounded-full"}),t.jsx("div",{className:`absolute top-0 left-0 h-2 bg-gradient-to-r ${d} rounded-full transition-all duration-200`,style:{width:`${(x-1)/4*100}%`}}),t.jsx("div",{className:`absolute w-4 h-4 bg-gradient-to-br ${d} rounded-full shadow-md border border-white/30 transition-all duration-200 hover:scale-110 cursor-pointer`,style:{left:`calc(${(x-1)/4*100}% - 8px)`,top:"35%",transform:"translateY(-50%)"},children:t.jsx("div",{className:"absolute inset-0.5 bg-white/30 rounded-full"})}),t.jsx("div",{className:"flex justify-between mt-1 px-0.5",children:[1,2,3,4,5].map(g=>t.jsx("div",{className:`w-0.5 h-0.5 rounded-full transition-all duration-200 ${g<=x?`bg-gradient-to-r ${d}`:"bg-white/20"}`},g))})]}),t.jsx(Qp,{value:[x],onValueChange:([g])=>a(h,g),max:5,min:1,step:1,className:"absolute inset-0 opacity-0 cursor-pointer"})]},h)})})]})})}function Fge({preferences:e,updateArrayField:r,updateSingleField:n,updateWeight:a,setPreferences:s,savePreferencesMutation:i,openAccordionSection:o,setOpenAccordionSection:l,translate:c}){var x;const[d,m]=u.useState({areasOfExpertise:[],skills:[]}),h=()=>{const g=e.mentorshipIndustries||[];let v=[];return g.forEach(b=>{Ai[b]&&(v=[...v,...Ai[b].areasOfExpertise])}),[...v.filter((b,w,S)=>w===S.findIndex(N=>N.value===b.value)),...d.areasOfExpertise||[]]},p=()=>{const g=e.mentorshipIndustries||[],v=e.mentorshipAreasOfExpertise||[];let y=[];return g.forEach(w=>{Ai[w]&&(y=[...y,...Ai[w].skills])}),v.forEach(w=>{w.includes("software")&&y.push({value:"programming",label:"Programming"},{value:"debugging",label:"Debugging"},{value:"code_review",label:"Code Review"}),w.includes("data")&&y.push({value:"sql",label:"SQL"},{value:"statistics",label:"Statistics"},{value:"visualization",label:"Data Visualization"}),w.includes("marketing")&&y.push({value:"campaign_management",label:"Campaign Management"},{value:"content_creation",label:"Content Creation"},{value:"analytics_reporting",label:"Analytics & Reporting"})}),[...y.filter((w,S,N)=>S===N.findIndex(P=>P.value===w.value)),...d.skills||[]]},f={lookingFor:[{value:"career_guidance",label:"Career Guidance"},{value:"skill_development",label:"Skill Development"},{value:"industry_insights",label:"Industry Insights"},{value:"networking",label:"Networking"},{value:"leadership",label:"Leadership"},{value:"entrepreneurship",label:"Entrepreneurship"}],experienceLevel:[{value:"entry_level",label:"Entry Level"},{value:"mid_level",label:"Mid Level"},{value:"senior_level",label:"Senior Level"},{value:"executive",label:"Executive"},{value:"founder",label:"Founder/CEO"}],skills:[{value:"leadership",label:"Leadership"},{value:"communication",label:"Communication"},{value:"project_management",label:"Project Management"},{value:"technical_skills",label:"Technical Skills"},{value:"data_analysis",label:"Data Analysis"},{value:"marketing",label:"Marketing"},{value:"sales",label:"Sales"},{value:"financial_planning",label:"Financial Planning"}],areasOfExpertise:[{value:"business_strategy",label:"Business Strategy"},{value:"product_management",label:"Product Management"},{value:"software_development",label:"Software Development"},{value:"digital_marketing",label:"Digital Marketing"},{value:"finance",label:"Finance & Accounting"},{value:"operations",label:"Operations"},{value:"human_resources",label:"Human Resources"},{value:"consulting",label:"Consulting"}],industries:Object.keys(Ai).map(g=>({value:g,label:Ai[g].label})),educationLevel:[{value:"high_school",label:"High School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"phd",label:"PhD"},{value:"certification",label:"Professional Certification"}],geographicLocation:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}],topics:[{value:"career_transition",label:"Career Transition"},{value:"technical_skills",label:"Technical Skills"},{value:"soft_skills",label:"Soft Skills"},{value:"work_life_balance",label:"Work-Life Balance"},{value:"personal_branding",label:"Personal Branding"},{value:"interview_prep",label:"Interview Prep"}],format:[{value:"one_on_one",label:"One-on-One"},{value:"group",label:"Group Sessions"},{value:"virtual",label:"Virtual Meetings"},{value:"in_person",label:"In-Person"},{value:"workshops",label:"Workshops"},{value:"coffee_chats",label:"Coffee Chats"}]};return t.jsx("div",{className:"space-y-4",children:t.jsxs(Mi,{type:"single",collapsible:!0,value:o,onValueChange:l,className:"w-full space-y-4",children:[t.jsxs(yr,{value:"mentorship-industry",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(el,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.industry")})]}),ar(e,"mentorshipIndustries")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Industries you're interested in",icon:el,options:f.industries,values:e.mentorshipIndustries||[],onChange:g=>r("mentorship","Industries",g),colorClass:"bg-violet-500 hover:bg-violet-600",translate:c})})]}),t.jsxs(yr,{value:"mentorship-experience-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Rn,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:"Experience Level"})]}),ar(e,"mentorshipExperienceLevel")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Preferred mentor experience levels",icon:Rn,options:f.experienceLevel,values:e.mentorshipExperienceLevel||[],onChange:g=>r("mentorship","ExperienceLevel",g),colorClass:"bg-violet-500 hover:bg-violet-600",translate:c})})]}),t.jsxs(yr,{value:"mentorship-areas-of-expertise",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.areasOfExpertise")})]}),ar(e,"mentorshipAreasOfExpertise")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Specific areas of expertise for mentorship",icon:Nn,options:h(),values:e.mentorshipAreasOfExpertise||[],onChange:g=>r("mentorship","AreasOfExpertise",g),colorClass:"bg-violet-500 hover:bg-violet-600",searchPlaceholder:"Search areas of expertise...",allowCustomInput:!0,translate:c})})]}),t.jsxs(yr,{value:"mentorship-education-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Qr,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.educationLevel")})]}),ar(e,"mentorshipEducationLevel")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Education levels for mentorship preferences",icon:Qr,options:f.educationLevel,values:e.mentorshipEducationLevel||[],onChange:g=>r("mentorship","EducationLevel",g),colorClass:"bg-violet-500 hover:bg-violet-600",translate:c})})]}),t.jsxs(yr,{value:"mentorship-skills",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Mn,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.skills")})]}),ar(e,"mentorshipSkills")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Skills you want to develop or share in mentorship",icon:Mn,options:p(),values:e.mentorshipSkills||[],onChange:g=>r("mentorship","Skills",g),colorClass:"bg-violet-500 hover:bg-violet-600",searchPlaceholder:"Search skills...",allowCustomInput:!0,translate:c})})]}),t.jsxs(yr,{value:"mentorship-location-preference",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ta,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.locationPreference")})]}),e.mentorshipLocationPreference&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Preferred location scope for mentorship connections"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}].map(g=>t.jsxs("button",{type:"button",onClick:()=>{s(v=>{const y={...v,mentorshipLocationPreference:g.value};return i.mutate(y),y})},className:`
                      px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 
                      ${(e.mentorshipLocationPreference||"")===g.value?"bg-gradient-to-r from-violet-500 to-violet-600 text-white shadow-lg border border-violet-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20 hover:border-white/30"}
                    `,children:[g.label,(e.mentorshipLocationPreference||"")===g.value&&t.jsx(At,{className:"w-3 h-3 ml-1.5 inline"})]},g.value))}),e.mentorshipLocationPreference&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Selected (1)"}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>{s(g=>({...g,mentorshipLocationPreference:null})),i.mutate({...e,mentorshipLocationPreference:null})},className:"h-6 text-xs text-gray-400 hover:text-white",children:[t.jsx(mt,{className:"w-3 h-3 mr-1"}),"Clear All"]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-violet-500 to-violet-600 text-white text-xs font-medium rounded-full flex items-center gap-1.5",children:[(x=[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}].find(g=>g.value===e.mentorshipLocationPreference))==null?void 0:x.label,t.jsx("button",{onClick:()=>{s(g=>({...g,mentorshipLocationPreference:null})),i.mutate({...e,mentorshipLocationPreference:null})},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:t.jsx(mt,{className:"w-3 h-3"})})]})})]})]})})]}),t.jsxs(yr,{value:"mentorship-looking-for",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Yt,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.whatLookingFor")})]}),ar(e,"mentorshipLookingFor")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Select areas where you want mentorship",icon:Yt,options:f.lookingFor,values:e.mentorshipLookingFor||[],onChange:g=>r("mentorship","LookingFor",g),colorClass:"bg-violet-500 hover:bg-violet-600",translate:c})})]}),t.jsxs(yr,{value:"mentorship-matching-priorities",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-violet-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-violet-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-violet-300 via-white to-pink-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.matchingPriorities")})]}),Object.keys(e.mentorshipWeights||{}).length>0&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(vS,{title:"",description:"",weights:e.mentorshipWeights||{},onWeightChange:(g,v)=>a("mentorship",g,v),colorClass:"text-violet-400",borderClass:"border-violet-200/50 dark:border-violet-900/50",bgClass:"bg-violet-100/80 dark:bg-violet-900/30",iconClass:"text-violet-600 dark:text-violet-400",themeGradient:"from-violet-500 to-purple-500",weightCategories:[{key:"experienceLevel",label:"Experience Level"},{key:"areasOfExpertise",label:"Areas of Expertise"},{key:"industries",label:"Industry Match"},{key:"timeCommitment",label:"Time Commitment"},{key:"mentorshipFormat",label:"Mentorship Format"},{key:"geographic",label:"Geographic Preference"}]})})]})]})})}function Uge({preferences:e,updateArrayField:r,updateSingleField:n,updateWeight:a,setPreferences:s,savePreferencesMutation:i,openAccordionSection:o,setOpenAccordionSection:l,translate:c}){var x;const[d,m]=u.useState({areasOfExpertise:[],skills:[]}),h=()=>{const g=e.networkingIndustries||[];let v=[];return g.forEach(b=>{Ai[b]&&(v=[...v,...Ai[b].areasOfExpertise])}),[...v.filter((b,w,S)=>w===S.findIndex(N=>N.value===b.value)),...d.areasOfExpertise||[]]},p=()=>{const g=e.networkingIndustries||[],v=e.networkingAreasOfExpertise||[];let y=[];return g.forEach(w=>{Ai[w]&&(y=[...y,...Ai[w].skills])}),v.forEach(w=>{w.includes("software")&&y.push({value:"programming",label:"Programming"},{value:"debugging",label:"Debugging"},{value:"code_review",label:"Code Review"}),w.includes("data")&&y.push({value:"sql",label:"SQL"},{value:"statistics",label:"Statistics"},{value:"visualization",label:"Data Visualization"}),w.includes("marketing")&&y.push({value:"campaign_management",label:"Campaign Management"},{value:"content_creation",label:"Content Creation"},{value:"analytics_reporting",label:"Analytics & Reporting"})}),[...y.filter((w,S,N)=>S===N.findIndex(P=>P.value===w.value)),...d.skills||[]]},f={purpose:[{value:"business_development",label:"Business Development"},{value:"job_opportunities",label:"Job Opportunities"},{value:"partnerships",label:"Partnerships"},{value:"knowledge_sharing",label:"Knowledge Sharing"},{value:"industry_insights",label:"Industry Insights"},{value:"referrals",label:"Referrals"}],companySize:[{value:"startup",label:"Startup (1-50)"},{value:"small",label:"Small (51-200)"},{value:"medium",label:"Medium (201-1000)"},{value:"large",label:"Large (1000+)"},{value:"enterprise",label:"Enterprise (5000+)"}],seniority:[{value:"individual_contributor",label:"Individual Contributor"},{value:"team_lead",label:"Team Lead"},{value:"manager",label:"Manager"},{value:"director",label:"Director"},{value:"vp",label:"VP/SVP"},{value:"c_level",label:"C-Level"}],industries:Object.keys(Ai).map(g=>({value:g,label:Ai[g].label})),educationLevel:[{value:"high_school",label:"High School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"phd",label:"PhD"},{value:"certification",label:"Professional Certification"}],areasOfExpertise:[{value:"software_development",label:"Software Development"},{value:"data_science",label:"Data Science"},{value:"marketing",label:"Marketing"},{value:"sales",label:"Sales"},{value:"product_management",label:"Product Management"},{value:"finance",label:"Finance"},{value:"operations",label:"Operations"},{value:"human_resources",label:"Human Resources"}],geographicLocation:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}],locationPreference:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}]};return t.jsx("div",{className:"space-y-4",children:t.jsxs(Mi,{type:"single",collapsible:!0,value:o,onValueChange:l,className:"w-full space-y-4",children:[t.jsxs(yr,{value:"networking-industry",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(el,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.industry")})]}),ar(e,"networkingIndustries")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Industry focus for networking opportunities",icon:el,options:f.industries,values:e.networkingIndustries||[],onChange:g=>r("networking","Industries",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c})})]}),t.jsxs(yr,{value:"networking-areas-of-expertise",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.areasOfExpertise")})]}),ar(e,"networkingAreasOfExpertise")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Areas of expertise for networking connections",icon:Nn,options:h(),values:e.networkingAreasOfExpertise||[],onChange:g=>r("networking","AreasOfExpertise",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c,searchPlaceholder:"Search expertise areas...",allowCustomInput:!0})})]}),t.jsxs(yr,{value:"networking-education-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Qr,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.educationLevel")})]}),ar(e,"networkingEducationLevel")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Education levels for networking preferences",icon:Qr,options:f.educationLevel,values:e.networkingEducationLevel||[],onChange:g=>r("networking","EducationLevel",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c})})]}),t.jsxs(yr,{value:"networking-skills",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Mn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.skills")})]}),ar(e,"networkingSkills")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Professional skills for networking connections",icon:Mn,options:p(),values:e.networkingSkills||[],onChange:g=>r("networking","Skills",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c,searchPlaceholder:"Search skills...",allowCustomInput:!0})})]}),t.jsxs(yr,{value:"networking-location-preference",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ta,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.locationPreference")})]}),e.networkingLocationPreference&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Geographic scope for networking connections"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:f.locationPreference.map(g=>t.jsxs("button",{type:"button",onClick:()=>{console.log(" NETWORKING LOCATION CLICK:",g.value),s(v=>{const y={...v,networkingLocationPreference:g.value};return console.log(" DIRECT UPDATE - Setting networkingLocationPreference to:",g.value),i.mutate(y),y})},className:`
                      px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 
                      ${(e.networkingLocationPreference||"")===g.value?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-lg border border-emerald-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20 hover:border-white/30"}
                    `,children:[g.label,(e.networkingLocationPreference||"")===g.value&&t.jsx(At,{className:"w-3 h-3 ml-1.5 inline"})]},g.value))}),e.networkingLocationPreference&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Selected (1)"}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>{s(g=>({...g,networkingLocationPreference:null})),i.mutate({...e,networkingLocationPreference:null})},className:"h-6 text-xs text-gray-400 hover:text-white",children:[t.jsx(mt,{className:"w-3 h-3 mr-1"}),"Clear All"]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-xs font-medium rounded-full flex items-center gap-1.5",children:[(x=f.locationPreference.find(g=>g.value===e.networkingLocationPreference))==null?void 0:x.label,t.jsx("button",{onClick:()=>{s(g=>({...g,networkingLocationPreference:null})),i.mutate({...e,networkingLocationPreference:null})},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:t.jsx(mt,{className:"w-3 h-3"})})]})})]})]})})]}),t.jsxs(yr,{value:"networking-networking-purpose",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.networkingPurpose")})]}),ar(e,"networkingPurpose")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"What you hope to achieve through networking",icon:Nn,options:f.purpose,values:e.networkingPurpose||[],onChange:g=>r("networking","Purpose",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c})})]}),t.jsxs(yr,{value:"networking-company-size",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(el,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.companySize")})]}),ar(e,"networkingCompanySize")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Preferred company sizes to network with",icon:el,options:f.companySize,values:e.networkingCompanySize||[],onChange:g=>r("networking","CompanySize",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c})})]}),t.jsxs(yr,{value:"networking-seniority-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Jt,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.seniorityLevel")})]}),ar(e,"networkingSeniority")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Professional levels you want to connect with",icon:Jt,options:f.seniority,values:e.networkingSeniority||[],onChange:g=>r("networking","Seniority",g),colorClass:"bg-emerald-500 hover:bg-emerald-600",translate:c})})]}),t.jsxs(yr,{value:"networking-matching-priorities",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-emerald-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-emerald-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-emerald-300 via-white to-teal-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.matchingPriorities")})]}),Object.keys(e.networkingWeights||{}).length>0&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(vS,{title:"",description:"",weights:e.networkingWeights||{},onWeightChange:(g,v)=>a("networking",g,v),colorClass:"text-emerald-400",borderClass:"border-emerald-200/50 dark:border-emerald-900/50",bgClass:"bg-emerald-100/80 dark:bg-emerald-900/30",iconClass:"text-emerald-600 dark:text-emerald-400",themeGradient:"from-emerald-500 to-teal-500",weightCategories:[{key:"purpose",label:"Networking Purpose"},{key:"companySize",label:"Company Size"},{key:"seniority",label:"Seniority Level"},{key:"industries",label:"Industry Match"},{key:"functionalAreas",label:"Functional Areas"},{key:"geographic",label:"Geographic Preference"}]})})]})]})})}function Bge({preferences:e,updateArrayField:r,updateSingleField:n,updateWeight:a,setPreferences:s,savePreferencesMutation:i,openAccordionSection:o,setOpenAccordionSection:l,translate:c}){var m;const d={types:[{value:"full_time",label:"Full-Time"},{value:"part_time",label:"Part-Time"},{value:"contract",label:"Contract"},{value:"freelance",label:"Freelance"},{value:"internship",label:"Internship"},{value:"temporary",label:"Temporary"}],workArrangement:[{value:"remote",label:"Remote"},{value:"hybrid",label:"Hybrid"},{value:"on_site",label:"On-Site"},{value:"flexible",label:"Flexible"}],experienceLevel:[{value:"entry_level",label:"Entry Level"},{value:"mid_level",label:"Mid Level"},{value:"senior_level",label:"Senior Level"},{value:"lead",label:"Lead/Principal"},{value:"management",label:"Management"},{value:"executive",label:"Executive"}],skills:[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"react",label:"React"},{value:"nodejs",label:"Node.js"},{value:"aws",label:"AWS"},{value:"data_analysis",label:"Data Analysis"},{value:"project_management",label:"Project Management"},{value:"marketing",label:"Marketing"}],salaryRange:[{value:"0-30k",label:"$0 - $30K"},{value:"30k-50k",label:"$30K - $50K"},{value:"50k-75k",label:"$50K - $75K"},{value:"75k-100k",label:"$75K - $100K"},{value:"100k-150k",label:"$100K - $150K"},{value:"150k+",label:"$150K+"}],industries:[{value:"technology",label:"Technology"},{value:"finance",label:"Finance"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"retail",label:"Retail"},{value:"manufacturing",label:"Manufacturing"},{value:"consulting",label:"Consulting"},{value:"marketing",label:"Marketing"}],educationLevel:[{value:"high_school",label:"High School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"phd",label:"PhD"},{value:"certification",label:"Professional Certification"}],geographicLocation:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}]};return t.jsx("div",{className:"space-y-4",children:t.jsxs(Mi,{type:"single",collapsible:!0,value:o,onValueChange:l,className:"w-full space-y-4",children:[t.jsxs(yr,{value:"jobs-industry",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(el,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.industry")})]}),ar(e,"jobsIndustries")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Industries you're interested in working in",icon:el,options:d.industries,values:e.jobsIndustries||[],onChange:h=>r("jobs","Industries",h),colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-skills",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Mn,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.skills")})]}),ar(e,"jobsSkills")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Skills you want to find in job opportunities",icon:Mn,options:d.skills,values:e.jobsSkills||[],onChange:h=>r("jobs","Skills",h),colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-salary-range",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(LN,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.salaryRange")})]}),e.jobsSalaryMin&&e.jobsSalaryMax&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(Vge,{preferences:e,setPreferences:s,savePreferencesMutation:i,translate:c})})]}),t.jsxs(yr,{value:"jobs-education-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Qr,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.educationLevel")})]}),ar(e,"jobsEducationLevel")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Education levels required for job opportunities",icon:Qr,options:d.educationLevel,values:(()=>{console.log(" EDUCATION LEVEL DEBUG: preferences.jobsEducationLevel:",e.jobsEducationLevel,typeof e.jobsEducationLevel),console.log(" EDUCATION LEVEL DEBUG: jobsOptions.educationLevel:",d.educationLevel);const h=e.jobsEducationLevel||[];return console.log(" EDUCATION LEVEL DEBUG: Final values being passed:",h,Array.isArray(h)),h})(),onChange:h=>{console.log(" EDUCATION LEVEL DEBUG: onChange called with value:",h),r("jobs","EducationLevel",h)},colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-work-location-preference",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ta,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.workLocation")})]}),e.jobsWorkLocation&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-xs text-gray-400",children:"Geographic scope for job opportunities"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}].map(h=>t.jsxs("button",{type:"button",onClick:()=>{console.log(" WORK LOCATION CLICK:",h.value),s(p=>{const f={...p,jobsWorkLocation:h.value};return console.log(" DIRECT UPDATE - Setting jobsWorkLocation to:",h.value),console.log(" JOBS LOCATION DEBUG - Full preferences before save:",f),i.mutate(f),f})},className:`
                      px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 
                      ${(e.jobsWorkLocation||"")===h.value?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg border border-blue-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20 hover:border-white/30"}
                    `,children:[h.label,(e.jobsWorkLocation||"")===h.value&&t.jsx(At,{className:"w-3 h-3 ml-1.5 inline"})]},h.value))}),e.jobsWorkLocation&&t.jsxs("div",{className:"mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs text-gray-400",children:"Selected (1)"}),t.jsxs(de,{size:"sm",variant:"ghost",onClick:()=>{s(h=>({...h,jobsWorkLocation:null})),i.mutate({...e,jobsWorkLocation:null})},className:"h-6 text-xs text-gray-400 hover:text-white",children:[t.jsx(mt,{className:"w-3 h-3 mr-1"}),"Clear All"]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:t.jsxs("span",{className:"px-3 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs font-medium rounded-full flex items-center gap-1.5",children:[(m=[{value:"local",label:"Local Area"},{value:"regional",label:"Regional"},{value:"national",label:"National"},{value:"international",label:"International"}].find(h=>h.value===e.jobsWorkLocation))==null?void 0:m.label,t.jsx("button",{onClick:()=>{s(h=>({...h,jobsWorkLocation:null})),i.mutate({...e,jobsWorkLocation:null})},className:"hover:bg-white/20 rounded-full p-0.5 transition-colors",children:t.jsx(mt,{className:"w-3 h-3"})})]})})]})]})})]}),t.jsxs(yr,{value:"jobs-job-types",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(zr,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.jobTypes")})]}),ar(e,"jobsTypes")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Types of employment you're interested in",icon:zr,options:d.types,values:e.jobsTypes||[],onChange:h=>r("jobs","types",h),colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-work-arrangement",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ta,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.workArrangement")})]}),ar(e,"jobsWorkArrangement")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Preferred work arrangements",icon:ta,options:d.workArrangement,values:e.jobsWorkArrangement||[],onChange:h=>r("jobs","workArrangement",h),colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-experience-level",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Rn,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.experienceLevel")})]}),ar(e,"jobsExperienceLevel")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Job seniority levels you're targeting",icon:Rn,options:d.experienceLevel,values:e.jobsExperienceLevel||[],onChange:h=>r("jobs","experienceLevel",h),colorClass:"bg-blue-500 hover:bg-blue-600",translate:c})})]}),t.jsxs(yr,{value:"jobs-matching-priorities",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-blue-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Nn,{className:"w-5 h-5 text-blue-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-blue-300 via-white to-blue-200 bg-clip-text text-transparent drop-shadow-sm",children:c("connectionsPreferences.matchingPriorities")})]}),Object.keys(e.jobsWeights||{}).length>0&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(vS,{title:"",description:"",weights:e.jobsWeights||{},onWeightChange:(h,p)=>a("jobs",h,p),colorClass:"text-blue-400",themeGradient:"from-blue-500 to-cyan-500",weightCategories:[{key:"salary",label:"Salary Range"},{key:"companySize",label:"Company Size"},{key:"workArrangement",label:"Work Arrangement"},{key:"experienceLevel",label:"Experience Level"},{key:"industries",label:"Industry Match"},{key:"location",label:"Geographic Location"}]})})]})]})})}function Gge({preferences:e,updateArrayField:r,setPreferences:n,savePreferencesMutation:a,openAccordionSection:s,setOpenAccordionSection:i,translate:o}){const l=[{value:"poor_communication",label:"Poor Communication"},{value:"unreliable",label:"Unreliable"},{value:"negative_attitude",label:"Negative Attitude"},{value:"unprofessional",label:"Unprofessional"},{value:"different_values",label:"Different Values"},{value:"geographic_mismatch",label:"Geographic Mismatch"}];return t.jsx("div",{className:"space-y-4",children:t.jsx(Mi,{type:"single",collapsible:!0,value:s,onValueChange:i,className:"w-full space-y-4",children:t.jsxs(yr,{value:"global-deal-breakers",className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 overflow-hidden",children:[t.jsx(vr,{className:"px-6 py-4 hover:bg-pink-500/10 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(pm,{className:"w-5 h-5 text-pink-400"}),t.jsx("span",{className:"text-lg font-bold text-white tracking-wide font-['Space_Grotesk'] bg-gradient-to-r from-pink-300 via-white to-rose-200 bg-clip-text text-transparent drop-shadow-sm",children:o("connectionsPreferences.dealBreakers")})]}),ar(e,"dealBreakers")&&t.jsx("div",{className:"bg-green-500 rounded-full p-1.5 mr-2",children:t.jsx(At,{className:"w-3 h-3 text-white"})})]})}),t.jsx(br,{className:"px-6 pb-6",children:t.jsx(pa,{title:"",description:"Factors that would prevent you from connecting",icon:mt,options:l,values:e.dealBreakers||[],onChange:c=>{console.log("Deal Breakers onChange called with value:",c),n(d=>{const m=Array.isArray(d.dealBreakers)?d.dealBreakers:[];let h;m.includes(c)?(h=m.filter(f=>f!==c),console.log("Removing deal breaker:",c,"New array:",h)):(h=[...m,c],console.log("Adding deal breaker:",c,"New array:",h));const p={...d,dealBreakers:h};return console.log("Updated preferences with deal breakers:",p),console.log("Auto-saving preferences after deal breaker change"),a.mutate(p),p})},colorClass:"bg-pink-500 hover:bg-pink-600",translate:o})})]})})})}function Vge({preferences:e,setPreferences:r,savePreferencesMutation:n,translate:a}){var p,f;const{user:s}=Sr(),{toast:i}=Wr(),o=()=>s!=null&&s.countryOfOrigin&&{Ghana:"GHS","United States":"USD","United Kingdom":"GBP",Germany:"EUR",France:"EUR",Canada:"CAD",Australia:"AUD",India:"INR",Nigeria:"NGN","South Africa":"ZAR"}[s.countryOfOrigin]||"USD",l=async(x,g)=>{r(v=>({...v,[x]:g}));try{await n.mutateAsync({[x]:g})}catch{i({title:"Error",description:"Failed to save salary preference",variant:"destructive"})}},c=[{value:"USD",label:" USD",symbol:"$"},{value:"EUR",label:" EUR",symbol:""},{value:"GBP",label:" GBP",symbol:""},{value:"GHS",label:" GHS",symbol:""},{value:"CAD",label:" CAD",symbol:"$"},{value:"INR",label:" INR",symbol:""},{value:"NGN",label:" NGN",symbol:""}],d=[{value:"/fix",label:"/fix"},{value:"/hour",label:"/hour"},{value:"/day",label:"/day"},{value:"/month",label:"/month"},{value:"/year",label:"/year"}],m=c.find(x=>x.value===(e.jobsSalaryCurrency||o())),h=(m==null?void 0:m.symbol)||"$";return t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-5",children:[t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm text-blue-200",children:"Set your preferred salary range with custom currency and time period"})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-blue-300 mb-1.5",children:"Currency"}),t.jsxs(fr,{value:e.jobsSalaryCurrency||o(),onValueChange:x=>l("jobsSalaryCurrency",x),children:[t.jsx(hr,{className:"bg-white/10 border-blue-400/30 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-lg backdrop-blur-xl h-10",children:t.jsx(gr,{})}),t.jsx(pr,{className:"bg-slate-800 border-slate-600 text-white",children:c.map(x=>t.jsx(G,{value:x.value,children:x.label},x.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-blue-300 mb-1.5",children:"Time Period"}),t.jsxs(fr,{value:e.jobsSalaryPeriod||"/fix",onValueChange:x=>l("jobsSalaryPeriod",x),children:[t.jsx(hr,{className:"bg-white/10 border-blue-400/30 text-white focus:border-blue-400 focus:ring-blue-400/50 rounded-lg backdrop-blur-xl h-10",children:t.jsx(gr,{})}),t.jsx(pr,{className:"bg-slate-800 border-slate-600 text-white",children:d.map(x=>t.jsx(G,{value:x.value,children:x.label},x.value))})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-center",children:t.jsx("span",{className:"text-xs font-medium text-blue-300",children:a("connectionsPreferences.salaryRange")})}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-blue-400 mb-1.5",children:"Minimum"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-300 text-sm font-medium",children:h}),t.jsx(Je,{type:"number",value:e.jobsSalaryMin||"",onChange:x=>l("jobsSalaryMin",parseInt(x.target.value)||null),placeholder:"50,000",className:"bg-white/10 border-blue-400/30 text-white placeholder-white/40 focus:border-blue-400 focus:ring-blue-400/50 rounded-lg backdrop-blur-xl pl-8 h-10"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-blue-400 mb-1.5",children:"Maximum"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-300 text-sm font-medium",children:h}),t.jsx(Je,{type:"number",value:e.jobsSalaryMax||"",onChange:x=>l("jobsSalaryMax",parseInt(x.target.value)||null),placeholder:"100,000",className:"bg-white/10 border-blue-400/30 text-white placeholder-white/40 focus:border-blue-400 focus:ring-blue-400/50 rounded-lg backdrop-blur-xl pl-8 h-10"})]})]})]})]}),e.jobsSalaryMin&&e.jobsSalaryMax&&e.jobsSalaryCurrency&&e.jobsSalaryPeriod&&t.jsx("div",{className:"text-center pt-2",children:t.jsxs("div",{className:"inline-flex items-center px-4 py-2.5 rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 backdrop-blur-xl",children:[t.jsx(LN,{className:"w-4 h-4 text-blue-400 mr-2"}),t.jsxs("span",{className:"text-blue-100 font-medium text-sm",children:[h,(p=e.jobsSalaryMin)==null?void 0:p.toLocaleString()," - ",h,(f=e.jobsSalaryMax)==null?void 0:f.toLocaleString()," ",e.jobsSalaryPeriod]})]})}),(!e.jobsSalaryMin||!e.jobsSalaryMax)&&t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-xs text-blue-400/70",children:"Enter both minimum and maximum amounts to complete your salary range"})})]})}function zge({onSelect:e}){const{setAppMode:r,startTransition:n}=Ts(),[,a]=lr(),[s,i]=u.useState(null),[o,l]=u.useState(!0),[c,d]=u.useState(!1),{translate:m}=tn(),{user:h}=Sr(),{darkMode:p}=Za(),f=(h==null?void 0:h.hasActivatedProfile)||!1,{data:x}=dt({queryKey:["/api/suite/profile-settings"],enabled:!!(h!=null&&h.id),staleTime:3e4}),g=x?x.jobProfileActive||x.mentorshipProfileActive||x.networkingProfileActive:!1;u.useEffect(()=>{const S=setTimeout(()=>{l(!1)},1200);return()=>clearTimeout(S)},[]);const v=async S=>{if(i(S),r(S),S==="MEET"&&h&&(console.log("[APP-SELECTOR] Early preloading discover users for MEET..."),me.prefetchQuery({queryKey:["/api/discover-users"],staleTime:3e4}).catch(N=>{console.warn("[APP-SELECTOR] Early preload failed:",N)})),h&&h.id)try{await Ri(()=>Promise.resolve().then(()=>UM),void 0).then(async({apiRequest:N})=>{await N(`/api/profile/${h.id}`,{method:"PATCH",data:{lastUsedApp:S}})})}catch(N){console.error("Failed to update last_used_app in DB",N)}},y=()=>{if(!s||c)return;if(d(!0),h==null?void 0:h.showNationalitySelection){try{sessionStorage.setItem("fromAppSelection","true"),console.log("[APP-SELECTION] Setting fromAppSelection flag for nationality flow")}catch(P){console.warn("[STORAGE] Failed to set fromAppSelection flag:",P)}setTimeout(()=>{a("/nationality")},1e3),e(),n(s);return}let N="/";switch(s){case"MEET":N="/";break;case"HEAT":N="/heat";break;case"SUITE":N="/suite";break}e(),n(s),setTimeout(()=>{a(N)},1e3)},b={hidden:{opacity:0,scale:.8,y:20},visible:S=>({opacity:1,scale:1,y:0,transition:{delay:S*.15+.1,duration:.6,type:"spring",stiffness:120,damping:10,bounce:.6}})},w={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{delay:.1,duration:.5}}};return t.jsx(Xt,{children:t.jsxs(E.div,{className:"flex flex-col items-center justify-center p-6 min-h-[90vh] app-mode-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t.jsx(E.h2,{className:"text-2xl md:text-3xl font-bold mb-8 text-center",variants:w,initial:"hidden",animate:"visible",children:t.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-purple-600 via-orange-500 to-yellow-500",children:m("appMode.chooseYourAppMode")})}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 w-full max-w-md",children:[t.jsxs(E.div,{className:`relative overflow-hidden p-4 rounded-xl border min-h-[100px] ${s==="MEET"?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 dark:border-purple-400":"border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-600"} shadow-xl cursor-pointer transition-all duration-300 transform-gpu hover:z-10`,style:{boxShadow:s==="MEET"?"0 10px 25px -5px rgba(168, 85, 247, 0.5), 0 8px 10px -6px rgba(168, 85, 247, 0.2)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(168, 85, 247, 0.4), 0 10px 10px -5px rgba(168, 85, 247, 0.2)",y:-8,rotateZ:[0,-1,1,0],transition:{rotateZ:{repeat:0,duration:.5,ease:"easeInOut"}}},whileTap:{scale:.96,y:0,rotateZ:0},onClick:()=>v("MEET"),initial:"hidden",variants:b,animate:s==="MEET"?{...b.visible(0),scale:[1,1.08,1.04],borderWidth:2,y:-8,rotate:[0,-1,1,-1,0],transition:{duration:.6,scale:{times:[0,.5,1],duration:.7},rotate:{times:[0,.25,.5,.75,1],duration:.8,ease:"easeInOut"},type:"spring",stiffness:150,damping:10}}:"visible",custom:0,children:[s==="MEET"&&t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-300/20 to-transparent",initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:1.5,ease:"linear",repeatDelay:.5}}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(E.div,{className:"flex items-center justify-center w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full overflow-hidden shadow-lg transform-gpu",animate:s==="MEET"?{scale:[1,1.1,1],transition:{repeat:1/0,repeatType:"reverse",duration:1.5,ease:"easeInOut"}}:{},children:t.jsx(E.div,{animate:s==="MEET"?{rotate:360,transition:{duration:20,repeat:1/0,ease:"linear"}}:{},children:t.jsx(Yt,{className:"h-7 w-7 text-white",fill:"white"})})}),f&&t.jsxs(E.div,{className:"absolute top-2 right-3 flex items-center gap-1 bg-gradient-to-r from-green-400 to-green-600 text-white text-xs px-2 py-0.5 rounded-full shadow-xl ring-2 ring-green-300 ring-opacity-50 z-10",style:{background:"linear-gradient(135deg, #10b981, #059669)",boxShadow:"0 4px 14px 0 rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.3},children:[t.jsx(ds,{className:"h-2.5 w-2.5"}),t.jsx("span",{className:"font-semibold text-xs",children:"Active"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-xl font-bold ${p?"text-white":"text-gray-900"}`,children:m("appMode.meet")}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:m("appMode.datingApp")}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-300 mt-1",children:m("appMode.meetLongDescription")})]})]})]}),t.jsxs(E.div,{className:`relative overflow-hidden p-4 rounded-xl border min-h-[100px] ${s==="HEAT"?"border-orange-500 bg-orange-50 dark:bg-orange-900/30 dark:border-orange-400":"border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-600"} shadow-xl cursor-pointer transition-all duration-300 transform-gpu hover:z-10`,style:{boxShadow:s==="HEAT"?"0 10px 25px -5px rgba(249, 115, 22, 0.5), 0 8px 10px -6px rgba(249, 115, 22, 0.2)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(249, 115, 22, 0.4), 0 10px 10px -5px rgba(249, 115, 22, 0.2)",y:-8,rotateZ:[0,1,-1,0],transition:{rotateZ:{repeat:0,duration:.5,ease:"easeInOut"}}},whileTap:{scale:.96,y:0,rotateZ:0},onClick:()=>v("HEAT"),initial:"hidden",variants:b,animate:s==="HEAT"?{...b.visible(1),scale:[1,1.08,1.04],borderWidth:2,y:-8,rotate:[0,1,-1,1,0],transition:{duration:.6,scale:{times:[0,.5,1],duration:.7},rotate:{times:[0,.25,.5,.75,1],duration:.8,ease:"easeInOut"},type:"spring",stiffness:150,damping:10}}:"visible",custom:1,children:[s==="HEAT"&&t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-orange-300/20 to-transparent",initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:1.5,ease:"linear",repeatDelay:.5}}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(E.div,{className:"flex items-center justify-center w-14 h-14 bg-gradient-to-br from-orange-500 to-yellow-300 rounded-full overflow-hidden shadow-lg transform-gpu",animate:s==="HEAT"?{scale:[1,1.1,1],transition:{repeat:1/0,repeatType:"reverse",duration:1.5,ease:"easeInOut"}}:{},children:t.jsx(E.div,{animate:s==="HEAT"?{y:[0,-3,0,-3,0],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}:{},children:t.jsx(Hs,{className:"h-7 w-7 text-white",fill:"rgba(255,255,255,0.3)"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-xl font-bold ${p?"text-white":"text-gray-900"}`,children:m("appMode.heat")}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:m("appMode.socialApp")}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-300 mt-1",children:m("appMode.heatLongDescription")})]})]})]}),t.jsxs(E.div,{className:`relative overflow-hidden p-4 rounded-xl border min-h-[100px] ${s==="SUITE"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 dark:border-blue-400":"border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-600"} shadow-xl cursor-pointer transition-all duration-300 transform-gpu hover:z-10`,style:{boxShadow:s==="SUITE"?"0 10px 25px -5px rgba(59, 130, 246, 0.5), 0 8px 10px -6px rgba(59, 130, 246, 0.2)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileHover:{scale:1.05,boxShadow:"0 20px 25px -5px rgba(59, 130, 246, 0.4), 0 10px 10px -5px rgba(59, 130, 246, 0.2)",y:-8,rotateZ:[0,-1,1,0],transition:{rotateZ:{repeat:0,duration:.5,ease:"easeInOut"}}},whileTap:{scale:.96,y:0,rotateZ:0},onClick:()=>v("SUITE"),initial:"hidden",variants:b,animate:s==="SUITE"?{...b.visible(2),scale:[1,1.08,1.04],borderWidth:2,y:-8,rotate:[0,-1,1,-1,0],transition:{duration:.6,scale:{times:[0,.5,1],duration:.7},rotate:{times:[0,.25,.5,.75,1],duration:.8,ease:"easeInOut"},type:"spring",stiffness:150,damping:10}}:"visible",custom:2,children:[s==="SUITE"&&t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-blue-300/20 to-transparent",initial:{x:"-100%"},animate:{x:"200%"},transition:{repeat:1/0,duration:1.5,ease:"linear",repeatDelay:.5}}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(E.div,{className:"flex items-center justify-center w-14 h-14 bg-gradient-to-br from-blue-600 to-indigo-500 rounded-full overflow-hidden shadow-lg transform-gpu",animate:s==="SUITE"?{scale:[1,1.1,1],transition:{repeat:1/0,repeatType:"reverse",duration:1.5,ease:"easeInOut"}}:{},children:t.jsx(E.div,{animate:s==="SUITE"?{rotateY:360,transition:{duration:2,repeat:1/0,ease:"easeInOut"}}:{},children:t.jsx(zr,{className:"h-7 w-7 text-white"})})}),g&&t.jsxs(E.div,{className:"absolute top-2 right-3 flex items-center gap-1 bg-gradient-to-r from-green-400 to-green-600 text-white text-xs px-2 py-0.5 rounded-full shadow-xl ring-2 ring-green-300 ring-opacity-50 z-10",style:{background:"linear-gradient(135deg, #10b981, #059669)",boxShadow:"0 4px 14px 0 rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.3},children:[t.jsx(ds,{className:"h-2.5 w-2.5"}),t.jsx("span",{className:"font-semibold text-xs",children:"Active"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-xl font-bold ${p?"text-white":"text-gray-900"}`,children:m("appMode.suite")}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:m("appMode.professionalNetwork")}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-300 mt-1",children:m("appMode.suiteLongDescription")})]})]})]})]}),t.jsx(Xt,{children:s&&t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3},className:"mt-10",children:t.jsxs(de,{size:"lg",className:"relative group py-6 px-8 overflow-hidden rounded-xl text-white font-bold text-lg shadow-2xl transform-gpu transition-all duration-300",style:{background:"linear-gradient(to right, #7e22ce, #f59e0b, #facc15)",boxShadow:"0 10px 30px -10px rgba(126, 34, 206, 0.5), 0 10px 20px -15px rgba(245, 158, 11, 0.4)"},onClick:y,disabled:c,children:[t.jsx(E.span,{className:"absolute inset-0 bg-white opacity-10 group-hover:opacity-20 transition-opacity duration-300",animate:{background:["radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 50%)","radial-gradient(circle at 80% 50%, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 50%)","radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 50%)"]},transition:{duration:4,repeat:1/0,ease:"linear"}}),t.jsx("span",{className:"relative flex items-center",children:c?t.jsxs(t.Fragment,{children:[m("appMode.loading")," ",s]}):t.jsxs(t.Fragment,{children:[m("appMode.continueTo")," ",s," ",t.jsx(Ol,{className:"ml-2 h-5 w-5"})]})}),t.jsx(E.span,{className:"absolute bottom-0 left-0 right-0 h-1 bg-white opacity-30",initial:{width:0},animate:c?{width:"100%"}:{width:0},transition:{duration:1,ease:"easeInOut"}})]})})})]})})}function Wge(){const{user:e,isLoading:r}=Sr(),[n,a]=lr(),{translate:s}=tn();if(r)return t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen py-4 px-3",children:t.jsxs(E.div,{className:"w-full max-w-sm flex flex-col items-center gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),t.jsx("p",{className:"text-gray-600 text-sm",children:s("common.loading")})]})});if(u.useEffect(()=>{if(!r&&!e){a("/auth");return}if(e&&!r){if(e.id)try{sessionStorage.setItem("userId",e.id.toString());try{localStorage.setItem("userId",e.id.toString())}catch(o){console.warn("[STORAGE] Could not store userId in localStorage",o)}sessionStorage.setItem("appSelectionStarted","true")}catch(o){console.warn("[STORAGE] Storage error:",o)}if(sessionStorage.removeItem("loginTransition"),e.showAppModeSelection===!1&&e.showNationalitySelection===!1){console.log("[APP-SELECTION] Both toggles disabled, redirecting to last used app");const o=e.lastUsedApp||"MEET";let l="/";switch(o.toUpperCase()){case"MEET":l="/";break;case"HEAT":l="/heat";break;case"SUITE":l="/suite";break;default:l="/"}sessionStorage.setItem("appModeSelected","true"),a(l);return}}},[e,r,a]),r||!e)return null;const i=()=>{sessionStorage.setItem("appModeSelected","true"),sessionStorage.removeItem("showingNationalityBeforeAppSelection")};return t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen py-4 px-3",children:t.jsx(Xt,{children:t.jsx(E.div,{className:"w-full max-w-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:t.jsx(zge,{onSelect:i})})})})}function Hge(e,r=[]){let n=[];function a(i,o){const l=u.createContext(o),c=n.length;n=[...n,o];const d=h=>{var y;const{scope:p,children:f,...x}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,v=u.useMemo(()=>x,Object.values(x));return t.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function m(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,x=u.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Kge(s,...r)]}function Kge(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return u.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function qge(e){const r=u.useRef(e);return u.useEffect(()=>{r.current=e}),u.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}var kj=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function $4(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Yge(...e){return r=>{let n=!1;const a=e.map(s=>{const i=$4(s,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():$4(e[s],null)}}}}function Qge(e){const r=Jge(e),n=u.forwardRef((a,s)=>{const{children:i,...o}=a,l=u.Children.toArray(i),c=l.find(Zge);if(c){const d=c.props.children,m=l.map(h=>h===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:h);return t.jsx(r,{...o,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return t.jsx(r,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Jge(e){const r=u.forwardRef((n,a)=>{const{children:s,...i}=n;if(u.isValidElement(s)){const o=txe(s),l=exe(i,s.props);return s.type!==u.Fragment&&(l.ref=a?Yge(a,o):o),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var Xge=Symbol("radix.slottable");function Zge(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xge}function exe(e,r){const n={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function txe(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bS=rxe.reduce((e,r)=>{const n=Qge(`Primitive.${r}`),a=u.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function nxe(){return NN.useSyncExternalStore(axe,()=>!0,()=>!1)}function axe(){return()=>{}}var wS="Avatar",[sxe,wye]=Hge(wS),[ixe,vF]=sxe(wS),bF=u.forwardRef((e,r)=>{const{__scopeAvatar:n,...a}=e,[s,i]=u.useState("idle");return t.jsx(ixe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:t.jsx(bS.span,{...a,ref:r})})});bF.displayName=wS;var wF="AvatarImage",jF=u.forwardRef((e,r)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=vF(wF,n),l=oxe(a,i),c=qge(d=>{s(d),o.onImageLoadingStatusChange(d)});return kj(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx(bS.img,{...i,ref:r,src:a}):null});jF.displayName=wF;var NF="AvatarFallback",kF=u.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:a,...s}=e,i=vF(NF,n),[o,l]=u.useState(a===void 0);return u.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(bS.span,{...s,ref:r}):null});kF.displayName=NF;function F4(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oxe(e,{referrerPolicy:r,crossOrigin:n}){const a=nxe(),s=u.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=u.useState(()=>F4(i,e));return kj(()=>{l(F4(i,e))},[i,e]),kj(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),m=c("error");return i.addEventListener("load",d),i.addEventListener("error",m),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",m)}},[i,n,r]),o}var SF=bF,CF=jF,EF=kF;const Sj=u.forwardRef(({className:e,...r},n)=>t.jsx(SF,{ref:n,className:We("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Sj.displayName=SF.displayName;const Cj=u.forwardRef(({className:e,...r},n)=>t.jsx(CF,{ref:n,className:We("aspect-square h-full w-full",e),...r}));Cj.displayName=CF.displayName;const Ej=u.forwardRef(({className:e,...r},n)=>t.jsx(EF,{ref:n,className:We("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Ej.displayName=EF.displayName;const U4=()=>{var $,re,le,ce,ue,ee,Z,Se,Ue,De,se,L,q,H,ge,ke,z,ie,pe,ye,$e,Le,Oe,Ze;const[,e]=lr(),{matchId:r,userId1:n,userId2:a}=Rm(),[s,i]=u.useState("overview"),[o,l]=u.useState(!1),[c,d]=u.useState(null),[m,h]=u.useState(!1),[p,f]=u.useState(!1);tt.useEffect(()=>{const te=()=>{const at=document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches;f(at)};te();const Ne=new MutationObserver(te);Ne.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]});const rt=window.matchMedia("(prefers-color-scheme: dark)");return rt.addEventListener("change",te),()=>{Ne.disconnect(),rt.removeEventListener("change",te)}},[]);const[x,g]=u.useState({"big5-personality":!1,"compatibility-radar":!1,"relationship-strengths":!1,"growth-opportunities":!1,"personalized-recommendations":!1,"relationship-timeline":!1,"quick-actions":!1,"conversation-starters":!1,"date-ideas":!1,"communication-tips":!1,"gallery-overview":!1}),v=te=>{g(Ne=>{if(Ne[te])return{...Ne,[te]:!1};const at=Object.keys(Ne).find(xt=>Ne[xt]),jt={[te]:!0};return at&&at!==te&&(jt[at]=!1),{...Ne,...jt}})},{data:y,isLoading:b,error:w}=dt({queryKey:n&&a?[`/api/compatibility/${n}/${a}`]:[`/api/match-dashboard/${r}`],enabled:!!(r||n&&a),retry:2,staleTime:3e4}),{data:S}=dt({queryKey:[`/api/matches/between/${a}`],enabled:!!(n&&a),retry:2,staleTime:3e4}),{data:N}=dt({queryKey:["/api/messages"],enabled:!!(n&&a),retry:2,staleTime:3e4}),{data:P}=dt({queryKey:[`/api/profile/${a}`],enabled:!!a,retry:2,staleTime:6e4}),{data:C}=dt({queryKey:[`/api/profile/${n}`],enabled:!!n,retry:2,staleTime:6e4}),{data:I}=dt({queryKey:[`/api/photos/${a}`],enabled:!!a,retry:2,staleTime:6e4}),T=(($=y==null?void 0:y.compatibility)==null?void 0:$.compatibilityData)||(y==null?void 0:y.compatibilityData),_=({photo:te,onClose:Ne})=>te?t.jsx(Xt,{children:t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center p-4",onClick:Ne,children:[t.jsx(E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},onClick:Ne,className:"absolute top-4 right-4 z-60 w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20 hover:bg-white/20 transition-all duration-300",children:t.jsx(mt,{className:"h-6 w-6 text-white"})}),t.jsxs(E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:rt=>rt.stopPropagation(),children:[t.jsx("img",{src:te.url,alt:te.caption,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",style:{maxWidth:"90vw",maxHeight:"90vh",width:"auto",height:"auto"}}),te.caption&&te.caption.trim()&&t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:t.jsx("p",{className:"text-white text-center font-medium",children:te.caption})})]})]})}):null,k={overallScore:(T==null?void 0:T.overallScore)||85,categories:{personality:((re=T==null?void 0:T.categories)==null?void 0:re.personality)||88,lifestyle:((le=T==null?void 0:T.categories)==null?void 0:le.lifestyle)||82,values:((ce=T==null?void 0:T.categories)==null?void 0:ce.values)||90,interests:((ue=T==null?void 0:T.categories)==null?void 0:ue.interests)||78,communication:((ee=T==null?void 0:T.categories)==null?void 0:ee.communication)||86},insights:{strengths:((Z=T==null?void 0:T.insights)==null?void 0:Z.strengths)||["Shared passion for travel and adventure","Similar communication styles","Compatible life goals and values","Complementary personality traits"],growthAreas:((Se=T==null?void 0:T.insights)==null?void 0:Se.growthAreas)||["Different approaches to social activities","Varying interests in creative pursuits","Different preferred pace of life"],recommendations:((Ue=T==null?void 0:T.insights)==null?void 0:Ue.recommendations)||["Plan adventure trips together to strengthen your bond","Explore new creative activities as a couple","Discuss your social preferences openly","Find balance between active and relaxed activities"]},profiles:{user:{name:"You",age:C!=null&&C.dateOfBirth?Math.floor((Date.now()-new Date(C.dateOfBirth).getTime())/(365.25*24*60*60*1e3)):28,location:(C==null?void 0:C.location)||"New York, NY",photo:(C==null?void 0:C.photoUrl)||"",bio:(C==null?void 0:C.bio)||"Adventure seeker with a passion for photography and travel"},match:{name:((L=((se=(De=T==null?void 0:T.profiles)==null?void 0:De.match)==null?void 0:se.name)||(P==null?void 0:P.fullName)||(a?`User ${a}`:"Your Match"))==null?void 0:L.split(" ")[0])||"Your Match",age:((H=(q=T==null?void 0:T.profiles)==null?void 0:q.match)==null?void 0:H.age)||(P!=null&&P.dateOfBirth?Math.floor((Date.now()-new Date(P.dateOfBirth).getTime())/(365.25*24*60*60*1e3)):26),location:((ke=(ge=T==null?void 0:T.profiles)==null?void 0:ge.match)==null?void 0:ke.location)||(P==null?void 0:P.location)||"Unknown Location",photo:((ie=(z=T==null?void 0:T.profiles)==null?void 0:z.match)==null?void 0:ie.photo)||(P==null?void 0:P.photoUrl)||"",bio:((ye=(pe=T==null?void 0:T.profiles)==null?void 0:pe.match)==null?void 0:ye.bio)||(P==null?void 0:P.bio)||"Getting to know each other..."}}},{data:A=[]}=dt({queryKey:[`/api/interests/${n}`],enabled:!!n,retry:2,staleTime:6e4}),{data:F=[]}=dt({queryKey:[`/api/interests/${a}`],enabled:!!a,retry:2,staleTime:6e4}),J=(()=>{const te=Array.isArray(A)?A:[],Ne=Array.isArray(F)?F:[],rt=te.map(ut=>ut.interest),at=Ne.map(ut=>ut.interest),jt=rt.filter(ut=>at.includes(ut)),xt={adventure:["Travel","Hiking","Adventure","Outdoor Activities","Camping","Safari","Mountain Climbing","Rock Climbing","Backpacking"],creative:["Photography","Art","Painting","Drawing","Creative Writing","Arts & Design","Digital Art","Sculpture","Crafts"],culture:["Art Museums","Museums","Cultural Heritage","History","Theatre","Opera","Classical Music","Literature","Poetry"],lifestyle:["Coffee","Cooking","Food","Wine","Health & Wellness","Fitness","Yoga","Meditation","Fashion"],entertainment:["Live Music","Concerts","Movies","Dancing","Comedy","Theatre","Music","Entertainment","Parties"],food:["Cooking","Food","Local Cuisine","Jollof Rice","Traditional Cooking","Street Food","Coffee","Wine Tasting"],music:["Music","Live Music","Concerts","Dancing","Singing","Highlife Music","Gospel Music","Afrobeats","Traditional Drumming"],sports:["Football","Basketball","Sports","Athletics","Swimming","Boxing","Running","Gym","Tennis"],tech:["Technology","Programming","Tech","AI","Coding","Web Development","Gaming","Gadgets"],social:["Networking","Community Service","Volunteer Work","Social Events","Family","Friends"]},zt=((ut,cr)=>{const Ir=[];return ut.forEach(Bt=>{if(cr.includes(Bt))return;const vt=Object.keys(xt).find(Ft=>xt[Ft].some($t=>$t.toLowerCase().includes(Bt.toLowerCase())||Bt.toLowerCase().includes($t.toLowerCase())));vt&&cr.forEach(Ft=>{xt[vt].some($t=>$t.toLowerCase().includes(Ft.toLowerCase())||Ft.toLowerCase().includes($t.toLowerCase()))&&Ir.push({yours:Bt,theirs:Ft,category:vt,match:70+Math.floor(Math.random()*25)})})}),Ir})(rt,at),Wt=ut=>{const cr={Travel:"",Hiking:"",Adventure:"","Outdoor Activities":"",Camping:"",Safari:"","Mountain Climbing":"","Rock Climbing":"",Backpacking:"",Photography:"",Art:"",Painting:"",Drawing:"","Creative Writing":"","Arts & Design":"","Digital Art":"",Sculpture:"",Crafts:"","Art Museums":"",Museums:"","Cultural Heritage":"",History:"",Theatre:"",Opera:"","Classical Music":"",Literature:"",Poetry:"",Coffee:"",Cooking:"",Food:"",Wine:"","Health & Wellness":"",Fitness:"",Yoga:"",Meditation:"",Fashion:"","Live Music":"",Concerts:"",Movies:"",Dancing:"",Comedy:"",Music:"",Entertainment:"",Parties:"","Local Cuisine":"","Jollof Rice":"","Traditional Cooking":"","Street Food":"","Wine Tasting":"","Highlife Music":"","Gospel Music":"",Afrobeats:"","Traditional Drumming":"","Kente Weaving":"","Cultural Festivals":"",Football:"",Basketball:"",Sports:"",Athletics:"",Swimming:"",Boxing:"",Running:"",Gym:"",Tennis:"",Technology:"",Programming:"",Tech:"",AI:"",Coding:"","Web Development":"",Gaming:"",Gadgets:"",Networking:"","Community Service":"","Volunteer Work":"","Social Events":"",Family:"",Friends:""};if(cr[ut])return cr[ut];for(const[Ir,Bt]of Object.entries(cr))if(Ir.toLowerCase().includes(ut.toLowerCase())||ut.toLowerCase().includes(Ir.toLowerCase()))return Bt;return""},Et=[...jt.map(ut=>({name:ut,match:100,icon:Wt(ut),category:"exact",type:"shared"})),...zt.slice(0,6).map(ut=>({name:`${ut.yours} / ${ut.theirs}`,match:ut.match,icon:Wt(ut.yours),category:ut.category,type:"similar",yours:ut.yours,theirs:ut.theirs}))];if(Et.length<6){const ut=6-Et.length,cr=new Set([...jt,...zt.map(vt=>vt.yours),...zt.map(vt=>vt.theirs)]),Ir=rt.filter(vt=>!cr.has(vt)).slice(0,Math.ceil(ut/2)).map(vt=>({name:vt,match:0,icon:Wt(vt),category:"unique",type:"yours"})),Bt=at.filter(vt=>!cr.has(vt)).slice(0,Math.floor(ut/2)).map(vt=>({name:vt,match:0,icon:Wt(vt),category:"unique",type:"theirs"}));Et.push(...Ir,...Bt)}return{sharedInterests:Et.slice(0,6),totalShared:jt.length,totalSimilar:zt.length,totalUnique:Et.filter(ut=>ut.type==="yours"||ut.type==="theirs").length,yourInterests:rt,theirInterests:at}})();console.log("Match Dashboard Debug:",{userId1:n,userId2:a,matchId:r,isLoading:b,error:w==null?void 0:w.message,matchData:y,userData:P,currentUserData:C,currentUserInterests:A,matchUserInterests:F,hasApiData:!!y,hasUserData:!!P,hasCurrentUserData:!!C,finalUserName:((Oe=((Le=($e=T==null?void 0:T.profiles)==null?void 0:$e.match)==null?void 0:Le.name)||(P==null?void 0:P.fullName)||(a?`User ${a}`:"Your Match"))==null?void 0:Oe.split(" ")[0])||"Your Match",currentUserPhoto:C==null?void 0:C.photoUrl,interestProcessingResult:J});const M={sharedInterests:J.sharedInterests.length>0?J.sharedInterests:[{name:"Travel",match:95,icon:"",category:"adventure",type:"fallback"},{name:"Photography",match:88,icon:"",category:"creative",type:"fallback"},{name:"Coffee",match:92,icon:"",category:"lifestyle",type:"fallback"},{name:"Art Museums",match:85,icon:"",category:"culture",type:"fallback"},{name:"Hiking",match:78,icon:"",category:"outdoor",type:"fallback"},{name:"Live Music",match:82,icon:"",category:"entertainment",type:"fallback"}],conversationStarters:["Ask about her latest art project","Share your favorite travel destination","Discuss the best coffee shops in NYC","Plan a photography walk together"],mutualConnections:3,compatibilityTrend:[65,72,78,83,85],achievements:[{name:"Perfect Match",icon:"",unlocked:!0,description:"High compatibility score"},{name:"Shared Passions",icon:"",unlocked:!0,description:"5+ common interests"},{name:"Great Communicator",icon:"",unlocked:!0,description:"Strong communication match"},{name:"Adventure Buddy",icon:"",unlocked:!1,description:"Plan your first trip together"}],personalityRadar:{you:[88,75,82,90,85,78],them:[85,82,88,85,72,92],labels:["Openness","Conscientiousness","Extraversion","Agreeableness","Emotional Stability","Adventurousness"]},nextSteps:[{action:"Send a message",confidence:95,icon:hn},{action:"Suggest a coffee date",confidence:88,icon:mm},{action:"Share a photo",confidence:82,icon:Ln},{action:"Plan an adventure",confidence:90,icon:IG}]},R=()=>{if(!S||!Array.isArray(S)||S.length===0)return{isMatched:!1,matchDate:null};const te=S.find(Ne=>Ne.matched===!0);return te?{isMatched:!0,matchDate:te.createdAt||te.matchedAt||new Date().toISOString()}:{isMatched:!1,matchDate:null}},B=()=>{if(!N||!Array.isArray(N)||N.length===0)return null;const te=N.filter(rt=>rt.senderId===parseInt(n)&&rt.receiverId===parseInt(a)||rt.senderId===parseInt(a)&&rt.receiverId===parseInt(n));if(te.length===0)return null;const Ne=te.sort((rt,at)=>new Date(rt.timestamp||rt.createdAt).getTime()-new Date(at.timestamp||at.createdAt).getTime());return Ne[0].timestamp||Ne[0].createdAt},O=R(),X=B();if(b)return t.jsx("div",{className:`min-h-screen flex items-center justify-center transition-all duration-700 ${p?"bg-gradient-to-br from-slate-900/95 via-gray-900/90 to-black/95":"bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4 transition-all duration-700 ${p?"border-purple-400 shadow-lg shadow-purple-500/30":"border-pink-400"}`}),t.jsx("p",{className:`text-lg transition-all duration-700 ${p?"text-white drop-shadow-lg":"text-white"}`,children:"Loading compatibility analysis..."}),n&&a&&t.jsx("p",{className:`text-sm mt-2 transition-all duration-700 ${p?"text-white/70 drop-shadow-md":"text-white/60"}`,children:"Analyzing compatibility between users..."})]})});w&&console.warn("API Error, using mock data:",w.message);const ae=tt.memo(({id:te,title:Ne,icon:rt,badge:at,children:jt,className:xt="",delay:jr=0})=>{const zt=x[te];return t.jsxs("div",{className:`bg-gradient-to-br backdrop-blur-xl border rounded-2xl overflow-hidden ${xt}`,children:[t.jsxs("button",{onClick:()=>v(te),className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors duration-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center backdrop-blur-sm",children:rt}),t.jsx("h3",{className:"font-bold text-white",children:Ne}),at&&t.jsx(St,{className:`${at.color} text-white px-2 py-0.5 text-xs`,children:at.text})]}),t.jsx(E.div,{animate:{rotate:zt?180:0},transition:{duration:.2},className:"w-6 h-6 rounded-lg bg-white/10 flex items-center justify-center",children:t.jsx(ls,{className:"h-4 w-4 text-white/80"})})]}),t.jsx(Xt,{mode:"wait",children:zt&&t.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:t.jsx("div",{className:"p-4 pt-0",children:jt})},`${te}-content`)})]})});return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 relative overflow-hidden",children:[t.jsx(de,{onClick:()=>e("/"),variant:"ghost",size:"sm",className:"absolute top-1 left-1 z-50 backdrop-blur-sm bg-white/10 hover:bg-white/20 text-white border border-white/20 hover:border-white/30 transition-all duration-300 rounded-full p-2 w-10 h-10",children:t.jsx(Wn,{className:"h-5 w-5"})}),t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-pink-400/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400/20 to-cyan-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-purple-400/10 to-pink-600/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}}),[...Array(4)].map((te,Ne)=>t.jsx(E.div,{className:`absolute w-px h-full transition-all duration-700 ${p?"bg-gradient-to-b from-transparent via-purple-400/15 to-transparent shadow-lg shadow-purple-500/20":"bg-gradient-to-b from-transparent via-purple-300/30 to-transparent shadow-sm shadow-purple-200/20"}`,style:{left:`${20+Ne*20}%`,transformOrigin:"top"},animate:{scaleY:[.5,1.2,.5],opacity:p?[.1,.3,.1]:[.2,.5,.2]},transition:{duration:4,repeat:1/0,delay:Ne*1}},`beam-${Ne}`))]}),t.jsxs(E.div,{className:`relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 transition-all duration-700 ${p?"backdrop-blur-sm":""}`,animate:{paddingTop:s==="overview"?"0.25rem":"0rem",paddingBottom:"1rem"},transition:{duration:1.2,ease:"easeInOut"},children:[t.jsx(Xt,{children:s==="overview"&&t.jsx(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,scale:0,transition:{duration:.8,ease:"easeInOut"}},transition:{duration:.8,ease:"easeOut"},className:"mb-3 sm:mb-6 pt-1 sm:pt-4",children:t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{className:"relative flex flex-col items-center mb-2",children:t.jsxs("div",{className:"relative flex justify-center items-center mb-8",children:[t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.2,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400 via-purple-500 to-purple-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-300 to-purple-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(236, 72, 153, 0.3)","0 0 40px rgba(236, 72, 153, 0.5)","0 0 20px rgba(236, 72, 153, 0.3)"]},transition:{duration:3,repeat:1/0},children:[t.jsxs(Sj,{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-pink-400/30 backdrop-blur-sm",children:[t.jsx(Cj,{src:k.profiles.user.photo,className:"object-cover"}),t.jsx(Ej,{className:"bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600 text-white text-2xl font-bold",children:"Y"})]}),[...Array(6)].map((te,Ne)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-pink-300 rounded-full opacity-60",style:{top:`${20+Ne*10}%`,left:`${10+Ne*15}%`},animate:{y:[-5,-15,-5],opacity:[.3,.8,.3],scale:[.8,1.2,.8]},transition:{duration:2+Ne*.3,repeat:1/0,delay:Ne*.2}},`user-particle-${Ne}`))]})]}),t.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[t.jsx(E.div,{className:"absolute left-[25%] sm:left-[22%] md:left-[20%] w-[10%] sm:w-[13%] md:w-[15%] h-px bg-gradient-to-r from-pink-300/60 to-transparent",initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},transition:{delay:1.8,duration:1},style:{transformOrigin:"left"}}),t.jsx(E.div,{className:"absolute right-[25%] sm:right-[22%] md:right-[20%] w-[10%] sm:w-[13%] md:w-[15%] h-px bg-gradient-to-l from-cyan-300/60 to-transparent",initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},transition:{delay:1.8,duration:1},style:{transformOrigin:"right"}})]}),t.jsx(E.div,{className:"relative mx-4 sm:mx-8 md:mx-12",initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},transition:{delay:.4,duration:.6,type:"spring"},children:t.jsxs("div",{className:"relative w-32 h-32",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-300 via-pink-400 to-purple-500 rounded-full blur-xl opacity-30 animate-pulse scale-110"}),t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"centralGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#FBBF24"}),t.jsx("stop",{offset:"20%",stopColor:"#F59E0B"}),t.jsx("stop",{offset:"40%",stopColor:"#F472B6"}),t.jsx("stop",{offset:"60%",stopColor:"#8B5CF6"}),t.jsx("stop",{offset:"80%",stopColor:"#06B6D4"}),t.jsx("stop",{offset:"100%",stopColor:"#10B981"})]}),t.jsxs("linearGradient",{id:"backgroundGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.1)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0.05)"})]}),t.jsxs("filter",{id:"centralGlow",children:[t.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),t.jsxs("filter",{id:"scoreGlow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"scoreBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"scoreBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#backgroundGradient)",strokeWidth:"2"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#centralGradient)",strokeWidth:"6",strokeLinecap:"round",filter:"url(#centralGlow)",strokeDasharray:"251.2",initial:{strokeDashoffset:251.2},animate:{strokeDashoffset:251.2-251.2*k.overallScore/100},transition:{delay:.8,duration:2,ease:"easeOut"}}),t.jsx(E.circle,{cx:"50",cy:"50",r:"35",fill:"none",stroke:"url(#centralGradient)",strokeWidth:"1",strokeLinecap:"round",strokeDasharray:"40 180",animate:{rotate:[0,360]},transition:{duration:12,repeat:1/0,ease:"linear"},opacity:"0.6"})]}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.2,duration:.8,type:"spring"},className:"text-center relative",children:[t.jsxs(E.div,{className:"text-3xl font-black bg-gradient-to-r from-yellow-200 via-pink-200 to-purple-200 bg-clip-text text-transparent drop-shadow-2xl filter blur-none",animate:{filter:["drop-shadow(0 0 10px rgba(251, 191, 36, 0.5))","drop-shadow(0 0 20px rgba(244, 114, 182, 0.7))","drop-shadow(0 0 10px rgba(139, 92, 246, 0.5))"]},transition:{duration:4,repeat:1/0},children:[k.overallScore,"%"]}),t.jsxs(E.div,{className:"text-xs font-semibold text-white/80 mt-1 tracking-wider uppercase",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},children:[k.overallScore>=80?"Excellent":k.overallScore>=60?"Great":"Good"," ","Match"]})]}),t.jsx(E.div,{className:"absolute -top-6",animate:{y:[-2,-8,-2],scale:[.8,1.1,.8],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},children:t.jsx(Yt,{className:"h-4 w-4 text-pink-300 fill-pink-300/60"})})]}),[...Array(3)].map((te,Ne)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-white rounded-full opacity-60",style:{top:"50%",left:"50%",transformOrigin:`${45+Ne*3}px 0px`},animate:{rotate:[0,360]},transition:{duration:8+Ne*2,repeat:1/0,ease:"linear"}},`orbit-${Ne}`))]})}),t.jsxs(E.div,{className:"relative",initial:{scale:0,rotate:180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{delay:.3,duration:.6,type:"spring"},whileHover:{scale:1.05,rotate:-5},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-cyan-500 to-cyan-600 rounded-full blur-2xl opacity-40 animate-pulse scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-300 to-cyan-400 rounded-full blur-lg opacity-60 animate-pulse scale-105"}),t.jsxs(E.div,{className:"relative",animate:{boxShadow:["0 0 20px rgba(6, 182, 212, 0.3)","0 0 40px rgba(6, 182, 212, 0.5)","0 0 20px rgba(6, 182, 212, 0.3)"]},transition:{duration:3,repeat:1/0,delay:1.5},children:[t.jsxs(Sj,{className:"relative h-32 w-32 border-4 border-white/90 shadow-2xl ring-4 ring-cyan-400/30 backdrop-blur-sm",children:[t.jsx(Cj,{src:k.profiles.match.photo,className:"object-cover"}),t.jsx(Ej,{className:"bg-gradient-to-br from-blue-500 via-cyan-500 to-blue-600 text-white text-2xl font-bold",children:k.profiles.match.name?k.profiles.match.name.charAt(0).toUpperCase():"M"})]}),[...Array(6)].map((te,Ne)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-cyan-300 rounded-full opacity-60",style:{top:`${25+Ne*8}%`,right:`${15+Ne*12}%`},animate:{y:[-3,-12,-3],opacity:[.4,.9,.4],scale:[.9,1.3,.9]},transition:{duration:2.5+Ne*.2,repeat:1/0,delay:Ne*.3}},`match-particle-${Ne}`))]})]})]})}),t.jsxs(E.div,{className:"relative mb-4 max-w-full overflow-hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.8},children:[t.jsxs("div",{className:"absolute inset-0 flex justify-center items-center",children:[t.jsx(E.div,{className:"absolute w-96 h-24 bg-gradient-to-r from-pink-500/20 via-purple-500/30 to-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}}),t.jsx(E.div,{className:"absolute w-80 h-20 bg-gradient-to-r from-cyan-400/30 via-pink-400/40 to-purple-400/30 rounded-full blur-2xl",animate:{scale:[1.1,.9,1.1],rotate:[0,180,360]},transition:{duration:8,repeat:1/0}})]}),t.jsx("div",{className:"w-full max-w-full mx-auto px-1 sm:px-2",children:t.jsxs(E.h1,{className:`relative font-black text-center mb-4 leading-none whitespace-nowrap ${(()=>{const te=k.profiles.user.name.length+(k.profiles.match.name||"Your Match").length+3;return te>25?"text-xs sm:text-sm md:text-base lg:text-lg xl:text-xl":te>20?"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl":te>15?"text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl":te>12?"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl":te>8?"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl":"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl"})()}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.8,type:"spring",stiffness:100},style:{wordBreak:"keep-all",overflowWrap:"normal"},children:[t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-pink-200 via-rose-300 to-pink-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(244, 114, 182, 0.3)","0 0 40px rgba(244, 114, 182, 0.5)","0 0 20px rgba(244, 114, 182, 0.3)"]},transition:{duration:6,repeat:1/0},style:{backgroundSize:"200% 200%",filter:"drop-shadow(0 0 15px rgba(244, 114, 182, 0.4))"},children:k.profiles.user.name})}),t.jsx(E.span,{className:"inline-block mx-2 sm:mx-3 md:mx-4",animate:{scale:[1,1.1,1],textShadow:["0 0 15px rgba(255, 255, 255, 0.5)","0 0 25px rgba(255, 255, 255, 0.7)","0 0 15px rgba(255, 255, 255, 0.5)"]},transition:{duration:4,repeat:1/0},whileHover:{scale:1.2},children:t.jsx("span",{className:"text-white font-bold",children:"&"})}),t.jsx(E.span,{className:"inline-block",whileHover:{scale:1.05,y:-2},transition:{type:"spring",stiffness:300},children:t.jsx(E.span,{className:"bg-gradient-to-r from-cyan-200 via-blue-300 to-cyan-400 bg-clip-text text-transparent font-extrabold tracking-tight",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"],textShadow:["0 0 20px rgba(6, 182, 212, 0.3)","0 0 40px rgba(6, 182, 212, 0.5)","0 0 20px rgba(6, 182, 212, 0.3)"]},transition:{duration:6,repeat:1/0,delay:3},style:{backgroundSize:"200% 200%",filter:"drop-shadow(0 0 15px rgba(6, 182, 212, 0.4))"},children:k.profiles.match.name||"Your Match"})})]})})]})]})})}),s!=="overview"&&t.jsx("div",{className:"fixed inset-0 pointer-events-none z-40",children:[...Array(50)].map((te,Ne)=>t.jsx(E.div,{className:"absolute w-2 h-2 bg-gradient-to-r from-pink-400 to-purple-600 rounded-full",style:{left:`${20+Math.random()*60}%`,top:`${10+Math.random()*40}%`},initial:{scale:1,opacity:1,x:0,y:0,rotate:0},animate:{scale:[1,.5,0],opacity:[1,.8,0],x:(Math.random()-.5)*200,y:(Math.random()-.5)*200+100,rotate:Math.random()*360},transition:{duration:1.5,ease:"easeOut",delay:Math.random()*.5}},`sprinkle-${Ne}`))}),t.jsx(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0,paddingTop:s==="overview"?void 0:"2rem"},transition:{delay:s==="overview"?1.4:.3,duration:.6,paddingTop:{duration:1.2,ease:"easeInOut"}},className:s!=="overview"?"pt-8":"",children:t.jsxs(Wd,{value:s,onValueChange:i,className:"w-full",children:[t.jsx(E.div,{className:"relative z-20 mb-2",animate:{marginTop:s==="overview"?"0.5rem":"0.25rem"},transition:{duration:1.2,ease:"easeInOut"},children:t.jsxs(Hd,{className:`grid w-full grid-cols-5 backdrop-blur-xl p-0.5 sm:p-1 rounded-lg shadow-lg min-h-[32px] sm:min-h-[36px] gap-0.5 sm:gap-1 transition-all duration-700 ${p?"bg-gray-800/60 border border-gray-600/30 shadow-black/40":"bg-white/70 border border-purple-200/50 shadow-purple-100/40"}`,children:[t.jsx(da,{value:"overview",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${p?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Overview"}),t.jsx(da,{value:"interests",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${p?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Interests"}),t.jsx(da,{value:"compatibility",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${p?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Analysis"}),t.jsx(da,{value:"insights",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${p?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Insights"}),t.jsx(da,{value:"recommendations",className:`rounded text-xs font-medium py-1 px-1 sm:py-1.5 sm:px-2 min-h-[28px] sm:min-h-[32px] transition-all duration-300 ${p?"text-gray-300 data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 data-[state=active]:shadow-lg hover:text-white hover:bg-gray-700/20":"text-white/70 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-white hover:bg-white/10"}`,children:"Actions"})]})}),t.jsxs(Xt,{mode:"wait",children:[t.jsx(Kn,{value:"overview",className:"space-y-3 md:space-y-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-3 md:space-y-8",children:[t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-600/20 to-pink-600/20 backdrop-blur-xl border border-purple-400/30 rounded-2xl p-4",children:t.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},className:"text-center group cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-1 sm:mb-2 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-full flex items-center justify-center border border-purple-400/30 group-hover:scale-110 transition-transform duration-300",children:t.jsx(Ql,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-300"})}),t.jsxs("div",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:[k.categories.personality,"%"]}),t.jsx("div",{className:"text-xs text-white/80 font-medium",children:"Personality"})]}),t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4,type:"spring"},className:"text-center group cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-1 sm:mb-2 bg-gradient-to-br from-pink-500/20 to-pink-600/20 rounded-full flex items-center justify-center border border-pink-400/30 group-hover:scale-110 transition-transform duration-300",children:t.jsx(Yt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-pink-300"})}),t.jsxs("div",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:[k.categories.values,"%"]}),t.jsx("div",{className:"text-xs text-white/80 font-medium",children:"Values"})]}),t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring"},className:"text-center group cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-1 sm:mb-2 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-full flex items-center justify-center border border-blue-400/30 group-hover:scale-110 transition-transform duration-300",children:t.jsx($n,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-300"})}),t.jsxs("div",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:[k.categories.lifestyle,"%"]}),t.jsx("div",{className:"text-xs text-white/80 font-medium",children:"Lifestyle"})]}),t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6,type:"spring"},className:"text-center group cursor-pointer",children:[t.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-1 sm:mb-2 bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 rounded-full flex items-center justify-center border border-cyan-400/30 group-hover:scale-110 transition-transform duration-300",children:t.jsx(hn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-300"})}),t.jsxs("div",{className:"font-bold text-white mb-1 text-sm sm:text-base",children:[k.categories.communication,"%"]}),t.jsxs("div",{className:"text-xs text-white/80 font-medium text-center px-1",children:[t.jsx("span",{className:"block sm:hidden",children:"Chat"}),t.jsx("span",{className:"hidden sm:block text-[10px] leading-tight",children:"Communication"})]})]})]})}),t.jsx(ae,{id:"compatibility-journey-overview",title:"Compatibility Journey",icon:t.jsxs("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-500/60 via-purple-500/60 to-cyan-500/60 rounded-full flex items-center justify-center border border-white/30 shadow-lg shadow-pink-500/40 relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 via-white/10 to-transparent rounded-full"}),t.jsx(ni,{className:"h-4 w-4 text-white relative z-10 drop-shadow-lg"})]}),className:"from-pink-500/20 via-purple-600/30 to-cyan-500/25 border-pink-400/50",delay:.4,children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[t.jsx("div",{className:"absolute top-4 right-8 w-16 h-16 bg-gradient-to-br from-pink-400/20 to-rose-500/20 rounded-full blur-xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-6 left-6 w-20 h-20 bg-gradient-to-br from-purple-400/15 to-cyan-400/15 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-1/2 right-1/4 w-12 h-12 bg-gradient-to-br from-cyan-400/20 to-purple-500/20 rounded-full blur-lg animate-pulse",style:{animationDelay:"2s"}})]}),t.jsx("div",{className:"space-y-4 mb-6",children:t.jsxs("div",{className:"relative bg-gradient-to-r from-pink-600/20 via-purple-600/25 to-cyan-600/20 rounded-xl p-4 border border-pink-400/30 backdrop-blur-sm",children:[t.jsx("div",{className:"absolute left-8 top-6 bottom-6 w-px bg-gradient-to-b from-cyan-500/60 via-purple-500/60 to-pink-500/60"}),t.jsx("div",{className:"space-y-6",children:(()=>{const te=[];if(O.isMatched){const Ne=new Date(O.matchDate);te.push({date:Ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:Ne.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),title:"Matched",description:"Initial compatibility established",icon:Yt,color:"text-pink-400/90",bgColor:"bg-pink-600/30",borderColor:"border-pink-500/40",status:"completed"})}else te.push({date:"",time:"",title:"Unmatched",description:"No match established yet",icon:Yt,color:"text-red-400/90",bgColor:"bg-red-600/30",borderColor:"border-red-500/40",status:"pending"});if(X){const Ne=new Date(X);te.push({date:Ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:Ne.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),title:"First Conversation",description:"Started chatting",icon:hn,color:"text-blue-400/90",bgColor:"bg-blue-600/30",borderColor:"border-blue-500/40",status:"completed"})}else O.isMatched&&te.push({date:"",time:"",title:"First Conversation",description:"No messages yet",icon:hn,color:"text-gray-400/90",bgColor:"bg-gray-600/30",borderColor:"border-gray-500/40",status:"pending"});return O.isMatched&&X&&te.push({date:"Future",time:"Planned",title:"First Date",description:"Planning to meet in person",icon:tl,color:"text-amber-400/90",bgColor:"bg-amber-600/30",borderColor:"border-amber-500/40",status:"upcoming"}),te})().map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:1+Ne*.1},className:"relative flex items-start space-x-4",children:[t.jsxs("div",{className:`relative z-10 w-10 h-10 ${te.bgColor} rounded-full flex items-center justify-center border ${te.borderColor} shadow-md backdrop-blur-sm flex-shrink-0`,children:[t.jsx(te.icon,{className:`h-4 w-4 ${te.color}`}),te.status==="upcoming"&&t.jsx("div",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-amber-500/80 rounded-full animate-pulse"})]}),t.jsxs("div",{className:"flex-1 pb-2",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h5",{className:"text-white/95 font-semibold text-sm",children:te.title}),t.jsxs("div",{className:"flex items-center space-x-2",children:[te.status==="completed"&&t.jsx("div",{className:"w-2 h-2 bg-emerald-500/80 rounded-full"}),te.status==="upcoming"&&t.jsx("div",{className:"w-2 h-2 bg-amber-500/80 rounded-full animate-pulse"}),te.status==="pending"&&t.jsx("div",{className:"w-2 h-2 bg-red-500/80 rounded-full"})]})]}),t.jsxs("div",{className:"text-xs text-white/50 mb-2 font-medium",children:[te.date,"  ",te.time]}),t.jsx("p",{className:"text-white/75 text-xs leading-relaxed mb-3",children:te.description}),t.jsx("div",{className:"w-full h-1.5 bg-black/40 rounded-full overflow-hidden border border-pink-400/20",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-pink-500/80 via-purple-500/80 to-cyan-500/80 rounded-full shadow-sm",initial:{width:0},animate:{width:`${te.score}%`},transition:{delay:1.2+Ne*.1,duration:1}})})]})]},Ne))})]})})]})}),t.jsx(ae,{id:"shared-interests-overview",title:"Shared Interests",icon:t.jsx(Yt,{className:"h-4 w-4 text-pink-300"}),className:"from-pink-900/80 via-purple-900/30 to-indigo-900/60 border-pink-400/40",delay:.6,children:t.jsxs("div",{className:"space-y-4",children:[J.totalShared>0&&t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},children:[t.jsxs("h4",{className:"text-emerald-200 text-sm font-bold mb-2 flex items-center",children:[t.jsx(Yt,{className:"h-3 w-3 mr-2 text-emerald-400"}),"Perfect Matches (",J.totalShared,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:M.sharedInterests.filter(te=>te.type==="shared").map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1+Ne*.05},className:"inline-flex items-center space-x-1 px-3 py-1 bg-emerald-500/20 text-emerald-100 text-xs rounded-full border border-emerald-400/30 hover:bg-emerald-500/30 transition-colors duration-200",children:[t.jsx("span",{children:te.icon}),t.jsx("span",{children:te.name})]},Ne))})]}),J.totalSimilar>0&&t.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.2},children:[t.jsxs("h4",{className:"text-blue-200 text-sm font-bold mb-2 flex items-center",children:[t.jsx(ni,{className:"h-3 w-3 mr-2 text-blue-400"}),"Similar Vibes (",J.totalSimilar,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:M.sharedInterests.filter(te=>te.type==="similar").map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.4+Ne*.05},className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-500/20 text-blue-100 text-xs rounded-full border border-blue-400/30 hover:bg-blue-500/30 transition-colors duration-200",title:`You: ${te.yours}  Them: ${te.theirs}  ${te.match}% match`,children:[t.jsx("span",{children:te.icon}),t.jsxs("span",{children:[te.yours,"/",te.theirs]}),t.jsxs("span",{className:"text-blue-300 font-medium",children:[te.match,"%"]})]},Ne))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs(E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:1.6},children:[t.jsxs("h4",{className:"text-pink-200 text-sm font-bold mb-2 flex items-center",children:[t.jsx(Jt,{className:"h-3 w-3 mr-2 text-pink-400"}),"Your Interests"]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.sharedInterests.filter(te=>te.type==="yours").slice(0,8).map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.8+Ne*.03},className:"inline-flex items-center space-x-1 px-2 py-1 bg-pink-500/15 text-pink-100 text-xs rounded-full border border-pink-400/20 hover:bg-pink-500/25 transition-colors duration-200",children:[t.jsx("span",{className:"text-xs",children:te.icon}),t.jsx("span",{children:te.name})]},Ne)),J.yourInterests.filter(te=>!M.sharedInterests.some(Ne=>Ne.name===te||Ne.yours===te)).slice(0,4).map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2+Ne*.03},className:"inline-flex items-center space-x-1 px-2 py-1 bg-pink-500/10 text-pink-100/80 text-xs rounded-full border border-pink-400/15 hover:bg-pink-500/20 transition-colors duration-200",children:[t.jsx("span",{className:"text-xs",children:""}),t.jsx("span",{children:te})]},`extra-yours-${Ne}`))]})]}),t.jsxs(E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:1.6},children:[t.jsxs("h4",{className:"text-purple-200 text-sm font-bold mb-2 flex items-center",children:[t.jsx(xn,{className:"h-3 w-3 mr-2 text-purple-400"}),(Ze=k.profiles.match.name)!=null&&Ze.split(" ")[0]?`${k.profiles.match.name.split(" ")[0]}'s`:"Their"," ","Interests"]}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.sharedInterests.filter(te=>te.type==="theirs").slice(0,8).map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.8+Ne*.03},className:"inline-flex items-center space-x-1 px-2 py-1 bg-purple-500/15 text-purple-100 text-xs rounded-full border border-purple-400/20 hover:bg-purple-500/25 transition-colors duration-200",children:[t.jsx("span",{className:"text-xs",children:te.icon}),t.jsx("span",{children:te.name})]},Ne)),J.theirInterests.filter(te=>!M.sharedInterests.some(Ne=>Ne.name===te||Ne.theirs===te)).slice(0,4).map((te,Ne)=>t.jsxs(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2+Ne*.03},className:"inline-flex items-center space-x-1 px-2 py-1 bg-purple-500/10 text-purple-100/80 text-xs rounded-full border border-purple-400/15 hover:bg-purple-500/20 transition-colors duration-200",children:[t.jsx("span",{className:"text-xs",children:""}),t.jsx("span",{children:te})]},`extra-theirs-${Ne}`))]})]})]})]})}),(()=>{var xt,jr,zt,Wt,Et,ut,cr,Ir,Bt;let te=[];I&&Array.isArray(I)&&I.length>0?te=I.map(vt=>({id:vt.id,url:vt.photoUrl,photoUrl:vt.photoUrl,caption:vt.caption||`Photo ${vt.id}`,isPrimary:vt.isPrimary})):(jr=(xt=T==null?void 0:T.profiles)==null?void 0:xt.match)!=null&&jr.photos?te=T.profiles.match.photos:P!=null&&P.photos?te=P.photos:P!=null&&P.profilePhotos?te=P.profilePhotos:(P||(zt=T==null?void 0:T.profiles)!=null&&zt.match)&&(P!=null&&P.photoUrl||(Et=(Wt=T==null?void 0:T.profiles)==null?void 0:Wt.match)!=null&&Et.photo||k.profiles.match.photo)&&(te=[{id:1,url:(P==null?void 0:P.photoUrl)||((cr=(ut=T==null?void 0:T.profiles)==null?void 0:ut.match)==null?void 0:cr.photo)||k.profiles.match.photo,photoUrl:(P==null?void 0:P.photoUrl)||((Bt=(Ir=T==null?void 0:T.profiles)==null?void 0:Ir.match)==null?void 0:Bt.photo)||k.profiles.match.photo,caption:"Profile Photo",isPrimary:!0}]);const Ne=te&&te.length>0,rt=6,at=o?te:te.slice(0,rt),jt=te.length>rt;return Ne?t.jsxs(ae,{id:"gallery-overview",title:"Gallery",icon:t.jsx(Ln,{className:"h-4 w-4 text-cyan-300"}),badge:{text:`${te.length} Photo${te.length!==1?"s":""}`,color:"bg-black/20 border-white/20"},className:"from-gray-900/80 via-blue-900/30 to-cyan-900/60 border-cyan-400/40",delay:.8,children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:at.map((vt,Ft)=>t.jsxs(E.div,{initial:m?!1:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:m?{}:{delay:1+Ft*.1,type:"spring"},className:"relative group cursor-pointer overflow-hidden rounded-xl",whileHover:{scale:1.03},onClick:$t=>{$t.stopPropagation(),h(!0);const dr=vt.caption||vt.description||"",Vt=/^Photo \d+$/i.test(dr.trim());d({url:vt.url||vt.photoUrl,caption:Vt?"":dr})},children:[t.jsxs("div",{className:"relative aspect-[3/4] bg-gradient-to-br from-gray-800/60 via-cyan-900/20 to-blue-900/40 rounded-xl overflow-hidden border border-cyan-400/20 hover:border-cyan-400/40 transition-all duration-300",children:[vt.url||vt.photoUrl?t.jsx("img",{src:vt.url||vt.photoUrl,alt:vt.caption||"Gallery photo",className:"absolute inset-0 w-full h-full object-cover",loading:"lazy"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/20",children:t.jsx(Ln,{className:"h-6 w-6 text-white/60"})})})]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000"}),(()=>{const $t=vt.caption||vt.description||"",dr=/^Photo \d+$/i.test($t.trim());return $t&&!dr?t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:t.jsx("p",{className:"text-white text-xs font-medium",children:$t})})}):null})()]}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-blue-600/20 rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]},vt.id||Ft))}),jt&&t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6},className:"mt-4 text-center",children:t.jsxs(de,{onClick:()=>l(!o),className:"bg-gradient-to-r from-cyan-500/20 to-blue-600/20 text-cyan-200 hover:from-cyan-500/30 hover:to-blue-600/30 border border-cyan-400/30 hover:border-cyan-400/50 transition-all duration-300 text-xs px-4 py-2",children:[t.jsx(Ln,{className:"h-3 w-3 mr-1"}),o?`Show Less (${rt})`:`View All Photos (${te.length})`]})})]}):null})()]},"overview")}),t.jsx(Kn,{value:"interests",className:"space-y-8",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-8",children:[t.jsx(ae,{id:"big5-personality",title:"Big 5 Personality Match",icon:t.jsx(Ql,{className:"h-5 w-5 text-cyan-400"}),className:"from-gray-900/80 via-purple-900/30 to-blue-900/60 border-cyan-400/40 shadow-2xl shadow-cyan-500/20",delay:.4,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-300 to-purple-300 bg-clip-text text-transparent mb-1",children:"91% Overall Match"}),t.jsx("p",{className:"text-cyan-100 text-sm",children:"Scientific personality compatibility analysis"})]}),t.jsx("div",{className:"space-y-6",children:[{trait:"Openness to Experience",yours:88,theirs:85,compatibility:95,description:"Love for new experiences, creativity, and intellectual curiosity",icon:"",color:"from-purple-400 to-purple-600"},{trait:"Conscientiousness",yours:70,theirs:78,compatibility:88,description:"Organization, self-discipline, and goal-oriented behavior",icon:"",color:"from-blue-400 to-blue-600"},{trait:"Extraversion",yours:75,theirs:82,compatibility:92,description:"Social energy, assertiveness, and positive emotions",icon:"",color:"from-pink-400 to-pink-600"},{trait:"Agreeableness",yours:85,theirs:80,compatibility:90,description:"Compassion, cooperation, and trust in relationships",icon:"",color:"from-emerald-400 to-emerald-600"},{trait:"Neuroticism",yours:35,theirs:28,compatibility:89,description:"Emotional stability and stress management (lower is better)",icon:"",color:"from-cyan-400 to-cyan-600"}].map((te,Ne)=>{var rt;return t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+Ne*.1},className:"bg-gradient-to-r from-gray-800/60 via-purple-900/20 to-blue-900/40 rounded-xl p-4 border border-purple-400/30 hover:border-cyan-400/50 hover:shadow-lg hover:shadow-purple-500/20 transition-all duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-2xl",children:te.icon}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-bold",children:te.trait}),t.jsx("p",{className:"text-cyan-100 text-xs",children:te.description})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold bg-gradient-to-r ${te.color} bg-clip-text text-transparent`,children:[te.compatibility,"%"]}),t.jsx("div",{className:"text-xs text-purple-300",children:"Match"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-pink-300",children:"You"}),t.jsxs("span",{className:"text-pink-300 font-medium",children:[te.yours,"%"]})]}),t.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-pink-400 to-pink-500 rounded-full",initial:{width:0},animate:{width:`${te.yours}%`},transition:{delay:1+Ne*.1,duration:1}})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-cyan-300",children:((rt=k.profiles.match.name||"Match")==null?void 0:rt.split(" ")[0])||"Match"}),t.jsxs("span",{className:"text-cyan-300 font-medium",children:[te.theirs,"%"]})]}),t.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-cyan-400 to-cyan-500 rounded-full",initial:{width:0},animate:{width:`${te.theirs}%`},transition:{delay:1.2+Ne*.1,duration:1}})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{className:"text-cyan-200",children:"Compatibility"}),t.jsxs("span",{className:"text-white font-bold",children:[te.compatibility,"%"]})]}),t.jsx("div",{className:"relative h-3 bg-white/10 rounded-full overflow-hidden",children:t.jsx(E.div,{className:`h-full bg-gradient-to-r ${te.color} rounded-full`,initial:{width:0},animate:{width:`${te.compatibility}%`},transition:{delay:1.4+Ne*.1,duration:1}})})]})]}),t.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/30",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${te.color} shadow-sm`}),t.jsxs("span",{className:"text-xs text-cyan-100",children:[te.compatibility>90?"Exceptional compatibility":te.compatibility>85?"Strong compatibility":"Good balance",Math.abs(te.yours-te.theirs)<15&&" - Similar personalities",Math.abs(te.yours-te.theirs)>=15&&" - Complementary differences"]})]})})]},te.trait)})}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.8},className:"mt-6 pt-6 border-t border-cyan-400/30",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-600/30 to-pink-600/20 rounded-lg border border-purple-400/30 hover:border-purple-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/20",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-xs font-semibold text-white truncate",children:"Personality Type"}),t.jsx("div",{className:"text-xs text-purple-200 truncate",children:"Harmonious Match"})]}),t.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-cyan-600/30 to-blue-600/20 rounded-lg border border-cyan-400/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-xs font-semibold text-white truncate",children:"Dynamic"}),t.jsx("div",{className:"text-xs text-cyan-200 truncate",children:"Balanced Energy"})]}),t.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-pink-600/30 to-purple-600/20 rounded-lg border border-pink-400/30 hover:border-pink-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/20",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-xs font-semibold text-white truncate",children:"Rare Compatibility"}),t.jsx("div",{className:"text-xs text-pink-200 truncate",children:"Top 8% of matches"})]})]})})]})}),t.jsxs(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:1},className:"bg-gradient-to-br from-blue-500/20 to-cyan-600/20 backdrop-blur-xl border border-blue-400/30 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center",children:[t.jsx(Yt,{className:"h-5 w-5 mr-2 text-blue-300"}),"Core Values Match"]}),t.jsx("div",{className:"space-y-4",children:[{value:"Family",match:95},{value:"Career Growth",match:88},{value:"Adventure",match:92},{value:"Health",match:85}].map((te,Ne)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),t.jsx("span",{className:"text-white/80 text-sm",children:te.value})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-16 h-1 bg-white/10 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full",initial:{width:0},animate:{width:`${te.match}%`},transition:{delay:1.2+Ne*.1,duration:.8}})}),t.jsxs("span",{className:"text-blue-300 text-sm font-medium w-8",children:[te.match,"%"]})]})]},te.value))})]}),t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-gradient-to-br from-emerald-500/20 to-teal-600/20 backdrop-blur-xl border border-emerald-400/30 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center",children:[t.jsx(hn,{className:"h-5 w-5 mr-2 text-emerald-300"}),"Communication Compatibility"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-3",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#emeraldGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${86*2.51} 251`,initial:{strokeDasharray:"0 251"},animate:{strokeDasharray:`${86*2.51} 251`},transition:{delay:1.4,duration:1.5}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"emeraldGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#34D399"}),t.jsx("stop",{offset:"100%",stopColor:"#059669"})]})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold",children:"86%"})})]}),t.jsx("p",{className:"text-emerald-200 text-sm",children:"Emotional Intelligence"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-3",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#blueGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${92*2.51} 251`,initial:{strokeDasharray:"0 251"},animate:{strokeDasharray:`${92*2.51} 251`},transition:{delay:1.6,duration:1.5}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"blueGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#1E40AF"})]})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-lg",children:"92%"})})]}),t.jsx("p",{className:"text-blue-200 text-sm",children:"Active Listening"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-3",children:[t.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[t.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),t.jsx(E.circle,{cx:"50",cy:"50",r:"40",fill:"none",stroke:"url(#purpleGradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${78*2.51} 251`,initial:{strokeDasharray:"0 251"},animate:{strokeDasharray:`${78*2.51} 251`},transition:{delay:1.8,duration:1.5}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"purpleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),t.jsx("stop",{offset:"100%",stopColor:"#6D28D9"})]})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-lg",children:"78%"})})]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"Conflict Resolution"})]})]})]})]},"interests")}),t.jsx(Kn,{value:"compatibility",className:"space-y-6",children:t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:t.jsxs(ae,{id:"compatibility-radar",title:"Compatibility Radar",icon:t.jsx(Nn,{className:"h-4 w-4 text-violet-300"}),className:"from-violet-500/20 to-purple-600/20 border-violet-400/30",delay:.1,children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-violet-200",children:[k.overallScore,"%"]}),t.jsx("div",{className:"text-xs text-violet-300",children:"Overall Match"})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"relative w-80 h-80",children:[t.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[t.jsxs("defs",{children:[t.jsxs("radialGradient",{id:"radarGradient",cx:"50%",cy:"50%",r:"50%",children:[t.jsx("stop",{offset:"0%",stopColor:"rgba(139, 92, 246, 0.1)"}),t.jsx("stop",{offset:"50%",stopColor:"rgba(139, 92, 246, 0.05)"}),t.jsx("stop",{offset:"100%",stopColor:"rgba(139, 92, 246, 0)"})]}),t.jsxs("filter",{id:"radarGlow",children:[t.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),[20,40,60,80].map((te,Ne)=>t.jsx("circle",{cx:"100",cy:"100",r:te,fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1",opacity:.6-Ne*.1},te)),[{angle:0,label:"Personality"},{angle:60,label:"Values"},{angle:120,label:"Communication"},{angle:180,label:"Lifestyle"},{angle:240,label:"Interests"},{angle:300,label:"Adventure"}].map((te,Ne)=>{const rt=te.angle*Math.PI/180,at=100+80*Math.cos(rt),jt=100+80*Math.sin(rt);return t.jsx("line",{x1:"100",y1:"100",x2:at,y2:jt,stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"1"},te.label)}),t.jsx(E.polygon,{points:[k.categories.personality,k.categories.values,k.categories.communication,k.categories.lifestyle,k.categories.interests,92].map((te,Ne)=>{const at=Ne*60*Math.PI/180,jt=te/100*80,xt=100+jt*Math.cos(at),jr=100+jt*Math.sin(at);return`${xt},${jr}`}).join(" "),fill:"url(#radarGradient)",stroke:"url(#violetGradient)",strokeWidth:"2",filter:"url(#radarGlow)",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1,duration:1.5,type:"spring"}}),[{score:k.categories.personality,angle:0,color:"#8B5CF6"},{score:k.categories.values,angle:60,color:"#EC4899"},{score:k.categories.communication,angle:120,color:"#06B6D4"},{score:k.categories.lifestyle,angle:180,color:"#10B981"},{score:k.categories.interests,angle:240,color:"#F59E0B"},{score:92,angle:300,color:"#EF4444"}].map((te,Ne)=>{const rt=te.angle*Math.PI/180,at=te.score/100*80,jt=100+at*Math.cos(rt),xt=100+at*Math.sin(rt);return t.jsx(E.circle,{cx:jt,cy:xt,r:"4",fill:te.color,stroke:"white",strokeWidth:"2",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.2+Ne*.1,type:"spring"},whileHover:{scale:1.5}},Ne)}),[{label:"Personality",angle:0,score:k.categories.personality},{label:"Values",angle:60,score:k.categories.values},{label:"Communication",angle:120,score:k.categories.communication},{label:"Lifestyle",angle:180,score:k.categories.lifestyle},{label:"Interests",angle:240,score:k.categories.interests},{label:"Adventure",angle:300,score:92}].map((te,Ne)=>{const rt=te.angle*Math.PI/180;let at=90;(te.label==="Lifestyle"||te.label==="Personality")&&(at=98);let jt=100+at*Math.cos(rt),xt=100+at*Math.sin(rt);(te.label==="Lifestyle"||te.label==="Personality")&&(xt=xt-8);let jr="middle";return jt<30&&(jr="start"),jt>170&&(jr="end"),t.jsxs(E.g,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5+Ne*.1},children:[t.jsx("text",{x:jt,y:xt,textAnchor:jr,dominantBaseline:"middle",className:"text-[6px] sm:text-[7px] md:text-[8px] font-medium fill-white/80",children:te.label}),t.jsx("text",{x:jt,y:xt+8,textAnchor:jr,dominantBaseline:"middle",className:"text-[6px] sm:text-[7px] md:text-[8px] font-bold fill-violet-300",children:te.score})]},te.label)}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"violetGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),t.jsx("stop",{offset:"50%",stopColor:"#EC4899"}),t.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]})})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs(E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:2,type:"spring"},className:"text-center bg-black/20 backdrop-blur-sm rounded-full w-14 h-14 flex flex-col items-center justify-center border border-white/20",children:[t.jsxs("div",{className:"text-sm font-bold text-violet-200",children:[k.overallScore,"%"]}),t.jsx("div",{className:"text-xs text-white/60",children:"Match"})]})})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{className:"text-base font-bold text-white mb-2",children:"Detailed Compatibility Analysis"}),t.jsx("p",{className:"text-sm text-white/60",children:"Explore each dimension of your connection"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{category:"Personality Match",score:k.categories.personality,icon:"",description:"Your personality traits complement each other beautifully. You both bring different strengths to the relationship while maintaining core compatibility.",details:"Strong complementary traits, balanced introversion/extraversion, similar emotional intelligence levels",color:"from-purple-500 to-purple-600",bgColor:"from-purple-500/10 to-purple-600/10",borderColor:"border-purple-400/30"},{category:"Core Values Alignment",score:k.categories.values,icon:"",description:"Exceptional alignment in fundamental life principles and beliefs. You share similar perspectives on what matters most in life.",details:"Family values, career priorities, ethical standards, life philosophy, relationship goals",color:"from-pink-500 to-pink-600",bgColor:"from-pink-500/10 to-pink-600/10",borderColor:"border-pink-400/30"},{category:"Communication Style",score:k.categories.communication,icon:"",description:"Great potential for meaningful, deep conversations. Your communication styles are highly compatible with mutual understanding.",details:"Active listening skills, emotional expression, conflict resolution, humor compatibility",color:"from-cyan-500 to-cyan-600",bgColor:"from-cyan-500/10 to-cyan-600/10",borderColor:"border-cyan-400/30"},{category:"Lifestyle Compatibility",score:k.categories.lifestyle,icon:"",description:"Your daily routines, habits, and lifestyle preferences align well, creating a harmonious living dynamic.",details:"Sleep schedules, social preferences, work-life balance, health habits, living arrangements",color:"from-emerald-500 to-emerald-600",bgColor:"from-emerald-500/10 to-emerald-600/10",borderColor:"border-emerald-400/30"},{category:"Shared Interests",score:k.categories.interests,icon:"",description:"Multiple shared hobbies and activities provide excellent foundation for quality time together and mutual growth.",details:"Travel enthusiasm, creative pursuits, sports activities, cultural interests, learning goals",color:"from-amber-500 to-amber-600",bgColor:"from-amber-500/10 to-amber-600/10",borderColor:"border-amber-400/30"},{category:"Adventure Compatibility",score:92,icon:"",description:"Perfect match for exploration and adventure! You both share a strong desire for new experiences and discoveries.",details:"Travel goals, risk tolerance, spontaneity levels, exploration interests, bucket list alignment",color:"from-red-500 to-red-600",bgColor:"from-red-500/10 to-red-600/10",borderColor:"border-red-400/30"}].map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:2.2+Ne*.15,type:"spring"},className:`relative p-4 bg-gradient-to-br ${te.bgColor} backdrop-blur-xl border ${te.borderColor} rounded-xl hover:scale-[1.02] transition-all duration-300 cursor-pointer group overflow-hidden`,children:[t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 opacity-10",children:t.jsx("div",{className:`w-full h-full bg-gradient-to-br ${te.color} rounded-full blur-xl`})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center backdrop-blur-sm group-hover:scale-110 transition-transform",children:t.jsx("span",{className:"text-lg",children:te.icon})}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-sm font-bold text-white group-hover:text-white/90 transition-colors",children:te.category}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:te.score}),t.jsx(St,{className:`bg-gradient-to-r ${te.color} text-white border-0 px-2 py-0.5 text-xs`,children:te.score>=90?"Outstanding":te.score>=85?"Excellent":te.score>=70?"Great":"Good"})]})]})]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:te.description}),t.jsxs("div",{className:"p-2 bg-black/20 rounded-lg backdrop-blur-sm",children:[t.jsx("p",{className:"text-xs text-white/70 font-medium mb-1",children:"Key Areas:"}),t.jsx("p",{className:"text-xs text-white/60",children:te.details})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-white/60 mb-1",children:[t.jsx("span",{children:"Compatibility Score"}),t.jsx("span",{children:te.score})]}),t.jsx("div",{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:`h-full bg-gradient-to-r ${te.color} rounded-full relative overflow-hidden`,initial:{width:0},animate:{width:`${te.score}%`},transition:{delay:2.8+Ne*.1,duration:1.2,ease:"easeOut"},children:t.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]})]})]},te.category))})]})]})]})},"compatibility")}),t.jsx(Kn,{value:"insights",className:"space-y-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[t.jsx(ae,{id:"relationship-strengths",title:"Relationship Strengths",icon:t.jsx(v0,{className:"h-4 w-4 text-emerald-300"}),className:"from-emerald-500/20 to-green-600/20 border-emerald-400/30",delay:.1,children:t.jsx("div",{className:"space-y-2",children:k.insights.strengths.map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+Ne*.1},className:"flex items-center space-x-3 p-4 bg-white/10 rounded-lg backdrop-blur-sm hover:bg-white/15 transition-colors w-full group cursor-pointer",children:[t.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full flex-shrink-0 group-hover:scale-125 transition-transform"}),t.jsx("p",{className:"text-white/90 leading-relaxed group-hover:text-white transition-colors flex-1 text-sm",children:te}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-6 h-6 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:t.jsx(v0,{className:"h-3 w-3 text-emerald-300"})})})]},Ne))})}),t.jsx(ae,{id:"growth-opportunities",title:"Growth Opportunities",icon:t.jsx(ni,{className:"h-4 w-4 text-amber-300"}),className:"from-amber-500/20 to-orange-600/20 border-amber-400/30",delay:.2,children:t.jsx("div",{className:"space-y-2",children:k.insights.growthAreas.map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+Ne*.1},className:"flex items-center space-x-3 p-4 bg-white/10 rounded-lg backdrop-blur-sm hover:bg-white/15 transition-colors w-full group cursor-pointer",children:[t.jsx("div",{className:"w-6 h-6 bg-amber-400/20 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:t.jsx("span",{className:"text-amber-300 font-semibold text-sm",children:Ne+1})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white/90 leading-relaxed group-hover:text-white transition-colors text-sm",children:te}),t.jsx("div",{className:"mt-1 text-xs text-amber-200/60",children:" Tip: Focus on open communication and mutual understanding"})]}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-6 h-6 bg-amber-500/20 rounded-lg flex items-center justify-center",children:t.jsx(ni,{className:"h-3 w-3 text-amber-300"})})})]},Ne))})}),t.jsx(ae,{id:"personalized-recommendations",title:"Personalized Recommendations",icon:t.jsx(yp,{className:"h-4 w-4 text-blue-300"}),className:"from-blue-500/20 to-indigo-600/20 border-blue-400/30",delay:.3,children:t.jsx("div",{className:"space-y-2",children:k.insights.recommendations.map((te,Ne)=>t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+Ne*.1},className:"relative p-3 bg-gradient-to-br from-white/10 to-white/5 rounded-lg backdrop-blur-sm border border-white/20 hover:border-blue-400/50 transition-all duration-300 group cursor-pointer w-full",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-400/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:t.jsx(bo,{className:"h-4 w-4 text-blue-300"})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Rn,{className:"h-3 w-3 text-yellow-400"}),t.jsxs("span",{className:"text-xs font-semibold text-blue-200",children:["Tip #",Ne+1]})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-white/90 leading-relaxed group-hover:text-white transition-colors text-sm",children:te}),t.jsxs("div",{className:"mt-2 text-xs text-blue-200/60",children:[" Success Rate:"," ",85+Math.floor(Math.random()*15),"%"]})]}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-6 h-6 bg-blue-500/20 rounded-lg flex items-center justify-center",children:t.jsx(yp,{className:"h-3 w-3 text-blue-300"})})})]})},Ne))})}),t.jsx(ae,{id:"relationship-timeline",title:"Relationship Timeline",icon:t.jsx(Ja,{className:"h-4 w-4 text-purple-300"}),className:"from-purple-500/20 to-pink-600/20 border-purple-400/30",delay:.4,children:t.jsx("div",{className:"space-y-3",children:[{phase:"Getting to Know",status:"Complete",progress:100,color:"emerald",icon:Jt,description:"Building initial connection and discovering shared interests"},{phase:"Building Connection",status:"In Progress",progress:75,color:"blue",icon:Yt,description:"Developing deeper emotional bonds and understanding"},{phase:"Deeper Bond",status:"Next",progress:30,color:"purple",icon:xn,description:"Creating meaningful experiences and intimate conversations"},{phase:"Long-term Planning",status:"Future",progress:0,color:"pink",icon:tl,description:"Discussing future goals and life compatibility"}].map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8+Ne*.1},className:`flex items-center space-x-4 p-4 bg-gradient-to-br from-${te.color}-500/10 to-${te.color}-600/10 rounded-lg border border-${te.color}-400/30 w-full group cursor-pointer hover:border-${te.color}-400/50 transition-all duration-300`,children:[t.jsx("div",{className:`w-12 h-12 bg-${te.color}-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0`,children:t.jsx(te.icon,{className:`h-6 w-6 text-${te.color}-300`})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h4",{className:"font-bold text-white group-hover:text-white/90 transition-colors text-sm",children:te.phase}),t.jsx("div",{className:`text-xs text-${te.color}-200 bg-${te.color}-500/20 px-2 py-0.5 rounded-full`,children:te.status})]}),t.jsx("p",{className:"text-white/70 text-xs mb-3 leading-relaxed",children:te.description}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full h-2 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:`h-full bg-gradient-to-r from-${te.color}-400 to-${te.color}-500 rounded-full`,initial:{width:0},animate:{width:`${te.progress}%`},transition:{delay:1+Ne*.1,duration:1}})})}),t.jsxs("div",{className:"text-xs font-semibold text-white/80 min-w-[2.5rem]",children:[te.progress,"%"]})]})]}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:`w-6 h-6 bg-${te.color}-500/20 rounded-lg flex items-center justify-center`,children:t.jsx(ia,{className:`h-3 w-3 text-${te.color}-300`})})})]},Ne))})})]},"insights")}),t.jsx(Kn,{value:"recommendations",className:"space-y-6",children:t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:[t.jsx(ae,{id:"quick-actions",title:"Quick Actions",icon:t.jsx(Ea,{className:"h-4 w-4 text-pink-300"}),className:"from-pink-500/20 to-rose-600/20 border-pink-400/30",delay:.1,children:t.jsx("div",{className:"space-y-2",children:M.nextSteps.map((te,Ne)=>{const rt=te.icon;return t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2+Ne*.1},className:"flex items-center space-x-3 p-3 bg-gradient-to-br from-white/10 to-white/5 rounded-lg backdrop-blur-sm border border-white/20 hover:border-pink-400/50 transition-all duration-300 group cursor-pointer w-full",children:[t.jsx("div",{className:"w-8 h-8 bg-pink-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:t.jsx(rt,{className:"h-4 w-4 text-pink-300"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-white mb-1 group-hover:text-white/90 transition-colors text-xs",children:te.action}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full h-1.5 bg-white/20 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"h-full bg-gradient-to-r from-pink-400 to-rose-500 rounded-full",initial:{width:0},animate:{width:`${te.confidence}%`},transition:{delay:.4+Ne*.1,duration:1}})})}),t.jsxs("div",{className:"text-xs font-medium text-pink-200 min-w-[3rem]",children:[te.confidence,"%"]})]})]}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-5 h-5 bg-pink-500/20 rounded-lg flex items-center justify-center",children:t.jsx(ia,{className:"h-3 w-3 text-pink-300"})})})]},Ne)})})}),t.jsx(ae,{id:"conversation-starters",title:"Conversation Starters",icon:t.jsx(hn,{className:"h-4 w-4 text-blue-300"}),className:"from-blue-500/20 to-indigo-600/20 border-blue-400/30",delay:.2,children:t.jsx("div",{className:"space-y-2",children:M.conversationStarters.map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+Ne*.1},className:"flex items-center space-x-3 p-3 bg-gradient-to-br from-white/10 to-white/5 rounded-lg backdrop-blur-sm border border-white/20 hover:border-blue-400/50 transition-all duration-300 group cursor-pointer w-full",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-400/20 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:t.jsx("span",{className:"text-blue-300 font-semibold text-xs",children:Ne+1})}),t.jsx("div",{className:"flex-1",children:t.jsx("p",{className:"text-white/90 leading-relaxed group-hover:text-white transition-colors text-xs",children:te})}),t.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(de,{size:"sm",className:"bg-blue-500/20 text-blue-200 hover:bg-blue-500/30 border border-blue-400/30 text-xs px-1.5 py-0.5",children:"Use This"}),t.jsx("div",{className:"w-5 h-5 bg-blue-500/20 rounded-lg flex items-center justify-center",children:t.jsx(hn,{className:"h-3 w-3 text-blue-300"})})]})]},Ne))})}),t.jsx(ae,{id:"date-ideas",title:"Perfect Date Ideas",icon:t.jsx(tl,{className:"h-4 w-4 text-purple-300"}),className:"from-purple-500/20 to-indigo-600/20 border-purple-400/30",delay:.3,children:t.jsx("div",{className:"space-y-2",children:[{activity:"Photography Walk",location:"Brooklyn Bridge",duration:"2-3 hours",match:95,icon:Ln,description:"Capture the city together while exploring iconic spots",tags:["Creative","Outdoor","Romantic"]},{activity:"Coffee & Art",location:"MoMA + Local Caf",duration:"3-4 hours",match:88,icon:mm,description:"Discuss art over expertly crafted coffee",tags:["Cultural","Intimate","Inspiring"]},{activity:"Adventure Day",location:"Central Park",duration:"Full Day",match:92,icon:ta,description:"Hiking, picnic, and outdoor exploration",tags:["Active","Fun","Adventurous"]}].map((te,Ne)=>{const rt=te.icon;return t.jsxs(E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6+Ne*.1},className:"flex items-center space-x-3 p-3 bg-gradient-to-br from-white/10 to-white/5 rounded-lg backdrop-blur-sm border border-white/20 hover:border-purple-400/50 transition-all duration-300 group cursor-pointer w-full",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform flex-shrink-0",children:t.jsx(rt,{className:"h-4 w-4 text-purple-300"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("h4",{className:"font-semibold text-white group-hover:text-white/90 transition-colors text-xs",children:te.activity}),t.jsxs(St,{className:"bg-purple-500 text-white text-xs px-1.5 py-0.5",children:[te.match,"%"]})]}),t.jsxs("p",{className:"text-purple-200 text-xs mb-1",children:[te.location,"  ",te.duration]}),t.jsx("p",{className:"text-white/80 text-xs mb-2 leading-relaxed",children:te.description}),t.jsx("div",{className:"flex flex-wrap gap-1",children:te.tags.map((at,jt)=>t.jsx("span",{className:"text-xs px-1 py-0.5 bg-purple-400/20 text-purple-200 rounded-full",children:at},jt))})]}),t.jsxs("div",{className:"flex flex-col space-y-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(de,{size:"sm",className:"bg-purple-500/20 text-purple-200 hover:bg-purple-500/30 border border-purple-400/30 text-xs px-1.5 py-0.5",children:"Plan Date"}),t.jsx("div",{className:"w-5 h-5 bg-purple-500/20 rounded-lg flex items-center justify-center mx-auto",children:t.jsx(tl,{className:"h-3 w-3 text-purple-300"})})]})]},Ne)})})}),t.jsx(ae,{id:"communication-tips",title:"Communication Tips",icon:t.jsx(Jt,{className:"h-4 w-4 text-emerald-300"}),className:"from-emerald-500/20 to-teal-600/20 border-emerald-400/30",delay:.4,children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h4",{className:"font-semibold text-emerald-200 mb-2 flex items-center text-xs",children:[t.jsx(v0,{className:"h-3 w-3 mr-1"}),"Do's - Recommended Approaches"]}),["Ask about her artistic inspirations","Share your travel photography stories","Be genuine about your interests","Listen actively and ask follow-up questions"].map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+Ne*.1},className:"flex items-center space-x-2 p-2 bg-emerald-500/10 rounded-lg backdrop-blur-sm hover:bg-emerald-500/15 transition-colors w-full group cursor-pointer",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full flex-shrink-0 group-hover:scale-125 transition-transform"}),t.jsx("p",{className:"text-white/90 leading-relaxed flex-1 group-hover:text-white transition-colors text-xs",children:te}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-5 h-5 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:t.jsx(v0,{className:"h-3 w-3 text-emerald-300"})})})]},Ne))]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h4",{className:"font-semibold text-amber-200 mb-2 flex items-center text-xs",children:[t.jsx(bo,{className:"h-3 w-3 mr-1"}),"Consider - Important Points"]}),["Respect her artistic process and timing","Balance adventure talk with everyday topics","Be patient if she needs time to respond","Suggest activities that match both your interests"].map((te,Ne)=>t.jsxs(E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1+Ne*.1},className:"flex items-center space-x-2 p-2 bg-amber-500/10 rounded-lg backdrop-blur-sm hover:bg-amber-500/15 transition-colors w-full group cursor-pointer",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full flex-shrink-0 group-hover:scale-125 transition-transform"}),t.jsx("p",{className:"text-white/90 leading-relaxed flex-1 group-hover:text-white transition-colors text-xs",children:te}),t.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("div",{className:"w-5 h-5 bg-amber-500/20 rounded-lg flex items-center justify-center",children:t.jsx(bo,{className:"h-3 w-3 text-amber-300"})})})]},Ne))]})]})})]},"recommendations")})]})]})}),t.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[...Array(25)].map((te,Ne)=>t.jsx(E.div,{className:`absolute w-1 h-1 rounded-full transition-all duration-700 ${p?"bg-purple-400/30 shadow-sm shadow-purple-500/20":"bg-purple-300/50 shadow-sm shadow-purple-200/30"}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-100,0],x:[0,Math.random()*50-25,0],opacity:[0,1,0],scale:[.5,1,.5]},transition:{duration:4+Math.random()*3,repeat:1/0,delay:Math.random()*2,ease:"easeInOut"}},`particle-${Ne}`))})]}),t.jsx(_,{photo:c,onClose:()=>d(null)})]})};var lxe="Separator",B4="horizontal",cxe=["horizontal","vertical"],PF=u.forwardRef((e,r)=>{const{decorative:n,orientation:a=B4,...s}=e,i=dxe(a)?a:B4,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(bt.div,{"data-orientation":i,...l,...s,ref:r})});PF.displayName=lxe;function dxe(e){return cxe.includes(e)}var AF=PF;const Pj=u.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...a},s)=>t.jsx(AF,{ref:s,decorative:n,orientation:r,className:We("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Pj.displayName=AF.displayName;function uxe(){const[e,r]=u.useState("enhanced"),[n,a]=u.useState(0),{data:s,isLoading:i,refetch:o}=dt({queryKey:["/api/matching-engine/stats"],queryFn:async()=>{const w=await ze("/api/matching-engine/stats");if(!w.ok)throw new Error("Failed to fetch stats");return w.json()},staleTime:3e4}),{data:l,isLoading:c,refetch:d}=dt({queryKey:["/api/discovery/enhanced",n],queryFn:async()=>{const w=await ze("/api/discovery/enhanced?limit=10");if(!w.ok)throw new Error("Failed to fetch enhanced discovery");return w.json()},enabled:e==="enhanced",staleTime:15e3}),{data:m,isLoading:h,refetch:p}=dt({queryKey:["/api/discover",n],queryFn:async()=>{const w=await ze("/api/discover?limit=10");if(!w.ok)throw new Error("Failed to fetch original discovery");return w.json()},enabled:e==="original",staleTime:15e3}),f=wt({mutationFn:async w=>{const S=await ze("/api/discovery/mode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:w})});if(!S.ok)throw new Error("Failed to set discovery mode");return S.json()},onSuccess:w=>{r(w.mode),me.invalidateQueries({queryKey:["/api/discovery/enhanced"]}),me.invalidateQueries({queryKey:["/api/discover"]})}}),x=wt({mutationFn:async()=>{const w=await ze("/api/matching-engine/refresh",{method:"POST"});if(!w.ok)throw new Error("Failed to refresh matching engine");return w.json()},onSuccess:()=>{a(w=>w+1),o(),d(),p()}}),g=e==="enhanced"?l:m,v=e==="enhanced"?c:h,y=w=>w?new Date(w).toLocaleDateString():"Never",b=w=>{switch(w){case"active":return"bg-green-500";case"loading":return"bg-yellow-500";case"error":return"bg-red-500";default:return"bg-gray-500"}};return t.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Matching Engine Test Lab"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor and test the CHARLEY Hybrid Matching Algorithm"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(de,{variant:"outline",onClick:()=>x.mutate(),disabled:x.isPending,children:[t.jsx(Ad,{className:`w-4 h-4 mr-2 ${x.isPending?"animate-spin":""}`}),"Refresh Engine"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs(wr,{children:[t.jsxs(On,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ca,{className:"text-sm font-medium",children:"Engine Status"}),t.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs($r,{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${b((s==null?void 0:s.matchingEngineStatus)||"loading")}`}),t.jsx("span",{className:"text-2xl font-bold",children:(s==null?void 0:s.matchingEngineStatus)||"Loading..."})]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Algorithm: ",(s==null?void 0:s.algorithmVersion)||"Unknown"]})]})]}),t.jsxs(wr,{children:[t.jsxs(On,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ca,{className:"text-sm font-medium",children:"Total Matches"}),t.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs($r,{children:[t.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalMatches)||0}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last match: ",y((s==null?void 0:s.lastMatchDate)||null)]})]})]}),t.jsxs(wr,{children:[t.jsxs(On,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(ca,{className:"text-sm font-medium",children:"Preference Score"}),t.jsx(ni,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs($r,{children:[t.jsx("div",{className:"text-2xl font-bold",children:s?`${Math.round(s.preferenceCompleteness*100)}%`:"0%"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s!=null&&s.hasPreferences?"Preferences set":"No preferences"})]})]})]}),t.jsxs(wr,{children:[t.jsxs(On,{children:[t.jsxs(ca,{className:"flex items-center gap-2",children:[t.jsx(Mn,{className:"w-5 h-5"}),"Discovery Mode Comparison"]}),t.jsx(jo,{children:"Compare results between enhanced matching engine and original discovery"})]}),t.jsxs($r,{children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx(de,{variant:e==="enhanced"?"default":"outline",onClick:()=>f.mutate("enhanced"),disabled:f.isPending,children:"Enhanced Matching"}),t.jsx(de,{variant:e==="original"?"default":"outline",onClick:()=>f.mutate("original"),disabled:f.isPending,children:"Original Discovery"})]}),t.jsx("div",{className:"mt-4",children:t.jsxs(St,{variant:e==="enhanced"?"default":"secondary",children:["Current Mode: ",e==="enhanced"?"Enhanced Matching Algorithm":"Original Discovery"]})})]})]}),t.jsxs(wr,{children:[t.jsxs(On,{children:[t.jsx(ca,{children:"Discovery Results"}),t.jsx(jo,{children:e==="enhanced"?"AI-ranked matches using hybrid algorithm (content + collaborative + context)":"Standard discovery results using basic filtering"})]}),t.jsx($r,{children:v?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(Ad,{className:"w-6 h-6 animate-spin mr-2"}),"Loading ",e," discovery..."]}):g&&g.length>0?t.jsxs("div",{className:"space-y-4",children:[g.slice(0,5).map((w,S)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsxs("span",{className:"text-sm font-medium",children:["#",S+1]})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:w.fullName}),t.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[t.jsx("span",{children:w.profession||"No profession"}),t.jsx(Pj,{orientation:"vertical",className:"h-4"}),t.jsx("span",{children:w.location}),w.ethnicity&&t.jsxs(t.Fragment,{children:[t.jsx(Pj,{orientation:"vertical",className:"h-4"}),t.jsx("span",{children:w.ethnicity})]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[w.isOnline&&t.jsx(St,{variant:"secondary",children:"Online"}),e==="enhanced"&&t.jsx(St,{variant:"outline",children:"AI Ranked"})]})]},w.id)),g.length>5&&t.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["... and ",g.length-5," more results"]})]}):t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No discovery results available"})})]}),t.jsxs(wr,{children:[t.jsx(On,{children:t.jsx(ca,{children:"How the Enhanced Algorithm Works"})}),t.jsxs($r,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:" Content-Based Filtering (40% weight)"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Matches based on profile compatibility: age, location, religion, ethnicity, interests, and education"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:" Collaborative Filtering (35% weight)"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzes patterns from users with similar preferences and recommends profiles they liked"})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:" Context-Aware Re-ranking (25% weight)"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time adjustments based on recent activity, online status, and profile completeness"})]}),t.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{children:"Result:"})," Instead of random matches, users see their most compatible potential connections first, dramatically improving match quality and reducing swipe fatigue."]})})]})]})]})}function mxe({user:e,onLogout:r}){const[n,a]=u.useState(!1),[s,i]=u.useState(""),[o,l]=u.useState({days:0,hours:0,minutes:0,seconds:0}),{toast:c}=Wr();u.useEffect(()=>{if(!e.suspensionExpiresAt)return;const h=new Date(e.suspensionExpiresAt),p=()=>{const x=new Date,g=h.getTime()-x.getTime();if(g<=0){l({days:0,hours:0,minutes:0,seconds:0});return}const v=Math.floor(g/(1e3*60*60*24)),y=Math.floor(g%(1e3*60*60*24)/(1e3*60*60)),b=Math.floor(g%(1e3*60*60)/(1e3*60)),w=Math.floor(g%(1e3*60)/1e3);l({days:v,hours:y,minutes:b,seconds:w})};p();const f=setInterval(p,1e3);return()=>clearInterval(f)},[e.suspensionExpiresAt]);const d=wt({mutationFn:async h=>ze("/api/suspension/appeal",{method:"POST",data:h}),onSuccess:()=>{c({title:"Appeal Submitted",description:"Your appeal has been sent to our moderation team. You will receive an email response within 24-48 hours."}),a(!1),i("")},onError:h=>{c({title:"Error",description:h.message||"Failed to submit appeal. Please try again.",variant:"destructive"})}}),m=()=>{if(!s.trim()){c({title:"Error",description:"Please provide a reason for your appeal.",variant:"destructive"});return}d.mutate({message:s.trim()})};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 dark:from-red-950/20 dark:via-orange-950/20 dark:to-yellow-950/20 flex items-center justify-center p-4",children:[t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 text-center border border-red-200 dark:border-red-800",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(pm,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),t.jsx("h1",{className:"text-2xl font-bold text-red-800 dark:text-red-200 mb-2",children:"Account Suspended"}),t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 mb-6 text-left",children:t.jsxs("div",{className:"space-y-2 text-sm text-red-700 dark:text-red-300",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Reason:"}),t.jsx("span",{className:"font-medium",children:"Multiple user reports"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Duration:"}),t.jsx("span",{className:"font-medium",children:"3 days"})]}),(o.days>0||o.hours>0||o.minutes>0||o.seconds>0)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Time remaining:"}),t.jsxs("span",{className:"font-medium flex items-center gap-1",children:[t.jsx(Ja,{className:"w-3 h-3"}),o.days,"d ",o.hours,"h ",o.minutes,"m ",o.seconds,"s"]})]})]})}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:"Your account has been temporarily suspended due to multiple reports from other users. This is a safety measure to protect our community."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(de,{onClick:()=>{console.log("Appeal Suspension button clicked"),a(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[t.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Appeal Suspension"]}),t.jsx(de,{variant:"outline",onClick:r,className:"w-full border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800",children:"Sign Out"})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[t.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-2",children:"Need help? Contact our support team:"}),t.jsxs("div",{className:"flex justify-center gap-4 text-[10px]",children:[t.jsxs("a",{href:"mailto:admin@btechnos.com",className:"text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:[t.jsx(Ks,{className:"w-2.5 h-2.5"}),"admin@btechnos.com"]}),t.jsxs("a",{href:"tel:+14694965620",className:"text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1",children:[t.jsx(Pd,{className:"w-2.5 h-2.5"}),"(469) 496-5620"]})]})]})]})}),n&&t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>a(!1)}),t.jsxs("div",{className:"relative w-[90vw] max-w-[500px] rounded-3xl border-2 shadow-2xl backdrop-blur-lg overflow-hidden bg-gradient-to-br from-indigo-900/95 via-purple-800/95 to-pink-700/95 border-cyan-400/30 p-6",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10"}),t.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-cyan-400/20 rounded-full blur-3xl animate-pulse"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-purple-400/20 rounded-full blur-2xl animate-pulse delay-1000"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-gradient-to-r from-cyan-400/5 to-purple-400/5 rounded-full blur-3xl"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("h2",{className:"flex items-center justify-center gap-2 text-2xl font-bold text-white mb-2",children:[t.jsx(Ks,{className:"w-6 h-6 text-cyan-400"}),"Appeal Suspension"]}),t.jsx("p",{className:"text-gray-300 text-sm",children:"Please explain why you believe this suspension was issued in error. Our moderation team will review your appeal within 24-48 hours."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(mr,{htmlFor:"appeal-message",className:"text-white text-sm font-medium block mb-2",children:"Your Message"}),t.jsx(oa,{id:"appeal-message",value:s,onChange:h=>i(h.target.value),placeholder:"Please explain your situation and why you believe this suspension should be lifted...",className:"min-h-[100px] w-full rounded-2xl border-2 border-cyan-400/30 bg-black/20 text-white placeholder:text-gray-400 focus:border-cyan-400 focus:ring-cyan-400/20 resize-none transition-all duration-200",maxLength:1e3}),t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[s.length,"/1000 characters"]})]}),t.jsxs("div",{className:"flex gap-3 pt-2",children:[t.jsx(de,{onClick:m,disabled:d.isPending||!s.trim(),className:"flex-1 rounded-2xl bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-600 hover:to-purple-700 border-0 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 text-white font-medium",children:d.isPending?"Submitting...":"Submit Appeal"}),t.jsx(de,{onClick:()=>a(!1),disabled:d.isPending,className:"rounded-2xl border-2 border-cyan-400/30 hover:border-cyan-400 bg-transparent hover:bg-cyan-400/10 text-white transform hover:scale-[1.02] transition-all duration-200",children:"Cancel"})]})]})]})]})]})]})}function _n({path:e,component:r}){const{user:n,isLoading:a}=Sr(),[s]=lr(),[i,o]=u.useState(!1);if(a||i)return e==="/chat/:matchId"?t.jsx(Ha,{path:e,children:t.jsx(r,{})}):t.jsx(Ha,{path:e,children:t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:t.jsx(sn,{className:"h-8 w-8 animate-spin text-primary"})})});if(!n)return e==="/chat/:matchId"?t.jsx(Ha,{path:e,children:t.jsx(r,{})}):t.jsx(Ha,{path:e,children:t.jsx(El,{to:"/auth"})});if(n.isSuspended){const y=n.suspensionExpiresAt?new Date(n.suspensionExpiresAt):null;if(!(y&&new Date>y)){const{logoutMutation:w}=Sr();return t.jsx(Ha,{path:e,children:t.jsx(mxe,{user:n,onLogout:()=>w.mutate()})})}}const l=e==="/"||e==="/heat"||e==="/suite",c=s==="/messages"||s==="/matches"||s==="/profile"||s==="/settings";c&&(n!=null&&n.id)&&sessionStorage.setItem("appModeSelected","true");const d=sessionStorage.getItem("appModeSelected")==="true",m=n.showAppModeSelection===!1,h=n.showNationalitySelection!==!1;console.log("[TOGGLE-DEBUG] Raw user object:",n),console.log("[TOGGLE-DEBUG] showAppModeSelection value:",n.showAppModeSelection),console.log("[TOGGLE-DEBUG] showAppModeSelection type:",typeof n.showAppModeSelection),console.log("[TOGGLE-DEBUG] showNationalitySelection value:",n.showNationalitySelection),console.log("[TOGGLE-DEBUG] showNationalitySelection type:",typeof n.showNationalitySelection),console.log("[TOGGLE-DEBUG] shouldSkipAppSelection result:",m),console.log("[TOGGLE-DEBUG] shouldShowNationality result:",h);const p=sessionStorage.getItem("nationalitySelectionCompleted")==="true";console.log("ProtectedRoute check:",{userId:n.id,path:e,location:s,isAppPage:l,isUsingAppNavigation:c,hasSelectedApp:d,userPreferences:{showAppModeSelection:n.showAppModeSelection,showNationalitySelection:n.showNationalitySelection},shouldSkipAppSelection:m,shouldShowNationality:h,nationalityCompleted:p,sessionStorage:{appModeSelected:sessionStorage.getItem("appModeSelected"),nationalitySelectionCompleted:sessionStorage.getItem("nationalitySelectionCompleted"),showingNationalityBeforeAppSelection:sessionStorage.getItem("showingNationalityBeforeAppSelection")}});let f=n.lastUsedApp||"meet";f=f.toLowerCase();const x=!!f,g=["/dating-preferences","/settings","/profile","/verify-id","/payment","/suite/connections-preferences"].some(y=>e===y||e.startsWith(y+"/")||s.startsWith(y+"/")),v=sessionStorage.getItem("legit_dating_preferences_navigation")==="true";if(v&&console.log(`[PROTECTED-ROUTE]  LEGITIMATE NAVIGATION DETECTED - ALLOWING DIRECT ACCESS TO: ${e} `),v&&e==="/dating-preferences")return console.log("[PROTECTED-ROUTE]  LEGITIMATE NAVIGATION TO DATING PREFERENCES - BYPASSING ALL CHECKS "),setTimeout(()=>{console.log("[PROTECTED-ROUTE]  CLEARING LEGITIMATE NAVIGATION FLAG AFTER COMPONENT RENDER "),sessionStorage.removeItem("legit_dating_preferences_navigation")},500),t.jsx(Ha,{path:e,children:t.jsx(r,{})});if(l&&!d&&!c&&!g&&!v){const y=sessionStorage.getItem("directAppRedirect")==="true";if(m&&!h){if(console.log(`[APP-FLOW] Both toggles disabled for user ${n.id}, using last app: ${f}`),console.log(`[APP-FLOW] Direct redirect flag: ${y}`),sessionStorage.setItem("appModeSelected","true"),y)try{sessionStorage.removeItem("directAppRedirect"),console.log("[APP-FLOW] Cleaned up directAppRedirect flag")}catch(b){console.warn("[STORAGE] Failed to remove directAppRedirect flag:",b)}return y&&(o(!0),setTimeout(()=>{o(!1)},100)),t.jsx(Ha,{path:e,children:t.jsx(El,{to:f==="meet"?"/":`/${f}`})})}if(m&&h&&!p&&f==="meet"){try{sessionStorage.setItem("showingNationalityBeforeAppSelection","true")}catch(b){console.warn("[STORAGE] Failed to set nationality flag:",b)}return console.log(`[APP-FLOW] Showing nationality selection screen for user ${n.id} before MEET app`),t.jsx(Ha,{path:e,children:t.jsx(El,{to:"/nationality"})})}if(!m)return console.log(`[APP-FLOW] Showing app selection screen for user ${n.id}`),t.jsx(Ha,{path:e,children:t.jsx(El,{to:"/app-selection"})});if(x)return console.log(`[APP-FLOW] App selection disabled, using last app: ${f} (skipping nationality for non-MEET app)`),sessionStorage.setItem("appModeSelected","true"),t.jsx(Ha,{path:e,children:t.jsx(El,{to:f==="meet"?"/":`/${f}`})})}if(l&&x&&!d&&!c)return console.log(`[ROUTE] FALLBACK: User ${n.id} being redirected to last used app: ${f}`),sessionStorage.setItem("appModeSelected","true"),t.jsx(Ha,{path:e,children:t.jsx(El,{to:f==="meet"?"/":`/${f}`})});if(e==="/app-selection"&&m){const y=f||"meet";return sessionStorage.setItem("appModeSelected","true"),t.jsx(Ha,{path:e,children:t.jsx(El,{to:y==="meet"?"/":`/${y}`})})}return t.jsx(Ha,{path:e,children:t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"h-full w-full",children:t.jsx(r,{})})})}function hxe(){const{user:e,isLoading:r}=Sr(),n=Ma(),[a,s]=u.useState(!1),i=u.useRef(!1);return u.useEffect(()=>a||i.current||r||!e?void 0:(i.current=!0,console.log("[GLOBAL-MESSAGE-PERSISTENCE] Initializing global message persistence system"),(async()=>{try{const l=[];for(let c=0;c<localStorage.length;c++){const d=localStorage.key(c);if(d&&(d.startsWith("meet_chat_messages_")||d.startsWith("meet_session_messages_")||d.startsWith("heat_chat_messages_")||d.startsWith("heat_session_messages_")))try{const m=d.split("_").pop();m&&!isNaN(Number(m))&&l.push(m)}catch(m){console.error("[GLOBAL-MESSAGE-PERSISTENCE] Error parsing match ID from storage key:",d,m)}}if(console.log(`[GLOBAL-MESSAGE-PERSISTENCE] Found ${l.length} potential matches in storage`),e&&e.id)try{console.log("[GLOBAL-MESSAGE-PERSISTENCE] Prefetching matches data"),await n.prefetchQuery({queryKey:["/api/matches"],staleTime:5*60*1e3});const c=n.getQueryData(["/api/matches"])||[];if(Array.isArray(c)&&c.length>0){console.log(`[GLOBAL-MESSAGE-PERSISTENCE] Successfully prefetched ${c.length} matches`);const d=c.map(h=>h.id),m=Array.from(new Set([...d,...l]));console.log(`[GLOBAL-MESSAGE-PERSISTENCE] Prefetching messages for ${m.length} matches`);for(const h of m)try{await n.prefetchQuery({queryKey:["/api/messages",Number(h)],staleTime:2*60*1e3}),console.log(`[GLOBAL-MESSAGE-PERSISTENCE] Prefetched messages for match ${h}`)}catch(p){console.error(`[GLOBAL-MESSAGE-PERSISTENCE] Error prefetching messages for match ${h}:`,p)}console.log("[GLOBAL-MESSAGE-PERSISTENCE] Global message rehydration completed successfully"),s(!0)}else console.log("[GLOBAL-MESSAGE-PERSISTENCE] No matches found to prefetch messages for"),s(!0)}catch(c){console.error("[GLOBAL-MESSAGE-PERSISTENCE] Error during match prefetching:",c),s(!0)}else console.log("[GLOBAL-MESSAGE-PERSISTENCE] User not logged in, skipping prefetching"),s(!0)}catch(l){console.error("[GLOBAL-MESSAGE-PERSISTENCE] Error initializing global message persistence:",l),s(!0)}})(),()=>{console.log("[GLOBAL-MESSAGE-PERSISTENCE] Cleaning up global message persistence")}),[e,r,n,a]),{isMessageSystemInitialized:a,messageInitializationAttempted:i.current}}function pxe({onAnimationComplete:e}){const[r,n]=u.useState(!1);u.useEffect(()=>{const i=setTimeout(()=>{console.log("Splash screen animation complete, triggering callback"),n(!0),e()},3e3);return()=>clearTimeout(i)},[e]);const a={hidden:{scale:.5,opacity:.3,rotate:-90},visible:{scale:1,opacity:1,rotate:0,transition:{duration:.3,ease:"easeOut"}}},s={hidden:{opacity:.5,y:10},visible:{opacity:1,y:0,transition:{delay:.05,duration:.2,ease:"easeOut"}}};return t.jsxs("div",{className:"h-screen w-full fixed top-0 left-0 z-50 flex flex-col items-center justify-center bg-white relative overflow-hidden",children:[Array.from({length:12}).map((i,o)=>t.jsx(E.div,{className:"absolute text-purple-500/20",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,transform:`scale(${.5+Math.random()*1.5})`},initial:{opacity:0,y:10},animate:{opacity:.2,y:[0,-15,0],transition:{y:{repeat:1/0,duration:3+Math.random()*5,ease:"easeInOut"},opacity:{duration:.5}}},children:o%5===0?t.jsx(Yt,{size:36}):o%5===1?t.jsx(xn,{size:32}):o%5===2?t.jsx(Jt,{size:28}):o%5===3?t.jsx(zr,{size:30}):t.jsx(hm,{size:30})},o)),t.jsxs(E.div,{className:"flex flex-col items-center justify-center relative z-10",initial:"hidden",animate:"visible",children:[t.jsx(E.div,{className:"w-32 h-32 md:w-40 md:h-40",variants:a,children:t.jsx("img",{src:Dp,alt:"CHARLEY Logo",className:"w-full h-full"})}),t.jsx(E.div,{className:"mt-4 flex items-center",variants:s,children:t.jsx("span",{className:"text-5xl md:text-7xl font-bold",style:{fontFamily:"'Arial Black', sans-serif",letterSpacing:"2px",background:"linear-gradient(to right, #9333EA, #FB923C)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"CHARLEY"})}),t.jsx(E.div,{className:"mt-2 text-gray-600 text-center text-base md:text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.3},children:"Create. Relate. Elevate."})]})]})}function fxe({appMode:e,onTransitionComplete:r}){const[n,a]=u.useState(!1),{translate:s}=tn(),{user:i}=Sr();u.useEffect(()=>{e==="MEET"&&i&&(console.log("[APP-TRANSITION] Preloading discover users for MEET app..."),me.prefetchQuery({queryKey:["/api/discover-users"],staleTime:3e4}).then(()=>{console.log("[APP-TRANSITION] Discover users preloaded successfully")}).catch(x=>{console.warn("[APP-TRANSITION] Failed to preload discover users:",x)}));const p=setTimeout(()=>{a(!0)},6500),f=setTimeout(()=>{r()},7e3);return()=>{clearTimeout(p),clearTimeout(f)}},[r,e,i]);let o="",l="",c="",d="";switch(e){case"MEET":o="linear-gradient(to bottom, #7e22ce, #9333EA 40%, #fb923c 80%, white 120%)",l="from-purple-600 to-pink-500",c="#7e22ce",d="#fb923c";break;case"HEAT":o="linear-gradient(to bottom, #f59e0b, #fb923c 40%, #facc15 80%, white 120%)",l="from-orange-500 to-yellow-300",c="#f59e0b",d="#facc15";break;case"SUITE":o="linear-gradient(to bottom, #3b82f6, #6366f1 40%, #a855f7 80%, white 120%)",l="from-blue-600 to-indigo-500",c="#3b82f6",d="#6366f1";break}const m=()=>{switch(e){case"MEET":return t.jsx(Yt,{className:"h-12 w-12 text-white",fill:"white"});case"HEAT":return t.jsx(Hs,{className:"h-12 w-12 text-white",fill:"rgba(255,255,255,0.3)"});case"SUITE":return t.jsx(zr,{className:"h-12 w-12 text-white"});default:return null}},h=s(e==="MEET"?"appMode.meet":e==="HEAT"?"appMode.heat":"appMode.suite");return t.jsxs(E.div,{className:"fixed inset-0 flex flex-col items-center justify-center z-50 perspective-1000 overflow-hidden",style:{background:o,perspective:"1000px"},animate:{opacity:n?0:1},transition:{opacity:{duration:.3,ease:"easeInOut"}},children:[Array.from({length:12}).map((p,f)=>t.jsx(E.div,{className:"absolute text-white/10",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,transform:`scale(${.5+Math.random()*1.5})`},initial:{opacity:0},animate:{opacity:.1+Math.random()*.1,rotate:Math.random()>.5?360:-360,scale:[1,1.2,1]},transition:{opacity:{duration:.5,delay:Math.random()*.5},rotate:{duration:20+Math.random()*10,repeat:1/0,ease:"linear"},scale:{duration:3+Math.random()*3,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},children:f%8===0?t.jsx(Yt,{size:36}):f%8===1?t.jsx(xn,{size:32}):f%8===2?t.jsx(Jt,{size:28}):f%8===3?t.jsx(zr,{size:30}):f%8===4?t.jsx(hm,{size:30}):f%8===5?t.jsx(Rn,{size:28}):f%8===6?t.jsx(vp,{size:30}):t.jsx(Hs,{size:30})},`floating-icon-${f}`)),t.jsxs(E.div,{className:"flex flex-col items-center justify-center mb-12",initial:{opacity:1,scale:1,y:0},animate:{opacity:0,scale:.8,y:-50,rotateX:20},transition:{duration:.3,delay:.1},children:[t.jsx("img",{src:Dp,alt:`${s("common.app")} ${s("common.logo")}`,className:"w-24 h-24 mb-4",style:{filter:"drop-shadow(2px 4px 6px rgba(0,0,0,0.3))"}}),t.jsx("div",{className:"app-title overflow-hidden",children:"CHARLEY".split("").map((p,f)=>t.jsx("span",{className:"font-bold text-5xl md:text-6xl inline-block",style:{fontFamily:"'Arial Black', sans-serif",letterSpacing:"-2px",textShadow:"3px 3px 6px rgba(0,0,0,0.3)",background:"linear-gradient(to bottom, #ffffff, #fb923c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:p},f))})]}),t.jsx(E.div,{className:"absolute inset-0 flex items-center justify-center",initial:{opacity:0,rotateY:-90,scale:.5},animate:{opacity:1,rotateY:0,scale:1},transition:{delay:.1,duration:.5,type:"spring",stiffness:80,damping:15},children:t.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[e==="MEET"&&Array.from({length:5}).map((p,f)=>t.jsx(E.div,{className:"absolute rounded-full bg-pink-400",style:{width:6+Math.random()*8,height:6+Math.random()*8,top:`${30+Math.random()*60}%`,left:`${30+Math.random()*60}%`,filter:"blur(1px)",opacity:.6+Math.random()*.4},animate:{scale:[1,1.5,1],opacity:[.6,.9,.6],x:[0,Math.random()*40-20,0],y:[0,Math.random()*40-20,0]},transition:{repeat:1/0,duration:3+Math.random()*2,delay:Math.random()*2,ease:"easeInOut"}},`particle-${f}`)),e==="HEAT"&&Array.from({length:5}).map((p,f)=>t.jsx(E.div,{className:"absolute rounded-full bg-yellow-400",style:{width:4+Math.random()*8,height:4+Math.random()*8,top:`${30+Math.random()*60}%`,left:`${30+Math.random()*60}%`,filter:"blur(1px)",opacity:.6+Math.random()*.4},animate:{y:[0,-30-Math.random()*30,0],opacity:[.7,.3,.7],scale:[1,.5,1]},transition:{repeat:1/0,duration:2+Math.random()*1.5,delay:Math.random()*1,ease:"easeInOut"}},`flame-${f}`)),e==="SUITE"&&Array.from({length:5}).map((p,f)=>t.jsx(E.div,{className:"absolute",style:{width:3,height:40+Math.random()*20,top:`${30+Math.random()*40}%`,left:`${40+Math.random()*40}%`,transformOrigin:"center",background:"linear-gradient(to bottom, rgba(59,130,246,0), rgba(59,130,246,0.6), rgba(59,130,246,0))",opacity:.5+Math.random()*.5},animate:{opacity:[.5,.8,.5],rotate:360*(Math.random()>.5?1:-1)},transition:{repeat:1/0,duration:8+Math.random()*8,ease:"linear"}},`connection-${f}`)),t.jsx(E.div,{className:`relative flex items-center justify-center w-24 h-24 md:w-28 md:h-28 bg-gradient-to-br ${l} rounded-full overflow-hidden shadow-2xl transform-gpu`,animate:{scale:[1,1.1,1],rotate:360},transition:{scale:{repeat:1/0,repeatType:"reverse",duration:2,ease:"easeInOut"},rotate:{duration:20,repeat:1/0,ease:"linear"}},children:t.jsx(E.div,{animate:{rotate:[0,15,-15,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:t.jsx(m,{})})}),t.jsxs(E.div,{className:"mt-10 text-center w-[300px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[t.jsx("h2",{className:"text-4xl font-black",style:{background:`linear-gradient(to bottom, #ffffff, ${d})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:h}),t.jsx(E.div,{className:"h-1 w-0 mt-1 mx-auto rounded-full",style:{backgroundColor:c},animate:{width:"100%"},transition:{delay:.3,duration:.4}}),t.jsx(E.p,{className:"text-white text-base mt-4 mx-auto max-w-[280px] text-center font-medium drop-shadow-lg opacity-90",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.3},children:s(e==="MEET"?"app.meetSplashDescription":e==="HEAT"?"app.heatSplashDescription":"app.suiteSplashDescription")})]})]})})]})}function gxe({isOpen:e,onClose:r,matchedUser:n,matchType:a,onSendMessage:s}){lr();const[i,o]=u.useState(!1),l=()=>{o(!0),setTimeout(()=>{r(),o(!1)},300)},c=()=>{o(!0),setTimeout(()=>{r(),s(),o(!1)},300)};if(console.log("[SUITE-MATCH-DIALOG] Received props:",{isOpen:e,matchedUser:n,matchType:a}),!n)return null;const d=a==="networking"?"It's a Connection!":a==="mentorship"?"Mentorship Match!":"Job Match!",m=a==="networking"?"":a==="mentorship"?"":"",h=a==="networking"?"from-emerald-400 via-teal-500 to-cyan-600":a==="mentorship"?"from-purple-400 via-pink-500 to-red-500":"from-blue-400 via-indigo-500 to-purple-600";return t.jsx(Or,{open:e,onOpenChange:r,children:t.jsx(Dr,{className:"w-[95vw] max-w-md p-0 bg-transparent border-none shadow-none overflow-hidden",children:t.jsx(Xt,{children:e&&t.jsxs(E.div,{initial:{scale:.5,opacity:0,rotateY:-180},animate:{scale:i?.8:1,opacity:i?0:1,rotateY:0},exit:{scale:.5,opacity:0,rotateY:180},transition:{type:"spring",stiffness:300,damping:25,duration:.6},className:"relative",children:[t.jsx("div",{className:"absolute inset-0 -z-10",children:[...Array(12)].map((p,f)=>t.jsx(E.div,{className:"absolute",initial:{opacity:0,scale:0,x:Math.random()*300-150,y:Math.random()*400-200},animate:{opacity:[0,1,0],scale:[0,1.5,0],rotate:[0,360],y:[0,-100]},transition:{duration:3,delay:Math.random()*2,repeat:1/0,repeatDelay:Math.random()*3},children:f%3===0?t.jsx(Yt,{className:"w-4 h-4 text-pink-400",fill:"currentColor"}):f%3===1?t.jsx(Rn,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}):t.jsx(xn,{className:"w-4 h-4 text-purple-400",fill:"currentColor"})},f))}),t.jsxs("div",{className:`relative bg-gradient-to-br ${h} rounded-3xl p-8 shadow-2xl border-4 border-white/30 backdrop-blur-xl`,children:[t.jsxs(E.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-center mb-6",children:[t.jsx(E.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},className:"text-6xl mb-2",children:m}),t.jsx(E.h1,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:300},className:"text-3xl font-black text-white mb-1",style:{textShadow:"3px 3px 6px rgba(0,0,0,0.5)"},children:d}),t.jsx(E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-white/90 font-medium",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"You both want to connect!"})]}),t.jsxs(E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring",stiffness:200},className:"flex items-center justify-center gap-4 mb-8",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 border-4 border-white/50 flex items-center justify-center backdrop-blur-sm",children:t.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-xl",children:"You"})})}),t.jsx("div",{className:"relative",children:t.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-white/50 overflow-hidden backdrop-blur-sm",children:n.photoUrl?t.jsx("img",{src:n.photoUrl,alt:n.fullName,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-pink-400 to-red-500 flex items-center justify-center text-white font-bold text-lg",children:n.fullName.charAt(0)})})})]}),t.jsx(E.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"text-center mb-8",children:t.jsx("h2",{className:"text-2xl font-black text-white mb-1",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:n.fullName})}),t.jsxs(E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"space-y-3",children:[t.jsxs(de,{onClick:c,className:"w-full py-4 bg-white text-gray-800 hover:bg-gray-100 font-black text-lg rounded-2xl shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[t.jsx(hn,{className:"w-6 h-6 mr-2"}),"Send Message"]}),t.jsx(de,{onClick:l,variant:"outline",className:"w-full py-3 bg-white/20 text-white border-2 border-white/50 hover:bg-white/30 font-bold rounded-2xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105",children:"Continue Swiping"})]})]})]})})})})}const xxe=u.createContext(null);function yxe({children:e}){const{user:r}=Sr(),[,n]=lr(),[a,s]=u.useState(null),[i,o]=u.useState(!1);u.useEffect(()=>{if(!r)return;const m=h=>{const p=h.detail;if(console.log("[SUITE-MATCH] Received match notification:",p),(p.type==="networking_match"||p.type==="mentorship_match"||p.type==="job_match")&&p.isMatch){console.log("[SUITE-MATCH-DEBUG] Raw WebSocket data received:",JSON.stringify(p,null,2));const f=p.type==="networking_match"?"networking":p.type==="mentorship_match"?"mentorship":"jobs";let x,g,v,y,b,w;p.type==="job_match"?(p.acceptedBy===r.id?x=p.application.userId:x=p.acceptedBy,w=p.application.id):(p.acceptedBy===r.id?x=p.connection.userId:x=p.acceptedBy,w=p.connection.id),g=p.matchedUserName||"Connection",v=p.matchedUserPhoto,y=p.matchedUserProfession,b=p.matchedUserLocation;const S={id:x,fullName:g,photoUrl:v,profession:y,location:b},N={id:`${f}_${w}_${Date.now()}`,matchedUser:S,matchType:f,timestamp:p.timestamp,chatId:p.chatId};window.dispatchEvent(new CustomEvent("connectionCardRemoval",{detail:{connectionId:w,isMatch:!0}})),l(N)}};return window.addEventListener("websocket-message",m),()=>{window.removeEventListener("websocket-message",m)}},[r]);const l=m=>{console.log("[SUITE-MATCH] Showing match dialog:",m);try{const h=new(window.AudioContext||window.webkitAudioContext),p=h.createOscillator(),f=h.createGain();p.connect(f),f.connect(h.destination),p.type="sine",p.frequency.value=587.33,f.gain.value=.3,p.start(),setTimeout(()=>{p.frequency.value=659.25,setTimeout(()=>{p.frequency.value=783.99,setTimeout(()=>{p.stop()},200)},200)},200)}catch{console.log("SUITE match audio notification failed, but match popup still shown")}s(m),o(!0)},c=()=>{o(!1),setTimeout(()=>{s(null)},300)},d=async()=>{if(a){if(a.chatId){console.log(`[SUITE-MATCH] Navigating to chat ${a.chatId}`),n(`/chat/${a.chatId}`);return}try{console.log(`[SUITE-MATCH] Looking up match between current user and ${a.matchedUser.id}`);const m=await fetch("/api/matches");if(m.ok){const p=(await m.json()).find(f=>f.userId1===a.matchedUser.id||f.userId2===a.matchedUser.id);p?(console.log(`[SUITE-MATCH] Found match ${p.id}, navigating to chat`),n(`/chat/${p.id}`)):(console.error("[SUITE-MATCH] No match found between users"),n("/suite/messages"))}else console.error("[SUITE-MATCH] Failed to fetch matches"),n("/suite/messages")}catch(m){console.error("[SUITE-MATCH] Error fetching match:",m),n("/suite/messages")}}};return t.jsxs(xxe.Provider,{value:{showMatch:l,hideMatch:c},children:[e,a&&t.jsx(gxe,{isOpen:i,onClose:c,matchedUser:a.matchedUser,matchType:a.matchType,onSendMessage:d})]})}class vxe extends tt.Component{constructor(r){super(r),this.resetError=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){if(r.message.includes("Failed to fetch")){console.log("[ERROR-BOUNDARY] Network connectivity issue caught, not logging as error");return}console.error("[ERROR-BOUNDARY] Unexpected error:",r,n)}render(){var r,n;if(this.state.hasError){if((r=this.state.error)!=null&&r.message.includes("Failed to fetch"))return console.log("[ERROR-BOUNDARY] Network error detected, continuing normal render"),this.props.children;if(this.props.fallback){const a=this.props.fallback;return t.jsx(a,{error:this.state.error,resetError:this.resetError})}return t.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 mb-4",children:((n=this.state.error)==null?void 0:n.message)||"An unexpected error occurred"}),t.jsx("button",{onClick:this.resetError,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try again"})]})})}return this.props.children}}function bxe({children:e}){const[r]=lr(),[n,a]=u.useState(!1);return u.useEffect(()=>{const s=["/","/heat","/suite"].includes(r),i=s&&!sessionStorage.getItem("appModeSelected"),o=sessionStorage.getItem("directRedirect")==="true",l=sessionStorage.getItem("modeTransition")!==null,c=sessionStorage.getItem("modeTransition"),d=r.includes("app-selection");if(o){d?(sessionStorage.removeItem("directRedirect"),a(!0)):s?(a(!1),window.history.replaceState(null,"","/app-selection"),setTimeout(()=>a(!0),10)):a(!0);return}else if(l){if(a(!1),c==="MEET"&&r==="/"||c==="HEAT"&&r==="/heat"||c==="SUITE"&&r==="/suite"){const h=setTimeout(()=>{sessionStorage.removeItem("modeTransition"),a(!0)},3e3);return()=>clearTimeout(h)}return()=>{}}else if(i&&!d){a(!1),window.history.replaceState(null,"","/app-selection"),setTimeout(()=>a(!0),10);return}else{a(!0);return}},[r]),n?t.jsx(t.Fragment,{children:e}):sessionStorage.getItem("modeTransition")!==null?t.jsx("div",{className:"fixed inset-0 flex flex-col items-center justify-center z-50",style:{background:"linear-gradient(to bottom, #7e22ce, #9333EA 40%, #fb923c 80%, white 120%)"},children:t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(E.img,{src:Dp,alt:"CHARLEY Logo",className:"w-24 h-24 mb-4",style:{filter:"drop-shadow(2px 4px 6px rgba(0,0,0,0.3))"},initial:{scale:.8,opacity:0},animate:{scale:[.8,1.2,1],opacity:1,y:[0,-10,0]},transition:{duration:.6,ease:"easeInOut",times:[0,.6,1]}}),t.jsx("div",{className:"app-title overflow-hidden",children:"CHARLEY".split("").map((i,o)=>t.jsx(E.span,{className:"font-bold text-5xl md:text-6xl inline-block",style:{fontFamily:"'Arial Black', sans-serif",letterSpacing:"-2px",textShadow:"3px 3px 6px rgba(0,0,0,0.3)",background:"linear-gradient(to bottom, #ffffff, #fb923c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05+o*.03,duration:.3,ease:"easeOut"},children:i},o))})]})}):t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"linear-gradient(to bottom, white, #f8fafc)",opacity:.9},children:t.jsxs("div",{className:"text-center",children:[t.jsx("img",{src:Dp,alt:"CHARLEY Logo",className:"w-16 h-16 mb-2 animate-pulse",style:{filter:"drop-shadow(1px 2px 2px rgba(0,0,0,0.2))"}}),t.jsx(sn,{className:"h-8 w-8 animate-spin text-primary mx-auto"})]})})}function wxe(){const{user:e}=Sr(),{setMatchCount:r,setLikeCount:n}=k2(),a=Ma(),s=u.useRef(0),i=u.useCallback(()=>{if(!e)return[];try{const c=`clicked_matches_${e.id}`,d=localStorage.getItem(c);return d?JSON.parse(d):[]}catch(c){return console.error("Error retrieving clicked match IDs:",c),[]}},[e]),{data:o,refetch:l}=dt({queryKey:["/api/matches/counts",{clicked:JSON.stringify(i())}],queryFn:async({queryKey:c})=>{console.log("[MATCH-COUNT]  Loading match counts...");const d=Date.now(),[,m]=c,h=`/api/matches/counts?clicked=${encodeURIComponent(m.clicked)}`,f=await(await ze("GET",h)).json(),x=Date.now()-d;return console.log(`[MATCH-COUNT]  Counts loaded in ${x}ms`),f},enabled:!!e,refetchInterval:6e4,retry:1,retryDelay:500,staleTime:30*1e3,gcTime:2*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return u.useEffect(()=>{o&&(s.current=Date.now(),r(o.confirmed),n(o.pending),console.log(`MatchCountLoader: Updated counts via polling - Confirmed: ${o.confirmed}, Pending: ${o.pending}`))},[o,r,n]),u.useEffect(()=>{if(!e)return;const c=h=>{const p=Date.now(),{confirmed:f,pending:x,total:g}=h.detail;p-s.current<500||(s.current=p,r(f),n(x),console.log(`MatchCountLoader: Updated counts via WebSocket event - Confirmed: ${f}, Pending: ${x}`))},d=()=>{l()};window.addEventListener("match:countsUpdated",c),window.addEventListener("match:newLike",d);const m=h=>{h.key==="newLike"&&l()};return window.addEventListener("storage",m),()=>{window.removeEventListener("match:countsUpdated",c),window.removeEventListener("match:newLike",d),window.removeEventListener("storage",m)}},[e,r,n,l,a]),null}function jxe(e){try{const r=e.userInfo||e.matchedUser||e.user,n=e.id||e.matchId;if(!r){console.error("showMatchPopup: No user info provided in match data",e);return}console.log("[MATCH] Triggering match popup display for:",r.fullName),localStorage.setItem("matched_user_data",JSON.stringify(r)),n&&localStorage.setItem("current_match_id",String(n)),localStorage.setItem("force_match_popup","true"),localStorage.setItem("pending_match_popup","true"),window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{fromUserInfo:r,matchId:n,forceDisplay:!0}})),console.log("[MATCH] Match popup triggered successfully")}catch(r){console.error("showMatchPopup: Error triggering match popup:",r)}}function MF(){const[e,r]=u.useState(!1),[n,a]=u.useState(null),[s,i]=u.useState(void 0),o=Ma(),{user:l}=Sr();u.useEffect(()=>{if(!l)return;console.log(" GLOBAL MATCH POPUP: Initializing with super-aggressive strategy");const d=S=>{if(S instanceof StorageEvent){if(S.key==="force_match_popup"&&S.newValue==="true")f();else if(S.key==="match_popup_closed"&&S.newValue){const N=parseInt(S.newValue,10);s===N&&e&&(console.log(` GLOBAL MATCH POPUP: Closing popup from storage event for match ${N}`),c())}}},m=S=>{if(S instanceof CustomEvent&&S.detail){const N=S.detail;s===N.matchId&&e&&(console.log(` GLOBAL MATCH POPUP: Closing popup from WebSocket event for match ${N.matchId}`),r(!1),a(null),localStorage.removeItem("force_match_popup"),localStorage.removeItem("pending_match_popup"))}};window.addEventListener("match:popup:closed",m),console.log(" GLOBAL MATCH POPUP: WebSocket event listeners attached");const h=S=>{if(S instanceof CustomEvent&&S.detail){const{fromUserInfo:N,matchId:P,forceDisplay:C,isDirectMessage:I}=S.detail;if(I){console.log(" GLOBAL MATCH POPUP: Skipping match popup - this was a direct message action");return}if(P)try{const T=localStorage.getItem(`match_target_user_${P}`);if(T){const k=JSON.parse(T);if(console.log(" Found explicit target user data for match popup:",k.fullName),k&&k.id&&k.fullName){const A={...k,showProfilePhoto:!0};if(l&&A.id===l.id){console.error("Match popup attempted to show current user as the match - aborting popup");return}i(P),a(A),setTimeout(()=>{r(!0)},10),console.log(" GLOBAL MATCH POPUP: Popup triggered for user:",A.fullName);return}}const _=localStorage.getItem(`match_data_${P}`);if(_){const k=JSON.parse(_);if(console.log(" Found enriched match data for popup:",k),k.user&&k.user.id!==(l==null?void 0:l.id)){const A={...k.user,showProfilePhoto:!0};i(P),a(A),setTimeout(()=>{r(!0)},10),console.log(" GLOBAL MATCH POPUP: Popup triggered for user from enriched data:",A.fullName);return}}}catch(T){console.error("Error checking for explicit match data:",T)}if(N){console.log(" GLOBAL MATCH POPUP: GUARANTEED DISPLAY of match popup");const T={...N,showProfilePhoto:!0};if(l&&T.id===l.id){console.error("Match popup attempted to show current user as the match - aborting popup");return}P&&i(P),a(T),setTimeout(()=>{r(!0)},10),console.log(" GLOBAL MATCH POPUP: Popup triggered for user:",T.fullName)}}},p=S=>{if(S instanceof CustomEvent&&S.detail){const{matchId:N}=S.detail;s===N&&e&&(console.log(` GLOBAL MATCH POPUP: Closing popup from direct event for match ${N}`),r(!1),a(null))}},f=()=>{console.log(" GLOBAL MATCH POPUP: Force match popup triggered via localStorage");try{const S=localStorage.getItem("matched_user_data"),N=localStorage.getItem("current_match_id");if(N){const P=parseInt(N,10),C=localStorage.getItem("seen_match_popups")||"[]";let I=[];try{I=JSON.parse(C);const T=localStorage.getItem("force_match_popup")==="true";if(I.includes(P)&&!T){console.log(` GLOBAL MATCH POPUP: Skipping duplicate localStorage popup for match ID ${P} (already seen)`),localStorage.removeItem("pending_match_popup");return}I.includes(P)||(I.push(P),localStorage.setItem("seen_match_popups",JSON.stringify(I)),console.log(` GLOBAL MATCH POPUP: Added match ID ${P} to seen list from localStorage`))}catch(T){console.error("Error parsing seen matches:",T)}}if(S){const P=JSON.parse(S),C={...P,showProfilePhoto:!0};if(l&&C.id===l.id){console.error("Match popup attempted to show current user as the match from localStorage - aborting popup"),localStorage.removeItem("matched_user_data"),localStorage.removeItem("force_match_popup"),localStorage.removeItem("pending_match_popup");return}console.log(" GLOBAL MATCH POPUP: Showing match popup from localStorage for user:",C.fullName),a(C),N&&i(parseInt(N,10)),setTimeout(()=>{r(!0),window.dispatchEvent(new CustomEvent("match:newMatch",{detail:{fromUserInfo:P,matchId:N?parseInt(N,10):void 0,forceDisplay:!0}}))},10)}}catch(S){console.error("Error parsing matched user data:",S)}},x=localStorage.getItem("force_match_popup")==="true",g=localStorage.getItem("pending_match_popup")==="true",v=!!localStorage.getItem("matched_user_data");(x||g)&&v&&(console.log(" GLOBAL MATCH POPUP: Detected active match popup triggers on mount"),f()),window.addEventListener("storage",d),window.addEventListener("match:newMatch",h),window.addEventListener("match:popup:closed",p);const y=setInterval(()=>{const S=localStorage.getItem("force_match_popup")==="true",N=localStorage.getItem("pending_match_popup")==="true",P=!!localStorage.getItem("matched_user_data");(S||N)&&P&&!e&&(console.log(" GLOBAL MATCH POPUP: Detected match popup trigger in fast interval check"),f())},100),b=setInterval(()=>{const S=localStorage.getItem("force_match_popup")==="true",N=localStorage.getItem("pending_match_popup")==="true",P=!!localStorage.getItem("matched_user_data");(S||N)&&P&&!e&&(console.log(" GLOBAL MATCH POPUP: Detected match popup trigger in medium interval check"),f())},500),w=setInterval(()=>{const S=localStorage.getItem("force_match_popup")==="true",N=localStorage.getItem("pending_match_popup")==="true",P=!!localStorage.getItem("matched_user_data");(S||N)&&P&&!e&&(console.log(" GLOBAL MATCH POPUP: Last resort - detected match popup trigger in slow interval check"),f())},1e3);return()=>{window.removeEventListener("storage",d),window.removeEventListener("match:newMatch",h),window.removeEventListener("match:popup:closed",p),window.removeEventListener("match:popup:closed",m),console.log(" GLOBAL MATCH POPUP: WebSocket event listeners removed during cleanup"),clearInterval(y),clearInterval(b),clearInterval(w)}},[e,l]);const c=()=>{if(s){localStorage.setItem("match_popup_closed",String(s)),window.dispatchEvent(new CustomEvent("match:popup:closed",{detail:{matchId:s}}));try{Ri(()=>Promise.resolve().then(()=>Bx),void 0).then(d=>{d.sendMatchPopupClosed(s,l==null?void 0:l.id,!1)?console.log(` GLOBAL MATCH POPUP: Successfully broadcast popup close for match ${s} via WebSocket service`):(console.log(" WebSocket service failed to send close notification - will retry when connection is restored"),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN&&(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,userId:l==null?void 0:l.id,timestamp:new Date().toISOString()})),console.log(` GLOBAL MATCH POPUP: Broadcast popup close for match ${s} via fallback WebSocket`)))}).catch(d=>{console.error("Error importing WebSocket service:",d),typeof WebSocket<"u"&&window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN?(window.chatSocket.send(JSON.stringify({type:"match_popup_closed",matchId:s,userId:l==null?void 0:l.id})),console.log(` GLOBAL MATCH POPUP: Broadcast popup close using legacy WebSocket for match ${s}`)):console.log("WebSocket not available or not connected for match popup close notification")})}catch(d){console.error("Error broadcasting popup close via WebSocket:",d)}}if(r(!1),a(null),localStorage.removeItem("force_match_popup"),localStorage.removeItem("pending_match_popup"),s){const d=localStorage.getItem("seen_match_popups")||"[]";let m=[];try{m=JSON.parse(d),m.includes(s)||(m.push(s),localStorage.setItem("seen_match_popups",JSON.stringify(m)),console.log(` GLOBAL MATCH POPUP: Added match ID ${s} to seen list on popup close`))}catch(h){console.error("Error handling seen matches on popup close:",h)}}o.invalidateQueries({queryKey:["/api/matches"]})};return!e||!n||!l?null:t.jsx(yS,{matchedUser:n,currentUser:l,open:e,onClose:c,matchId:s})}const Nxe=Object.freeze(Object.defineProperty({__proto__:null,default:MF,showMatchPopup:jxe},Symbol.toStringTag,{value:"Module"}));var TF=(e=>(e.CONNECTING="connecting",e.CONNECTED="connected",e.DISCONNECTED="disconnected",e.ERROR="error",e))(TF||{});const IF={maxReconnectAttempts:10,baseReconnectDelay:2e3,maxReconnectDelay:15e3,defaultPath:"/ws",pingInterval:45e3,debug:!0};let Tn={...IF},Sc="disconnected",yd=0,Qi=null,ll=null,Ux=Date.now().toString();function _F(e){Tn={...IF,...e},Tn.debug&&console.log("[WebSocketService] Initialized with config:",Tn);try{typeof initMessageDeduplication=="function"?(initMessageDeduplication(),console.log("[WebSocketService] Message deduplication system initialized")):console.warn("[WebSocketService] Message deduplication function not available")}catch(r){console.error("[WebSocketService] Failed to initialize message deduplication:",r)}window.reconnectWebSocket=NS,window.checkSocketHealth=DF,window.socketReconnectSession=Ux,window.__processedMessageIds||(window.__processedMessageIds=new Set),window.__messageProcessingTimes||(window.__messageProcessingTimes={}),(!window.chatSocket||window.chatSocket.readyState!==WebSocket.OPEN)&&Xm()}function Xm(){if(window.chatSocket&&window.chatSocket.readyState===WebSocket.CONNECTING){Tn.debug&&console.log("[WebSocketService] Connection already in progress, skipping");return}try{Sc="connecting",window.socketConnectionStatus="connecting",window.socketLastConnectAttempt=Date.now(),window.chatSocket&&window.chatSocket.close(),ll&&(clearInterval(ll),ll=null);const r=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${Tn.defaultPath}`;Tn.debug&&console.log(`[WebSocketService] Connecting to ${r}, attempt ${yd+1}/${Tn.maxReconnectAttempts}`);const n=new WebSocket(r);window.chatSocket=n,n.addEventListener("open",kxe),n.addEventListener("message",Exe),n.addEventListener("close",Axe),n.addEventListener("error",Mxe),window.socketReconnectAttempts=yd,yd++}catch(e){console.error("[WebSocketService] Connection error:",e),Sc="error",window.socketConnectionStatus="error",jS()}}function kxe(e){Sc="connected",window.socketConnectionStatus="connected",yd=0,Tn.debug&&console.log("[WebSocketService] Connection established"),window.dispatchEvent(new CustomEvent("websocket:connected")),Cxe(),Sxe()}function Sxe(){try{console.log("[WebSocketService] Checking for stored read receipts");const r=Object.keys(localStorage).filter(n=>n.startsWith("read_receipts_match_"));if(r.length===0){console.log("[WebSocketService] No stored read receipts found");return}console.log(`[WebSocketService] Found ${r.length} stored read receipt collections`),r.forEach(n=>{try{const a=parseInt(n.replace("read_receipts_match_",""));if(isNaN(a))return;const s=localStorage.getItem(n);if(!s)return;const i=JSON.parse(s);if(!Array.isArray(i)||i.length===0)return;console.log(`[WebSocketService] Restoring ${i.length} read receipts for match ${a}`);const o={};i.forEach(l=>{const c=l.userId;o[c]||(o[c]=[]),o[c].push(l.messageId)}),Object.entries(o).forEach(([l,c])=>{window.dispatchEvent(new CustomEvent("message:status:updated",{detail:{matchId:a,messageIds:c,status:"read",timestamp:new Date().toISOString(),userId:parseInt(l),processed:Date.now(),restored:!0}})),window.dispatchEvent(new CustomEvent(`message:read:${a}`,{detail:{messageIds:c,userId:parseInt(l),timestamp:new Date().toISOString(),restored:!0}}))}),window.dispatchEvent(new CustomEvent("message:read:global",{detail:{matchId:a,messageIds:i.map(l=>l.messageId),timestamp:new Date().toISOString(),restored:!0}}))}catch(a){console.error(`[WebSocketService] Error restoring read receipts for key ${n}:`,a)}})}catch(e){console.error("[WebSocketService] Error restoring read receipts:",e)}}function Cxe(){ll&&clearInterval(ll),ll=setInterval(()=>{if(window.chatSocket&&window.chatSocket.readyState===WebSocket.OPEN)try{window.chatSocket.send(JSON.stringify({type:"ping",timestamp:Date.now()})),Tn.debug&&console.log("[WebSocketService] Ping sent")}catch(e){console.error("[WebSocketService] Error sending ping:",e)}else Tn.debug&&console.log("[WebSocketService] Connection lost, attempting to reconnect"),Xm()},Tn.pingInterval)}function Exe(e){let r;try{if(r=JSON.parse(e.data),r.type==="pong"){Tn.debug&&console.log("[WebSocketService] Pong received");return}if(r.type==="message_read"){const n=r;console.log("[WebSocketService] Message read notification received:",n);try{const a=`read_receipts_match_${n.matchId}`;let s=[];try{const o=localStorage.getItem(a);o&&(s=JSON.parse(o))}catch{console.warn("Failed to parse stored read receipts, starting fresh")}const i=[...s,...n.messageIds.map(o=>({messageId:o,userId:n.userId,timestamp:n.timestamp||new Date().toISOString()}))];localStorage.setItem(a,JSON.stringify(i)),console.log(`[WebSocketService] Persisted read receipts for match ${n.matchId} to localStorage`)}catch(a){console.warn("Failed to persist read receipts to localStorage:",a)}if(window.dispatchEvent(new CustomEvent("message:status:updated",{detail:{matchId:n.matchId,messageIds:n.messageIds,status:"read",timestamp:n.timestamp||new Date().toISOString(),userId:n.userId,processed:Date.now()}})),window.dispatchEvent(new CustomEvent(`message:read:${n.matchId}`,{detail:{messageIds:n.messageIds,userId:n.userId,timestamp:n.timestamp}})),window.dispatchEvent(new CustomEvent("message:read:global",{detail:{matchId:n.matchId,messageIds:n.messageIds,timestamp:n.timestamp||new Date().toISOString()}})),window.queryClient)try{window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),window.queryClient.invalidateQueries({queryKey:["/api/messages",n.matchId],refetchType:"none"}),console.log("[WebSocketService] Invalidated relevant caches to update message statuses")}catch(a){console.error("Error invalidating caches for message read status:",a)}return}if(r.type==="match_popup_closed"&&window.dispatchEvent(new CustomEvent("match:popup:closed",{detail:{matchId:r.matchId,sendMessage:r.sendMessage||!1,userId:r.userId,closedBy:r.closedBy}})),r.type==="networking_connection_request"||r.type==="networking_match"){console.log(" WebSocket: Received networking connection event",r),window.dispatchEvent(new CustomEvent("networking_connection_request",{detail:r})),r.type==="networking_match"&&window.dispatchEvent(new CustomEvent("networking_match",{detail:r})),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/counts"]}));return}if(r.type==="mentorship_connection_request"||r.type==="mentorship_match"){console.log(" WebSocket: Received mentorship connection event",r),window.dispatchEvent(new CustomEvent("mentorship_connection_request",{detail:r})),r.type==="mentorship_match"&&window.dispatchEvent(new CustomEvent("mentorship_match",{detail:r})),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/mentorship"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/counts"]}));return}if(r.type==="job_application_received"){console.log(" WebSocket: Received job application event",r),window.dispatchEvent(new CustomEvent("job_application_received",{detail:r})),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/jobs"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/counts"]}));return}if(r.type==="networking_like"||r.type==="networking_match"){console.log(" WebSocket: Received networking notification",r),window.dispatchEvent(new CustomEvent("networking:connection",{detail:r})),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/networking"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/connections/counts"]}));return}if(r.type==="card_removal"){const n=r;console.log(" WebSocket: Received card_removal event",n),window.dispatchEvent(new CustomEvent("discover:card_removal",{detail:{removeUserId:n.removeUserId,reason:n.reason,timestamp:n.timestamp}})),console.log(` WebSocket: Dispatched discover:card_removal for user ${n.removeUserId}`)}if(r.type==="match_notification"||r.type==="new_like"){const n=r;if(console.log(" WebSocket: Received match_notification or new_like event",n,"isDirectMessage:",n.isDirectMessage),n.isDirectMessage){console.log(" WebSocket: Skipping match popup - this was a direct message");return}if(window.dispatchEvent(new CustomEvent("match:new",{detail:n})),n.match&&n.match.id&&window.dispatchEvent(new CustomEvent(`match:created:${n.match.id}`,{detail:{matchId:n.match.id,fromUserId:n.fromUserId,userInfo:n.fromUserInfo,timestamp:n.timestamp||new Date().toISOString()}})),queueMicrotask(()=>{console.log(" WebSocket: Forcing immediate matches refresh after match notification"),window.dispatchEvent(new CustomEvent("matches:refresh"))}),window.queryClient)try{if(window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),window.queryClient.invalidateQueries({queryKey:["/api/matches/counts"]}),n.counts)try{window.queryClient.setQueryData(["/api/matches/counts"],n.counts),console.log(" WebSocket: Updated match counts in cache with:",n.counts)}catch(a){console.error("Error updating match counts in cache:",a)}console.log(" WebSocket: Invalidated matches cache to force fresh data")}catch(a){console.error("Error invalidating matches cache:",a)}setTimeout(()=>{if(console.log(" WebSocket: Second matches refresh to catch any delayed updates"),window.dispatchEvent(new CustomEvent("matches:refresh")),r.matchId)try{localStorage.setItem("newly_created_match",r.matchId.toString()),console.log(` WebSocket: Stored match ID ${r.matchId} in localStorage as backup`)}catch(a){console.error("Error storing match ID in localStorage:",a)}},300),window.dispatchEvent(new CustomEvent("discover:refresh"))}if(r.type==="matches:refresh"){if(console.log(" WebSocket: Received matches:refresh event",r),window.queryClient)try{window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),console.log(" WebSocket: Invalidated matches cache from matches:refresh event")}catch(n){console.error("Error invalidating matches cache:",n)}if(window.dispatchEvent(new CustomEvent("matches:refresh")),r.matchId)try{localStorage.setItem("newly_created_match",r.matchId.toString()),console.log(` WebSocket: Stored match ID ${r.matchId} in localStorage from matches:refresh event`)}catch(n){console.error("Error storing match ID in localStorage:",n)}}if(r.type==="discover:refresh"&&(console.log(" WebSocket: Received discover:refresh event",r.reason),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/home-page-data"]}),console.log(" WebSocket: Invalidated discover cache for immediate refresh")),window.dispatchEvent(new CustomEvent("discover:refresh",{detail:r}))),r.type==="remove_from_discover"&&(console.log("[WebSocketService] Targeted card removal received:",r),window.dispatchEvent(new CustomEvent("websocket:message",{detail:{type:"remove_from_discover",removeUserId:r.removeUserId,reason:r.reason,timestamp:r.timestamp}}))),r.type==="new_like_received"){if(console.log("[WebSocketService] New like received:",r),window.queryClient)try{window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),window.queryClient.invalidateQueries({queryKey:["/api/matches/counts"]}),console.log("[WebSocketService] Invalidated matches cache for new like")}catch(n){console.error("Error invalidating matches cache for new like:",n)}window.dispatchEvent(new CustomEvent("match:newLikeReceived",{detail:{fromUserId:r.fromUserId,fromUserInfo:r.fromUserInfo,isMatch:r.isMatch,timestamp:r.timestamp}}))}if(r.type==="profileVisibilityChanged"&&(console.log("[WebSocketService] Profile visibility change received:",r),window.dispatchEvent(new CustomEvent("websocket:message",{detail:{type:"profileVisibilityChanged",userId:r.userId,isHidden:r.isHidden,timestamp:r.timestamp}})),r.isHidden&&window.dispatchEvent(new CustomEvent("discover:refresh"))),r.type==="user_status"&&window.dispatchEvent(new CustomEvent("user:status",{detail:r})),r.type==="ghostModeChanged"&&(console.log("[WebSocketService] Ghost Mode change received:",r),window.dispatchEvent(new CustomEvent("websocket:ghostModeChanged",{detail:{userId:r.userId,ghostMode:r.isEnabled,timestamp:r.timestamp||new Date().toISOString()}})),window.queryClient&&r.userId))try{window.queryClient.invalidateQueries({queryKey:[`/api/users/${r.userId}`]}),window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),console.log(`[WebSocketService] Invalidated caches for Ghost Mode change for user ${r.userId}`)}catch(n){console.error("Error invalidating caches for Ghost Mode change:",n)}if(r.type==="verificationStatusChanged"&&(console.log("[WebSocketService] Verification status change received:",r),window.dispatchEvent(new CustomEvent("websocket:verificationStatusChanged",{detail:{userId:r.userId,isVerified:r.isVerified,timestamp:r.timestamp||new Date().toISOString()}})),window.queryClient&&r.userId))try{window.queryClient.invalidateQueries({queryKey:["/api/discover-users"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/networking"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/mentorship"]}),window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/jobs"]}),window.queryClient.invalidateQueries({queryKey:[`/api/users/${r.userId}`]}),console.log(`[WebSocketService] Invalidated caches for verification status change for user ${r.userId}`)}catch(n){console.error("Error invalidating caches for verification status change:",n)}if(r.type==="unmatch_notification"){console.log("[WebSocketService] Unmatch notification received:",r);const n=r;if(window.queryClient)try{window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),window.queryClient.invalidateQueries({queryKey:["/api/matches/counts"]}),window.queryClient.invalidateQueries({queryKey:["/api/messages",n.matchId]}),console.log(`[WebSocketService] Invalidated caches for unmatched match ${n.matchId}`)}catch(a){console.error("Error invalidating caches for unmatch:",a)}window.dispatchEvent(new CustomEvent("match:unmatch",{detail:{matchId:n.matchId,unmatchedBy:n.unmatchedBy,timestamp:n.timestamp||new Date().toISOString()}})),n.action==="redirect_to_messages"&&window.location.pathname!=="/messages"&&(console.log("[WebSocketService] Redirecting to messages page due to unmatch"),window.history.pushState({},"","/messages"),window.dispatchEvent(new PopStateEvent("popstate")))}if(r.type==="suite_remove_from_discover"&&(console.log("[WebSocketService] SUITE targeted card removal received:",r),window.dispatchEvent(new CustomEvent("websocket:message",{detail:{type:"suite_remove_from_discover",suiteType:r.suiteType,removeProfileId:r.removeProfileId,removeUserId:r.removeUserId,reason:r.reason}}))),r.type==="meet_restore_to_discover"&&(console.log("[WebSocketService] MEET card restoration received:",r),window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/home-page-data"]}),console.log(`[WebSocketService] Restored MEET profile for user ${r.userId} to discover deck`)),console.log(` [WebSocketService] Dispatching meet:restore_to_discover event for user ${r.userId}`),window.dispatchEvent(new CustomEvent("meet:restore_to_discover",{detail:{userId:r.userId,reason:r.reason,timestamp:r.timestamp}})),console.log(` [WebSocketService] Event dispatched successfully for user ${r.userId}`)),r.type==="networking_like"||r.type==="networking_match"||r.type==="mentorship_like"||r.type==="mentorship_match"){if(console.log("[WebSocketService] SUITE connection received:",r),window.queryClient)try{r.type.startsWith("networking")?window.queryClient.invalidateQueries({queryKey:["/api/suite/networking/connections"]}):r.type.startsWith("mentorship")&&window.queryClient.invalidateQueries({queryKey:["/api/suite/mentorship/connections"]}),console.log("[WebSocketService] Invalidated SUITE connections cache")}catch(n){console.error("Error invalidating SUITE connections cache:",n)}window.dispatchEvent(new CustomEvent("websocket:message",{detail:r}))}if(r.type==="suite_profile_deleted"){if(console.log("[WebSocketService] SUITE profile deleted:",r),window.queryClient)try{r.profileType==="networking"?(window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/networking"]}),console.log(`[WebSocketService] Invalidated networking discovery cache for deleted profile user ${r.userId}`)):r.profileType==="mentorship"&&(window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/mentorship"]}),console.log(`[WebSocketService] Invalidated mentorship discovery cache for deleted profile user ${r.userId}`))}catch(n){console.error("Error invalidating discovery cache for deleted profile:",n)}window.dispatchEvent(new CustomEvent("suite_profile_deleted",{detail:{profileType:r.profileType,userId:r.userId,role:r.role,timestamp:r.timestamp}}))}if(r.type==="suite_connections_refresh"){if(console.log("[WebSocketService] SUITE connections refresh:",r),window.queryClient)try{r.suiteType==="networking"?window.queryClient.invalidateQueries({queryKey:["/api/suite/networking/connections"]}):r.suiteType==="mentorship"&&window.queryClient.invalidateQueries({queryKey:["/api/suite/mentorship/connections"]}),console.log(`[WebSocketService] Invalidated ${r.suiteType} connections cache`)}catch(n){console.error("Error invalidating SUITE connections cache:",n)}window.dispatchEvent(new CustomEvent("suite:connections:refresh",{detail:{suiteType:r.suiteType,reason:r.reason}}))}if(r.type==="networking_profile_updated"){console.log("[WebSocketService] Networking profile update received:",r);const n=r;if(window.queryClient)try{window.queryClient.invalidateQueries({queryKey:["/api/suite/discovery/networking"]}),console.log(`[WebSocketService] Invalidated networking discovery cache for user ${n.userId} profile update`)}catch(a){console.error("Error invalidating networking discovery cache:",a)}window.dispatchEvent(new CustomEvent("networking:profile:updated",{detail:{userId:n.userId,profile:n.profile,timestamp:n.timestamp||new Date().toISOString()}})),window.dispatchEvent(new CustomEvent("suite:discovery:refresh"))}if((r.type==="message"||r.type==="new_message"||r.type==="message_sent")&&Pxe(r),r.type==="messageDeleted"){console.log("[WebSocketService] Message deletion event received:",r),window.dispatchEvent(new CustomEvent("message:deleted",{detail:{messageId:r.messageId,matchId:r.matchId,deletedBy:r.deletedBy}}));try{window.queryClient&&(window.queryClient.invalidateQueries({queryKey:["/api/messages",r.matchId]}),window.queryClient.invalidateQueries({queryKey:["/api/messages"]}),console.log(`[WebSocketService] Invalidated message caches for match ${r.matchId}`))}catch(n){console.error("Error invalidating caches for message deletion:",n)}}if(r.type==="messagesDeletedForUser"){console.log("[WebSocketService] Auto-delete event received:",r);try{if(window.queryClient&&r.newLastMessage!==void 0){const n=["/api/matches"],a=window.queryClient.getQueryData(n);if(Array.isArray(a)){const s=a.map(i=>i.id===r.matchId?{...i,lastMessage:r.newLastMessage?r.newLastMessage.content:null,lastMessageTime:r.newLastMessage?r.newLastMessage.createdAt:null}:i);window.queryClient.setQueryData(n,s),console.log(`[WebSocketService] Updated matches cache with new lastMessage for match ${r.matchId}:`,r.newLastMessage?r.newLastMessage.content:"null")}}}catch(n){console.error("[WebSocketService] Error updating matches cache for auto-delete:",n)}if(window.dispatchEvent(new CustomEvent("messages:auto-deleted",{detail:{matchId:r.matchId,deletedForUserId:r.deletedForUserId,reason:r.reason,isCurrentUser:r.isCurrentUser,newLastMessage:r.newLastMessage}})),r.isCurrentUser)try{window.queryClient&&(window.queryClient.removeQueries({queryKey:["/api/messages",r.matchId]}),window.queryClient.removeQueries({queryKey:["/api/messages"]}),window.queryClient.invalidateQueries({queryKey:["/api/messages",r.matchId]}),console.log(`[WebSocketService] Cleared message cache for current user in match ${r.matchId}`))}catch(n){console.error("Error clearing cache for auto-delete:",n)}try{window.queryClient&&(window.queryClient.removeQueries({queryKey:["/api/matches"]}),window.queryClient.invalidateQueries({queryKey:["/api/matches"]}),setTimeout(()=>{window.queryClient.refetchQueries({queryKey:["/api/matches"]}),console.log("[WebSocketService] Forced matches refetch after auto-delete")},100))}catch(n){console.error("[WebSocketService] Error invalidating matches cache:",n)}}(r.type==="reactionAdded"||r.type==="reactionReplaced")&&(console.log(`[WebSocketService] Reaction ${r.type} event received:`,r),window.dispatchEvent(new CustomEvent("reaction:added",{detail:{messageId:r.messageId,userId:r.userId,emoji:r.emoji,matchId:r.matchId,reaction:r.reaction,isReplacement:r.isReplacement||!1}}))),r.type==="reactionRemoved"&&(console.log("[WebSocketService] Reaction removed event received:",r),window.dispatchEvent(new CustomEvent("reaction:removed",{detail:{messageId:r.messageId,userId:r.userId,emoji:r.emoji,matchId:r.matchId}}))),window.dispatchEvent(new CustomEvent("websocket:message",{detail:r}))}catch(n){console.error("[WebSocketService] Error parsing message:",n)}}function Pxe(e){var h;const r=e.type==="new_message",n=e.type==="message_sent",a=e.message||e,s=a.id||e.messageId;if(!s){console.warn("[WebSocketService] Received message without ID, cannot process:",a);return}const i=a.senderId||e.senderId,o=a.matchId||e.matchId,l=a.content||e.content;if(n&&typeof window<"u"){let p=null;try{if(window.queryClient){const f=window.queryClient.getQueryData(["/api/user"]);f&&typeof f=="object"&&"id"in f&&(p=f.id)}}catch{}if(p&&i===p){console.log(`[FLICKER-FIX] Processing message_sent for current user ${p}, using sender-optimized flow`);try{const f=`recent_sent_${o}_${p}`,x={messageId:s,content:l,timestamp:Date.now(),senderId:p};sessionStorage.setItem(f,JSON.stringify(x)),setTimeout(()=>{try{sessionStorage.removeItem(f)}catch{}},1e4)}catch{}window.dispatchEvent(new CustomEvent("message:sent:confirmed",{detail:{message:a,messageId:s,matchId:o,senderId:i,timestamp:e.timestamp||new Date().toISOString(),processed:Date.now(),type:"sent_confirmation"}}));return}}const c=performance.now();try{if(isMessageProcessed(s)){Tn.debug&&console.log(`[WebSocketService] Message ${s} already processed (from storage), skipping`);return}if(i&&o&&l&&isMessageDuplicate(s,l,i,o)){console.log(`[WebSocketService] Message ${s} identified as duplicate via content fingerprinting, skipping`);return}}catch(p){if(console.error("[WebSocketService] Error in deduplication system, falling back to basic checks:",p),(h=window.__processedMessageIds)!=null&&h.has(s)){Tn.debug&&console.log(`[FALLBACK] Message ${s} found in window cache, skipping`);return}window.__processedMessageIds||(window.__processedMessageIds=new Set),window.__processedMessageIds.add(s)}try{markMessageAsProcessed(s),i&&o&&l&&(recordMessageInDeduplicationSystem(s,l,i,o),Tn.debug&&console.log(`[WebSocketService] Recorded message ${s} in deduplication system with fingerprinting`))}catch(p){console.error("[WebSocketService] Error recording message in deduplication system:",p)}const d=`${s}_${Date.now()}`,m=r?"recipient":"sender";window.dispatchEvent(new CustomEvent("message:new",{detail:{message:a,for:m,eventId:d,processed:Date.now()}})),o&&window.dispatchEvent(new CustomEvent(`message:new:${o}`,{detail:{message:a,for:m,eventId:d,processed:Date.now()}})),e.shouldRefreshMatches&&queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))}),m==="recipient"&&queueMicrotask(()=>{const p=window.__appMode||localStorage.getItem("appMode")||"MEET";window.dispatchEvent(new CustomEvent("unread-count:increment",{detail:{mode:p}}))});try{sessionStorage.setItem(`event_${d}`,"true")}catch{}if(window.__messageProcessingTimes){const p=performance.now()-c;window.__messageProcessingTimes[s]=p,Tn.debug&&console.log(`[WebSocketService] Message ${s} processed in ${p.toFixed(2)}ms`)}}function Axe(e){Tn.debug&&console.log(`[WebSocketService] Connection closed (code: ${e.code}, reason: ${e.reason||"none"})`),Sc="disconnected",window.socketConnectionStatus="disconnected",window.dispatchEvent(new CustomEvent("websocket:disconnected")),e.code!==1e3&&jS()}function Mxe(e){console.error("[WebSocketService] Connection error:",e),Sc="error",window.socketConnectionStatus="error",window.dispatchEvent(new CustomEvent("websocket:error",{detail:e})),jS()}function jS(){if(Qi&&(clearTimeout(Qi),Qi=null),yd>=Tn.maxReconnectAttempts){Tn.debug&&console.log("[WebSocketService] Max reconnect attempts reached, giving up");return}const e=Math.min(Tn.baseReconnectDelay*Math.pow(1.5,yd)+Math.random()*200,Tn.maxReconnectDelay);Tn.debug&&console.log(`[WebSocketService] Scheduling reconnect in ${Math.round(e)}ms`),Qi=setTimeout(()=>{Qi=null,Xm()},e)}function Kd(e){if(!window.chatSocket||window.chatSocket.readyState!==WebSocket.OPEN)return Tn.debug&&console.log("[WebSocketService] Cannot send message, not connected"),Sc!=="connecting"&&Xm(),!1;try{const r={...e,timestamp:e.timestamp||new Date().toISOString(),clientSentTime:Date.now(),clientId:Ux};if(window.chatSocket.send(JSON.stringify(r)),r.type==="message"){const n=r;if(n.content){const a=`${n.matchId}_${r.clientSentTime}`;window.__outgoingMessageCache||(window.__outgoingMessageCache=new Set),window.__outgoingMessageCache.add(a)}}return!0}catch(r){return console.error("[WebSocketService] Error sending message:",r),!1}}function NS(){yd=0,Qi&&(clearTimeout(Qi),Qi=null),Ux=Date.now().toString(),window.socketReconnectSession=Ux;try{window.chatSocket&&(window.chatSocket.close(1e3,"Reconnecting"),window.chatSocket=void 0),window.__processedMessageIds&&window.__processedMessageIds.clear(),window.__lastKnownDuplicateMessageId=void 0,window.__messageProcessingTimes={};const{clearAllDeduplicationData:e}=require("../lib/message-deduplication");e&&typeof e=="function"&&e(!0),console.log("[WebSocketService] Prepared for clean reconnection while preserving message history")}catch(e){console.error("[WebSocketService] Error during reconnection preparation:",e)}Xm()}function DF(){const e=window.chatSocket!==void 0&&window.chatSocket.readyState===WebSocket.OPEN;return e&&window.socketLastPongTime&&Date.now()-window.socketLastPongTime>Tn.pingInterval*3?(Tn.debug&&console.log("[WebSocketService] Zombie connection detected, forcing reconnect"),NS(),!1):e}function Txe(e=!1){window.chatSocket&&(window.chatSocket.close(1e3,"Normal closure"),window.chatSocket=void 0),ll&&(clearInterval(ll),ll=null),Qi&&(clearTimeout(Qi),Qi=null),window.__processedMessageIds&&window.__processedMessageIds.clear(),window.__lastKnownDuplicateMessageId=void 0,window.__messageProcessingTimes={};try{const{clearAllDeduplicationData:r}=require("../lib/message-deduplication");r&&typeof r=="function"&&r(e)}catch(r){console.error("[WebSocketService] Error clearing deduplication data:",r)}Sc="disconnected",window.socketConnectionStatus="disconnected",console.log("[WebSocketService] WebSocket closed and resources cleaned up")}function Ixe(){return Sc}function _xe(e,r,n=!1){return Kd({type:"match_popup_closed",matchId:e,userId:r,sendMessage:n,timestamp:new Date().toISOString()})}function Dxe(e,r){return Kd({type:"active_chat",matchId:e,active:r,timestamp:new Date().toISOString()})}function Rxe(e,r){const n=Date.now(),a=window.__lastTypingStatusTime||0;return!(window.__lastTypingStatus===r)||n-a>2e3?(window.__lastTypingStatusTime=n,window.__lastTypingStatus=r,Kd({type:"typing_status",matchId:e,isTyping:r,timestamp:new Date().toISOString()})):!0}function Oxe(e,r,n){const a=`client_${Date.now()}_${Math.random().toString(36).substring(2,10)}`;return window.dispatchEvent(new CustomEvent("message:sending",{detail:{clientMessageId:a,matchId:e,receiverId:r,content:n,timestamp:new Date().toISOString()}})),Kd({type:"message",matchId:e,receiverId:r,content:n,clientMessageId:a,timestamp:new Date().toISOString()})}function Lxe(e,r){return Kd({type:"read_receipt",messageId:e,matchId:r,timestamp:new Date().toISOString()})}function $xe(e,r,n=!1){return Kd({type:"swipe_action",targetUserId:e,action:r,isMatch:n,timestamp:new Date().toISOString()})}const Bx=Object.freeze(Object.defineProperty({__proto__:null,ConnectionState:TF,checkSocketHealth:DF,closeWebSocket:Txe,connectWebSocket:Xm,getConnectionState:Ixe,initWebSocketService:_F,reconnectWebSocket:NS,sendActiveChatStatus:Dxe,sendChatMessage:Oxe,sendMatchPopupClosed:_xe,sendReadReceipt:Lxe,sendSwipeAction:$xe,sendTypingStatus:Rxe,sendWebSocketMessage:Kd},Symbol.toStringTag,{value:"Module"}));function Fxe(){console.log("[WebSocket] Initializing global WebSocket service"),_F({defaultPath:"/ws",maxReconnectAttempts:10,baseReconnectDelay:2e3,maxReconnectDelay:15e3,pingInterval:45e3,debug:!0}),Uxe(),Bxe(),document.addEventListener("visibilitychange",Gxe),console.log("[WebSocket] Global service initialization complete")}function Uxe(){const e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(n,a,s){if(n==="message"&&this instanceof WebSocket){const i=a,o=function(l){try{const c=JSON.parse(l.data);if((c.type==="networking_match"||c.type==="mentorship_match"||c.type==="job_match")&&c.isMatch){console.log("[WEBSOCKET-INIT] Intercepted SUITE match notification:",c);const d=new CustomEvent("websocket-message",{detail:c,bubbles:!0});window.dispatchEvent(d)}}catch{}typeof i=="function"?i.call(this,l):i&&typeof i.handleEvent=="function"&&i.handleEvent(l)};return e.call(this,n,o,s)}return e.call(this,n,a,s)};const r=()=>{if(window.chatSocket){console.log("[GLOBAL-NETWORKING] Setting up global networking notification handler");const n=a=>{try{const s=JSON.parse(a.data);if(s.type==="networking_like"||s.type==="networking_match"||s.type==="swipe_action"){console.log("[GLOBAL-NETWORKING] Intercepted networking notification:",s);const i=new CustomEvent("networkingNotification",{detail:s});document.dispatchEvent(i),console.log("[GLOBAL-NETWORKING] Dispatched custom networking event")}}catch{}};window.chatSocket.addEventListener("message",n),console.log("[GLOBAL-NETWORKING] Global networking handler attached to WebSocket")}else setTimeout(r,1e3)};r()}function Bxe(){const e=()=>{if(window.chatSocket){console.log("[GLOBAL-MENTORSHIP] Setting up global mentorship notification handler");const r=n=>{try{const a=JSON.parse(n.data);if(a.type==="mentorship_like"||a.type==="mentorship_match"){console.log("[GLOBAL-MENTORSHIP] Intercepted mentorship notification:",a);const s=new CustomEvent("mentorshipNotification",{detail:a});document.dispatchEvent(s),console.log("[GLOBAL-MENTORSHIP] Dispatched custom mentorship event")}}catch{}};window.chatSocket.addEventListener("message",r),console.log("[GLOBAL-MENTORSHIP] Global mentorship handler attached to WebSocket")}else setTimeout(e,1e3)};e()}function Gxe(){document.visibilityState==="visible"&&(console.log("[WebSocket] Page became visible, checking connection status"),(!window.chatSocket||window.chatSocket.readyState!==WebSocket.OPEN&&window.chatSocket.readyState!==WebSocket.CONNECTING)&&(console.log("[WebSocket] Connection needs to be restored, reconnecting..."),window.reconnectWebSocket&&window.reconnectWebSocket()))}const RF=[{name:"ANYWHERE",code:"WW",flag:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23764ba2;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='45' fill='url(%23grad1)' stroke='%23ffffff' stroke-width='2'/%3E%3Cpath d='M20,30 Q35,25 50,30 Q65,35 80,30 M20,50 Q35,45 50,50 Q65,55 80,50 M20,70 Q35,65 50,70 Q65,75 80,70' stroke='%23ffffff' stroke-width='2' fill='none'/%3E%3Ccircle cx='50' cy='50' r='3' fill='%23ffffff'/%3E%3C/svg%3E"},{name:"Afghanistan",code:"AF",flag:"https://flagcdn.com/af.svg"},{name:"Albania",code:"AL",flag:"https://flagcdn.com/al.svg"},{name:"Algeria",code:"DZ",flag:"https://flagcdn.com/dz.svg"},{name:"Andorra",code:"AD",flag:"https://flagcdn.com/ad.svg"},{name:"Angola",code:"AO",flag:"https://flagcdn.com/ao.svg"},{name:"Antigua and Barbuda",code:"AG",flag:"https://flagcdn.com/ag.svg"},{name:"Argentina",code:"AR",flag:"https://flagcdn.com/ar.svg"},{name:"Armenia",code:"AM",flag:"https://flagcdn.com/am.svg"},{name:"Australia",code:"AU",flag:"https://flagcdn.com/au.svg"},{name:"Austria",code:"AT",flag:"https://flagcdn.com/at.svg"},{name:"Azerbaijan",code:"AZ",flag:"https://flagcdn.com/az.svg"},{name:"Bahamas",code:"BS",flag:"https://flagcdn.com/bs.svg"},{name:"Bahrain",code:"BH",flag:"https://flagcdn.com/bh.svg"},{name:"Bangladesh",code:"BD",flag:"https://flagcdn.com/bd.svg"},{name:"Barbados",code:"BB",flag:"https://flagcdn.com/bb.svg"},{name:"Belarus",code:"BY",flag:"https://flagcdn.com/by.svg"},{name:"Belgium",code:"BE",flag:"https://flagcdn.com/be.svg"},{name:"Belize",code:"BZ",flag:"https://flagcdn.com/bz.svg"},{name:"Benin",code:"BJ",flag:"https://flagcdn.com/bj.svg"},{name:"Bhutan",code:"BT",flag:"https://flagcdn.com/bt.svg"},{name:"Bolivia",code:"BO",flag:"https://flagcdn.com/bo.svg"},{name:"Bosnia and Herzegovina",code:"BA",flag:"https://flagcdn.com/ba.svg"},{name:"Botswana",code:"BW",flag:"https://flagcdn.com/bw.svg"},{name:"Brazil",code:"BR",flag:"https://flagcdn.com/br.svg"},{name:"Brunei",code:"BN",flag:"https://flagcdn.com/bn.svg"},{name:"Bulgaria",code:"BG",flag:"https://flagcdn.com/bg.svg"},{name:"Burkina Faso",code:"BF",flag:"https://flagcdn.com/bf.svg"},{name:"Burundi",code:"BI",flag:"https://flagcdn.com/bi.svg"},{name:"Cambodia",code:"KH",flag:"https://flagcdn.com/kh.svg"},{name:"Cameroon",code:"CM",flag:"https://flagcdn.com/cm.svg"},{name:"Canada",code:"CA",flag:"https://flagcdn.com/ca.svg"},{name:"Cape Verde",code:"CV",flag:"https://flagcdn.com/cv.svg"},{name:"Central African Republic",code:"CF",flag:"https://flagcdn.com/cf.svg"},{name:"Chad",code:"TD",flag:"https://flagcdn.com/td.svg"},{name:"Chile",code:"CL",flag:"https://flagcdn.com/cl.svg"},{name:"China",code:"CN",flag:"https://flagcdn.com/cn.svg"},{name:"Colombia",code:"CO",flag:"https://flagcdn.com/co.svg"},{name:"Comoros",code:"KM",flag:"https://flagcdn.com/km.svg"},{name:"Costa Rica",code:"CR",flag:"https://flagcdn.com/cr.svg"},{name:"Croatia",code:"HR",flag:"https://flagcdn.com/hr.svg"},{name:"Cuba",code:"CU",flag:"https://flagcdn.com/cu.svg"},{name:"Cyprus",code:"CY",flag:"https://flagcdn.com/cy.svg"},{name:"Czech Republic",code:"CZ",flag:"https://flagcdn.com/cz.svg"},{name:"Denmark",code:"DK",flag:"https://flagcdn.com/dk.svg"},{name:"Djibouti",code:"DJ",flag:"https://flagcdn.com/dj.svg"},{name:"Dominica",code:"DM",flag:"https://flagcdn.com/dm.svg"},{name:"Dominican Republic",code:"DO",flag:"https://flagcdn.com/do.svg"},{name:"Ecuador",code:"EC",flag:"https://flagcdn.com/ec.svg"},{name:"Egypt",code:"EG",flag:"https://flagcdn.com/eg.svg"},{name:"El Salvador",code:"SV",flag:"https://flagcdn.com/sv.svg"},{name:"Equatorial Guinea",code:"GQ",flag:"https://flagcdn.com/gq.svg"},{name:"Eritrea",code:"ER",flag:"https://flagcdn.com/er.svg"},{name:"Estonia",code:"EE",flag:"https://flagcdn.com/ee.svg"},{name:"Eswatini",code:"SZ",flag:"https://flagcdn.com/sz.svg"},{name:"Ethiopia",code:"ET",flag:"https://flagcdn.com/et.svg"},{name:"Fiji",code:"FJ",flag:"https://flagcdn.com/fj.svg"},{name:"Finland",code:"FI",flag:"https://flagcdn.com/fi.svg"},{name:"France",code:"FR",flag:"https://flagcdn.com/fr.svg"},{name:"Gabon",code:"GA",flag:"https://flagcdn.com/ga.svg"},{name:"Gambia",code:"GM",flag:"https://flagcdn.com/gm.svg"},{name:"Georgia",code:"GE",flag:"https://flagcdn.com/ge.svg"},{name:"Germany",code:"DE",flag:"https://flagcdn.com/de.svg"},{name:"Ghana",code:"GH",flag:"https://flagcdn.com/gh.svg"},{name:"Greece",code:"GR",flag:"https://flagcdn.com/gr.svg"},{name:"Grenada",code:"GD",flag:"https://flagcdn.com/gd.svg"},{name:"Guatemala",code:"GT",flag:"https://flagcdn.com/gt.svg"},{name:"Guinea",code:"GN",flag:"https://flagcdn.com/gn.svg"},{name:"Guinea-Bissau",code:"GW",flag:"https://flagcdn.com/gw.svg"},{name:"Guyana",code:"GY",flag:"https://flagcdn.com/gy.svg"},{name:"Haiti",code:"HT",flag:"https://flagcdn.com/ht.svg"},{name:"Honduras",code:"HN",flag:"https://flagcdn.com/hn.svg"},{name:"Hungary",code:"HU",flag:"https://flagcdn.com/hu.svg"},{name:"Iceland",code:"IS",flag:"https://flagcdn.com/is.svg"},{name:"India",code:"IN",flag:"https://flagcdn.com/in.svg"},{name:"Indonesia",code:"ID",flag:"https://flagcdn.com/id.svg"},{name:"Iran",code:"IR",flag:"https://flagcdn.com/ir.svg"},{name:"Iraq",code:"IQ",flag:"https://flagcdn.com/iq.svg"},{name:"Ireland",code:"IE",flag:"https://flagcdn.com/ie.svg"},{name:"Israel",code:"IL",flag:"https://flagcdn.com/il.svg"},{name:"Italy",code:"IT",flag:"https://flagcdn.com/it.svg"},{name:"Jamaica",code:"JM",flag:"https://flagcdn.com/jm.svg"},{name:"Japan",code:"JP",flag:"https://flagcdn.com/jp.svg"},{name:"Jordan",code:"JO",flag:"https://flagcdn.com/jo.svg"},{name:"Kazakhstan",code:"KZ",flag:"https://flagcdn.com/kz.svg"},{name:"Kenya",code:"KE",flag:"https://flagcdn.com/ke.svg"},{name:"Kiribati",code:"KI",flag:"https://flagcdn.com/ki.svg"},{name:"Kuwait",code:"KW",flag:"https://flagcdn.com/kw.svg"},{name:"Kyrgyzstan",code:"KG",flag:"https://flagcdn.com/kg.svg"},{name:"Laos",code:"LA",flag:"https://flagcdn.com/la.svg"},{name:"Latvia",code:"LV",flag:"https://flagcdn.com/lv.svg"},{name:"Lebanon",code:"LB",flag:"https://flagcdn.com/lb.svg"},{name:"Lesotho",code:"LS",flag:"https://flagcdn.com/ls.svg"},{name:"Liberia",code:"LR",flag:"https://flagcdn.com/lr.svg"},{name:"Libya",code:"LY",flag:"https://flagcdn.com/ly.svg"},{name:"Liechtenstein",code:"LI",flag:"https://flagcdn.com/li.svg"},{name:"Lithuania",code:"LT",flag:"https://flagcdn.com/lt.svg"},{name:"Luxembourg",code:"LU",flag:"https://flagcdn.com/lu.svg"},{name:"Madagascar",code:"MG",flag:"https://flagcdn.com/mg.svg"},{name:"Malawi",code:"MW",flag:"https://flagcdn.com/mw.svg"},{name:"Malaysia",code:"MY",flag:"https://flagcdn.com/my.svg"},{name:"Maldives",code:"MV",flag:"https://flagcdn.com/mv.svg"},{name:"Mali",code:"ML",flag:"https://flagcdn.com/ml.svg"},{name:"Malta",code:"MT",flag:"https://flagcdn.com/mt.svg"},{name:"Marshall Islands",code:"MH",flag:"https://flagcdn.com/mh.svg"},{name:"Mauritania",code:"MR",flag:"https://flagcdn.com/mr.svg"},{name:"Mauritius",code:"MU",flag:"https://flagcdn.com/mu.svg"},{name:"Mexico",code:"MX",flag:"https://flagcdn.com/mx.svg"},{name:"Micronesia",code:"FM",flag:"https://flagcdn.com/fm.svg"},{name:"Moldova",code:"MD",flag:"https://flagcdn.com/md.svg"},{name:"Monaco",code:"MC",flag:"https://flagcdn.com/mc.svg"},{name:"Mongolia",code:"MN",flag:"https://flagcdn.com/mn.svg"},{name:"Montenegro",code:"ME",flag:"https://flagcdn.com/me.svg"},{name:"Morocco",code:"MA",flag:"https://flagcdn.com/ma.svg"},{name:"Mozambique",code:"MZ",flag:"https://flagcdn.com/mz.svg"},{name:"Myanmar",code:"MM",flag:"https://flagcdn.com/mm.svg"},{name:"Namibia",code:"NA",flag:"https://flagcdn.com/na.svg"},{name:"Nauru",code:"NR",flag:"https://flagcdn.com/nr.svg"},{name:"Nepal",code:"NP",flag:"https://flagcdn.com/np.svg"},{name:"Netherlands",code:"NL",flag:"https://flagcdn.com/nl.svg"},{name:"New Zealand",code:"NZ",flag:"https://flagcdn.com/nz.svg"},{name:"Nicaragua",code:"NI",flag:"https://flagcdn.com/ni.svg"},{name:"Niger",code:"NE",flag:"https://flagcdn.com/ne.svg"},{name:"Nigeria",code:"NG",flag:"https://flagcdn.com/ng.svg"},{name:"North Korea",code:"KP",flag:"https://flagcdn.com/kp.svg"},{name:"North Macedonia",code:"MK",flag:"https://flagcdn.com/mk.svg"},{name:"Norway",code:"NO",flag:"https://flagcdn.com/no.svg"},{name:"Oman",code:"OM",flag:"https://flagcdn.com/om.svg"},{name:"Pakistan",code:"PK",flag:"https://flagcdn.com/pk.svg"},{name:"Palau",code:"PW",flag:"https://flagcdn.com/pw.svg"},{name:"Palestine",code:"PS",flag:"https://flagcdn.com/ps.svg"},{name:"Panama",code:"PA",flag:"https://flagcdn.com/pa.svg"},{name:"Papua New Guinea",code:"PG",flag:"https://flagcdn.com/pg.svg"},{name:"Paraguay",code:"PY",flag:"https://flagcdn.com/py.svg"},{name:"Peru",code:"PE",flag:"https://flagcdn.com/pe.svg"},{name:"Philippines",code:"PH",flag:"https://flagcdn.com/ph.svg"},{name:"Poland",code:"PL",flag:"https://flagcdn.com/pl.svg"},{name:"Portugal",code:"PT",flag:"https://flagcdn.com/pt.svg"},{name:"Qatar",code:"QA",flag:"https://flagcdn.com/qa.svg"},{name:"Romania",code:"RO",flag:"https://flagcdn.com/ro.svg"},{name:"Russia",code:"RU",flag:"https://flagcdn.com/ru.svg"},{name:"Rwanda",code:"RW",flag:"https://flagcdn.com/rw.svg"},{name:"Saint Kitts and Nevis",code:"KN",flag:"https://flagcdn.com/kn.svg"},{name:"Saint Lucia",code:"LC",flag:"https://flagcdn.com/lc.svg"},{name:"Saint Vincent and the Grenadines",code:"VC",flag:"https://flagcdn.com/vc.svg"},{name:"Samoa",code:"WS",flag:"https://flagcdn.com/ws.svg"},{name:"San Marino",code:"SM",flag:"https://flagcdn.com/sm.svg"},{name:"Sao Tome and Principe",code:"ST",flag:"https://flagcdn.com/st.svg"},{name:"Saudi Arabia",code:"SA",flag:"https://flagcdn.com/sa.svg"},{name:"Senegal",code:"SN",flag:"https://flagcdn.com/sn.svg"},{name:"Serbia",code:"RS",flag:"https://flagcdn.com/rs.svg"},{name:"Seychelles",code:"SC",flag:"https://flagcdn.com/sc.svg"},{name:"Sierra Leone",code:"SL",flag:"https://flagcdn.com/sl.svg"},{name:"Singapore",code:"SG",flag:"https://flagcdn.com/sg.svg"},{name:"Slovakia",code:"SK",flag:"https://flagcdn.com/sk.svg"},{name:"Slovenia",code:"SI",flag:"https://flagcdn.com/si.svg"},{name:"Solomon Islands",code:"SB",flag:"https://flagcdn.com/sb.svg"},{name:"Somalia",code:"SO",flag:"https://flagcdn.com/so.svg"},{name:"South Africa",code:"ZA",flag:"https://flagcdn.com/za.svg"},{name:"South Korea",code:"KR",flag:"https://flagcdn.com/kr.svg"},{name:"South Sudan",code:"SS",flag:"https://flagcdn.com/ss.svg"},{name:"Spain",code:"ES",flag:"https://flagcdn.com/es.svg"},{name:"Sri Lanka",code:"LK",flag:"https://flagcdn.com/lk.svg"},{name:"Sudan",code:"SD",flag:"https://flagcdn.com/sd.svg"},{name:"Suriname",code:"SR",flag:"https://flagcdn.com/sr.svg"},{name:"Sweden",code:"SE",flag:"https://flagcdn.com/se.svg"},{name:"Switzerland",code:"CH",flag:"https://flagcdn.com/ch.svg"},{name:"Syria",code:"SY",flag:"https://flagcdn.com/sy.svg"},{name:"Taiwan",code:"TW",flag:"https://flagcdn.com/tw.svg"},{name:"Tajikistan",code:"TJ",flag:"https://flagcdn.com/tj.svg"},{name:"Tanzania",code:"TZ",flag:"https://flagcdn.com/tz.svg"},{name:"Thailand",code:"TH",flag:"https://flagcdn.com/th.svg"},{name:"Timor-Leste",code:"TL",flag:"https://flagcdn.com/tl.svg"},{name:"Togo",code:"TG",flag:"https://flagcdn.com/tg.svg"},{name:"Tonga",code:"TO",flag:"https://flagcdn.com/to.svg"},{name:"Trinidad and Tobago",code:"TT",flag:"https://flagcdn.com/tt.svg"},{name:"Tunisia",code:"TN",flag:"https://flagcdn.com/tn.svg"},{name:"Turkey",code:"TR",flag:"https://flagcdn.com/tr.svg"},{name:"Turkmenistan",code:"TM",flag:"https://flagcdn.com/tm.svg"},{name:"Tuvalu",code:"TV",flag:"https://flagcdn.com/tv.svg"},{name:"Uganda",code:"UG",flag:"https://flagcdn.com/ug.svg"},{name:"Ukraine",code:"UA",flag:"https://flagcdn.com/ua.svg"},{name:"United Arab Emirates",code:"AE",flag:"https://flagcdn.com/ae.svg"},{name:"United Kingdom",code:"GB",flag:"https://flagcdn.com/gb.svg"},{name:"United States",code:"US",flag:"https://flagcdn.com/us.svg"},{name:"Uruguay",code:"UY",flag:"https://flagcdn.com/uy.svg"},{name:"Uzbekistan",code:"UZ",flag:"https://flagcdn.com/uz.svg"},{name:"Vanuatu",code:"VU",flag:"https://flagcdn.com/vu.svg"},{name:"Vatican City",code:"VA",flag:"https://flagcdn.com/va.svg"},{name:"Venezuela",code:"VE",flag:"https://flagcdn.com/ve.svg"},{name:"Vietnam",code:"VN",flag:"https://flagcdn.com/vn.svg"},{name:"Yemen",code:"YE",flag:"https://flagcdn.com/ye.svg"},{name:"Zambia",code:"ZM",flag:"https://flagcdn.com/zm.svg"},{name:"Zimbabwe",code:"ZW",flag:"https://flagcdn.com/zw.svg"}];function Vxe({onComplete:e,initialCountry:r}){const[n]=lr(),[a,s]=u.useState(RF),{data:i}=dt({queryKey:["/api/user"]}),o=n.includes("/suite"),l=sessionStorage.getItem("selectedApp"),c=localStorage.getItem("userId"),d=localStorage.getItem("last_used_app")||(c?localStorage.getItem(`last_used_app_${c}`):null),m=sessionStorage.getItem("fromAppSelection")==="true",h=sessionStorage.getItem("currentAppMode")||sessionStorage.getItem("appMode")||localStorage.getItem("currentAppMode"),p=o||m&&l==="suite"||d&&d.toLowerCase()==="suite"||h&&h.toLowerCase()==="suite",{data:f,error:x,isLoading:g,isSuccess:v}=dt({queryKey:["/api/user/pool-country"],enabled:!!(i!=null&&i.id),retry:1,retryDelay:1e3,queryFn:async()=>{console.log("[COUNTRY-SELECTOR] Making manual fetch request to /api/user/pool-country");const ue=await fetch("/api/user/pool-country",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!ue.ok)throw console.error("[COUNTRY-SELECTOR] Pool country fetch failed:",ue.status,ue.statusText),new Error(`Pool country fetch failed: ${ue.status}`);const ee=await ue.json();return console.log("[COUNTRY-SELECTOR] Pool country fetch successful:",ee),ee}});u.useEffect(()=>{console.log("[COUNTRY-SELECTOR] Query status:",{userExists:!!(i!=null&&i.id),userId:i==null?void 0:i.id,isLoading:g,isSuccess:v,hasData:!!f,hasError:!!x}),x&&console.error("[COUNTRY-SELECTOR] Pool country query error:",x),v&&f&&console.log("[COUNTRY-SELECTOR]  Pool country data successfully loaded:",f),i!=null&&i.id&&!g&&!f&&!x&&console.warn("[COUNTRY-SELECTOR]  User exists but no pool country data - potential auth issue")},[i==null?void 0:i.id,g,v,f,x]);const[y,b]=u.useState(0);u.useEffect(()=>{console.log("[COUNTRY-SELECTOR] Pool country data loaded:",f),console.log("[COUNTRY-SELECTOR] App context - isSuiteContext:",p),console.log("[COUNTRY-SELECTOR] User ID:",i==null?void 0:i.id),console.log("[COUNTRY-SELECTOR] Pool country error:",x),console.log("[COUNTRY-SELECTOR] Available pool countries:",{meet:f==null?void 0:f.meetPoolCountry,suite:f==null?void 0:f.suitePoolCountry,legacy:f==null?void 0:f.poolCountry});let ue=r;if(f&&!r?(ue=p?f.suitePoolCountry:f.meetPoolCountry,console.log(`[COUNTRY-SELECTOR] Using app-specific preference: ${ue} for ${p?"SUITE":"MEET"}`)):!f&&(i!=null&&i.id)&&!g&&(console.warn("[COUNTRY-SELECTOR]  No pool country data loaded despite having user ID - API might be failing"),console.warn("[COUNTRY-SELECTOR] Falling back to default behavior")),ue){const Se=a.findIndex(Ue=>Ue.name===ue);if(console.log("[COUNTRY-SELECTOR] Found index for",ue,":",Se),Se>-1){b(Se);return}}const ee=a.findIndex(Se=>Se.name==="ANYWHERE");if(ee>-1){b(ee);return}const Z=a.findIndex(Se=>Se.name==="Ghana");b(Z>-1?Z:0)},[f,p,r,a,i==null?void 0:i.id,x]);const w=()=>p?"Where Should Connection Come From?":i&&xr(i.dateOfBirth)?"Where Should Friendship Come From?":"Where Should Love Come From?",[S,N]=u.useState(!1),[P,C]=u.useState(""),[I,T]=u.useState(a),_=u.useRef(null),k=u.useRef(null),A=u.useRef(null),F=u.useRef(0),V=u.useRef(!1),J=u.useRef(!1),R=Math.floor(7/2);u.useEffect(()=>{if(!P.trim()){T(a);return}const ue=a.filter(ee=>ee.name.toLowerCase().includes(P.toLowerCase()));if(T(ue),ue.length>0){const ee=a.findIndex(Z=>Z.name===ue[0].name);ee!==-1&&b(ee)}},[P,a]);const B=()=>{const ue=[];for(let ee=-R;ee<=R;ee++){const Z=(y+ee+a.length)%a.length;ue.push({...a[Z],position:ee})}return ue},O=ue=>{if(ue.preventDefault(),Math.abs(ue.deltaY)>0&&!J.current&&Math.abs(ue.deltaY)>10){J.current=!0,setTimeout(()=>{J.current=!1},1e3);const ee=ue.deltaY>0?1:-1;b(Z=>(Z+ee+a.length)%a.length),F.current=ee*.2,V.current||(V.current=!0,re())}},X=ue=>{k.current=ue.touches[0].clientY,N(!0),V.current=!1,A.current&&cancelAnimationFrame(A.current)},ae=ue=>{if(!k.current)return;const ee=ue.touches[0].clientY,Z=ee-k.current;if(Math.abs(Z)>25){const Se=Z>0?-1:1;J.current||(J.current=!0,setTimeout(()=>{J.current=!1},1200),b(Ue=>(Ue+Se+a.length)%a.length),k.current=ee,F.current=Se*.3)}},$=()=>{k.current=null,N(!1),J.current=!1,Math.abs(F.current)>.3&&(V.current=!0,re())},re=()=>{if(V.current)if(Math.abs(F.current)>.02){const ue=F.current>0?1:-1;Math.random()>.9&&b(ee=>(ee+ue+a.length)%a.length),F.current=F.current*.7,setTimeout(()=>{A.current=requestAnimationFrame(re)},800)}else V.current=!1},le=async()=>{const ue=a[y].name;console.log("Continue button clicked, selected country:",ue);const ee=p?"SUITE":"MEET";if(console.log(`[POOL-COUNTRY] Saving for app mode: ${ee}, country: ${ue}`),i!=null&&i.id)try{const Z=await fetch("/api/user/pool-country",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({poolCountry:ue,appMode:ee})});if(Z.ok){const Se=await Z.json();console.log(`[POOL-COUNTRY] Successfully saved ${ue} for ${ee} app:`,Se)}else console.warn(`[POOL-COUNTRY] Failed to save ${ue} for ${ee} app:`,Z.status)}catch(Z){console.error(`[POOL-COUNTRY] Error saving country for ${ee} app:`,Z)}e(ue)},ce=ue=>{console.log(`Arrow clicked: ${ue}`);const Z=(y+(ue==="up"?-1:1)+a.length)%a.length;console.log(`Changing index from ${y} to ${Z}`),b(Z)};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-indigo-900 to-violet-900 flex flex-col items-center justify-center select-none",children:[t.jsxs("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:[t.jsx("div",{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 rounded-full bg-blue-500/5 filter blur-[80px]"}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1/2 h-1/2 rounded-full bg-purple-500/5 filter blur-[80px]"})]}),t.jsxs("div",{className:"relative my-2",children:[t.jsxs("h1",{className:"relative text-center mb-0 py-1",style:{fontFamily:p?"Inter, system-ui, sans-serif":"Great Vibes, cursive",textShadow:p?"0 0 10px rgba(255, 255, 255, 0.2), 0 0 20px rgba(59, 130, 246, 0.3)":"0 0 10px rgba(255, 255, 255, 0.3), 0 0 15px rgba(148, 130, 238, 0.3)"},children:[t.jsx("span",{className:`block text-4xl tracking-wide transform hover:scale-105 transition-transform duration-500 ${p?"text-white font-bold font-['Inter'] drop-shadow-lg":"text-transparent bg-clip-text bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300"}`,children:w()}),t.jsx(E.span,{className:`block text-xs mt-3 tracking-wider text-transparent bg-clip-text ${p?"font-['Inter'] bg-gradient-to-r from-blue-200 via-cyan-200 to-slate-200 font-medium":"font-['Cormorant_Garamond'] bg-gradient-to-r from-pink-200 via-purple-200 to-indigo-200"}`,initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},children:p?" Select the nationality pool you want to connect with ":i&&xr(i.dateOfBirth)?" Select the nationality pool you want to find friends from ":" Select the nationality pool you want to find matches from "}),t.jsx(E.div,{className:`h-[1px] w-[50%] mx-auto mt-1 opacity-70 ${p?"bg-gradient-to-r from-blue-400 via-cyan-400 to-slate-400":"bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400"}`,initial:{width:"0%"},animate:{width:["0%","50%","40%","50%"],opacity:[0,.7,.5,.7]},transition:{duration:p?2:3,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}})]}),!p&&t.jsxs(t.Fragment,{children:[t.jsx(E.span,{className:"absolute top-0 left-[25%] text-pink-300 opacity-40 text-sm",animate:{y:[0,-3,0],opacity:[.4,.7,.4]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},children:""}),t.jsx(E.span,{className:"absolute bottom-0 right-[25%] text-indigo-300 opacity-40 text-sm",animate:{y:[0,3,0],opacity:[.4,.7,.4]},transition:{duration:3.5,repeat:1/0,repeatType:"reverse",delay:.5},children:""})]}),p&&t.jsxs(t.Fragment,{children:[t.jsx(E.span,{className:"absolute top-0 left-[25%] text-blue-300 opacity-30 text-sm",animate:{y:[0,-2,0],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,repeatType:"reverse"},children:""}),t.jsx(E.span,{className:"absolute bottom-0 right-[25%] text-cyan-300 opacity-30 text-sm",animate:{y:[0,2,0],opacity:[.3,.5,.3]},transition:{duration:4.5,repeat:1/0,repeatType:"reverse",delay:.5},children:""})]})]}),t.jsxs("div",{className:"relative w-full max-w-sm mb-3",children:[t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative",children:[t.jsx("input",{type:"text",value:P,onChange:ue=>C(ue.target.value),placeholder:"Search countries...",className:`w-full px-4 py-2 text-sm rounded-full bg-white/10 backdrop-blur-lg
                     text-white placeholder-white/40 border border-white/20
                     focus:border-indigo-300 focus:outline-none focus:ring-1 
                     focus:ring-indigo-300/40 transition-all duration-300
                     shadow-md hover:shadow-lg hover:bg-white/15`}),t.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",children:t.jsx(so,{size:16})}),P&&I.length>0&&t.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute top-full left-0 right-0 mt-2 bg-white/10 
                       backdrop-blur-xl rounded-2xl border border-white/20 
                       shadow-xl overflow-hidden z-50`,children:t.jsx("div",{className:"max-h-48 overflow-y-auto",children:I.map((ue,ee)=>t.jsxs(E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ee*.05},onClick:()=>{const Z=a.findIndex(Se=>Se.name===ue.name);Z!==-1&&(b(Z),C(""))},className:`flex items-center px-4 py-2 cursor-pointer transition-colors duration-200 ${ue.name==="ANYWHERE"?"hover:bg-gradient-to-r hover:from-blue-600/20 hover:via-purple-600/20 hover:to-cyan-600/20":"hover:bg-white/10"}`,children:[ue.name==="ANYWHERE"?t.jsx(E.div,{animate:{rotate:[0,360]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"w-6 h-4 mr-3 flex items-center justify-center",children:t.jsx($n,{size:16,className:"text-cyan-300"})}):t.jsx("img",{src:ue.flag,alt:`${ue.name} flag`,className:"w-6 h-4 mr-3 rounded-sm"}),t.jsx("span",{className:`text-sm ${ue.name==="ANYWHERE"?"text-cyan-200 font-medium tracking-wide":"text-white/90"}`,children:ue.name})]},ue.code))})})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mt-1",children:t.jsxs(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const ue=a.findIndex(ee=>ee.name==="ANYWHERE");ue!==-1&&b(ue)},className:`group relative px-4 py-1.5 rounded-full text-xs font-medium tracking-wider
                     bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20
                     border border-cyan-400/30 text-cyan-200 hover:text-cyan-100
                     hover:border-cyan-300/50 transition-all duration-300
                     backdrop-blur-sm shadow-lg hover:shadow-cyan-400/20`,children:[t.jsxs(E.div,{animate:{scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"flex items-center gap-2",children:[t.jsx($n,{size:14,className:"text-cyan-300"}),t.jsx("span",{children:"Quick Select: ANYWHERE"})]}),t.jsx("div",{className:"absolute inset-0 rounded-full bg-cyan-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})})]}),t.jsx("div",{className:"relative w-full max-w-md h-[280px] mx-auto",children:t.jsxs("div",{ref:_,className:"absolute inset-0 perspective-[1500px] overflow-hidden",onWheel:O,onTouchStart:X,onTouchMove:ae,onTouchEnd:$,children:[t.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] rounded-full border-4 border-indigo-600/30 z-0"}),t.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 z-30",children:t.jsx("button",{id:"left-arrow",className:"w-16 h-16 flex justify-center items-center bg-blue-600/80 text-white hover:text-blue-100 hover:bg-blue-500/90 rounded-full transition-colors border-2 border-white/30 shadow-lg ml-2",onClick:()=>ce("up"),children:t.jsx(ON,{size:36,className:"animate-pulse"})})}),t.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 z-30",children:t.jsx("button",{id:"right-arrow",className:"w-16 h-16 flex justify-center items-center bg-blue-600/80 text-white hover:text-blue-100 hover:bg-blue-500/90 rounded-full transition-colors border-2 border-white/30 shadow-lg mr-2",onClick:()=>ce("down"),children:t.jsx(ls,{size:36,className:"animate-pulse"})})}),t.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[220px] h-[220px] rounded-full bg-black/50 backdrop-blur-md border-2 border-indigo-500/30 shadow-[0_0_40px_rgba(79,70,229,0.3)] flex flex-col items-center justify-center",children:t.jsx("div",{className:"px-4 py-3 rounded-xl",children:a[y]&&t.jsxs(t.Fragment,{children:[a[y].name==="ANYWHERE"&&t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx(E.div,{animate:{scale:[1,1.1,1],rotate:[0,10,0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"text-6xl",style:{filter:"drop-shadow(0 0 12px rgba(59, 130, 246, 0.6))"},children:""})}),a[y].name!=="ANYWHERE"&&t.jsx("div",{className:"flex justify-center mb-3",children:t.jsx("img",{src:a[y].flag,alt:`${a[y].name} flag`,className:"w-20 h-16 rounded shadow-glow animate-pulse"})}),t.jsx("div",{className:`text-center text-xl font-bold ${a[y].name==="ANYWHERE"?"bg-gradient-to-r from-blue-300 via-purple-300 to-cyan-300 text-transparent bg-clip-text drop-shadow-lg text-2xl tracking-wide":"text-white"}`,children:a[y].name}),a[y].name==="ANYWHERE"&&t.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"text-center text-xs text-cyan-200/80 mt-2 tracking-wider",children:"Open to all backgrounds"})]})})}),t.jsx("div",{className:"w-full h-full relative transform-style-3d",children:t.jsx(Xt,{children:B().map(ue=>{if(ue.position===0)return null;const ee=ue.position/R*Math.PI,Z=140,Se=Math.sin(ee)*Z-70,Ue=-Math.cos(ee)*Z-20,De=100-Math.abs(ue.position)*20;return t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1-Math.abs(ue.position)*.15,x:Se,y:Ue,z:De,scale:1-Math.abs(ue.position)*.1},exit:{opacity:0},transition:{type:"spring",stiffness:50,damping:50,mass:3,duration:1.5},className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center px-3 py-1 rounded-lg backdrop-blur-sm border min-w-[160px] ${ue.name==="ANYWHERE"?"bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-cyan-600/20 border-cyan-400/30 shadow-lg shadow-cyan-400/20":"bg-black/30 border-white/10"}`,style:{zIndex:-Math.abs(ue.position)},children:[ue.name==="ANYWHERE"?t.jsx(E.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"w-7 h-5 mr-2 flex items-center justify-center",children:t.jsx($n,{size:20,className:"text-cyan-300"})}):t.jsx("img",{src:ue.flag,alt:`${ue.name} flag`,className:"w-7 h-5 mr-2 rounded-sm"}),t.jsx("span",{className:`text-sm truncate ${ue.name==="ANYWHERE"?"text-cyan-200 font-medium tracking-wide":"text-white/80"}`,children:ue.name})]},`${ue.code}-${ue.position}`)})})})]})}),t.jsxs("div",{className:"mt-1 flex flex-col items-center justify-center",children:[t.jsxs("div",{onClick:le,className:"relative cursor-pointer",children:[t.jsx(E.div,{className:"absolute top-1/2 -left-14 -translate-y-1/2 text-blue-300",initial:{x:-5,opacity:0},animate:{x:[-5,2,-5],opacity:[.4,1,.4]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(AG,{className:"h-8 w-8 stroke-[3] text-blue-200"}),t.jsx("span",{className:"text-xs ml-1 font-bold text-blue-200 tracking-wider",children:"TAP"})]})}),t.jsx(E.div,{className:"absolute top-1/2 -right-14 -translate-y-1/2 text-purple-300",initial:{x:5,opacity:0},animate:{x:[5,-2,5],opacity:[.4,1,.4]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse",delay:.3},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-xs mr-1 font-bold text-purple-200 tracking-wider",children:"TAP"}),t.jsx(PG,{className:"h-8 w-8 stroke-[3] text-purple-200"})]})}),t.jsxs(E.div,{initial:{scale:.95},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},transition:{type:"spring",stiffness:400,damping:15},className:`w-16 h-16 rounded-full flex items-center justify-center
                     bg-gradient-to-r from-blue-600 via-indigo-600 to-violet-600 
                     border-2 border-indigo-400/30
                     shadow-md shadow-indigo-900/30 relative`,children:[t.jsx("div",{className:"absolute -inset-1 rounded-full bg-blue-500/10 blur-sm"}),t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:12}).map((ue,ee)=>t.jsx(E.div,{className:"absolute w-1 h-1 bg-white rounded-full",initial:{top:"50%",left:"50%",opacity:0},animate:{top:[`${50+45*Math.sin(ee*(Math.PI*2)/12)}%`,`${50+45*Math.sin((ee+1)*(Math.PI*2)/12)}%`],left:[`${50+45*Math.cos(ee*(Math.PI*2)/12)}%`,`${50+45*Math.cos((ee+1)*(Math.PI*2)/12)}%`],opacity:[.3,.7,.3]},transition:{duration:3,delay:ee*.2,repeat:1/0,ease:"linear"}},ee))}),t.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:t.jsx(E.div,{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/30 via-purple-500/30 to-blue-500/30",animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"}})}),t.jsx(E.div,{className:"absolute inset-0 rounded-full opacity-70",animate:{boxShadow:["0 0 0 0 rgba(99, 102, 241, 0)","0 0 0 15px rgba(99, 102, 241, 0.4)","0 0 0 0 rgba(99, 102, 241, 0)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),t.jsx("div",{className:"relative z-10",children:t.jsx(E.div,{animate:{scale:[1,1.1,1],rotate:[0,5,0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:t.jsx(gG,{size:24,className:"text-white",strokeWidth:2.5})})})]}),t.jsx("div",{className:"absolute -inset-3 z-20 opacity-0 cursor-pointer",onClick:le,"aria-label":"Explore button",children:"Click to explore"})]}),t.jsx(E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"mt-1 text-center relative cursor-pointer",onClick:le,children:t.jsxs("div",{className:`text-transparent bg-clip-text bg-gradient-to-r from-blue-300 to-purple-300 
                         text-xs tracking-wider font-medium flex items-center justify-center space-x-1`,children:[t.jsx("span",{className:"text-blue-300 text-[0.5rem]",children:""}),t.jsx("span",{children:"EXPLORE"}),t.jsx("span",{className:"text-purple-300 text-[0.5rem]",children:""})]})})]}),t.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-blue-500/10 rounded-full blur-2xl"}),t.jsx("div",{className:"absolute bottom-10 right-10 w-48 h-48 bg-violet-500/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute top-1/3 right-1/4 w-24 h-24 bg-indigo-500/10 rounded-full blur-xl"}),t.jsx("div",{className:"absolute w-full h-full overflow-hidden pointer-events-none",children:Array.from({length:20}).map((ue,ee)=>t.jsx(E.div,{className:"absolute w-1.5 h-1.5 rounded-full bg-blue-400/30",initial:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,scale:Math.random()*.5+.5},animate:{y:[`${Math.random()*100}%`,`${Math.random()*100}%`]},transition:{duration:10+Math.random()*20,repeat:1/0,ease:"linear"},style:{filter:"blur(1px)"}},ee))})]})}const G4=e=>{const r=RF.find(a=>a.name.toLowerCase()===e.toLowerCase());return r?r.flag:{USA:"https://flagcdn.com/us.svg","United States":"https://flagcdn.com/us.svg",UK:"https://flagcdn.com/gb.svg","United Kingdom":"https://flagcdn.com/gb.svg",Russia:"https://flagcdn.com/ru.svg","South Korea":"https://flagcdn.com/kr.svg","North Korea":"https://flagcdn.com/kp.svg"}[e]||"https://flagcdn.com/gb.svg"};function zxe({country:e,onComplete:r}){const[n,a]=u.useState(0),[s,i]=u.useState("Initializing connection"),[o,l]=u.useState(!1),c=["Initializing connection","Applying cultural preferences","Customizing matches","Configuring regional settings","Optimizing language compatibility","Preparing local recommendations","Syncing global network","Finalizing profile setup"];u.useEffect(()=>{const m=setInterval(()=>{a(h=>{const p=h+(Math.random()*2+.5),f=Math.floor(p/100*c.length);return f<c.length&&i(c[f]),p>=100?(clearInterval(m),l(!0),setTimeout(()=>{const x=document.getElementById("nationality-splash-root");if(x){x.classList.add("fade-out-transition");const g=new Image;g.src="/assets/bg-pattern-light.png",setTimeout(()=>{document.body.classList.add("page-transition"),r()},1200)}else r()},2e3),100):p})},120);return()=>{clearInterval(m)}},[r,c]);const d=()=>({Ghana:"Akwaaba",Nigeria:" n l",Kenya:"Karibu",Japan:"",France:"Bienvenue",Germany:"Willkommen",Italy:"Benvenuto",Spain:"Bienvenido",China:"",Russia:" ",Brazil:"Bem-vindo",India:" ","United States":"Welcome"})[e]||"Welcome";return t.jsxs("div",{id:"nationality-splash-root",className:"min-h-screen w-full bg-gradient-to-br from-black via-blue-950 to-indigo-950 flex flex-col items-center justify-center text-white overflow-hidden transition-opacity duration-800 ease-in-out",children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:t.jsxs("svg",{className:"absolute w-full h-full opacity-20",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[t.jsx(E.path,{d:"M0,50 Q25,30 50,50 Q75,70 100,50 L100,100 L0,100 Z",fill:"url(#gradient1)",initial:{y:20},animate:{y:[20,25,20],d:["M0,50 Q25,30 50,50 Q75,70 100,50 L100,100 L0,100 Z","M0,50 Q25,70 50,50 Q75,30 100,50 L100,100 L0,100 Z","M0,50 Q25,30 50,50 Q75,70 100,50 L100,100 L0,100 Z"]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.3"}),t.jsx("stop",{offset:"50%",stopColor:"#6366f1",stopOpacity:"0.3"}),t.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:"0.3"})]})})]})}),t.jsx(E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"relative z-10 w-full max-w-lg px-8",children:t.jsx(Xt,{mode:"wait",children:o?t.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-center mb-10",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx(E.div,{className:"w-24 h-24 rounded-full border-4 border-green-500 flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},children:t.jsx(E.svg,{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,delay:.2},children:t.jsx(E.path,{d:"M5 13L9 17L19 7",stroke:"#4ade80",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.6,delay:.2}})})})}),t.jsxs("h1",{className:"text-4xl font-extrabold mb-3 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400",children:[d(),"!"]}),t.jsxs("p",{className:"text-lg text-blue-200",children:["Your journey with ",t.jsx("span",{className:"font-bold",children:"CHARLEY"})," begins now"]})]},"final-message"):t.jsxs(E.div,{exit:{opacity:0,y:-20},children:[t.jsx("div",{className:"text-center mb-10",children:t.jsxs(E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},children:[t.jsxs("div",{className:"mb-3 flex items-center justify-center gap-3",children:[t.jsx("img",{src:G4(e),alt:`${e} flag`,className:"w-10 h-10 rounded-full shadow-glow object-cover",onError:m=>{m.target.src="https://flagcdn.com/gb.svg"}}),t.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:e})]}),t.jsx("p",{className:"text-lg text-blue-200 opacity-90",children:"Setting up your personalized experience"})]})}),t.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-8",children:[t.jsxs("div",{className:"relative h-3 bg-gray-800/50 backdrop-blur-sm rounded-full overflow-hidden border border-white/10",children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden",children:t.jsx(E.div,{className:"w-full h-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},style:{opacity:.5}})}),t.jsx(E.div,{initial:{width:"0%"},animate:{width:`${n}%`},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full"}),t.jsx(E.div,{className:"absolute top-0 bottom-0 w-4 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.7)]",style:{left:`calc(${n}% - 8px)`,display:n>2?"block":"none"}})]}),t.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[t.jsxs(E.span,{className:"text-blue-300",animate:{opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0},children:[s,"..."]}),t.jsxs("span",{className:"text-blue-300 font-mono",children:[Math.floor(n),"%"]})]})]}),t.jsx(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex justify-center items-center",children:t.jsxs("div",{className:"relative w-32 h-32",children:[t.jsx(E.div,{animate:{rotate:360,borderRadius:["30%","40%","50%","40%","30%"]},transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},borderRadius:{duration:4,repeat:1/0,ease:"easeInOut"}},className:"absolute top-0 left-0 w-full h-full border-4 border-l-blue-400 border-r-purple-500 border-t-transparent border-b-pink-400",style:{borderRadius:"30%",boxShadow:"0 0 20px rgba(79, 70, 229, 0.3)"}}),t.jsx(E.div,{animate:{rotate:-180,scale:[1,.9,1]},transition:{rotate:{duration:5,repeat:1/0,ease:"easeInOut"},scale:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"absolute top-4 left-4 right-4 bottom-4 border-2 border-dashed border-indigo-400 rounded-full",style:{boxShadow:"inset 0 0 15px rgba(99, 102, 241, 0.4)"}}),t.jsx(E.div,{animate:{opacity:[.8,1,.8],scale:[.9,1.05,.9]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute top-8 left-8 right-8 bottom-8 bg-gradient-to-br from-blue-600/90 to-indigo-600/90 rounded-full flex items-center justify-center shadow-lg",children:t.jsx("img",{src:G4(e),alt:`${e} flag`,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30",onError:m=>{m.target.src="https://flagcdn.com/gb.svg"}})}),t.jsx("div",{className:"absolute inset-0",children:Array.from({length:8}).map((m,h)=>t.jsx(E.div,{initial:{x:"50%",y:"50%",scale:0},animate:{x:`${50+45*Math.cos(h*Math.PI/4)}%`,y:`${50+45*Math.sin(h*Math.PI/4)}%`,scale:[0,1,0],opacity:[0,1,0]},transition:{duration:2,repeat:1/0,delay:h*.25,ease:"easeInOut"},className:"absolute w-2 h-2 rounded-full bg-blue-400",style:{transform:"translate(-50%, -50%)"}},h))})]})})]},"loading")})}),t.jsxs(E.div,{className:"absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:.7},transition:{delay:.5,duration:1},children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"w-full h-full",style:{backgroundImage:"linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px)",backgroundSize:"40px 40px"}}),t.jsx(E.div,{className:"absolute top-3 left-3 w-20 h-20 border-t-2 border-l-2 border-blue-400/30",animate:{opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),t.jsx(E.div,{className:"absolute bottom-3 right-3 w-20 h-20 border-b-2 border-r-2 border-blue-400/30",animate:{opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}})]}),Array.from({length:20}).map((m,h)=>t.jsx(E.div,{initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",scale:Math.random()*.3+.1,opacity:Math.random()*.3+.1},animate:{x:[null,Math.random()*100+"%",Math.random()*100+"%"],y:[null,Math.random()*100+"%",Math.random()*100+"%"],opacity:[null,Math.random()*.3+.1,Math.random()*.3+.1]},transition:{duration:15+Math.random()*30,repeat:1/0,ease:"linear"},className:"absolute w-2 h-2 rounded-full bg-blue-400",style:{filter:"blur(1px)"}},h))]})]})}function Wxe(){const{country:e,setCountry:r}=yf(),[,n]=lr(),[a,s]=u.useState(""),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d]=u.useState(e),[m,h]=u.useState(!0);u.useEffect(()=>{console.log("[NATIONALITY-PAGE]  NATIONALITY PAGE MOUNTING "),console.log("[NATIONALITY-PAGE] Return destination on mount:",sessionStorage.getItem("nationalityReturnTo")),console.log("[NATIONALITY-PAGE] All sessionStorage keys:",Object.keys(sessionStorage));try{sessionStorage.setItem("showingNationalityBeforeAppSelection","true")}catch(y){console.warn("[STORAGE] Failed to set nationality flag:",y)}sessionStorage.getItem("fromAppSelection")==="true"&&(h(!1),console.log("[NATIONALITY] Coming from app selection - hiding close button"));const v=setTimeout(()=>{c(!0)},50);return()=>clearTimeout(v)},[]);const p=g=>{s(g),r(g),o(!0)},f=async()=>{if(sessionStorage.getItem("nationalityCompletionInProgress")==="true"){console.log("[NATIONALITY-NAVIGATION]  COMPLETION ALREADY IN PROGRESS - SKIPPING ");return}sessionStorage.setItem("nationalityCompletionInProgress","true"),console.log("[NATIONALITY-NAVIGATION]  STARTING COMPLETION PROCESS ");try{sessionStorage.setItem("nationalitySelectionCompleted","true"),sessionStorage.removeItem("showingNationalityBeforeAppSelection"),sessionStorage.removeItem("fromAppSelection"),ti("skipSplashScreen"),console.log("[NATIONALITY] Selection completed, redirecting to next step")}catch(b){console.warn("[STORAGE] Failed to clean up nationality flags:",b)}sessionStorage.getItem("showingNationalityAfterLogin")==="true"&&(sessionStorage.removeItem("showingNationalityAfterLogin"),console.log("[NATIONALITY] Coming from login, cleaning up flag"));const y=Mr("userId");if(y){try{localStorage.setItem(`nationality_${y}`,a),console.log(`[LOCATION-PREFERENCE] Successfully saved ${a} as location preference`)}catch(S){console.warn("[STORAGE] Failed to save location preference for user:",S)}const b=sessionStorage.getItem("nationalityReturnTo");if(console.log("[NATIONALITY-NAVIGATION]  CHECKING RETURN DESTINATION "),console.log(`[NATIONALITY-NAVIGATION] Return destination found: ${b}`),console.log("[NATIONALITY-NAVIGATION] All sessionStorage keys:",Object.keys(sessionStorage)),b){sessionStorage.removeItem("nationalityReturnTo"),console.log(`[NATIONALITY-NAVIGATION]  FOUND RETURN DESTINATION: ${b} `),console.log("[NATIONALITY-NAVIGATION] Cleared nationalityReturnTo from sessionStorage"),sessionStorage.removeItem("nationalityCompletionInProgress"),sessionStorage.setItem("legit_dating_preferences_navigation","true"),console.log(`[NATIONALITY-NAVIGATION]  EXECUTING NAVIGATION TO: ${b} `),n(b);return}else console.log("[NATIONALITY-NAVIGATION]  NO RETURN DESTINATION - PROCEEDING WITH DEFAULT LOGIC ");if(localStorage.getItem(`show_app_mode_selection_${y}`)==="false"){let S=localStorage.getItem(`last_used_app_${y}`)||"meet";S=S.toLowerCase(),console.log(`[NATIONALITY] Redirecting to last used app: ${S}`),sessionStorage.removeItem("nationalityCompletionInProgress"),n(S==="meet"?"/":`/${S}`)}else console.log("[NATIONALITY] Redirecting to app selection"),sessionStorage.removeItem("nationalityCompletionInProgress"),n("/app-selection")}else console.log("[NATIONALITY] No user ID found, going to app selection"),sessionStorage.removeItem("nationalityCompletionInProgress"),n("/app-selection")},x=()=>{try{sessionStorage.setItem("nationalitySelectionCompleted","true"),sessionStorage.removeItem("showingNationalityBeforeAppSelection"),ti("skipSplashScreen")}catch(y){console.warn("[STORAGE] Failed to clean up nationality flags:",y)}const g=sessionStorage.getItem("nationalityReturnTo");if(console.log(`[NATIONALITY-NAVIGATION] Close button: Checking return destination: ${g}`),g){sessionStorage.removeItem("nationalityReturnTo"),console.log(`[NATIONALITY-NAVIGATION] Close button: Returning to specified destination: ${g}`),sessionStorage.setItem("legit_dating_preferences_navigation","true"),console.log(`[NATIONALITY-NAVIGATION] Close button: Navigating to: ${g}`),n(g);return}const v=Mr("previousPage")||"/";console.log("[APP] Returning to previous page:",v),n(v)};return t.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center",children:[t.jsxs(E.div,{className:"absolute inset-0 z-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.2,ease:"easeOut"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-indigo-900 to-violet-900"}),t.jsx(E.div,{className:"absolute top-0 left-0 w-full h-full",initial:{opacity:0},animate:{opacity:.3},transition:{duration:2,delay:.5},children:[...Array(20)].map((g,v)=>t.jsx(E.div,{className:"absolute rounded-full bg-white",style:{width:Math.random()*4+1+"px",height:Math.random()*4+1+"px",left:Math.random()*100+"%",top:Math.random()*100+"%"},initial:{opacity:0},animate:{opacity:[0,.6,0],y:[0,-Math.random()*50-20],scale:[1,Math.random()*1.5+.5]},transition:{duration:Math.random()*8+5,repeat:1/0,delay:Math.random()*5,ease:"easeInOut"}},v))}),t.jsx(E.div,{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 rounded-full bg-blue-500/10 blur-[100px]",initial:{opacity:0,scale:.8},animate:{opacity:.7,scale:1},transition:{duration:2.5}}),t.jsx(E.div,{className:"absolute bottom-1/4 right-1/4 w-1/2 h-1/2 rounded-full bg-purple-500/15 blur-[100px]",initial:{opacity:0,scale:.8},animate:{opacity:.7,scale:1},transition:{duration:3,delay:.5}})]}),m&&t.jsx(E.button,{className:`absolute top-2 right-4 bg-white bg-opacity-20 backdrop-blur-sm p-2 rounded-full z-50 
                   hover:bg-opacity-30 transition-all duration-300 shadow-lg`,onClick:x,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.5},whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx(Xt,{mode:"wait",children:i?t.jsx(E.div,{initial:{opacity:0,scale:.6,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.6,y:-20},transition:{duration:.7,type:"spring",stiffness:60,damping:14},className:"w-full flex items-center justify-center z-10",children:t.jsx(zxe,{country:a,onComplete:f})},"nationality-splash"):t.jsx(E.div,{initial:{opacity:0,scale:.6},animate:{opacity:l?1:0,scale:l?1:.6,rotateY:l?0:15,y:l?0:20},exit:{opacity:0,scale:.6,y:10},transition:{duration:.6,type:"spring",stiffness:60,damping:14},className:"w-full flex items-center justify-center",children:t.jsx(Vxe,{onComplete:p,initialCountry:d})},"country-selector")})]})}function Hxe(){const[e]=lr(),{user:r,isLoading:n}=Sr();return!n&&!r&&e!=="/auth"?t.jsx(El,{to:"/auth"}):t.jsxs(RB,{children:[t.jsx(Ha,{path:"/auth",component:Bse}),t.jsx(Ha,{path:"/nationality",children:a=>t.jsx(Wxe,{})}),t.jsx(_n,{path:"/app-selection",component:Wge}),t.jsx(_n,{path:"/",component:one}),t.jsx(_n,{path:"/heat",component:Pge}),t.jsx(_n,{path:"/suite",component:Age}),t.jsx(_n,{path:"/suite/discover",component:R4}),t.jsx(_n,{path:"/suite/network",component:R4}),t.jsx(_n,{path:"/suite/connections",component:O4}),t.jsx(_n,{path:"/suite-connections",component:O4}),t.jsx(_n,{path:"/suite/compatibility/:targetProfileId",component:Mge}),t.jsx(_n,{path:"/suite/mentorship/compatibility/:targetProfileId",component:Tge}),t.jsx(_n,{path:"/suite/jobs/review/:userId",component:Ige}),t.jsx(_n,{path:"/messages",component:Yse}),t.jsx(_n,{path:"/matches",component:jge}),t.jsx(Ha,{path:"/test-matches",component:kge}),t.jsx(_n,{path:"/chat/:matchId",component:Nle}),t.jsx(_n,{path:"/match-dashboard/:matchId",component:U4}),t.jsx(_n,{path:"/match-dashboard/users/:userId1/:userId2",component:U4}),t.jsx(_n,{path:"/profile/:id?",component:f0e}),t.jsx(_n,{path:"/settings",component:v0e}),t.jsx(_n,{path:"/verify-id",component:b0e}),t.jsx(_n,{path:"/payment",component:fge}),t.jsx(_n,{path:"/dating-preferences",component:vge}),t.jsx(_n,{path:"/suite/connections-preferences",component:$ge}),t.jsx(_n,{path:"/admin",component:Ege}),t.jsx(_n,{path:"/matching-engine-test",component:uxe}),t.jsx(Ha,{component:AV})]})}function Kxe(){const e=Mr("userId");lr();const r=Mr("skipSplashScreen")==="true"||!!e,[n,a]=u.useState(!r),{isTransitioning:s,transitionMode:i,completeTransition:o}=Ts(),{isMessageSystemInitialized:l}=hxe();u.useEffect(()=>{console.log(`[APP] Message persistence system initialized: ${l}`)},[l]),u.useEffect(()=>{console.log("[APP] Initializing global WebSocket service"),Fxe()},[]);const c=!Mr("charley-user-exists"),d=()=>{a(!1),c&&_t("charley-user-exists","true")};u.useEffect(()=>{!n&&r&&(ti("skipSplashScreen"),console.log("[APP] Cleaned up skipSplashScreen flag"))},[n,r]);const m=()=>{o()};return t.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-background shadow-lg relative",children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:t.jsx(Xt,{mode:"wait",children:n?t.jsx(E.div,{initial:{opacity:1},exit:{opacity:0,scale:1.05,filter:"blur(5px)",transition:{opacity:{duration:.7,ease:"easeInOut"},scale:{duration:.7,ease:"easeInOut"},filter:{duration:.7,ease:"easeInOut"}}},children:t.jsx(pxe,{onAnimationComplete:d})},"splash"):s?t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-full",children:t.jsx(fxe,{appMode:i||"MEET",onTransitionComplete:m})},"app-transition"):t.jsx(E.div,{initial:{opacity:0},animate:{opacity:1,scale:[.98,1],transition:{opacity:{duration:.8,ease:"easeOut"},scale:{duration:.8,ease:"easeOut"},delay:.2}},children:t.jsxs(bxe,{children:[t.jsx(wxe,{}),t.jsx(Hxe,{})]})},"content")})}),t.jsx(EV,{}),t.jsx(MF,{})]})}function qxe(){return t.jsx(vxe,{children:t.jsx(t7,{client:me,children:t.jsx(RV,{children:t.jsx($q,{children:t.jsx(WV,{children:t.jsx(Lq,{children:t.jsx(GV,{children:t.jsx(BV,{children:t.jsx(yZ,{children:t.jsx(yxe,{children:t.jsx(gZ,{children:t.jsx(Kxe,{})})})})})})})})})})})})}const al=new Set,vd=new Map,Fd="processed_message_ids",yl="processed_message_ids_with_time",Yxe=24*60*60*1e3;function OF(){const e=performance.now();try{const r=sessionStorage.getItem(Fd);let n=0;if(r)try{const s=JSON.parse(r);s.forEach(i=>al.add(i)),n=s.length,console.log(`[DEDUP] Loaded ${s.length} message IDs from session storage`)}catch(s){console.error("[DEDUP] Error parsing session storage, resetting:",s),sessionStorage.removeItem(Fd)}try{const s=localStorage.getItem(yl);let i=0;if(s)try{const o=JSON.parse(s);let l=0;o.forEach(c=>{al.has(c)||(al.add(c),l++)}),i=o.length,console.log(`[DEDUP] Loaded ${i} message IDs from local storage (${l} new)`)}catch(o){console.error("[DEDUP] Error parsing local storage, resetting:",o),localStorage.removeItem(yl)}Qxe()}catch(s){console.warn("[DEDUP] Could not access local storage:",s)}Xxe(),window.__meetMessageDeduplicationCache=al;const a=performance.now()-e;console.log(`[DEDUP] Global message deduplication system initialized in ${a.toFixed(2)}ms`)}catch(r){console.error("[DEDUP] Error initializing message deduplication:",r)}}function Qxe(){try{let e=0;for(let r=0;r<sessionStorage.length;r++){const n=sessionStorage.key(r);if(n&&n.startsWith("msg_fingerprint_"))try{const a=sessionStorage.getItem(n);if(a){const s=JSON.parse(a),i=n.split("_");if(i.length>=4){const o=parseInt(i[2],10),l=parseInt(i[3],10),c=`${o}:${l}:${s.hash}`;vd.set(c,{messageId:s.messageId,timestamp:s.timestamp}),e++}}}catch(a){console.warn(`[DEDUP] Error loading fingerprint ${n}:`,a)}}e>0&&console.log(`[DEDUP] Loaded ${e} message fingerprints`)}catch(e){console.error("[DEDUP] Error loading fingerprint database:",e)}}function Jxe(e){if(al.has(e))return console.log(`[DEDUP] Message ${e} found in memory cache`),!0;try{const r=sessionStorage.getItem(Fd);if(r&&JSON.parse(r).includes(e))return al.add(e),console.log(`[DEDUP] Message ${e} found in session storage`),!0}catch(r){console.error("[DEDUP] Error checking session storage:",r)}try{const r=localStorage.getItem(yl);if(r&&JSON.parse(r).some(([s,i])=>s===e))return kS(e),console.log(`[DEDUP] Message ${e} found in local storage`),!0}catch(r){console.error("[DEDUP] Error checking local storage:",r)}return!1}function kS(e){al.add(e);try{const r=sessionStorage.getItem(Fd);let n=[];r&&(n=JSON.parse(r)),n.includes(e)||(n.push(e),sessionStorage.setItem(Fd,JSON.stringify(n)))}catch(r){console.error("[DEDUP] Error updating session storage:",r)}try{const r=localStorage.getItem(yl);let n=[];r&&(n=JSON.parse(r)),n.findIndex(([s,i])=>s===e)===-1&&(n.push([e,Date.now()]),localStorage.setItem(yl,JSON.stringify(n)))}catch(r){console.error("[DEDUP] Error updating local storage:",r)}}function Xxe(){try{const e=localStorage.getItem(yl);if(!e)return;const r=JSON.parse(e),n=Date.now(),a=r.filter(([s,i])=>n-i<Yxe);a.length!==r.length&&(localStorage.setItem(yl,JSON.stringify(a)),console.log(`[DEDUP] Cleaned up ${r.length-a.length} old entries`))}catch(e){console.error("[DEDUP] Error cleaning up old entries:",e)}}function Zxe(){al.clear(),vd.clear();try{sessionStorage.removeItem(Fd),localStorage.removeItem(yl);for(let e=0;e<sessionStorage.length;e++){const r=sessionStorage.key(e);r&&r.startsWith("msg_fingerprint_")&&sessionStorage.removeItem(r)}console.log("[DEDUP] All message tracking has been reset")}catch(e){console.error("[DEDUP] Error resetting message tracking:",e)}}function eye(e=!0){if(al.clear(),vd.clear(),e)console.log("[DEDUP] In-memory message tracking cleared, storage preserved for reconnect");else try{sessionStorage.removeItem(Fd);for(let r=0;r<sessionStorage.length;r++){const n=sessionStorage.key(r);n&&(n.startsWith("msg_fingerprint_")||n.startsWith("event_"))&&sessionStorage.removeItem(n)}try{localStorage.removeItem(yl);for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.startsWith("msg_fingerprint_")||n.startsWith("msg_processed_"))&&localStorage.removeItem(n)}}catch{}console.log("[DEDUP] All message tracking and fingerprint data has been cleared (full logout)")}catch(r){console.error("[DEDUP] Error clearing storage data:",r)}}function tye(e,r,n,a){if(!r||r.trim()==="")return!1;let s=0;for(let l=0;l<r.length;l++)s=(s<<5)-s+r.charCodeAt(l),s|=0;const i=`${a}:${n}:${s}`;if(vd.has(i)){const l=vd.get(i);if(l&&l.messageId!==e)return console.log("[DEDUP] Detected duplicate message by content fingerprint (memory)"),!0}const o=`msg_fingerprint_${a}_${n}_${s}`;try{const l=sessionStorage.getItem(o);if(l)try{const c=JSON.parse(l);if(c&&c.messageId!==e)return console.log(`[DEDUP] Detected duplicate message by content fingerprint (storage): ${r.substring(0,20)}...`),vd.set(i,{messageId:c.messageId,timestamp:c.timestamp}),!0}catch(c){console.warn(`[DEDUP] Error parsing fingerprint ${o}:`,c)}}catch(l){console.error("[DEDUP] Error checking content fingerprint:",l)}return!1}function rye(e,r,n,a){if(kS(e),!r||r.trim()==="")return;let s=0;for(let l=0;l<r.length;l++)s=(s<<5)-s+r.charCodeAt(l),s|=0;const i=`${a}:${n}:${s}`;vd.set(i,{messageId:e,timestamp:new Date().toISOString()});const o=`msg_fingerprint_${a}_${n}_${s}`;try{const l={messageId:e,hash:s,timestamp:new Date().toISOString()};sessionStorage.setItem(o,JSON.stringify(l))}catch(l){console.error("[DEDUP] Error recording message fingerprint:",l)}}OF();const Yb=Object.freeze(Object.defineProperty({__proto__:null,clearAllDeduplicationData:eye,initMessageDeduplication:OF,isMessageDuplicate:tye,isMessageProcessed:Jxe,markMessageAsProcessed:kS,recordMessageInDeduplicationSystem:rye,resetMessageTracking:Zxe},Symbol.toStringTag,{value:"Module"}));window.__nationalities=VN;console.log("[APP] Message persistence system initialized:",typeof window.__meetMessageDeduplicationCache<"u");console.log("[APP] Nationality system initialized with",Object.keys(VN).length,"country mappings");hM(document.getElementById("root")).render(t.jsx(qxe,{}));export{zv as c,ti as s};
